webpackJsonp([1],[
/* 0 */,
/* 1 */,
/* 2 */,
/* 3 */,
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UtilService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ionic_native_device__ = __webpack_require__(103);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_confirmbox_confirmbox__ = __webpack_require__(493);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__chinese_lunar__ = __webpack_require__(847);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ionic_gallery_modal__ = __webpack_require__(494);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_scenejs__ = __webpack_require__(848);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__data_enum__ = __webpack_require__(18);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};









/**
 * 公共方法
 *
 * create by wzy on 2018/07/22.
 */
var UtilService = (function () {
    function UtilService(device, toastCtrl, loadingCtrl, popoverCtrl, alertCtrl, modalCtrl) {
        this.device = device;
        this.toastCtrl = toastCtrl;
        this.loadingCtrl = loadingCtrl;
        this.popoverCtrl = popoverCtrl;
        this.alertCtrl = alertCtrl;
        this.modalCtrl = modalCtrl;
        this.wins = window; //window对象
        /**
         * 中文转拼音
         */
        this.PinYin = {
            "a": "\u554a\u963f\u9515",
            "ai": "\u57c3\u6328\u54ce\u5509\u54c0\u7691\u764c\u853c\u77ee\u827e\u788d\u7231\u9698\u8bf6\u6371\u55f3\u55cc\u5ad2\u7477\u66a7\u7839\u953f\u972d",
            "an": "\u978d\u6c28\u5b89\u4ffa\u6309\u6697\u5cb8\u80fa\u6848\u8c19\u57ef\u63de\u72b4\u5eb5\u6849\u94f5\u9e4c\u9878\u9eef",
            "ang": "\u80ae\u6602\u76ce",
            "ao": "\u51f9\u6556\u71ac\u7ff1\u8884\u50b2\u5965\u61ca\u6fb3\u5773\u62d7\u55f7\u5662\u5c99\u5ed2\u9068\u5aaa\u9a9c\u8071\u87af\u93ca\u9ccc\u93d6",
            "ba": "\u82ad\u634c\u6252\u53ed\u5427\u7b06\u516b\u75a4\u5df4\u62d4\u8dcb\u9776\u628a\u8019\u575d\u9738\u7f62\u7238\u8307\u83dd\u8406\u636d\u5c9c\u705e\u6777\u94af\u7c91\u9c85\u9b43",
            "bai": "\u767d\u67cf\u767e\u6446\u4f70\u8d25\u62dc\u7a17\u859c\u63b0\u97b4",
            "ban": "\u6591\u73ed\u642c\u6273\u822c\u9881\u677f\u7248\u626e\u62cc\u4f34\u74e3\u534a\u529e\u7eca\u962a\u5742\u8c73\u94a3\u7622\u764d\u8228",
            "bang": "\u90a6\u5e2e\u6886\u699c\u8180\u7ed1\u68d2\u78c5\u868c\u9551\u508d\u8c24\u84a1\u8783",
            "bao": "\u82de\u80de\u5305\u8912\u96f9\u4fdd\u5821\u9971\u5b9d\u62b1\u62a5\u66b4\u8c79\u9c8d\u7206\u52f9\u8446\u5b80\u5b62\u7172\u9e28\u8913\u8db5\u9f85",
            "bo": "\u5265\u8584\u73bb\u83e0\u64ad\u62e8\u94b5\u6ce2\u535a\u52c3\u640f\u94c2\u7b94\u4f2f\u5e1b\u8236\u8116\u818a\u6e24\u6cca\u9a73\u4eb3\u8543\u5575\u997d\u6a97\u64d8\u7934\u94b9\u9e41\u7c38\u8ddb",
            "bei": "\u676f\u7891\u60b2\u5351\u5317\u8f88\u80cc\u8d1d\u94a1\u500d\u72c8\u5907\u60eb\u7119\u88ab\u5b5b\u9642\u90b6\u57e4\u84d3\u5457\u602b\u6096\u789a\u9e4e\u8919\u943e",
            "ben": "\u5954\u82ef\u672c\u7b28\u755a\u574c\u951b",
            "beng": "\u5d29\u7ef7\u752d\u6cf5\u8e66\u8ff8\u552a\u5623\u750f",
            "bi": "\u903c\u9f3b\u6bd4\u9119\u7b14\u5f7c\u78a7\u84d6\u853d\u6bd5\u6bd9\u6bd6\u5e01\u5e87\u75f9\u95ed\u655d\u5f0a\u5fc5\u8f9f\u58c1\u81c2\u907f\u965b\u5315\u4ef3\u4ffe\u8298\u835c\u8378\u5421\u54d4\u72f4\u5eb3\u610e\u6ed7\u6fde\u5f3c\u59a3\u5a62\u5b16\u74a7\u8d32\u7540\u94cb\u79d5\u88e8\u7b5a\u7b85\u7be6\u822d\u895e\u8df8\u9ac0",
            "bian": "\u97ad\u8fb9\u7f16\u8d2c\u6241\u4fbf\u53d8\u535e\u8fa8\u8fa9\u8fab\u904d\u533e\u5f01\u82c4\u5fed\u6c74\u7f0f\u7178\u782d\u78a5\u7a39\u7a86\u8759\u7b3e\u9cca",
            "biao": "\u6807\u5f6a\u8198\u8868\u5a4a\u9aa0\u98d1\u98d9\u98da\u706c\u9556\u9573\u762d\u88f1\u9cd4",
            "bie": "\u9cd6\u618b\u522b\u762a\u8e69\u9cd8",
            "bin": "\u5f6c\u658c\u6fd2\u6ee8\u5bbe\u6448\u50a7\u6d5c\u7f24\u73a2\u6ba1\u8191\u9554\u9acc\u9b13",
            "bing": "\u5175\u51b0\u67c4\u4e19\u79c9\u997c\u70b3\u75c5\u5e76\u7980\u90b4\u6452\u7ee0\u678b\u69df\u71f9",
            "bu": "\u6355\u535c\u54fa\u8865\u57e0\u4e0d\u5e03\u6b65\u7c3f\u90e8\u6016\u62ca\u535f\u900b\u74ff\u6661\u949a\u91ad",
            "ca": "\u64e6\u5693\u7924",
            "cai": "\u731c\u88c1\u6750\u624d\u8d22\u776c\u8e29\u91c7\u5f69\u83dc\u8521",
            "can": "\u9910\u53c2\u8695\u6b8b\u60ed\u60e8\u707f\u9a96\u74a8\u7cb2\u9eea",
            "cang": "\u82cd\u8231\u4ed3\u6ca7\u85cf\u4f27",
            "cao": "\u64cd\u7cd9\u69fd\u66f9\u8349\u8279\u5608\u6f15\u87ac\u825a",
            "ce": "\u5395\u7b56\u4fa7\u518c\u6d4b\u5202\u5e3b\u607b",
            "ceng": "\u5c42\u8e6d\u564c",
            "cha": "\u63d2\u53c9\u832c\u8336\u67e5\u78b4\u643d\u5bdf\u5c94\u5dee\u8be7\u7339\u9987\u6c4a\u59f9\u6748\u6942\u69ce\u6aab\u9497\u9538\u9572\u8869",
            "chai": "\u62c6\u67f4\u8c7a\u4faa\u8308\u7625\u867f\u9f87",
            "chan": "\u6400\u63ba\u8749\u998b\u8c17\u7f20\u94f2\u4ea7\u9610\u98a4\u5181\u8c04\u8c36\u8487\u5edb\u5fcf\u6f7a\u6fb6\u5b71\u7fbc\u5a75\u5b17\u9aa3\u89c7\u7985\u9561\u88e3\u87fe\u8e94",
            "chang": "\u660c\u7316\u573a\u5c1d\u5e38\u957f\u507f\u80a0\u5382\u655e\u7545\u5531\u5021\u4f25\u9b2f\u82cc\u83d6\u5f9c\u6005\u60dd\u960a\u5a3c\u5ae6\u6636\u6c05\u9cb3",
            "chao": "\u8d85\u6284\u949e\u671d\u5632\u6f6e\u5de2\u5435\u7092\u600a\u7ec9\u6641\u8016",
            "che": "\u8f66\u626f\u64a4\u63a3\u5f7b\u6f88\u577c\u5c6e\u7817",
            "chen": "\u90f4\u81e3\u8fb0\u5c18\u6668\u5ff1\u6c89\u9648\u8d81\u886c\u79f0\u8c0c\u62bb\u55d4\u5bb8\u741b\u6987\u809c\u80c2\u789c\u9f80",
            "cheng": "\u6491\u57ce\u6a59\u6210\u5448\u4e58\u7a0b\u60e9\u6f84\u8bda\u627f\u901e\u9a8b\u79e4\u57d5\u5d4a\u5fb5\u6d48\u67a8\u67fd\u6a18\u665f\u584d\u77a0\u94d6\u88ce\u86cf\u9172",
            "chi": "\u5403\u75f4\u6301\u5319\u6c60\u8fdf\u5f1b\u9a70\u803b\u9f7f\u4f88\u5c3a\u8d64\u7fc5\u65a5\u70bd\u50ba\u5880\u82aa\u830c\u640b\u53f1\u54e7\u557b\u55e4\u5f73\u996c\u6cb2\u5ab8\u6555\u80dd\u7719\u7735\u9e31\u761b\u892b\u86a9\u87ad\u7b1e\u7bea\u8c49\u8e05\u8e1f\u9b51",
            "chong": "\u5145\u51b2\u866b\u5d07\u5ba0\u833a\u5fe1\u61a7\u94f3\u825f",
            "chou": "\u62bd\u916c\u7574\u8e0c\u7a20\u6101\u7b79\u4ec7\u7ef8\u7785\u4e11\u4fe6\u5733\u5e31\u60c6\u6eb4\u59af\u7633\u96e0\u9c8b",
            "chu": "\u81ed\u521d\u51fa\u6a71\u53a8\u8e87\u9504\u96cf\u6ec1\u9664\u695a\u7840\u50a8\u77d7\u6410\u89e6\u5904\u4e8d\u520d\u61b7\u7ecc\u6775\u696e\u6a17\u870d\u8e70\u9edc",
            "chuan": "\u63e3\u5ddd\u7a7f\u693d\u4f20\u8239\u5598\u4e32\u63be\u821b\u60f4\u9044\u5ddb\u6c1a\u948f\u9569\u8221",
            "chuang": "\u75ae\u7a97\u5e62\u5e8a\u95ef\u521b\u6006",
            "chui": "\u5439\u708a\u6376\u9524\u5782\u9672\u68f0\u69cc",
            "chun": "\u6625\u693f\u9187\u5507\u6df3\u7eaf\u8822\u4fc3\u83bc\u6c8c\u80ab\u6710\u9e51\u877d",
            "chuo": "\u6233\u7ef0\u851f\u8fb6\u8f8d\u955e\u8e14\u9f8a",
            "ci": "\u75b5\u8328\u78c1\u96cc\u8f9e\u6148\u74f7\u8bcd\u6b64\u523a\u8d50\u6b21\u8360\u5472\u5d6f\u9e5a\u8785\u7ccd\u8d91",
            "cong": "\u806a\u8471\u56f1\u5306\u4ece\u4e1b\u506c\u82c1\u6dd9\u9aa2\u742e\u7481\u679e",
            "cu": "\u51d1\u7c97\u918b\u7c07\u731d\u6b82\u8e59",
            "cuan": "\u8e7f\u7be1\u7a9c\u6c46\u64ba\u6615\u7228",
            "cui": "\u6467\u5d14\u50ac\u8106\u7601\u7cb9\u6dec\u7fe0\u8403\u60b4\u7480\u69b1\u96b9",
            "cun": "\u6751\u5b58\u5bf8\u78cb\u5fd6\u76b4",
            "cuo": "\u64ae\u6413\u63aa\u632b\u9519\u539d\u811e\u9509\u77ec\u75e4\u9e7e\u8e49\u8e9c",
            "da": "\u642d\u8fbe\u7b54\u7629\u6253\u5927\u8037\u54d2\u55d2\u601b\u59b2\u75b8\u8921\u7b2a\u977c\u9791",
            "dai": "\u5446\u6b79\u50a3\u6234\u5e26\u6b86\u4ee3\u8d37\u888b\u5f85\u902e\u6020\u57ed\u7519\u5454\u5cb1\u8fe8\u902f\u9a80\u7ed0\u73b3\u9edb",
            "dan": "\u803d\u62c5\u4e39\u5355\u90f8\u63b8\u80c6\u65e6\u6c2e\u4f46\u60ee\u6de1\u8bde\u5f39\u86cb\u4ebb\u510b\u5369\u840f\u5556\u6fb9\u6a90\u6b9a\u8d55\u7708\u7605\u8043\u7baa",
            "dang": "\u5f53\u6321\u515a\u8361\u6863\u8c20\u51fc\u83ea\u5b95\u7800\u94db\u88c6",
            "dao": "\u5200\u6363\u8e48\u5012\u5c9b\u7977\u5bfc\u5230\u7a3b\u60bc\u9053\u76d7\u53e8\u5541\u5fc9\u6d2e\u6c18\u7118\u5fd1\u7e9b",
            "de": "\u5fb7\u5f97\u7684\u951d",
            "deng": "\u8e6c\u706f\u767b\u7b49\u77aa\u51f3\u9093\u5654\u5d9d\u6225\u78f4\u956b\u7c26",
            "di": "\u5824\u4f4e\u6ef4\u8fea\u654c\u7b1b\u72c4\u6da4\u7fdf\u5ae1\u62b5\u5e95\u5730\u8482\u7b2c\u5e1d\u5f1f\u9012\u7f14\u6c10\u7c74\u8bcb\u8c1b\u90b8\u577b\u839c\u837b\u5600\u5a23\u67e2\u68e3\u89cc\u7825\u78b2\u7747\u955d\u7f9d\u9ab6",
            "dian": "\u98a0\u6382\u6ec7\u7898\u70b9\u5178\u975b\u57ab\u7535\u4f43\u7538\u5e97\u60e6\u5960\u6dc0\u6bbf\u4e36\u963d\u576b\u57dd\u5dc5\u73b7\u765c\u766b\u7c1f\u8e2e",
            "diao": "\u7889\u53fc\u96d5\u51cb\u5201\u6389\u540a\u9493\u8c03\u8f7a\u94de\u8729\u7c9c\u8c82",
            "die": "\u8dcc\u7239\u789f\u8776\u8fed\u8c0d\u53e0\u4f5a\u57a4\u581e\u63f2\u558b\u6e2b\u8f76\u7252\u74de\u8936\u800b\u8e40\u9cbd\u9cce",
            "ding": "\u4e01\u76ef\u53ee\u9489\u9876\u9f0e\u952d\u5b9a\u8ba2\u4e22\u4ec3\u5576\u738e\u815a\u7887\u753a\u94e4\u7594\u8035\u914a",
            "dong": "\u4e1c\u51ac\u8463\u61c2\u52a8\u680b\u4f97\u606b\u51bb\u6d1e\u578c\u549a\u5cbd\u5cd2\u5902\u6c21\u80e8\u80f4\u7850\u9e2b",
            "dou": "\u515c\u6296\u6597\u9661\u8c46\u9017\u75d8\u8538\u94ad\u7aa6\u7aac\u86aa\u7bfc\u9161",
            "du": "\u90fd\u7763\u6bd2\u728a\u72ec\u8bfb\u5835\u7779\u8d4c\u675c\u9540\u809a\u5ea6\u6e21\u5992\u828f\u561f\u6e0e\u691f\u6a50\u724d\u8839\u7b03\u9ad1\u9ee9",
            "duan": "\u7aef\u77ed\u953b\u6bb5\u65ad\u7f0e\u5f56\u6934\u7145\u7c16",
            "dui": "\u5806\u5151\u961f\u5bf9\u603c\u619d\u7893",
            "dun": "\u58a9\u5428\u8e72\u6566\u987f\u56e4\u949d\u76fe\u9041\u7096\u7818\u7905\u76f9\u9566\u8db8",
            "duo": "\u6387\u54c6\u591a\u593a\u579b\u8eb2\u6735\u8dfa\u8235\u5241\u60f0\u5815\u5484\u54da\u7f0d\u67c1\u94ce\u88f0\u8e31",
            "e": "\u86fe\u5ce8\u9e45\u4fc4\u989d\u8bb9\u5a25\u6076\u5384\u627c\u904f\u9102\u997f\u5669\u8c14\u57a9\u57ad\u82ca\u83aa\u843c\u5443\u6115\u5c59\u5a40\u8f6d\u66f7\u816d\u786a\u9507\u9537\u9e57\u989a\u9cc4",
            "en": "\u6069\u84bd\u6441\u5514\u55ef",
            "er": "\u800c\u513f\u8033\u5c14\u9975\u6d31\u4e8c\u8d30\u8fe9\u73e5\u94d2\u9e38\u9c95",
            "fa": "\u53d1\u7f5a\u7b4f\u4f10\u4e4f\u9600\u6cd5\u73d0\u57a1\u781d",
            "fan": "\u85e9\u5e06\u756a\u7ffb\u6a0a\u77fe\u9492\u7e41\u51e1\u70e6\u53cd\u8fd4\u8303\u8d29\u72af\u996d\u6cdb\u8629\u5e61\u72ad\u68b5\u6535\u71d4\u7548\u8e6f",
            "fang": "\u574a\u82b3\u65b9\u80aa\u623f\u9632\u59a8\u4eff\u8bbf\u7eba\u653e\u531a\u90a1\u5f77\u94ab\u822b\u9c82",
            "fei": "\u83f2\u975e\u5561\u98de\u80a5\u532a\u8bfd\u5420\u80ba\u5e9f\u6cb8\u8d39\u82be\u72d2\u60b1\u6ddd\u5983\u7ecb\u7eef\u69a7\u8153\u6590\u6249\u7953\u7829\u9544\u75f1\u871a\u7bda\u7fe1\u970f\u9cb1",
            "fen": "\u82ac\u915a\u5429\u6c1b\u5206\u7eb7\u575f\u711a\u6c7e\u7c89\u594b\u4efd\u5fff\u6124\u7caa\u507e\u7035\u68fc\u610d\u9cbc\u9f22",
            "feng": "\u4e30\u5c01\u67ab\u8702\u5cf0\u950b\u98ce\u75af\u70fd\u9022\u51af\u7f1d\u8bbd\u5949\u51e4\u4ff8\u9146\u8451\u6ca3\u781c",
            "fu": "\u4f5b\u5426\u592b\u6577\u80a4\u5b75\u6276\u62c2\u8f90\u5e45\u6c1f\u7b26\u4f0f\u4fd8\u670d\u6d6e\u6daa\u798f\u88b1\u5f17\u752b\u629a\u8f85\u4fef\u91dc\u65a7\u812f\u8151\u5e9c\u8150\u8d74\u526f\u8986\u8d4b\u590d\u5085\u4ed8\u961c\u7236\u8179\u8d1f\u5bcc\u8ba3\u9644\u5987\u7f1a\u5490\u5310\u51eb\u90db\u8299\u82fb\u832f\u83a9\u83d4\u544b\u5e5e\u6ecf\u8274\u5b5a\u9a78\u7ec2\u6874\u8d59\u9efb\u9efc\u7f58\u7a03\u99a5\u864d\u86a8\u8709\u8760\u876e\u9eb8\u8dba\u8dd7\u9cc6",
            "ga": "\u5676\u560e\u86e4\u5c2c\u5477\u5c15\u5c1c\u65ee\u9486",
            "gai": "\u8be5\u6539\u6982\u9499\u76d6\u6e89\u4e10\u9654\u5793\u6224\u8d45\u80f2",
            "gan": "\u5e72\u7518\u6746\u67d1\u7aff\u809d\u8d76\u611f\u79c6\u6562\u8d63\u5769\u82f7\u5c34\u64c0\u6cd4\u6de6\u6f89\u7ec0\u6a44\u65f0\u77f8\u75b3\u9150",
            "gang": "\u5188\u521a\u94a2\u7f38\u809b\u7eb2\u5c97\u6e2f\u6206\u7f61\u9883\u7b7b",
            "gong": "\u6760\u5de5\u653b\u529f\u606d\u9f9a\u4f9b\u8eac\u516c\u5bab\u5f13\u5de9\u6c5e\u62f1\u8d21\u5171\u857b\u5efe\u54a3\u73d9\u80b1\u86a3\u86e9\u89e5",
            "gao": "\u7bd9\u768b\u9ad8\u818f\u7f94\u7cd5\u641e\u9550\u7a3f\u544a\u777e\u8bf0\u90dc\u84bf\u85c1\u7f1f\u69d4\u69c1\u6772\u9506",
            "ge": "\u54e5\u6b4c\u6401\u6208\u9e3d\u80f3\u7599\u5272\u9769\u845b\u683c\u9601\u9694\u94ec\u4e2a\u5404\u9b32\u4ee1\u54ff\u5865\u55dd\u7ea5\u643f\u8188\u784c\u94ea\u9549\u88bc\u988c\u867c\u8238\u9abc\u9ac2",
            "gei": "\u7ed9",
            "gen": "\u6839\u8ddf\u4e98\u831b\u54cf\u826e",
            "geng": "\u8015\u66f4\u5e9a\u7fb9\u57c2\u803f\u6897\u54fd\u8d53\u9ca0",
            "gou": "\u94a9\u52fe\u6c9f\u82df\u72d7\u57a2\u6784\u8d2d\u591f\u4f5d\u8bdf\u5ca3\u9058\u5abe\u7f11\u89cf\u5f40\u9e32\u7b31\u7bdd\u97b2",
            "gu": "\u8f9c\u83c7\u5495\u7b8d\u4f30\u6cbd\u5b64\u59d1\u9f13\u53e4\u86ca\u9aa8\u8c37\u80a1\u6545\u987e\u56fa\u96c7\u560f\u8bc2\u83f0\u54cc\u5d2e\u6c69\u688f\u8f71\u726f\u727f\u80cd\u81cc\u6bc2\u77bd\u7f5f\u94b4\u9522\u74e0\u9e2a\u9e44\u75fc\u86c4\u9164\u89da\u9cb4\u9ab0\u9e58",
            "gua": "\u522e\u74dc\u5250\u5be1\u6302\u8902\u5366\u8bd6\u5471\u681d\u9e39",
            "guai": "\u4e56\u62d0\u602a\u54d9",
            "guan": "\u68fa\u5173\u5b98\u51a0\u89c2\u7ba1\u9986\u7f50\u60ef\u704c\u8d2f\u500c\u839e\u63bc\u6dab\u76e5\u9e73\u9ccf",
            "guang": "\u5149\u5e7f\u901b\u72b7\u6844\u80f1\u7592",
            "gui": "\u7470\u89c4\u572d\u7845\u5f52\u9f9f\u95fa\u8f68\u9b3c\u8be1\u7678\u6842\u67dc\u8dea\u8d35\u523d\u5326\u523f\u5e8b\u5b84\u59ab\u6867\u7085\u6677\u7688\u7c0b\u9c91\u9cdc",
            "gun": "\u8f8a\u6eda\u68cd\u4e28\u886e\u7ef2\u78d9\u9ca7",
            "guo": "\u9505\u90ed\u56fd\u679c\u88f9\u8fc7\u9998\u8803\u57da\u63b4\u5459\u56d7\u5e3c\u5d1e\u7313\u6901\u8662\u951e\u8052\u872e\u873e\u8748",
            "ha": "\u54c8",
            "hai": "\u9ab8\u5b69\u6d77\u6c26\u4ea5\u5bb3\u9a87\u54b4\u55e8\u988f\u91a2",
            "han": "\u9163\u61a8\u90af\u97e9\u542b\u6db5\u5bd2\u51fd\u558a\u7f55\u7ff0\u64bc\u634d\u65f1\u61be\u608d\u710a\u6c57\u6c49\u9097\u83e1\u6496\u961a\u701a\u6657\u7113\u9894\u86b6\u9f3e",
            "hen": "\u592f\u75d5\u5f88\u72e0\u6068",
            "hang": "\u676d\u822a\u6c86\u7ed7\u73e9\u6841",
            "hao": "\u58d5\u568e\u8c6a\u6beb\u90dd\u597d\u8017\u53f7\u6d69\u8585\u55e5\u5686\u6fe0\u704f\u660a\u7693\u98a2\u869d",
            "he": "\u5475\u559d\u8377\u83cf\u6838\u79be\u548c\u4f55\u5408\u76d2\u8c89\u9602\u6cb3\u6db8\u8d6b\u8910\u9e64\u8d3a\u8bc3\u52be\u58d1\u85ff\u55d1\u55ec\u9616\u76cd\u86b5\u7fee",
            "hei": "\u563f\u9ed1",
            "heng": "\u54fc\u4ea8\u6a2a\u8861\u6052\u8a07\u8605",
            "hong": "\u8f70\u54c4\u70d8\u8679\u9e3f\u6d2a\u5b8f\u5f18\u7ea2\u9ec9\u8ba7\u836d\u85a8\u95f3\u6cd3",
            "hou": "\u5589\u4faf\u7334\u543c\u539a\u5019\u540e\u5820\u5f8c\u9005\u760a\u7bcc\u7cc7\u9c8e\u9aba",
            "hu": "\u547c\u4e4e\u5ffd\u745a\u58f6\u846b\u80e1\u8774\u72d0\u7cca\u6e56\u5f27\u864e\u552c\u62a4\u4e92\u6caa\u6237\u51b1\u553f\u56eb\u5cb5\u7322\u6019\u60da\u6d52\u6ef9\u7425\u69f2\u8f77\u89f3\u70c0\u7173\u623d\u6248\u795c\u9e55\u9e71\u7b0f\u9190\u659b",
            "hua": "\u82b1\u54d7\u534e\u733e\u6ed1\u753b\u5212\u5316\u8bdd\u5290\u6d4d\u9a85\u6866\u94e7\u7a1e",
            "huai": "\u69d0\u5f8a\u6000\u6dee\u574f\u8fd8\u8e1d",
            "huan": "\u6b22\u73af\u6853\u7f13\u6362\u60a3\u5524\u75ea\u8c62\u7115\u6da3\u5ba6\u5e7b\u90c7\u5942\u57b8\u64d0\u571c\u6d39\u6d63\u6f36\u5bf0\u902d\u7f33\u953e\u9ca9\u9b1f",
            "huang": "\u8352\u614c\u9ec4\u78fa\u8757\u7c27\u7687\u51f0\u60f6\u714c\u6643\u5e4c\u604d\u8c0e\u968d\u5fa8\u6e5f\u6f62\u9051\u749c\u8093\u7640\u87e5\u7bc1\u9cc7",
            "hui": "\u7070\u6325\u8f89\u5fbd\u6062\u86d4\u56de\u6bc1\u6094\u6167\u5349\u60e0\u6666\u8d3f\u79fd\u4f1a\u70e9\u6c47\u8bb3\u8bf2\u7ed8\u8bd9\u8334\u835f\u8559\u54d5\u5599\u96b3\u6d04\u5f57\u7f0b\u73f2\u6656\u605a\u867a\u87ea\u9ebe",
            "hun": "\u8364\u660f\u5a5a\u9b42\u6d51\u6df7\u8be8\u9984\u960d\u6eb7\u7f17",
            "huo": "\u8c41\u6d3b\u4f19\u706b\u83b7\u6216\u60d1\u970d\u8d27\u7978\u6509\u56af\u5925\u94ac\u952a\u956c\u8020\u8816",
            "ji": "\u51fb\u573e\u57fa\u673a\u7578\u7a3d\u79ef\u7b95\u808c\u9965\u8ff9\u6fc0\u8ba5\u9e21\u59ec\u7ee9\u7f09\u5409\u6781\u68d8\u8f91\u7c4d\u96c6\u53ca\u6025\u75be\u6c72\u5373\u5ac9\u7ea7\u6324\u51e0\u810a\u5df1\u84df\u6280\u5180\u5b63\u4f0e\u796d\u5242\u60b8\u6d4e\u5bc4\u5bc2\u8ba1\u8bb0\u65e2\u5fcc\u9645\u5993\u7ee7\u7eaa\u5c45\u4e0c\u4e69\u525e\u4f76\u4f74\u8114\u58bc\u82a8\u82b0\u8401\u84ba\u857a\u638e\u53fd\u54ad\u54dc\u5527\u5c8c\u5d74\u6d0e\u5f50\u5c50\u9aa5\u757f\u7391\u696b\u6b9b\u621f\u6222\u8d4d\u89ca\u7284\u9f51\u77f6\u7f81\u5d47\u7a37\u7620\u7635\u866e\u7b08\u7b04\u66a8\u8dfb\u8dfd\u9701\u9c9a\u9cab\u9afb\u9e82",
            "jia": "\u5609\u67b7\u5939\u4f73\u5bb6\u52a0\u835a\u988a\u8d3e\u7532\u94be\u5047\u7a3c\u4ef7\u67b6\u9a7e\u5ac1\u4f3d\u90cf\u62ee\u5cac\u6d43\u8fe6\u73c8\u621b\u80db\u605d\u94d7\u9553\u75c2\u86f1\u7b33\u8888\u8dcf",
            "jian": "\u6b7c\u76d1\u575a\u5c16\u7b3a\u95f4\u714e\u517c\u80a9\u8270\u5978\u7f04\u8327\u68c0\u67ec\u78b1\u7877\u62e3\u6361\u7b80\u4fed\u526a\u51cf\u8350\u69db\u9274\u8df5\u8d31\u89c1\u952e\u7bad\u4ef6\u5065\u8230\u5251\u996f\u6e10\u6e85\u6da7\u5efa\u50ed\u8c0f\u8c2b\u83c5\u84b9\u641b\u56dd\u6e54\u8e47\u8b07\u7f23\u67a7\u67d9\u6957\u620b\u622c\u726e\u728d\u6bfd\u8171\u7751\u950f\u9e63\u88e5\u7b15\u7bb4\u7fe6\u8dbc\u8e3a\u9ca3\u97af",
            "jiang": "\u50f5\u59dc\u5c06\u6d46\u6c5f\u7586\u848b\u6868\u5956\u8bb2\u5320\u9171\u964d\u8333\u6d1a\u7edb\u7f30\u729f\u7913\u8029\u7ce8\u8c47",
            "jiao": "\u8549\u6912\u7901\u7126\u80f6\u4ea4\u90ca\u6d47\u9a84\u5a07\u56bc\u6405\u94f0\u77eb\u4fa5\u811a\u72e1\u89d2\u997a\u7f34\u7ede\u527f\u6559\u9175\u8f7f\u8f83\u53eb\u4f7c\u50ec\u832d\u6322\u564d\u5ce4\u5fbc\u59e3\u7e9f\u656b\u768e\u9e6a\u86df\u91ae\u8de4\u9c9b",
            "jie": "\u7a96\u63ed\u63a5\u7686\u79f8\u8857\u9636\u622a\u52ab\u8282\u6854\u6770\u6377\u776b\u7aed\u6d01\u7ed3\u89e3\u59d0\u6212\u85c9\u82a5\u754c\u501f\u4ecb\u75a5\u8beb\u5c4a\u5048\u8ba6\u8bd8\u5588\u55df\u736c\u5a55\u5b51\u6840\u7352\u78a3\u9534\u7596\u88b7\u9889\u86a7\u7faf\u9c92\u9ab1\u9aeb",
            "jin": "\u5dfe\u7b4b\u65a4\u91d1\u4eca\u6d25\u895f\u7d27\u9526\u4ec5\u8c28\u8fdb\u9773\u664b\u7981\u8fd1\u70ec\u6d78\u5c3d\u537a\u8369\u5807\u5664\u9991\u5ed1\u5997\u7f19\u747e\u69ff\u8d46\u89d0\u9485\u9513\u887f\u77dc",
            "jing": "\u52b2\u8346\u5162\u830e\u775b\u6676\u9cb8\u4eac\u60ca\u7cbe\u7cb3\u7ecf\u4e95\u8b66\u666f\u9888\u9759\u5883\u656c\u955c\u5f84\u75c9\u9756\u7adf\u7ade\u51c0\u522d\u5106\u9631\u83c1\u734d\u61ac\u6cfe\u8ff3\u5f2a\u5a67\u80bc\u80eb\u8148\u65cc",
            "jiong": "\u70af\u7a98\u5182\u8fe5\u6243",
            "jiu": "\u63ea\u7a76\u7ea0\u7396\u97ed\u4e45\u7078\u4e5d\u9152\u53a9\u6551\u65e7\u81fc\u8205\u548e\u5c31\u759a\u50e6\u557e\u9604\u67e9\u6855\u9e6b\u8d73\u9b0f",
            "ju": "\u97a0\u62d8\u72d9\u75bd\u9a79\u83ca\u5c40\u5480\u77e9\u4e3e\u6cae\u805a\u62d2\u636e\u5de8\u5177\u8ddd\u8e1e\u952f\u4ff1\u53e5\u60e7\u70ac\u5267\u5028\u8bb5\u82e3\u82f4\u8392\u63ac\u907d\u5c66\u741a\u67b8\u6910\u6998\u6989\u6a58\u728b\u98d3\u949c\u9514\u7aad\u88fe\u8d84\u91b5\u8e3d\u9f83\u96ce\u97ab",
            "juan": "\u6350\u9e43\u5a1f\u5026\u7737\u5377\u7ee2\u9104\u72f7\u6d93\u684a\u8832\u9529\u954c\u96bd",
            "jue": "\u6485\u652b\u6289\u6398\u5014\u7235\u89c9\u51b3\u8bc0\u7edd\u53a5\u5282\u8c32\u77cd\u8568\u5658\u5d1b\u7357\u5b53\u73cf\u6877\u6a5b\u721d\u9562\u8e76\u89d6",
            "jun": "\u5747\u83cc\u94a7\u519b\u541b\u5cfb\u4fca\u7ae3\u6d5a\u90e1\u9a8f\u6343\u72fb\u76b2\u7b60\u9e87",
            "ka": "\u5580\u5496\u5361\u4f67\u5494\u80e9",
            "ke": "\u54af\u5777\u82db\u67ef\u68f5\u78d5\u9897\u79d1\u58f3\u54b3\u53ef\u6e34\u514b\u523b\u5ba2\u8bfe\u5ca2\u606a\u6e98\u9a92\u7f02\u73c2\u8f72\u6c2a\u778c\u94b6\u75b4\u7aa0\u874c\u9ac1",
            "kai": "\u5f00\u63e9\u6977\u51ef\u6168\u5240\u57b2\u8488\u5ffe\u607a\u94e0\u950e",
            "kan": "\u520a\u582a\u52d8\u574e\u780d\u770b\u4f83\u51f5\u83b0\u83b6\u6221\u9f9b\u77b0",
            "kang": "\u5eb7\u6177\u7ce0\u625b\u6297\u4ea2\u7095\u5751\u4f09\u95f6\u94aa",
            "kao": "\u8003\u62f7\u70e4\u9760\u5c3b\u6832\u7292\u94d0",
            "ken": "\u80af\u5543\u57a6\u6073\u57a0\u88c9\u9880",
            "keng": "\u542d\u5fd0\u94ff",
            "kong": "\u7a7a\u6050\u5b54\u63a7\u5025\u5d06\u7b9c",
            "kou": "\u62a0\u53e3\u6263\u5bc7\u82a4\u853b\u53e9\u770d\u7b58",
            "ku": "\u67af\u54ed\u7a9f\u82e6\u9177\u5e93\u88e4\u5233\u5800\u55be\u7ed4\u9ab7",
            "kua": "\u5938\u57ae\u630e\u8de8\u80ef\u4f89",
            "kuai": "\u5757\u7b77\u4fa9\u5feb\u84af\u90d0\u8489\u72ef\u810d",
            "kuan": "\u5bbd\u6b3e\u9acb",
            "kuang": "\u5321\u7b50\u72c2\u6846\u77ff\u7736\u65f7\u51b5\u8bd3\u8bf3\u909d\u5739\u593c\u54d0\u7ea9\u8d36",
            "kui": "\u4e8f\u76d4\u5cbf\u7aa5\u8475\u594e\u9b41\u5080\u9988\u6127\u6e83\u9997\u532e\u5914\u9697\u63c6\u55b9\u559f\u609d\u6126\u9615\u9035\u668c\u777d\u8069\u8770\u7bd1\u81fe\u8dec",
            "kun": "\u5764\u6606\u6346\u56f0\u6083\u9603\u7428\u951f\u918c\u9cb2\u9ae1",
            "kuo": "\u62ec\u6269\u5ed3\u9614\u86de",
            "la": "\u5783\u62c9\u5587\u8721\u814a\u8fa3\u5566\u524c\u647a\u908b\u65ef\u782c\u760c",
            "lai": "\u83b1\u6765\u8d56\u5d03\u5f95\u6d9e\u6fd1\u8d49\u7750\u94fc\u765e\u7c41",
            "lan": "\u84dd\u5a6a\u680f\u62e6\u7bee\u9611\u5170\u6f9c\u8c30\u63fd\u89c8\u61d2\u7f06\u70c2\u6ee5\u5549\u5c9a\u61d4\u6f24\u6984\u6593\u7f71\u9567\u8934",
            "lang": "\u7405\u6994\u72fc\u5eca\u90ce\u6717\u6d6a\u83a8\u8497\u5577\u9606\u9512\u7a02\u8782",
            "lao": "\u635e\u52b3\u7262\u8001\u4f6c\u59e5\u916a\u70d9\u6d9d\u5520\u5d02\u6833\u94d1\u94f9\u75e8\u91aa",
            "le": "\u52d2\u4e50\u808b\u4ec2\u53fb\u561e\u6cd0\u9cd3",
            "lei": "\u96f7\u956d\u857e\u78ca\u7d2f\u5121\u5792\u64c2\u7c7b\u6cea\u7fb8\u8bd4\u837d\u54a7\u6f2f\u5ad8\u7f27\u6a91\u8012\u9179",
            "ling": "\u68f1\u51b7\u62ce\u73b2\u83f1\u96f6\u9f84\u94c3\u4f36\u7f9a\u51cc\u7075\u9675\u5cad\u9886\u53e6\u4ee4\u9143\u5844\u82d3\u5464\u56f9\u6ce0\u7eeb\u67c3\u68c2\u74f4\u8046\u86c9\u7fce\u9cae",
            "leng": "\u695e\u6123",
            "li": "\u5398\u68a8\u7281\u9ece\u7bf1\u72f8\u79bb\u6f13\u7406\u674e\u91cc\u9ca4\u793c\u8389\u8354\u540f\u6817\u4e3d\u5389\u52b1\u783e\u5386\u5229\u5088\u4f8b\u4fd0\u75e2\u7acb\u7c92\u6ca5\u96b6\u529b\u7483\u54e9\u4fea\u4fda\u90e6\u575c\u82c8\u8385\u84e0\u85dc\u6369\u5456\u5533\u55b1\u7301\u6ea7\u6fa7\u9026\u5a0c\u5ae0\u9a8a\u7f21\u73de\u67a5\u680e\u8f79\u623e\u783a\u8a48\u7f79\u9502\u9e42\u75a0\u75ac\u86ce\u870a\u8821\u7b20\u7be5\u7c9d\u91b4\u8dde\u96f3\u9ca1\u9ce2\u9ee7",
            "lian": "\u4fe9\u8054\u83b2\u8fde\u9570\u5ec9\u601c\u6d9f\u5e18\u655b\u8138\u94fe\u604b\u70bc\u7ec3\u631b\u8539\u5941\u6f4b\u6fc2\u5a08\u740f\u695d\u6b93\u81c1\u81a6\u88e2\u880a\u9ca2",
            "liang": "\u7cae\u51c9\u6881\u7cb1\u826f\u4e24\u8f86\u91cf\u667e\u4eae\u8c05\u589a\u690b\u8e09\u9753\u9b49",
            "liao": "\u64a9\u804a\u50da\u7597\u71ce\u5be5\u8fbd\u6f66\u4e86\u6482\u9563\u5ed6\u6599\u84fc\u5c25\u5639\u7360\u5bee\u7f2d\u948c\u9e69\u8022",
            "lie": "\u5217\u88c2\u70c8\u52a3\u730e\u51bd\u57d2\u6d0c\u8d94\u8e90\u9b23",
            "lin": "\u7433\u6797\u78f7\u9716\u4e34\u90bb\u9cde\u6dcb\u51db\u8d41\u541d\u853a\u5d99\u5eea\u9074\u6aa9\u8f9a\u77b5\u7cbc\u8e8f\u9e9f",
            "liu": "\u6e9c\u7409\u69b4\u786b\u998f\u7559\u5218\u7624\u6d41\u67f3\u516d\u62a1\u507b\u848c\u6cd6\u6d4f\u905b\u9a9d\u7efa\u65d2\u7198\u950d\u954f\u9e68\u938f",
            "long": "\u9f99\u804b\u5499\u7b3c\u7abf\u9686\u5784\u62e2\u9647\u5f04\u5785\u830f\u6cf7\u73d1\u680a\u80e7\u783b\u7643",
            "lou": "\u697c\u5a04\u6402\u7bd3\u6f0f\u964b\u55bd\u5d5d\u9542\u7618\u8027\u877c\u9ac5",
            "lu": "\u82a6\u5362\u9885\u5e90\u7089\u63b3\u5364\u864f\u9c81\u9e93\u788c\u9732\u8def\u8d42\u9e7f\u6f5e\u7984\u5f55\u9646\u622e\u5786\u6445\u64b8\u565c\u6cf8\u6e0c\u6f09\u7490\u680c\u6a79\u8f73\u8f82\u8f98\u6c07\u80ea\u9565\u9e2c\u9e6d\u7c0f\u823b\u9c88",
            "lv": "\u9a74\u5415\u94dd\u4fa3\u65c5\u5c65\u5c61\u7f15\u8651\u6c2f\u5f8b\u7387\u6ee4\u7eff\u634b\u95fe\u6988\u8182\u7a06\u891b",
            "luan": "\u5ce6\u5b6a\u6ee6\u5375\u4e71\u683e\u9e3e\u92ae",
            "lue": "\u63a0\u7565\u950a",
            "lun": "\u8f6e\u4f26\u4ed1\u6ca6\u7eb6\u8bba\u56f5",
            "luo": "\u841d\u87ba\u7f57\u903b\u9523\u7ba9\u9aa1\u88f8\u843d\u6d1b\u9a86\u7edc\u502e\u8366\u645e\u7321\u6cfa\u6924\u8136\u9559\u7630\u96d2",
            "ma": "\u5988\u9ebb\u739b\u7801\u8682\u9a6c\u9a82\u561b\u5417\u551b\u72b8\u5b37\u6769\u9ebd",
            "mai": "\u57cb\u4e70\u9ea6\u5356\u8fc8\u8109\u52a2\u836c\u54aa\u973e",
            "man": "\u7792\u9992\u86ee\u6ee1\u8513\u66fc\u6162\u6f2b\u8c29\u5881\u5e54\u7f26\u71b3\u9558\u989f\u87a8\u9cd7\u9794",
            "mang": "\u8292\u832b\u76f2\u5fd9\u83bd\u9099\u6f2d\u6726\u786d\u87d2",
            "meng": "\u6c13\u840c\u8499\u6aac\u76df\u9530\u731b\u68a6\u5b5f\u52d0\u750d\u77a2\u61f5\u791e\u867b\u8722\u8813\u824b\u8268\u9efe",
            "miao": "\u732b\u82d7\u63cf\u7784\u85d0\u79d2\u6e3a\u5e99\u5999\u55b5\u9088\u7f08\u7f2a\u676a\u6dfc\u7707\u9e4b\u8731",
            "mao": "\u8305\u951a\u6bdb\u77db\u94c6\u536f\u8302\u5192\u5e3d\u8c8c\u8d38\u4f94\u88a4\u52d6\u8306\u5cc1\u7441\u6634\u7266\u8004\u65c4\u61cb\u7780\u86d1\u8765\u87ca\u9ae6",
            "me": "\u4e48",
            "mei": "\u73ab\u679a\u6885\u9176\u9709\u7164\u6ca1\u7709\u5a92\u9541\u6bcf\u7f8e\u6627\u5bd0\u59b9\u5a9a\u5776\u8393\u5d4b\u7338\u6d7c\u6e44\u6963\u9545\u9e5b\u8882\u9b45",
            "men": "\u95e8\u95f7\u4eec\u626a\u739f\u7116\u61d1\u9494",
            "mi": "\u772f\u919a\u9761\u7cdc\u8ff7\u8c1c\u5f25\u7c73\u79d8\u89c5\u6ccc\u871c\u5bc6\u5e42\u8288\u5196\u8c27\u863c\u5627\u7315\u736f\u6c68\u5b93\u5f2d\u8112\u6549\u7cf8\u7e3b\u9e8b",
            "mian": "\u68c9\u7720\u7ef5\u5195\u514d\u52c9\u5a29\u7f05\u9762\u6c94\u6e4e\u817c\u7704",
            "mie": "\u8511\u706d\u54a9\u881b\u7bfe",
            "min": "\u6c11\u62bf\u76bf\u654f\u60af\u95fd\u82e0\u5cb7\u95f5\u6cef\u73c9",
            "ming": "\u660e\u879f\u9e23\u94ed\u540d\u547d\u51a5\u8317\u6e9f\u669d\u7791\u9169",
            "miu": "\u8c2c",
            "mo": "\u6478\u6479\u8611\u6a21\u819c\u78e8\u6469\u9b54\u62b9\u672b\u83ab\u58a8\u9ed8\u6cab\u6f20\u5bde\u964c\u8c1f\u8309\u84e6\u998d\u5aeb\u9546\u79e3\u763c\u8031\u87c6\u8c8a\u8c98",
            "mou": "\u8c0b\u725f\u67d0\u53b6\u54de\u5a7a\u7738\u936a",
            "mu": "\u62c7\u7261\u4ea9\u59c6\u6bcd\u5893\u66ae\u5e55\u52df\u6155\u6728\u76ee\u7766\u7267\u7a46\u4eeb\u82dc\u5452\u6c90\u6bea\u94bc",
            "na": "\u62ff\u54ea\u5450\u94a0\u90a3\u5a1c\u7eb3\u5185\u637a\u80ad\u954e\u8872\u7bac",
            "nai": "\u6c16\u4e43\u5976\u8010\u5948\u9f10\u827f\u8418\u67f0",
            "nan": "\u5357\u7537\u96be\u56ca\u5583\u56e1\u6960\u8169\u877b\u8d67",
            "nao": "\u6320\u8111\u607c\u95f9\u5b6c\u57b4\u7331\u7459\u7847\u94d9\u86f2",
            "ne": "\u6dd6\u5462\u8bb7",
            "nei": "\u9981",
            "nen": "\u5ae9\u80fd\u6798\u6041",
            "ni": "\u59ae\u9713\u502a\u6ce5\u5c3c\u62df\u4f60\u533f\u817b\u9006\u6eba\u4f32\u576d\u730a\u6029\u6ee0\u6635\u65ce\u7962\u615d\u7768\u94cc\u9cb5",
            "nian": "\u852b\u62c8\u5e74\u78be\u64b5\u637b\u5ff5\u5eff\u8f87\u9ecf\u9c87\u9cb6",
            "niang": "\u5a18\u917f",
            "niao": "\u9e1f\u5c3f\u8311\u5b32\u8132\u8885",
            "nie": "\u634f\u8042\u5b7d\u556e\u954a\u954d\u6d85\u4e5c\u9667\u8616\u55eb\u8080\u989e\u81ec\u8e51",
            "nin": "\u60a8\u67e0",
            "ning": "\u72de\u51dd\u5b81\u62e7\u6cde\u4f5e\u84e5\u549b\u752f\u804d",
            "niu": "\u725b\u626d\u94ae\u7ebd\u72c3\u5ff8\u599e\u86b4",
            "nong": "\u8113\u6d53\u519c\u4fac",
            "nu": "\u5974\u52aa\u6012\u5476\u5e11\u5f29\u80ec\u5b65\u9a7d",
            "nv": "\u5973\u6067\u9495\u8844",
            "nuan": "\u6696",
            "nuenue": "\u8650",
            "nue": "\u759f\u8c11",
            "nuo": "\u632a\u61e6\u7cef\u8bfa\u50a9\u6426\u558f\u9518",
            "ou": "\u54e6\u6b27\u9e25\u6bb4\u85d5\u5455\u5076\u6ca4\u6004\u74ef\u8026",
            "pa": "\u556a\u8db4\u722c\u5e15\u6015\u7436\u8469\u7b62",
            "pai": "\u62cd\u6392\u724c\u5f98\u6e43\u6d3e\u4ff3\u848e",
            "pan": "\u6500\u6f58\u76d8\u78d0\u76fc\u7554\u5224\u53db\u723f\u6cee\u88a2\u897b\u87e0\u8e52",
            "pang": "\u4e53\u5e9e\u65c1\u802a\u80d6\u6ec2\u9004",
            "pao": "\u629b\u5486\u5228\u70ae\u888d\u8dd1\u6ce1\u530f\u72cd\u5e96\u812c\u75b1",
            "pei": "\u5478\u80da\u57f9\u88f4\u8d54\u966a\u914d\u4f69\u6c9b\u638a\u8f94\u5e14\u6de0\u65c6\u952b\u9185\u9708",
            "pen": "\u55b7\u76c6\u6e53",
            "peng": "\u7830\u62a8\u70f9\u6f8e\u5f6d\u84ec\u68da\u787c\u7bf7\u81a8\u670b\u9e4f\u6367\u78b0\u576f\u580b\u562d\u6026\u87db",
            "pi": "\u7812\u9739\u6279\u62ab\u5288\u7435\u6bd7\u5564\u813e\u75b2\u76ae\u5339\u75de\u50fb\u5c41\u8b6c\u4e15\u9674\u90b3\u90eb\u572e\u9f19\u64d7\u567c\u5e80\u5ab2\u7eb0\u6787\u7513\u7765\u7f74\u94cd\u75e6\u7656\u758b\u868d\u8c94",
            "pian": "\u7bc7\u504f\u7247\u9a97\u8c1d\u9a88\u728f\u80fc\u890a\u7fe9\u8e41",
            "piao": "\u98d8\u6f02\u74e2\u7968\u527d\u560c\u5ad6\u7f25\u6b8d\u779f\u87b5",
            "pie": "\u6487\u77a5\u4e3f\u82e4\u6c15",
            "pin": "\u62fc\u9891\u8d2b\u54c1\u8058\u62da\u59d8\u5ad4\u6980\u725d\u98a6",
            "ping": "\u4e52\u576a\u82f9\u840d\u5e73\u51ed\u74f6\u8bc4\u5c4f\u4fdc\u5a09\u67b0\u9c86",
            "po": "\u5761\u6cfc\u9887\u5a46\u7834\u9b44\u8feb\u7c95\u53f5\u9131\u6ea5\u73c0\u948b\u94b7\u76a4\u7b38",
            "pou": "\u5256\u88d2\u8e23",
            "pu": "\u6251\u94fa\u4ec6\u8386\u8461\u83e9\u84b2\u57d4\u6734\u5703\u666e\u6d66\u8c31\u66dd\u7011\u530d\u5657\u6fee\u749e\u6c06\u9564\u9568\u8e7c",
            "qi": "\u671f\u6b3a\u6816\u621a\u59bb\u4e03\u51c4\u6f06\u67d2\u6c8f\u5176\u68cb\u5947\u6b67\u7566\u5d0e\u8110\u9f50\u65d7\u7948\u7941\u9a91\u8d77\u5c82\u4e5e\u4f01\u542f\u5951\u780c\u5668\u6c14\u8fc4\u5f03\u6c7d\u6ce3\u8bab\u4e9f\u4e93\u573b\u8291\u840b\u847a\u5601\u5c7a\u5c90\u6c54\u6dc7\u9a90\u7eee\u742a\u7426\u675e\u6864\u69ed\u6b39\u797a\u61a9\u789b\u86f4\u871e\u7da6\u7dae\u8dbf\u8e4a\u9ccd\u9e92",
            "qia": "\u6390\u6070\u6d3d\u845c",
            "qian": "\u7275\u6266\u948e\u94c5\u5343\u8fc1\u7b7e\u4edf\u8c26\u4e7e\u9ed4\u94b1\u94b3\u524d\u6f5c\u9063\u6d45\u8c34\u5811\u5d4c\u6b20\u6b49\u4f65\u9621\u828a\u82a1\u8368\u63ae\u5c8d\u60ad\u614a\u9a9e\u6434\u8930\u7f31\u6920\u80b7\u6106\u94a4\u8654\u7b9d",
            "qiang": "\u67aa\u545b\u8154\u7f8c\u5899\u8537\u5f3a\u62a2\u5af1\u6a2f\u6217\u709d\u9516\u9535\u956a\u8941\u8723\u7f9f\u8deb\u8dc4",
            "qiao": "\u6a47\u9539\u6572\u6084\u6865\u77a7\u4e54\u4fa8\u5de7\u9798\u64ac\u7fd8\u5ced\u4fcf\u7a8d\u5281\u8bee\u8c2f\u835e\u6100\u6194\u7f32\u6a35\u6bf3\u7857\u8df7\u9792",
            "qie": "\u5207\u8304\u4e14\u602f\u7a83\u90c4\u553c\u60ec\u59be\u6308\u9532\u7ba7",
            "qin": "\u94a6\u4fb5\u4eb2\u79e6\u7434\u52e4\u82b9\u64d2\u79bd\u5bdd\u6c81\u82a9\u84c1\u8572\u63ff\u5423\u55ea\u5659\u6eb1\u6a8e\u8793\u887e",
            "qing": "\u9752\u8f7b\u6c22\u503e\u537f\u6e05\u64ce\u6674\u6c30\u60c5\u9877\u8bf7\u5e86\u5029\u82d8\u570a\u6aa0\u78ec\u873b\u7f44\u7b90\u8b26\u9cad\u9ee5",
            "qiong": "\u743c\u7a77\u909b\u8315\u7a79\u7b47\u928e",
            "qiu": "\u79cb\u4e18\u90b1\u7403\u6c42\u56da\u914b\u6cc5\u4fc5\u6c3d\u5def\u827d\u72b0\u6e6b\u9011\u9052\u6978\u8d47\u9e20\u866c\u86af\u8764\u88d8\u7cd7\u9cc5\u9f3d",
            "qu": "\u8d8b\u533a\u86c6\u66f2\u8eaf\u5c48\u9a71\u6e20\u53d6\u5a36\u9f8b\u8da3\u53bb\u8bce\u52ac\u8556\u8627\u5c96\u8862\u9612\u74a9\u89d1\u6c0d\u795b\u78f2\u766f\u86d0\u883c\u9eb4\u77bf\u9ee2",
            "quan": "\u5708\u98a7\u6743\u919b\u6cc9\u5168\u75ca\u62f3\u72ac\u5238\u529d\u8be0\u8343\u737e\u609b\u7efb\u8f81\u754e\u94e8\u8737\u7b4c\u9b08",
            "que": "\u7f3a\u7094\u7638\u5374\u9e4a\u69b7\u786e\u96c0\u9619\u60ab",
            "qun": "\u88d9\u7fa4\u9021",
            "ran": "\u7136\u71c3\u5189\u67d3\u82d2\u9aef",
            "rang": "\u74e4\u58e4\u6518\u56b7\u8ba9\u79b3\u7a70",
            "rao": "\u9976\u6270\u7ed5\u835b\u5a06\u6861",
            "ruo": "\u60f9\u82e5\u5f31",
            "re": "\u70ed\u504c",
            "ren": "\u58ec\u4ec1\u4eba\u5fcd\u97e7\u4efb\u8ba4\u5203\u598a\u7eab\u4ede\u834f\u845a\u996a\u8f6b\u7a14\u887d",
            "reng": "\u6254\u4ecd",
            "ri": "\u65e5",
            "rong": "\u620e\u8338\u84c9\u8363\u878d\u7194\u6eb6\u5bb9\u7ed2\u5197\u5d58\u72e8\u7f1b\u6995\u877e",
            "rou": "\u63c9\u67d4\u8089\u7cc5\u8e42\u97a3",
            "ru": "\u8339\u8815\u5112\u5b7a\u5982\u8fb1\u4e73\u6c5d\u5165\u8925\u84d0\u85b7\u5685\u6d33\u6ebd\u6fe1\u94f7\u8966\u98a5",
            "ruan": "\u8f6f\u962e\u670a",
            "rui": "\u854a\u745e\u9510\u82ae\u8564\u777f\u868b",
            "run": "\u95f0\u6da6",
            "sa": "\u6492\u6d12\u8428\u5345\u4ee8\u6332\u98d2",
            "sai": "\u816e\u9cc3\u585e\u8d5b\u567b",
            "san": "\u4e09\u53c1\u4f1e\u6563\u5f61\u9993\u6c35\u6bf5\u7cc1\u9730",
            "sang": "\u6851\u55d3\u4e27\u6421\u78c9\u98a1",
            "sao": "\u6414\u9a9a\u626b\u5ac2\u57fd\u81ca\u7619\u9ccb",
            "se": "\u745f\u8272\u6da9\u556c\u94e9\u94ef\u7a51",
            "sen": "\u68ee",
            "seng": "\u50e7",
            "sha": "\u838e\u7802\u6740\u5239\u6c99\u7eb1\u50bb\u5565\u715e\u810e\u6b43\u75e7\u88df\u970e\u9ca8",
            "shai": "\u7b5b\u6652\u917e",
            "shan": "\u73ca\u82eb\u6749\u5c71\u5220\u717d\u886b\u95ea\u9655\u64c5\u8d61\u81b3\u5584\u6c55\u6247\u7f2e\u5261\u8baa\u912f\u57cf\u829f\u6f78\u59d7\u9a9f\u81bb\u9490\u759d\u87ee\u8222\u8dda\u9cdd",
            "shang": "\u5892\u4f24\u5546\u8d4f\u664c\u4e0a\u5c1a\u88f3\u57a7\u7ef1\u6b87\u71b5\u89de",
            "shao": "\u68a2\u634e\u7a0d\u70e7\u828d\u52fa\u97f6\u5c11\u54e8\u90b5\u7ecd\u52ad\u82d5\u6f72\u86f8\u7b24\u7b72\u8244",
            "she": "\u5962\u8d4a\u86c7\u820c\u820d\u8d66\u6444\u5c04\u6151\u6d89\u793e\u8bbe\u538d\u4f58\u731e\u7572\u9e9d",
            "shen": "\u7837\u7533\u547b\u4f38\u8eab\u6df1\u5a20\u7ec5\u795e\u6c88\u5ba1\u5a76\u751a\u80be\u614e\u6e17\u8bdc\u8c02\u5432\u54c2\u6e16\u6939\u77e7\u8703",
            "sheng": "\u58f0\u751f\u7525\u7272\u5347\u7ef3\u7701\u76db\u5269\u80dc\u5723\u4e1e\u6e11\u5ab5\u771a\u7b19",
            "shi": "\u5e08\u5931\u72ee\u65bd\u6e7f\u8bd7\u5c38\u8671\u5341\u77f3\u62fe\u65f6\u4ec0\u98df\u8680\u5b9e\u8bc6\u53f2\u77e2\u4f7f\u5c4e\u9a76\u59cb\u5f0f\u793a\u58eb\u4e16\u67ff\u4e8b\u62ed\u8a93\u901d\u52bf\u662f\u55dc\u566c\u9002\u4ed5\u4f8d\u91ca\u9970\u6c0f\u5e02\u6043\u5ba4\u89c6\u8bd5\u8c25\u57d8\u83b3\u84cd\u5f11\u5511\u9963\u8f7c\u8006\u8d33\u70bb\u793b\u94c8\u94ca\u87ab\u8210\u7b6e\u8c55\u9ca5\u9cba",
            "shou": "\u6536\u624b\u9996\u5b88\u5bff\u6388\u552e\u53d7\u7626\u517d\u624c\u72e9\u7ef6\u824f",
            "shu": "\u852c\u67a2\u68b3\u6b8a\u6292\u8f93\u53d4\u8212\u6dd1\u758f\u4e66\u8d4e\u5b70\u719f\u85af\u6691\u66d9\u7f72\u8700\u9ecd\u9f20\u5c5e\u672f\u8ff0\u6811\u675f\u620d\u7ad6\u5885\u5eb6\u6570\u6f31\u6055\u500f\u587e\u83fd\u5fc4\u6cad\u6d91\u6f8d\u59dd\u7ebe\u6bf9\u8167\u6bb3\u956f\u79eb\u9e6c",
            "shua": "\u5237\u800d\u5530\u6dae",
            "shuai": "\u6454\u8870\u7529\u5e05\u87c0",
            "shuan": "\u6813\u62f4\u95e9",
            "shuang": "\u971c\u53cc\u723d\u5b40",
            "shui": "\u8c01\u6c34\u7761\u7a0e",
            "shun": "\u542e\u77ac\u987a\u821c\u6042",
            "shuo": "\u8bf4\u7855\u6714\u70c1\u84b4\u6420\u55cd\u6fef\u5981\u69ca\u94c4",
            "si": "\u65af\u6495\u5636\u601d\u79c1\u53f8\u4e1d\u6b7b\u8086\u5bfa\u55e3\u56db\u4f3a\u4f3c\u9972\u5df3\u53ae\u4fdf\u5155\u83e5\u549d\u6c5c\u6cd7\u6f8c\u59d2\u9a77\u7f0c\u7940\u7960\u9536\u9e36\u801c\u86f3\u7b25",
            "song": "\u677e\u8038\u6002\u9882\u9001\u5b8b\u8bbc\u8bf5\u51c7\u83d8\u5d27\u5d69\u5fea\u609a\u6dde\u7ae6",
            "sou": "\u641c\u8258\u64de\u55fd\u53df\u55d6\u55fe\u998a\u6eb2\u98d5\u778d\u953c\u878b",
            "su": "\u82cf\u9165\u4fd7\u7d20\u901f\u7c9f\u50f3\u5851\u6eaf\u5bbf\u8bc9\u8083\u5919\u8c21\u850c\u55c9\u612b\u7c0c\u89eb\u7a23",
            "suan": "\u9178\u849c\u7b97",
            "sui": "\u867d\u968b\u968f\u7ee5\u9ad3\u788e\u5c81\u7a57\u9042\u96a7\u795f\u84d1\u51ab\u8c07\u6fc9\u9083\u71e7\u772d\u7762",
            "sun": "\u5b59\u635f\u7b0b\u836a\u72f2\u98e7\u69ab\u8de3\u96bc",
            "suo": "\u68ad\u5506\u7f29\u7410\u7d22\u9501\u6240\u5522\u55e6\u5a11\u686b\u7743\u7fa7",
            "ta": "\u584c\u4ed6\u5b83\u5979\u5854\u736d\u631e\u8e4b\u8e0f\u95fc\u6ebb\u9062\u69bb\u6c93",
            "tai": "\u80ce\u82d4\u62ac\u53f0\u6cf0\u915e\u592a\u6001\u6c70\u90b0\u85b9\u80bd\u70b1\u949b\u8dc6\u9c90",
            "tan": "\u574d\u644a\u8d2a\u762b\u6ee9\u575b\u6a80\u75f0\u6f6d\u8c2d\u8c08\u5766\u6bef\u8892\u78b3\u63a2\u53f9\u70ad\u90ef\u8548\u6619\u94bd\u952c\u8983",
            "tang": "\u6c64\u5858\u642a\u5802\u68e0\u819b\u5510\u7cd6\u50a5\u9967\u6e8f\u746d\u94f4\u9557\u8025\u8797\u87b3\u7fb0\u91a3",
            "thang": "\u5018\u8eba\u6dcc",
            "theng": "\u8d9f\u70eb",
            "tao": "\u638f\u6d9b\u6ed4\u7ee6\u8404\u6843\u9003\u6dd8\u9676\u8ba8\u5957\u6311\u9f17\u5555\u97ec\u9955",
            "te": "\u7279",
            "teng": "\u85e4\u817e\u75bc\u8a8a\u6ed5",
            "ti": "\u68af\u5254\u8e22\u9511\u63d0\u9898\u8e44\u557c\u4f53\u66ff\u568f\u60d5\u6d95\u5243\u5c49\u8351\u608c\u9016\u7ee8\u7f07\u9e48\u88fc\u918d",
            "tian": "\u5929\u6dfb\u586b\u7530\u751c\u606c\u8214\u8146\u63ad\u5fdd\u9617\u6b84\u754b\u94bf\u86ba",
            "tiao": "\u6761\u8fe2\u773a\u8df3\u4f7b\u7967\u94eb\u7a95\u9f86\u9ca6",
            "tie": "\u8d34\u94c1\u5e16\u841c\u992e",
            "ting": "\u5385\u542c\u70c3\u6c40\u5ef7\u505c\u4ead\u5ead\u633a\u8247\u839b\u8476\u5a77\u6883\u8713\u9706",
            "tong": "\u901a\u6850\u916e\u77b3\u540c\u94dc\u5f64\u7ae5\u6876\u6345\u7b52\u7edf\u75db\u4f5f\u50ee\u4edd\u833c\u55f5\u6078\u6f7c\u783c",
            "tou": "\u5077\u6295\u5934\u900f\u4ea0",
            "tu": "\u51f8\u79c3\u7a81\u56fe\u5f92\u9014\u6d82\u5c60\u571f\u5410\u5154\u580d\u837c\u83df\u948d\u9174",
            "tuan": "\u6e4d\u56e2\u7583",
            "tui": "\u63a8\u9893\u817f\u8715\u892a\u9000\u5fd2\u717a",
            "tun": "\u541e\u5c6f\u81c0\u9968\u66be\u8c5a\u7a80",
            "tuo": "\u62d6\u6258\u8131\u9e35\u9640\u9a6e\u9a7c\u692d\u59a5\u62d3\u553e\u4e47\u4f57\u5768\u5eb9\u6cb1\u67dd\u7823\u7ba8\u8204\u8dce\u9f0d",
            "wa": "\u6316\u54c7\u86d9\u6d3c\u5a03\u74e6\u889c\u4f64\u5a32\u817d",
            "wai": "\u6b6a\u5916",
            "wan": "\u8c4c\u5f2f\u6e7e\u73a9\u987d\u4e38\u70f7\u5b8c\u7897\u633d\u665a\u7696\u60cb\u5b9b\u5a49\u4e07\u8155\u525c\u8284\u82cb\u83c0\u7ea8\u7efe\u742c\u8118\u7579\u873f\u7ba2",
            "wang": "\u6c6a\u738b\u4ea1\u6789\u7f51\u5f80\u65fa\u671b\u5fd8\u5984\u7f54\u5c22\u60d8\u8f8b\u9b4d",
            "wei": "\u5a01\u5dcd\u5fae\u5371\u97e6\u8fdd\u6845\u56f4\u552f\u60df\u4e3a\u6f4d\u7ef4\u82c7\u840e\u59d4\u4f1f\u4f2a\u5c3e\u7eac\u672a\u851a\u5473\u754f\u80c3\u5582\u9b4f\u4f4d\u6e2d\u8c13\u5c09\u6170\u536b\u502d\u504e\u8bff\u9688\u8473\u8587\u5e0f\u5e37\u5d34\u5d6c\u7325\u732c\u95f1\u6ca9\u6d27\u6da0\u9036\u5a13\u73ae\u97ea\u8ece\u709c\u7168\u71a8\u75ff\u8249\u9c94",
            "wen": "\u761f\u6e29\u868a\u6587\u95fb\u7eb9\u543b\u7a33\u7d0a\u95ee\u520e\u6120\u960c\u6c76\u74ba\u97eb\u6b81\u96ef",
            "weng": "\u55e1\u7fc1\u74ee\u84ca\u8579",
            "wo": "\u631d\u8717\u6da1\u7a9d\u6211\u65a1\u5367\u63e1\u6c83\u83b4\u5e44\u6e25\u674c\u809f\u9f8c",
            "wu": "\u5deb\u545c\u94a8\u4e4c\u6c61\u8bec\u5c4b\u65e0\u829c\u68a7\u543e\u5434\u6bcb\u6b66\u4e94\u6342\u5348\u821e\u4f0d\u4fae\u575e\u620a\u96fe\u6664\u7269\u52ff\u52a1\u609f\u8bef\u5140\u4ef5\u9622\u90ac\u572c\u82b4\u5e91\u6003\u5fe4\u6d6f\u5be4\u8fd5\u59a9\u9a9b\u727e\u7110\u9e49\u9e5c\u8708\u92c8\u9f2f",
            "xi": "\u6614\u7199\u6790\u897f\u7852\u77fd\u6670\u563b\u5438\u9521\u727a\u7a00\u606f\u5e0c\u6089\u819d\u5915\u60dc\u7184\u70ef\u6eaa\u6c50\u7280\u6a84\u88ad\u5e2d\u4e60\u5ab3\u559c\u94e3\u6d17\u7cfb\u9699\u620f\u7ec6\u50d6\u516e\u96b0\u90d7\u831c\u8478\u84f0\u595a\u550f\u5f99\u9969\u960b\u6d60\u6dc5\u5c63\u5b09\u73ba\u6a28\u66e6\u89cb\u6b37\u71b9\u798a\u79a7\u94b8\u7699\u7a78\u8725\u87cb\u823e\u7fb2\u7c9e\u7fd5\u91af\u9f37",
            "xia": "\u778e\u867e\u5323\u971e\u8f96\u6687\u5ce1\u4fa0\u72ed\u4e0b\u53a6\u590f\u5413\u6380\u846d\u55c4\u72ce\u9050\u7455\u7856\u7615\u7f45\u9ee0",
            "xian": "\u9528\u5148\u4ed9\u9c9c\u7ea4\u54b8\u8d24\u8854\u8237\u95f2\u6d8e\u5f26\u5acc\u663e\u9669\u73b0\u732e\u53bf\u817a\u9985\u7fa1\u5baa\u9677\u9650\u7ebf\u51bc\u85d3\u5c98\u7303\u66b9\u5a34\u6c19\u7946\u9e47\u75eb\u86ac\u7b45\u7c7c\u9170\u8df9",
            "xiang": "\u76f8\u53a2\u9576\u9999\u7bb1\u8944\u6e58\u4e61\u7fd4\u7965\u8be6\u60f3\u54cd\u4eab\u9879\u5df7\u6a61\u50cf\u5411\u8c61\u8297\u8459\u9977\u5ea0\u9aa7\u7f03\u87d3\u9c9e\u98e8",
            "xiao": "\u8427\u785d\u9704\u524a\u54ee\u56a3\u9500\u6d88\u5bb5\u6dc6\u6653\u5c0f\u5b5d\u6821\u8096\u5578\u7b11\u6548\u54d3\u54bb\u5d24\u6f47\u900d\u9a81\u7ee1\u67ad\u67b5\u7b71\u7bab\u9b48",
            "xie": "\u6954\u4e9b\u6b47\u874e\u978b\u534f\u631f\u643a\u90aa\u659c\u80c1\u8c10\u5199\u68b0\u5378\u87f9\u61c8\u6cc4\u6cfb\u8c22\u5c51\u5055\u4eb5\u52f0\u71ee\u85a4\u64b7\u5ee8\u7023\u9082\u7ec1\u7f2c\u69ad\u698d\u6b59\u8e9e",
            "xin": "\u85aa\u82af\u950c\u6b23\u8f9b\u65b0\u5ffb\u5fc3\u4fe1\u8845\u56df\u99a8\u8398\u6b46\u94fd\u946b",
            "xing": "\u661f\u8165\u7329\u60fa\u5174\u5211\u578b\u5f62\u90a2\u884c\u9192\u5e78\u674f\u6027\u59d3\u9649\u8347\u8365\u64e4\u60bb\u784e",
            "xiong": "\u5144\u51f6\u80f8\u5308\u6c79\u96c4\u718a\u828e",
            "xiu": "\u4f11\u4fee\u7f9e\u673d\u55c5\u9508\u79c0\u8896\u7ee3\u83a0\u5cab\u9990\u5ea5\u9e3a\u8c85\u9af9",
            "xu": "\u589f\u620c\u9700\u865a\u5618\u987b\u5f90\u8bb8\u84c4\u9157\u53d9\u65ed\u5e8f\u755c\u6064\u7d6e\u5a7f\u7eea\u7eed\u8bb4\u8be9\u5729\u84ff\u6035\u6d2b\u6e86\u987c\u6829\u7166\u7809\u76f1\u80e5\u7cc8\u9191",
            "xuan": "\u8f69\u55a7\u5ba3\u60ac\u65cb\u7384\u9009\u7663\u7729\u7eda\u5107\u8c16\u8431\u63ce\u9994\u6ceb\u6d35\u6e32\u6f29\u7487\u6966\u6684\u70ab\u714a\u78b9\u94c9\u955f\u75c3",
            "xue": "\u9774\u859b\u5b66\u7a74\u96ea\u8840\u5671\u6cf6\u9cd5",
            "xun": "\u52cb\u718f\u5faa\u65ec\u8be2\u5bfb\u9a6f\u5de1\u6b89\u6c5b\u8bad\u8baf\u900a\u8fc5\u5dfd\u57d9\u8340\u85b0\u5ccb\u5f87\u6d54\u66db\u7aa8\u91ba\u9c9f",
            "ya": "\u538b\u62bc\u9e26\u9e2d\u5440\u4e2b\u82bd\u7259\u869c\u5d16\u8859\u6daf\u96c5\u54d1\u4e9a\u8bb6\u4f22\u63e0\u5416\u5c88\u8fd3\u5a05\u740a\u6860\u6c29\u7811\u775a\u75d6",
            "yan": "\u7109\u54bd\u9609\u70df\u6df9\u76d0\u4e25\u7814\u8712\u5ca9\u5ef6\u8a00\u989c\u960e\u708e\u6cbf\u5944\u63a9\u773c\u884d\u6f14\u8273\u5830\u71d5\u538c\u781a\u96c1\u5501\u5f66\u7130\u5bb4\u8c1a\u9a8c\u53a3\u9765\u8d5d\u4fe8\u5043\u5156\u8ba0\u8c33\u90fe\u9122\u82ab\u83f8\u5d26\u6079\u95eb\u960f\u6d07\u6e6e\u6edf\u598d\u5ae3\u7430\u664f\u80ed\u814c\u7131\u7f68\u7b75\u917d\u9b47\u990d\u9f39",
            "yang": "\u6b83\u592e\u9e2f\u79e7\u6768\u626c\u4f6f\u75a1\u7f8a\u6d0b\u9633\u6c27\u4ef0\u75d2\u517b\u6837\u6f3e\u5f89\u600f\u6cf1\u7080\u70ca\u6059\u86d8\u9785",
            "yao": "\u9080\u8170\u5996\u7476\u6447\u5c27\u9065\u7a91\u8c23\u59da\u54ac\u8200\u836f\u8981\u8000\u592d\u723b\u5406\u5d3e\u5fad\u7039\u5e7a\u73e7\u6773\u66dc\u80b4\u9e5e\u7a88\u7e47\u9cd0",
            "ye": "\u6930\u564e\u8036\u7237\u91ce\u51b6\u4e5f\u9875\u6396\u4e1a\u53f6\u66f3\u814b\u591c\u6db2\u8c12\u90ba\u63f6\u9980\u6654\u70e8\u94d8",
            "yi": "\u4e00\u58f9\u533b\u63d6\u94f1\u4f9d\u4f0a\u8863\u9890\u5937\u9057\u79fb\u4eea\u80f0\u7591\u6c82\u5b9c\u59e8\u5f5d\u6905\u8681\u501a\u5df2\u4e59\u77e3\u4ee5\u827a\u6291\u6613\u9091\u5c79\u4ebf\u5f79\u81c6\u9038\u8084\u75ab\u4ea6\u88d4\u610f\u6bc5\u5fc6\u4e49\u76ca\u6ea2\u8be3\u8bae\u8c0a\u8bd1\u5f02\u7ffc\u7fcc\u7ece\u5208\u5293\u4f7e\u8bd2\u572a\u572f\u57f8\u61ff\u82e1\u858f\u5f08\u5955\u6339\u5f0b\u5453\u54a6\u54bf\u566b\u5cc4\u5db7\u7317\u9974\u603f\u6021\u6092\u6f2a\u8fe4\u9a7f\u7f22\u6baa\u8d3b\u65d6\u71a0\u9487\u9552\u9571\u75cd\u7617\u7654\u7fca\u8864\u8734\u8223\u7fbf\u7ff3\u914f\u9edf",
            "yin": "\u8335\u836b\u56e0\u6bb7\u97f3\u9634\u59fb\u541f\u94f6\u6deb\u5bc5\u996e\u5c39\u5f15\u9690\u5370\u80e4\u911e\u5819\u831a\u5591\u72fa\u5924\u6c24\u94df\u763e\u8693\u972a\u9f88",
            "ying": "\u82f1\u6a31\u5a74\u9e70\u5e94\u7f28\u83b9\u8424\u8425\u8367\u8747\u8fce\u8d62\u76c8\u5f71\u9896\u786c\u6620\u5b34\u90e2\u8314\u83ba\u8426\u6484\u5624\u81ba\u6ee2\u6f46\u701b\u745b\u748e\u6979\u9e66\u763f\u988d\u7f42",
            "yo": "\u54df\u5537",
            "yong": "\u62e5\u4f63\u81c3\u75c8\u5eb8\u96cd\u8e0a\u86f9\u548f\u6cf3\u6d8c\u6c38\u607f\u52c7\u7528\u4fd1\u58c5\u5889\u6175\u9095\u955b\u752c\u9cd9\u9954",
            "you": "\u5e7d\u4f18\u60a0\u5fe7\u5c24\u7531\u90ae\u94c0\u72b9\u6cb9\u6e38\u9149\u6709\u53cb\u53f3\u4f51\u91c9\u8bf1\u53c8\u5e7c\u5363\u6538\u4f91\u83b8\u5466\u56ff\u5ba5\u67da\u7337\u7256\u94d5\u75a3\u8763\u9c7f\u9edd\u9f2c",
            "yu": "\u8fc2\u6de4\u4e8e\u76c2\u6986\u865e\u611a\u8206\u4f59\u4fde\u903e\u9c7c\u6109\u6e1d\u6e14\u9685\u4e88\u5a31\u96e8\u4e0e\u5c7f\u79b9\u5b87\u8bed\u7fbd\u7389\u57df\u828b\u90c1\u5401\u9047\u55bb\u5cea\u5fa1\u6108\u6b32\u72f1\u80b2\u8a89\u6d74\u5bd3\u88d5\u9884\u8c6b\u9a6d\u79ba\u6bd3\u4f1b\u4fe3\u8c00\u8c15\u8438\u84e3\u63c4\u5581\u5704\u5709\u5d5b\u72f3\u996b\u5ebe\u9608\u59aa\u59a4\u7ea1\u745c\u6631\u89ce\u8174\u6b24\u65bc\u715c\u71e0\u807f\u94b0\u9e46\u7610\u7600\u7ab3\u8753\u7afd\u8201\u96e9\u9f89",
            "yuan": "\u9e33\u6e0a\u51a4\u5143\u57a3\u8881\u539f\u63f4\u8f95\u56ed\u5458\u5706\u733f\u6e90\u7f18\u8fdc\u82d1\u613f\u6028\u9662\u586c\u6c85\u5a9b\u7457\u6a7c\u7230\u7722\u9e22\u8788\u9f0b",
            "yue": "\u66f0\u7ea6\u8d8a\u8dc3\u94a5\u5cb3\u7ca4\u6708\u60a6\u9605\u9fa0\u6a3e\u5216\u94ba",
            "yun": "\u8018\u4e91\u90e7\u5300\u9668\u5141\u8fd0\u8574\u915d\u6655\u97f5\u5b55\u90d3\u82b8\u72c1\u607d\u7ead\u6b92\u6600\u6c32",
            "za": "\u531d\u7838\u6742\u62f6\u5482",
            "zai": "\u683d\u54c9\u707e\u5bb0\u8f7d\u518d\u5728\u54b1\u5d3d\u753e",
            "zan": "\u6512\u6682\u8d5e\u74d2\u661d\u7c2a\u7ccc\u8db1\u933e",
            "zang": "\u8d43\u810f\u846c\u5958\u6215\u81e7",
            "zao": "\u906d\u7cdf\u51ff\u85fb\u67a3\u65e9\u6fa1\u86a4\u8e81\u566a\u9020\u7682\u7076\u71e5\u5523\u7f2b",
            "ze": "\u8d23\u62e9\u5219\u6cfd\u4ec4\u8d5c\u5567\u8fee\u6603\u7b2e\u7ba6\u8234",
            "zei": "\u8d3c",
            "zen": "\u600e\u8c2e",
            "zeng": "\u589e\u618e\u66fe\u8d60\u7f2f\u7511\u7f7e\u9503",
            "zha": "\u624e\u55b3\u6e23\u672d\u8f67\u94e1\u95f8\u7728\u6805\u69a8\u548b\u4e4d\u70b8\u8bc8\u63f8\u5412\u54a4\u54f3\u600d\u781f\u75c4\u86b1\u9f44",
            "zhai": "\u6458\u658b\u5b85\u7a84\u503a\u5be8\u7826",
            "zhan": "\u77bb\u6be1\u8a79\u7c98\u6cbe\u76cf\u65a9\u8f97\u5d2d\u5c55\u8638\u6808\u5360\u6218\u7ad9\u6e5b\u7efd\u8c35\u640c\u65c3",
            "zhang": "\u6a1f\u7ae0\u5f70\u6f33\u5f20\u638c\u6da8\u6756\u4e08\u5e10\u8d26\u4ed7\u80c0\u7634\u969c\u4ec9\u9123\u5e5b\u5d82\u7350\u5adc\u748b\u87d1",
            "zhao": "\u62db\u662d\u627e\u6cbc\u8d75\u7167\u7f69\u5146\u8087\u53ec\u722a\u8bcf\u68f9\u948a\u7b0a",
            "zhe": "\u906e\u6298\u54f2\u86f0\u8f99\u8005\u9517\u8517\u8fd9\u6d59\u8c2a\u966c\u67d8\u8f84\u78d4\u9e67\u891a\u8707\u8d6d",
            "zhen": "\u73cd\u659f\u771f\u7504\u7827\u81fb\u8d1e\u9488\u4fa6\u6795\u75b9\u8bca\u9707\u632f\u9547\u9635\u7f1c\u6862\u699b\u8f78\u8d48\u80d7\u6715\u796f\u755b\u9e29",
            "zheng": "\u84b8\u6323\u7741\u5f81\u72f0\u4e89\u6014\u6574\u62ef\u6b63\u653f\u5e27\u75c7\u90d1\u8bc1\u8be4\u5ce5\u94b2\u94ee\u7b5d",
            "zhi": "\u829d\u679d\u652f\u5431\u8718\u77e5\u80a2\u8102\u6c41\u4e4b\u7ec7\u804c\u76f4\u690d\u6b96\u6267\u503c\u4f84\u5740\u6307\u6b62\u8dbe\u53ea\u65e8\u7eb8\u5fd7\u631a\u63b7\u81f3\u81f4\u7f6e\u5e1c\u5cd9\u5236\u667a\u79e9\u7a1a\u8d28\u7099\u75d4\u6ede\u6cbb\u7a92\u536e\u965f\u90c5\u57f4\u82b7\u646d\u5e19\u5fee\u5f58\u54ab\u9a98\u6809\u67b3\u6800\u684e\u8f75\u8f7e\u6534\u8d3d\u81a3\u7949\u7957\u9ef9\u96c9\u9e37\u75e3\u86ed\u7d77\u916f\u8dd6\u8e2c\u8e2f\u8c78\u89ef",
            "zhong": "\u4e2d\u76c5\u5fe0\u949f\u8877\u7ec8\u79cd\u80bf\u91cd\u4ef2\u4f17\u51a2\u953a\u87bd\u8202\u822f\u8e35",
            "zhou": "\u821f\u5468\u5dde\u6d32\u8bcc\u7ca5\u8f74\u8098\u5e1a\u5492\u76b1\u5b99\u663c\u9aa4\u5544\u7740\u501c\u8bf9\u836e\u9b3b\u7ea3\u80c4\u78a1\u7c40\u8233\u914e\u9cb7",
            "zhu": "\u73e0\u682a\u86db\u6731\u732a\u8bf8\u8bdb\u9010\u7af9\u70db\u716e\u62c4\u77a9\u5631\u4e3b\u8457\u67f1\u52a9\u86c0\u8d2e\u94f8\u7b51\u4f4f\u6ce8\u795d\u9a7b\u4f2b\u4f8f\u90be\u82ce\u8331\u6d19\u6e1a\u6f74\u9a7a\u677c\u69e0\u6a65\u70b7\u94e2\u75b0\u7603\u86b0\u7afa\u7bb8\u7fe5\u8e85\u9e88",
            "zhua": "\u6293",
            "zhuai": "\u62fd",
            "zhuan": "\u4e13\u7816\u8f6c\u64b0\u8d5a\u7bc6\u629f\u556d\u989b",
            "zhuang": "\u6869\u5e84\u88c5\u5986\u649e\u58ee\u72b6\u4e2c",
            "zhui": "\u690e\u9525\u8ffd\u8d58\u5760\u7f00\u8411\u9a93\u7f12",
            "zhun": "\u8c06\u51c6",
            "zhuo": "\u6349\u62d9\u5353\u684c\u7422\u8301\u914c\u707c\u6d4a\u502c\u8bfc\u5ef4\u855e\u64e2\u555c\u6d5e\u6dbf\u6753\u712f\u799a\u65ab",
            "zi": "\u5179\u54a8\u8d44\u59ff\u6ecb\u6dc4\u5b5c\u7d2b\u4ed4\u7c7d\u6ed3\u5b50\u81ea\u6e0d\u5b57\u8c18\u5d6b\u59ca\u5b73\u7f01\u6893\u8f8e\u8d40\u6063\u7726\u9531\u79ed\u8014\u7b2b\u7ca2\u89dc\u8a3e\u9cbb\u9aed",
            "zong": "\u9b03\u68d5\u8e2a\u5b97\u7efc\u603b\u7eb5\u8159\u7cbd",
            "zou": "\u90b9\u8d70\u594f\u63cd\u9139\u9cb0",
            "zu": "\u79df\u8db3\u5352\u65cf\u7956\u8bc5\u963b\u7ec4\u4fce\u83f9\u5550\u5f82\u9a75\u8e74",
            "zuan": "\u94bb\u7e82\u6525\u7f35",
            "zui": "\u5634\u9189\u6700\u7f6a",
            "zun": "\u5c0a\u9075\u6499\u6a3d\u9cdf",
            "zuo": "\u6628\u5de6\u4f50\u67de\u505a\u4f5c\u5750\u5ea7\u961d\u963c\u80d9\u795a\u9162",
            "cou": "\u85ae\u6971\u8f8f\u8160",
            "nang": "\u652e\u54dd\u56d4\u9995\u66e9",
            "o": "\u5594",
            "dia": "\u55f2",
            "chuai": "\u562c\u81aa\u8e39",
            "cen": "\u5c91\u6d94",
            "diu": "\u94e5",
            "nou": "\u8028",
            "fou": "\u7f36",
            "bia": "\u9adf"
        };
        console.log("UtilService initialized.");
        this.chineseLunar = new __WEBPACK_IMPORTED_MODULE_4__chinese_lunar__["a" /* ChineseLunar */]();
        this.aday = "99:99";
    }
    UtilService.prototype.rand = function (min, max) {
        return Math.random() * (max - min) + min;
    };
    UtilService.prototype.randInt = function (min, max) {
        return Math.floor(min + Math.random() * (max - min + 1));
    };
    ;
    UtilService.prototype.mask = function (s, start, len) {
        if (s && s.length > (start + len)) {
            return s.substring(0, start) + ("*".repeat(len)) + s.substring(start + len, s.length);
        }
        else {
            return s;
        }
    };
    /**
     * 获取UUID
     * ABCDEFGHIJKLMNOPQRSTUVWXYZ
     * @returns {string}
     */
    UtilService.prototype.getUuid = function () {
        var CHARS = '0123456789abcdefghijklmnopqrstuvwxyz'.split('');
        var uuid = function (len, radix) {
            var chars = CHARS, uuid = [], i;
            radix = radix || chars.length;
            if (len) {
                // Compact form
                for (i = 0; i < len; i++)
                    uuid[i] = chars[0 | Math.random() * radix];
            }
            else {
                // rfc4122, version 4 form
                var r;
                // rfc4122 requires these characters
                uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';
                uuid[14] = '4';
                // Fill in random data.  At i==19 set the high bits of clock sequence as
                // per rfc4122, sec. 4.1.5
                for (i = 0; i < 36; i++) {
                    if (!uuid[i]) {
                        r = 0 | Math.random() * 16;
                        uuid[i] = chars[(i == 19) ? (r & 0x3) | 0x8 : r];
                    }
                }
            }
            return uuid.join('');
        };
        return uuid(32, 16);
    };
    /**
     * 获取设备ID
     * @returns {string}
     */
    UtilService.prototype.deviceId = function () {
        var deviceId = this.device.uuid;
        if (deviceId && deviceId != null && deviceId != '') {
        }
        else {
            // 非Android和iOS真机状态下，固定使用platform
            var devicePlatform = this.device.platform;
            if (devicePlatform == null)
                devicePlatform = "browser";
            deviceId = devicePlatform.replace(/\s/g, "");
            if (deviceId == '')
                deviceId = "browser";
        }
        return deviceId;
    };
    /**
     * 手机号校验
     * @param str
     * @returns {number}
     */
    UtilService.prototype.checkPhone = function (str) {
        // "[1]"代表第1位为数字1，"[358]"代表第二位可以为3、5、8中的一个，"\\d{9}"代表后面是可以是0～9的数字，有9位
        var regex = /^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/;
        return regex.test(str);
    };
    /**
     * 是否真机环境
     * @return {boolean}
     */
    UtilService.prototype.isMobile = function () {
        var str = '';
        if (this.wins.cordova) {
            str = this.wins.cordova.platformId;
        }
        else {
            return false;
        }
        if (str === "browser") {
            return false;
        }
        return true;
    };
    UtilService.prototype.hasCordova = function () {
        return this.wins.cordova ? true : false;
    };
    /**
     * 是否真机环境
     * @return {boolean}
     */
    UtilService.prototype.deviceType = function () {
        var platform = "browser";
        if (this.device.platform != null)
            platform = this.device.platform + "|" + this.device.version + "|" + this.device.model;
        return platform;
    };
    //中文转拼音
    UtilService.prototype.chineseToPinYin = function (l1) {
        var l2 = l1.length;
        var I1 = "";
        var reg = new RegExp('[a-zA-Z0-9\-]');
        for (var i = 0; i < l2; i++) {
            var val = l1.substr(i, 1);
            var name_1 = this.arraySearch(val, this.PinYin);
            if (reg.test(val)) {
                I1 += val;
            }
            else if (name_1 != false) {
                I1 += name_1;
            }
        }
        I1 = I1.replace(/ /g, '-');
        while (I1.indexOf('--') > 0) {
            I1 = I1.replace('--', '-');
        }
        return I1;
    };
    //根据中文找拼音
    UtilService.prototype.arraySearch = function (l1, l2) {
        for (var name_2 in this.PinYin) {
            if (this.PinYin[name_2].indexOf(l1) != -1) {
                //return this.ucfirst(name);
                return name_2;
            }
        }
        return false;
    };
    UtilService.prototype.loadingStart = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                this.loading = this.loadingCtrl.create({
                    spinner: 'hide',
                    content: "\n          <div class=\"raindrop raindrop1\"></div>\n          <div class=\"raindrop raindrop2\"></div>\n          <div class=\"raindrop raindrop3\"></div>\n          ",
                });
                this.loading.present().then(function () {
                    _this.sceneloading = new __WEBPACK_IMPORTED_MODULE_7_scenejs__["a" /* default */]({
                        ".raindrop": function (i) { return ({
                            0: { "border-width": "35px", opacity: 1, transform: "scale(0)", "border-color": "rgba(149, 58, 139,1)" },
                            1.5: { "border-width": "0px", opacity: 0.3, transform: "scale(0.7)", "border-color": "rgba(86, 82, 222,1)" },
                            options: { delay: i * 0.4 },
                        }); },
                    }, {
                        easing: "ease-in-out",
                        iterationCount: "infinite",
                        selector: true,
                    });
                    _this.sceneloading.playCSS();
                });
                return [2 /*return*/];
            });
        });
    };
    UtilService.prototype.loadingEnd = function () {
        var _this = this;
        setTimeout(function () {
            if (_this.loading) {
                var id = _this.sceneloading.getId();
                _this.sceneloading.end();
                document.body.removeChild(document.getElementById("__SCENEJS_STYLE_" + id));
                _this.loading.dismissAll();
                _this.loading = null;
            }
        }, 800);
    };
    UtilService.prototype.toastStart = function (msg, long) {
        this.toast = this.toastCtrl.create({
            message: msg,
            duration: long,
            position: 'bottom',
            cssClass: 'toast'
        });
        this.toast.present();
    };
    UtilService.prototype.toastEnd = function () {
        if (this.toast) {
            this.toast.dismissAll();
            this.toast = null;
        }
    };
    /**
     * 确认msgbox
     * @param msg:1,是否保存，2，是否删除，3，是否分享。其他为自定义
     * @param okdo
     */
    UtilService.prototype.popoverStart = function (msg) {
        this.popover = this.popoverCtrl.create(__WEBPACK_IMPORTED_MODULE_3__components_confirmbox_confirmbox__["a" /* ConfirmboxComponent */], {
            msg: msg,
        });
        this.popover.present();
    };
    UtilService.prototype.popoverEnd = function () {
        if (this.popover) {
            this.popover.dismiss();
            this.popover = null;
        }
    };
    /**
     * 确认msgbox
     * @param msg:1,是否保存，2，是否删除，3，是否分享。其他为自定义
     * @param okdo
     */
    UtilService.prototype.alterStart = function (msg, okdo) {
        var b1 = new (function () {
            function class_1() {
                this.text = "否";
            }
            return class_1;
        }());
        var b2 = new (function () {
            function class_2() {
                this.text = "是";
            }
            return class_2;
        }());
        b2.handler = function (value) {
            okdo();
        };
        //1,是否保存，2，是否删除，3，是否分享。其他为自定义
        if (msg == "1")
            msg = "确认要保存吗?";
        if (msg == "2")
            msg = "真的要删除吗?";
        if (msg == "3")
            msg = "确认要分享吗?";
        this.alter = this.alertCtrl.create({
            message: msg,
            buttons: [b1, b2],
        });
        this.alter.present();
    };
    UtilService.prototype.alterEnd = function () {
        if (this.alter) {
            this.alter.dismiss();
            this.alter = null;
        }
    };
    UtilService.prototype.lunar = function (d, format) {
        return this.chineseLunar.solarToLunar(__WEBPACK_IMPORTED_MODULE_5_moment__(d.format("YYYY/MM/DD")).toDate(), format);
    };
    UtilService.prototype.lunar4str = function (date, format) {
        return this.lunar(__WEBPACK_IMPORTED_MODULE_5_moment__(date), format);
    };
    UtilService.prototype.isAday = function (t) {
        if (t == null || t == "" || t == this.aday) {
            return true;
        }
        return false;
    };
    UtilService.prototype.adStrShow = function (t) {
        if (t == null || t == "" || t == this.aday) {
            return "全天";
        }
        else {
            return t;
        }
    };
    UtilService.prototype.adCtrlShow = function (t) {
        if (t == null || t == "" || t == this.aday) {
            return "00:00";
        }
        else {
            return t;
        }
    };
    UtilService.prototype.adToDb = function (t) {
        if (t == null || t == "") {
            return this.aday;
        }
        return t;
    };
    UtilService.prototype.compareTwoStrings = function (first, second) {
        first = first.replace(/\s+/g, '');
        second = second.replace(/\s+/g, '');
        if (!first.length && !second.length)
            return 1; // if both are empty strings
        if (!first.length || !second.length)
            return 0; // if only one is empty string
        if (first === second)
            return 1; // identical
        if (first.length === 1 && second.length === 1)
            return 0; // both are 1-letter strings
        if (first.length < 2 || second.length < 2)
            return 0; // if either is a 1-letter string
        var firstBigrams = new Map();
        for (var i = 0; i < first.length - 1; i++) {
            var bigram = first.substr(i, 2);
            var count = firstBigrams.has(bigram)
                ? firstBigrams.get(bigram) + 1
                : 1;
            firstBigrams.set(bigram, count);
        }
        ;
        var intersectionSize = 0;
        for (var i = 0; i < second.length - 1; i++) {
            var bigram = second.substr(i, 2);
            var count = firstBigrams.has(bigram)
                ? firstBigrams.get(bigram)
                : 0;
            if (count > 0) {
                firstBigrams.set(bigram, count - 1);
                intersectionSize++;
            }
        }
        return (2.0 * intersectionSize) / (first.length + second.length - 2);
    };
    UtilService.prototype.findBestMatch = function (mainString, targetStrings) {
        if (!this.areArgsValid(mainString, targetStrings))
            throw new Error('Bad arguments: First argument should be a string, second should be an array of strings');
        var ratings = [];
        var bestMatchIndex = 0;
        for (var i = 0; i < targetStrings.length; i++) {
            var currentTargetString = targetStrings[i];
            var currentRating = this.compareTwoStrings(mainString, currentTargetString);
            ratings.push({ target: currentTargetString, rating: currentRating });
            if (currentRating > ratings[bestMatchIndex].rating) {
                bestMatchIndex = i;
            }
        }
        var bestMatch = ratings[bestMatchIndex];
        return { ratings: ratings, bestMatch: bestMatch, bestMatchIndex: bestMatchIndex };
    };
    UtilService.prototype.flattenDeep = function (arr) {
        var _this = this;
        return Array.isArray(arr) ? arr.reduce(function (a, b) { return a.concat(_this.flattenDeep(b)); }, []) : [arr];
    };
    UtilService.prototype.areArgsValid = function (mainString, targetStrings) {
        if (typeof mainString !== 'string')
            return false;
        if (!Array.isArray(targetStrings))
            return false;
        if (!targetStrings.length)
            return false;
        if (targetStrings.find(function (s) { return typeof s !== 'string'; }))
            return false;
        return true;
    };
    UtilService.prototype.letterPairs = function (str) {
        var pairs = [];
        for (var i = 0, max = str.length - 1; i < max; i++)
            pairs[i] = str.substring(i, i + 2);
        return pairs;
    };
    UtilService.prototype.wordLetterPairs = function (str) {
        var pairs = str.toUpperCase().split(' ').map(this.letterPairs);
        return this.flattenDeep(pairs);
    };
    UtilService.prototype.showDate = function (day) {
        var nowDate = __WEBPACK_IMPORTED_MODULE_5_moment__(__WEBPACK_IMPORTED_MODULE_5_moment__(new Date()).format("YYYY/MM/DD"));
        var days = day.diff(nowDate, 'days');
        if (days == 1) {
            return '明天';
        }
        else if (days == 0) {
            return '今天';
        }
        else if (days == -1) {
            return '昨天';
        }
        else {
            return day.format("dddd");
        }
    };
    /**
     * (单图)多图预览model组件封装
     * @param photoData 输入图片地址
     * @param {string} key 对象图片url对应的属性名程
     */
    UtilService.prototype.photoViews = function (photoData, key) {
        if (key === void 0) { key = ''; }
        var photos = [];
        var obj = {};
        // 单张图片时（photoData为一个图片地址字符串且不为空）
        if (photoData && typeof (photoData) == "string") {
            obj = {};
            obj['url'] = photoData;
            photos.push(obj);
        }
        console.log(photoData);
        // 多张图片时（photoData为图片地址字符串数组）
        if (photoData instanceof Array) {
            console.log(photoData);
            photoData.forEach(function (item, index, array) {
                obj = {};
                // photoData 为字符串数组时（即key不存在时）
                if (key == '' && item) {
                    obj['url'] = item;
                    photos.push(obj);
                }
                // photoData 为对象数组时（即key存在时）
                console.log(item[key]);
                if (key != '' && item[key]) {
                    obj['url'] = item[key];
                    photos.push(obj);
                }
            });
        }
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_6_ionic_gallery_modal__["a" /* GalleryModal */], {
            photos: photos,
            initialSlide: 0
        });
        modal.present();
    };
    UtilService.prototype.cloneObj = function (target, source) {
        Object.assign(target, JSON.parse(JSON.stringify(source)));
    };
    //检查对象类型
    UtilService.prototype.isJsonString = function (str) {
        try {
            JSON.parse(str);
        }
        catch (e) {
            return false;
        }
        return true;
    };
    UtilService.prototype.createModal = function (modalPage, para, type) {
        var opts = {};
        if (type == __WEBPACK_IMPORTED_MODULE_8__data_enum__["o" /* ModalTranType */].scale) {
            opts = {
                enterAnimation: 'modal-scale-enter',
                leaveAnimation: 'modal-scale-leave'
            };
        }
        else if (type == __WEBPACK_IMPORTED_MODULE_8__data_enum__["o" /* ModalTranType */].left) {
            opts = {
                enterAnimation: 'modal-from-left-enter',
                leaveAnimation: 'modal-from-left-leave'
            };
        }
        else if (type == __WEBPACK_IMPORTED_MODULE_8__data_enum__["o" /* ModalTranType */].right) {
            opts = {
                enterAnimation: 'modal-from-right-enter',
                leaveAnimation: 'modal-from-right-leave'
            };
        }
        else if (type == __WEBPACK_IMPORTED_MODULE_8__data_enum__["o" /* ModalTranType */].top) {
            opts = {
                enterAnimation: 'modal-from-top-enter',
                leaveAnimation: 'modal-from-top-leave'
            };
        }
        return this.modalCtrl.create(modalPage, para, opts);
    };
    UtilService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__ionic_native_device__["a" /* Device */],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["ToastController"],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["LoadingController"],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["PopoverController"],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["ModalController"]])
    ], UtilService);
    return UtilService;
}());

//# sourceMappingURL=util.service.js.map

/***/ }),
/* 5 */,
/* 6 */,
/* 7 */,
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return UserConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Setting; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sqlite_tbl_y_tbl__ = __webpack_require__(84);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__sqlite_tbl_a_tbl__ = __webpack_require__(89);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_u_tbl__ = __webpack_require__(109);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_b_tbl__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_bh_tbl__ = __webpack_require__(145);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__data_mapping__ = __webpack_require__(20);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};











/**
 * create by on 2019/3/5
 */
var UserConfig = (function () {
    function UserConfig(sqlliteExec, util, emitService) {
        this.sqlliteExec = sqlliteExec;
        this.util = util;
        this.emitService = emitService;
    }
    UserConfig_1 = UserConfig;
    UserConfig.prototype.init = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.RefreshYTbl()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.RefreshUTbl()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.RefreshATbl()];
                    case 3:
                        _a.sent();
                        return [4 /*yield*/, this.RefreshBTbl()];
                    case 4:
                        _a.sent();
                        return [4 /*yield*/, this.RefreshGTbl()];
                    case 5:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    UserConfig.getSetting = function (key) {
        return UserConfig_1.settins.get(key) ? (UserConfig_1.settins.get(key).value == "1") : false;
    };
    UserConfig.getSettingWithType = function (type, key) {
        var keys = UserConfig_1.getSettings(type);
        if (keys && keys.length > 0) {
            var matches = keys.filter(function (element, index, array) {
                return (element.type == key);
            });
            if (matches && matches.length > 0) {
                return matches[0];
            }
        }
        return null;
    };
    UserConfig.getSettings = function (type) {
        var a = Array.from(UserConfig_1.allsettins.values());
        return a.filter(function (element, index, array) {
            return (element.typeB == type);
        });
    };
    // 2019/05/10
    // 席理加
    // 设置客户端设备ID,版本更新时不同机型会产生不同的设备ID,需要缓存保证一致
    // 在系统初始化前访问时,无法获得缓存的设备ID,需要直接获取,所产生的差异不会影响后续功能
    UserConfig.getDeviceId = function () {
        return UserConfig_1.settins.get("DI") ? UserConfig_1.settins.get("DI").value : "No device Id";
    };
    // 2019/05/11
    // 席理加
    // 用于关于页面显示当前客户端版本号
    UserConfig.getClientVersion = function () {
        return UserConfig_1.settins.get("FI") ? UserConfig_1.settins.get("FI").value : "1";
    };
    UserConfig.getTroubleStop = function (key) {
        return UserConfig_1.troublestop.get(key);
    };
    UserConfig.setTroubleStop = function (key, value) {
        UserConfig_1.troublestop.set(key, value);
    };
    UserConfig.prototype.RefreshYTbl = function () {
        return __awaiter(this, void 0, void 0, function () {
            var yTbl, rows, _i, rows_1, y, setting;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        yTbl = new __WEBPACK_IMPORTED_MODULE_1__sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        return [4 /*yield*/, this.sqlliteExec.getList(yTbl)];
                    case 1:
                        rows = _a.sent();
                        for (_i = 0, rows_1 = rows; _i < rows_1.length; _i++) {
                            y = rows_1[_i];
                            setting = new Setting();
                            setting.yi = y.yi;
                            setting.bname = y.ytn;
                            setting.typeB = y.yt;
                            setting.name = y.yn;
                            setting.type = y.yk;
                            setting.value = y.yv;
                            UserConfig_1.settins.set(setting.type, setting);
                            UserConfig_1.allsettins.set(setting.yi, setting);
                        }
                        //增加内部事件通知
                        this.emitService.emit("mwxing.config.user.ytbl.refreshed");
                        return [2 /*return*/];
                }
            });
        });
    };
    UserConfig.prototype.RefreshUTbl = function () {
        return __awaiter(this, void 0, void 0, function () {
            var uTbl, rows;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        uTbl = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_u_tbl__["a" /* UTbl */]();
                        return [4 /*yield*/, this.sqlliteExec.getList(uTbl)];
                    case 1:
                        rows = _a.sent();
                        if (rows.length > 0) {
                            UserConfig_1.user.id = rows[0].ui;
                            UserConfig_1.user.aid = rows[0].ai;
                            UserConfig_1.user.name = rows[0].un;
                            UserConfig_1.user.avatar = rows[0].hiu;
                            UserConfig_1.user.bothday = rows[0].biy;
                            UserConfig_1.user.No = rows[0].ic;
                            UserConfig_1.user.realname = rows[0].rn;
                            UserConfig_1.user.sex = rows[0].us;
                            UserConfig_1.user.contact = rows[0].uct;
                        }
                        //增加内部事件通知
                        this.emitService.emit("mwxing.config.user.utbl.refreshed");
                        return [2 /*return*/];
                }
            });
        });
    };
    UserConfig.prototype.RefreshATbl = function () {
        return __awaiter(this, void 0, void 0, function () {
            var aTbl, rows;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        aTbl = new __WEBPACK_IMPORTED_MODULE_3__sqlite_tbl_a_tbl__["a" /* ATbl */]();
                        return [4 /*yield*/, this.sqlliteExec.getList(aTbl)];
                    case 1:
                        rows = _a.sent();
                        if (rows.length > 0) {
                            UserConfig_1.account.id = rows[0].ai;
                            UserConfig_1.account.name = rows[0].an;
                            UserConfig_1.account.phone = rows[0].am;
                            UserConfig_1.account.device = rows[0].ae;
                            UserConfig_1.account.token = rows[0].at;
                            UserConfig_1.account.mq = rows[0].aq;
                        }
                        else {
                            UserConfig_1.account.name = "";
                            UserConfig_1.account.phone = "";
                            UserConfig_1.account.device = UserConfig_1.getDeviceId();
                            UserConfig_1.account.token = "";
                            UserConfig_1.account.mq = "";
                        }
                        //增加内部事件通知
                        this.emitService.emit("mwxing.config.user.atbl.refreshed");
                        return [2 /*return*/];
                }
            });
        });
    };
    UserConfig.prototype.RefreshFriend = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.RefreshBTbl()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.RefreshGTbl()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    UserConfig.getAvatar = function (phoneno) {
        var targets = UserConfig_1.friends.filter(function (element, index, array) {
            return (element.rc == phoneno || element.ui == phoneno);
        });
        if (targets && targets.length > 0) {
            return targets[0].bhiu;
        }
        return __WEBPACK_IMPORTED_MODULE_9__data_config__["a" /* DataConfig */].HUIBASE64;
    };
    UserConfig.getAvatars = function (phonenos) {
        if (!phonenos || phonenos.length <= 0) {
            return [];
        }
        var targets = UserConfig_1.friends.filter(function (element, index, array) {
            return (phonenos.indexOf(element.rc) > -1 || phonenos.indexOf(element.ui) > -1);
        });
        if (targets && targets.length > 0) {
            var avatars = new Array();
            for (var _i = 0, targets_1 = targets; _i < targets_1.length; _i++) {
                var target = targets_1[_i];
                avatars.push({ rc: target.rc, name: target.ran || target.rn, bhiu: target.bhiu });
            }
            return avatars;
        }
        return [];
    };
    UserConfig.prototype.initTesterContacts = function () {
        return __awaiter(this, void 0, void 0, function () {
            var xiaopangzi, xiaohaizi, xiaolenzi, caoping, luojianfei, huitailang, xuezhenyang, liqiannan, huqiming, liying, datas, sqls, fsdata, btbl, bhtbl;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        datas = new Array();
                        sqls = new Array();
                        fsdata = new __WEBPACK_IMPORTED_MODULE_10__data_mapping__["c" /* FsData */]();
                        btbl = new __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        btbl.pwi = "xiaopangzi";
                        btbl.ran = '小胖子';
                        btbl.ranpy = 'xiaopangzi';
                        btbl.hiu = '';
                        btbl.rn = '张金洋';
                        btbl.rnpy = 'zhangjinyang';
                        btbl.rc = '15821947260';
                        btbl.rel = '1';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        xiaopangzi = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_9__data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        Object.assign(fsdata, btbl, bhtbl);
                        datas.push(fsdata);
                        fsdata = new __WEBPACK_IMPORTED_MODULE_10__data_mapping__["c" /* FsData */]();
                        btbl = new __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        btbl.pwi = "xiaohaizi";
                        btbl.ran = '小孩子';
                        btbl.ranpy = 'xiaohaizi';
                        btbl.hiu = '';
                        btbl.rn = '许赵平';
                        btbl.rnpy = 'xuzhaopin';
                        btbl.rc = '13661617252';
                        btbl.rel = '0';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        xiaohaizi = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_9__data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        Object.assign(fsdata, btbl, bhtbl);
                        datas.push(fsdata);
                        fsdata = new __WEBPACK_IMPORTED_MODULE_10__data_mapping__["c" /* FsData */]();
                        btbl = new __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        btbl.pwi = 'liqiannan';
                        btbl.ran = '李倩男';
                        btbl.ranpy = 'liqiannan';
                        btbl.hiu = '';
                        btbl.rn = '李倩男';
                        btbl.rnpy = 'liqiannan';
                        btbl.rc = '18569990239';
                        btbl.rel = '1';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        liqiannan = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_9__data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        Object.assign(fsdata, btbl, bhtbl);
                        datas.push(fsdata);
                        fsdata = new __WEBPACK_IMPORTED_MODULE_10__data_mapping__["c" /* FsData */]();
                        btbl = new __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        btbl.pwi = 'huqiming';
                        btbl.ran = '胡启明';
                        btbl.ranpy = 'huqiming';
                        btbl.hiu = '';
                        btbl.rn = '胡启明';
                        btbl.rnpy = 'huqiming';
                        btbl.rc = '15900857417';
                        btbl.rel = '1';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        huqiming = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_9__data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        Object.assign(fsdata, btbl, bhtbl);
                        datas.push(fsdata);
                        fsdata = new __WEBPACK_IMPORTED_MODULE_10__data_mapping__["c" /* FsData */]();
                        btbl = new __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        btbl.pwi = 'liying';
                        btbl.ran = '李滢';
                        btbl.ranpy = 'liying';
                        btbl.hiu = '';
                        btbl.rn = '李滢';
                        btbl.rnpy = 'liying';
                        btbl.rc = '13795398627';
                        btbl.rel = '1';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        liying = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_9__data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        Object.assign(fsdata, btbl, bhtbl);
                        datas.push(fsdata);
                        fsdata = new __WEBPACK_IMPORTED_MODULE_10__data_mapping__["c" /* FsData */]();
                        btbl = new __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        btbl.pwi = 'xiaolenzi';
                        btbl.ran = '小楞子';
                        btbl.ranpy = 'xiaolenzi';
                        btbl.hiu = '';
                        btbl.rn = '席理加';
                        btbl.rnpy = 'xilijia';
                        btbl.rc = '13585820972';
                        btbl.rel = '1';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        xiaolenzi = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_9__data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        Object.assign(fsdata, btbl, bhtbl);
                        datas.push(fsdata);
                        fsdata = new __WEBPACK_IMPORTED_MODULE_10__data_mapping__["c" /* FsData */]();
                        btbl = new __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        btbl.pwi = 'caoping';
                        btbl.ran = '草帽';
                        btbl.ranpy = '草帽';
                        btbl.hiu = '';
                        btbl.rn = '漕屏';
                        btbl.rnpy = 'caoping';
                        btbl.rc = '16670129762';
                        btbl.rel = '0';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        caoping = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_9__data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        Object.assign(fsdata, btbl, bhtbl);
                        datas.push(fsdata);
                        fsdata = new __WEBPACK_IMPORTED_MODULE_10__data_mapping__["c" /* FsData */]();
                        btbl = new __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        btbl.pwi = 'luojianfei';
                        btbl.ran = '飞飞飞';
                        btbl.ranpy = 'feifeifei';
                        btbl.hiu = '';
                        btbl.rn = '罗建飞';
                        btbl.rnpy = 'luojianfei';
                        btbl.rc = '13564242673';
                        btbl.rel = '1';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        luojianfei = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_9__data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        Object.assign(fsdata, btbl, bhtbl);
                        datas.push(fsdata);
                        fsdata = new __WEBPACK_IMPORTED_MODULE_10__data_mapping__["c" /* FsData */]();
                        btbl = new __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        btbl.pwi = 'huitailang';
                        btbl.ran = '灰太郎';
                        btbl.ranpy = 'huitailang';
                        btbl.hiu = '';
                        btbl.rn = '丁朝辉';
                        btbl.rnpy = 'dingchaohui';
                        btbl.rc = '15737921611';
                        btbl.rel = '1';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        huitailang = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_9__data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        Object.assign(fsdata, btbl, bhtbl);
                        datas.push(fsdata);
                        fsdata = new __WEBPACK_IMPORTED_MODULE_10__data_mapping__["c" /* FsData */]();
                        btbl = new __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        btbl.pwi = 'xuezhenyang';
                        btbl.ran = '牛牛';
                        btbl.ranpy = 'niuniu';
                        btbl.hiu = '';
                        btbl.rn = '薛震洋';
                        btbl.rnpy = 'xuezhenyang';
                        btbl.rc = '18602150145';
                        btbl.rel = '1';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        xuezhenyang = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_9__data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        Object.assign(fsdata, btbl, bhtbl);
                        datas.push(fsdata);
                        return [4 /*yield*/, this.sqlliteExec.batExecSql(sqls)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/, datas];
                }
            });
        });
    };
    //参与人
    UserConfig.prototype.RefreshBTbl = function () {
        return __awaiter(this, void 0, void 0, function () {
            var exists, sql, data, _loop_1, _i, data_1, fs;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        exists = UserConfig_1.friends.reduce(function (target, val) {
                            if (target.indexOf(val.rc) < 0) {
                                target.push(val.rc);
                            }
                            return target;
                        }, new Array());
                        sql = "select gb.*,bh.hiu bhiu\n               from gtd_b gb\n                      left join gtd_bh bh on bh.pwi = gb.pwi;";
                        return [4 /*yield*/, this.sqlliteExec.getExtList(sql)];
                    case 1:
                        data = _a.sent();
                        _loop_1 = function (fs) {
                            fs.bhiu = '';
                            var index = exists.indexOf(fs.rc);
                            if (index < 0) {
                                UserConfig_1.friends.push(fs);
                            }
                            else {
                                var pos = UserConfig_1.friends.findIndex(function (element) {
                                    return (element.rc == fs.rc);
                                });
                                UserConfig_1.friends.splice(pos, 1, fs);
                            }
                        };
                        for (_i = 0, data_1 = data; _i < data_1.length; _i++) {
                            fs = data_1[_i];
                            _loop_1(fs);
                        }
                        //增加内部事件通知
                        this.emitService.emit("mwxing.config.user.btbl.refreshed");
                        return [2 /*return*/];
                }
            });
        });
    };
    //群组
    UserConfig.prototype.RefreshGTbl = function () {
        return __awaiter(this, void 0, void 0, function () {
            var sql, dcl, _i, dcl_1, dc, sqlbx, fsl, _a, fsl_1, fs, fsd;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        sql = 'select * from gtd_g;';
                        UserConfig_1.groups.splice(0, UserConfig_1.groups.length);
                        return [4 /*yield*/, this.sqlliteExec.getExtList(sql)];
                    case 1:
                        dcl = _b.sent();
                        if (!(dcl.length > 0)) return [3 /*break*/, 5];
                        _i = 0, dcl_1 = dcl;
                        _b.label = 2;
                    case 2:
                        if (!(_i < dcl_1.length)) return [3 /*break*/, 5];
                        dc = dcl_1[_i];
                        dc.fsl = new Array();
                        sqlbx = 'select gb.* from gtd_b_x gbx inner join gtd_b gb on gb.pwi = gbx.bmi where gbx.bi="' + dc.gi + '";';
                        return [4 /*yield*/, this.sqlliteExec.getExtList(sqlbx)];
                    case 3:
                        fsl = _b.sent();
                        for (_a = 0, fsl_1 = fsl; _a < fsl_1.length; _a++) {
                            fs = fsl_1[_a];
                            fsd = this.GetOneBTbl(fs.pwi);
                            if (!dc.fsl) {
                                dc.fsl = new Array(); //群组成员
                            }
                            if (fsd) {
                                dc.fsl.push(fsd);
                            }
                        }
                        dc.gc = dc.fsl.length;
                        dc.gm = __WEBPACK_IMPORTED_MODULE_9__data_config__["a" /* DataConfig */].QZ_HUIBASE64;
                        UserConfig_1.groups.push(dc);
                        _b.label = 4;
                    case 4:
                        _i++;
                        return [3 /*break*/, 2];
                    case 5:
                        //增加内部事件通知
                        this.emitService.emit("mwxing.config.user.gtbl.refreshed");
                        return [2 /*return*/];
                }
            });
        });
    };
    UserConfig.prototype.RefreshOneBTbl = function (fsData) {
        var fs;
        fs = this.GetOneBTbl(fsData.pwi);
        if (fs) {
            Object.assign(fs, fsData);
        }
        // 更新到缓存中
        var exist = UserConfig_1.friends.findIndex(function (element) {
            return element.rc == fsData.rc;
        });
        if (exist >= 0) {
            UserConfig_1.friends.splice(exist, 1, fsData);
        }
        else {
            UserConfig_1.friends.push(fsData);
        }
        return fs;
    };
    UserConfig.prototype.GetOneBTbl = function (id) {
        console.log('GetOneBTbl with id ' + id);
        var fs = new __WEBPACK_IMPORTED_MODULE_10__data_mapping__["c" /* FsData */]();
        fs = UserConfig_1.friends.find(function (value) {
            return value.pwi == id || value.ui == id;
        });
        if (fs) {
            /*if (fs.bhiu == ""){
              fs.bhiu  = DataConfig.HUIBASE64;
            }*/
            fs.bhiu = '';
        }
        return fs;
    };
    UserConfig.prototype.GetMultiBTbls = function (ids) {
        console.log('GetMultiBTbls with ids ' + ids.join(","));
        var matches = ids.join(",");
        var fss = new Array();
        fss = UserConfig_1.friends.filter(function (value) {
            return ((matches.indexOf(value.pwi) >= 0) || (matches.indexOf(value.ui) >= 0));
        });
        if (fss && fss.length > 0) {
            for (var _i = 0, fss_1 = fss; _i < fss_1.length; _i++) {
                var fs = fss_1[_i];
                /*if (fs.bhiu == ""){
                  fs.bhiu = DataConfig.HUIBASE64;
                }*/
                fs.bhiu = "";
            }
        }
        return fss;
    };
    UserConfig.prototype.GetOneBhiu = function (id) {
        var bhiu = "";
        /*let fs : FsData = new FsData();
        fs  = UserConfig.friends.find(value => {
          return value.pwi == id || value.ui == id;
        });
        if  (fs){
          if (fs.bhiu == ""){
            bhiu  = DataConfig.HUIBASE64;
          }else{
            bhiu  = fs.bhiu;
          }
    
        }else{
          bhiu = DataConfig.HUIBASE64;
        }*/
        return bhiu;
    };
    UserConfig.user = {
        //用户ID
        id: "",
        //账户ID
        aid: "",
        //用户名
        name: "",
        //用户头像
        avatar: "",
        //出生日期
        bothday: "",
        //真实姓名
        realname: "",
        //身份证
        No: "",
        //性别
        sex: "",
        //联系方式
        contact: "",
    };
    UserConfig.account = {
        // 账户ID
        id: "",
        // 账户名
        name: "",
        // 手机号
        phone: "",
        // 设备号
        device: "",
        // token
        token: "",
        // 账户消息队列
        mq: "",
    };
    //系统设置
    UserConfig.settins = new Map();
    UserConfig.allsettins = new Map();
    //参与人
    UserConfig.friends = new Array();
    //个人计划
    UserConfig.privateplans = new Array();
    //内建计划
    UserConfig.publicplans = new Array();
    //重复调用防止
    UserConfig.troublestop = new Map();
    //群组
    UserConfig.groups = new Array();
    UserConfig = UserConfig_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_7__util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_8__util_service_emit_service__["a" /* EmitService */]])
    ], UserConfig);
    return UserConfig;
    var UserConfig_1;
}());

var Setting = (function () {
    function Setting() {
        // 偏好ID
        this.yi = "";
        // 偏好设置类型
        this.typeB = "";
        // 偏好设置类型名称
        this.bname = "";
        // 偏好设置名称
        this.name = "";
        // 偏好设置key
        this.type = "";
        // 偏好设置value
        this.value = "";
    }
    return Setting;
}());

//# sourceMappingURL=user.config.js.map

/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DataConfig; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_h_h__ = __webpack_require__(497);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_tdl_tdl__ = __webpack_require__(251);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_lp_lp__ = __webpack_require__(554);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_ls_ls__ = __webpack_require__(580);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_pf_pf__ = __webpack_require__(581);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__pages_p_p__ = __webpack_require__(582);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__pages_m_m__ = __webpack_require__(583);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__pages_r_r__ = __webpack_require__(584);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__pages_pl_pl__ = __webpack_require__(586);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__pages_pc_pc__ = __webpack_require__(587);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__pages_pd_pd__ = __webpack_require__(259);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__pages_ss_ss__ = __webpack_require__(591);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__pages_hl_hl__ = __webpack_require__(592);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__pages_gl_gl__ = __webpack_require__(593);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__pages_gc_gc__ = __webpack_require__(594);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__pages_ga_ga__ = __webpack_require__(595);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__pages_fs_fs4g__ = __webpack_require__(596);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__pages_fs_fs4fo__ = __webpack_require__(597);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__pages_fd_fd__ = __webpack_require__(598);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__pages_bl_bl__ = __webpack_require__(599);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__pages_ps_ps__ = __webpack_require__(601);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__pages_br_br__ = __webpack_require__(602);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__pages_al_al__ = __webpack_require__(603);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__pages_log_log__ = __webpack_require__(604);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__pages_at_at__ = __webpack_require__(605);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__pages_do_do__ = __webpack_require__(607);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__pages_agenda_agenda__ = __webpack_require__(609);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__pages_memo_memo__ = __webpack_require__(611);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__pages_jh_jh__ = __webpack_require__(612);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__pages_aip_aip__ = __webpack_require__(250);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__pages_comment_comment__ = __webpack_require__(613);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__pages_repeat_repeat__ = __webpack_require__(614);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__pages_remind_remind__ = __webpack_require__(615);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__pages_plan_plan__ = __webpack_require__(618);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__pages_invites_invites__ = __webpack_require__(619);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__pages_location_location__ = __webpack_require__(620);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__pages_attach_attach__ = __webpack_require__(717);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__pages_dailymemos_dailymemos__ = __webpack_require__(718);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__pages_commemorationday_commemorationday__ = __webpack_require__(719);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__pages_dtselect_dtselect__ = __webpack_require__(720);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__pages_member_member__ = __webpack_require__(721);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__pages_glory_glory__ = __webpack_require__(723);










































var DataConfig = (function () {
    function DataConfig() {
    }
    /*----===== WS上下文环境使用 =====----- */
    DataConfig.clearWsContext = function () {
        this.wsContext.splice(0, this.wsContext.length);
    };
    DataConfig.putWsContext = function (_wsContext) {
        this.wsContext.push(_wsContext);
    };
    DataConfig.getWsContext = function () {
        return this.wsContext.shift();
    };
    Object.defineProperty(DataConfig, "wsContext", {
        get: function () {
            return this._wsContext;
        },
        set: function (value) {
            this._wsContext = value;
        },
        enumerable: true,
        configurable: true
    });
    //操作区分
    DataConfig.clearWsOpts = function () {
        this._wsOpts.splice(0, this._wsOpts.length);
    };
    DataConfig.putWsOpt = function (_opt) {
        this._wsOpts.push(_opt);
    };
    DataConfig.getWsOpt = function () {
        return this._wsOpts.shift();
    };
    Object.defineProperty(DataConfig, "wsWsOpt", {
        get: function () {
            return this._wsOpts;
        },
        set: function (value) {
            this._wsOpts = value;
        },
        enumerable: true,
        configurable: true
    });
    //操作process
    DataConfig.clearWsProcessor = function () {
        this._wsProcessors.splice(0, this._wsProcessors.length);
    };
    DataConfig.putWsProcessor = function (_processor) {
        this._wsProcessors.push(_processor);
    };
    DataConfig.getWsProcessor = function () {
        return this._wsProcessors.shift();
    };
    Object.defineProperty(DataConfig, "wsWsProcessor", {
        get: function () {
            return this._wsProcessors;
        },
        set: function (value) {
            this._wsProcessors = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataConfig, "wsServerContext", {
        get: function () {
            return this._wsServerContext ? this._wsServerContext : {};
        },
        set: function (value) {
            this._wsServerContext = value;
        },
        enumerable: true,
        configurable: true
    });
    // /* ============ 页面名字配置 ===============*/
    DataConfig.isPage = function (object) {
        return DataConfig.PAGES.reduce(function (init, val) {
            return init || object instanceof val;
        }, false);
    };
    DataConfig.isdebug = true;
    DataConfig.islog = false;
    //2019/04/29 增加日志表操作
    //public static version:number = 1;
    //2019/05/09 增加语音回答表
    //public static version:number = 2;
    //2019/05/10 修改设备ID缓存到数据库,防止应用升级时获取设备ID被改变
    //public static version:number = 3;
    //2019/05/28 增加日程语义标签标注表
    //public static version:number = 4;
    //2019/06/03 增加每日简报个性化参数
    //public static version:number = 5;
    //2019/06/17 增加JT表特殊数据保存字段
    DataConfig.version = 6;
    DataConfig.RABBITMQ_STATUS = "";
    DataConfig._wsContext = new Array();
    DataConfig._wsOpts = new Array();
    DataConfig._wsProcessors = new Array();
    DataConfig._wsServerContext = {};
    /*----===== WS上下文环境使用 =====----- */
    /*========== 设置提醒区分 =========*/
    //1：日程事件，
    DataConfig.RMSCD = "1";
    //2：无关联日程提醒
    DataConfig.RMNONESCD = "2";
    DataConfig.REINTERVAL = 60;
    /*========== 设置提醒区分 =========*/
    /*========== 系统设置区分 =========*/
    //唤醒
    DataConfig.SYS_H = "H";
    //新消息提醒
    DataConfig.SYS_T = "T";
    //语音播报
    DataConfig.SYS_B = "B";
    //震动和音效
    DataConfig.SYS_Z = "Z";
    //每日简报
    DataConfig.SYS_DR = "DR";
    DataConfig.SYS_DRP1 = "DRP1";
    //日历
    DataConfig.SYS_DJH = "DJH";
    //主题
    DataConfig.SYS_THEME = "THEME";
    //项目跟进
    DataConfig.SYS_FOGH = "FOGH";
    DataConfig.SYS_FOGHSECRET = "FOGHSECRET";
    DataConfig.SYS_FOGH_INS = "FOGH_INS";
    DataConfig.SYS_FOGH_INS_SHARE = "FOGH_INS_SHARE";
    DataConfig.SYS_FOGHIN_INS = "FOGHIN_INS";
    DataConfig.SYS_FOGHIN_INS_FROM = "FOGHIN_INS_FROM";
    DataConfig.SYS_FOFIR = "FOFIR"; //跟进开关
    DataConfig.SYS_FOFIR_INS = "FOFIR_INS"; //实例
    DataConfig.SYS_FOFIR_INS_SHARE = "FOFIR_INS_SHARE"; //实例共享成员
    DataConfig.SYS_FOFIRIN_INS = "FOFIRIN_INS"; //被共享实例
    DataConfig.SYS_FOFIRIN_INS_FROM = "FOFIRIN_INS_FROM"; //被共享实例发送人
    DataConfig.SYS_FOTRACI = "FOTRACI";
    /*========== 系统设置区分 =========*/
    /*----===== 网络状态值 =====----- */
    // 2019/6/18 删除网络状态变量，通过网络服务接口调用查询
    //public static IS_NETWORK_CONNECT: boolean = true;
    /**
     * 0正常进入1首次进入2无数据3更新后进入
     * @type {string}
     */
    DataConfig.isFirst = 1;
    /*========== 语音对应文言 start =========*/
    DataConfig.XF_SPEECH_SCHEDULE_CREATE = "";
    DataConfig.XF_SPEECH_SCHEDULE_DELETE = "";
    DataConfig.XF_SPEECH_SCHEDULE_FIND = "";
    DataConfig.XF_SPEECH_PLAYER_CREATE = "";
    DataConfig.XF_SPEECH_PLAYER_FIND = "";
    /*========== 语音对应文言  end  =========*/
    /* ------- 字典数据 ---------*/
    DataConfig.ZTD_MAP = new Map();
    DataConfig.REPEAT_TYPE = '12';
    //随机语音播报字典类型
    DataConfig.TEXT_TYPE = '401';
    //提醒方式
    DataConfig.ALARM_TYPE = '13';
    //随机语音播报字典内容
    DataConfig.TEXT_CONTENT = new Map();
    //随机语音播报字典类型
    DataConfig.MESSAGE_TYPE = '400';
    /* ============ 页面名字配置 ===============*/
    DataConfig.PAGE = {
        _H_PAGE: __WEBPACK_IMPORTED_MODULE_0__pages_h_h__["a" /* HPage */],
        _Ai_PAGE: __WEBPACK_IMPORTED_MODULE_29__pages_aip_aip__["a" /* AipPage */],
        _TDL_PAGE: __WEBPACK_IMPORTED_MODULE_1__pages_tdl_tdl__["a" /* TdlPage */],
        _LP_PAGE: __WEBPACK_IMPORTED_MODULE_2__pages_lp_lp__["a" /* LpPage */],
        _LS_PAGE: __WEBPACK_IMPORTED_MODULE_3__pages_ls_ls__["a" /* LsPage */],
        _PF_PAGE: __WEBPACK_IMPORTED_MODULE_4__pages_pf_pf__["a" /* PfPage */],
        _R_PAGE: __WEBPACK_IMPORTED_MODULE_7__pages_r_r__["a" /* RPage */],
        _PP_PAGE: __WEBPACK_IMPORTED_MODULE_5__pages_p_p__["a" /* PPage */],
        _M_PAGE: __WEBPACK_IMPORTED_MODULE_6__pages_m_m__["a" /* MPage */],
        _PL_PAGE: __WEBPACK_IMPORTED_MODULE_8__pages_pl_pl__["a" /* PlPage */],
        _PC_PAGE: __WEBPACK_IMPORTED_MODULE_9__pages_pc_pc__["a" /* PcPage */],
        _PD_PAGE: __WEBPACK_IMPORTED_MODULE_10__pages_pd_pd__["b" /* PdPage */],
        _SS_PAGE: __WEBPACK_IMPORTED_MODULE_11__pages_ss_ss__["a" /* SsPage */],
        _HL_PAGE: __WEBPACK_IMPORTED_MODULE_12__pages_hl_hl__["a" /* HlPage */],
        _GL_PAGE: __WEBPACK_IMPORTED_MODULE_13__pages_gl_gl__["a" /* GlPage */],
        _GC_PAGE: __WEBPACK_IMPORTED_MODULE_14__pages_gc_gc__["a" /* GcPage */],
        _GA_PAGE: __WEBPACK_IMPORTED_MODULE_15__pages_ga_ga__["a" /* GaPage */],
        _FS4G_PAGE: __WEBPACK_IMPORTED_MODULE_16__pages_fs_fs4g__["a" /* Fs4gPage */],
        _FS4FO_PAGE: __WEBPACK_IMPORTED_MODULE_17__pages_fs_fs4fo__["a" /* Fs4foPage */],
        _FD_PAGE: __WEBPACK_IMPORTED_MODULE_18__pages_fd_fd__["a" /* FdPage */],
        _PS_PAGE: __WEBPACK_IMPORTED_MODULE_20__pages_ps_ps__["a" /* PsPage */],
        _BL_PAGE: __WEBPACK_IMPORTED_MODULE_19__pages_bl_bl__["a" /* BlPage */],
        _BR_PAGE: __WEBPACK_IMPORTED_MODULE_21__pages_br_br__["a" /* BrPage */],
        _AL_PAGE: __WEBPACK_IMPORTED_MODULE_22__pages_al_al__["a" /* AlPage */],
        _LOG_PAGE: __WEBPACK_IMPORTED_MODULE_23__pages_log_log__["a" /* LogPage */],
        _AT_PAGE: __WEBPACK_IMPORTED_MODULE_24__pages_at_at__["a" /* AtPage */],
        _DO_PAGE: __WEBPACK_IMPORTED_MODULE_25__pages_do_do__["a" /* DoPage */],
        _AGENDA_PAGE: __WEBPACK_IMPORTED_MODULE_26__pages_agenda_agenda__["a" /* AgendaPage */],
        _MEMO_PAGE: __WEBPACK_IMPORTED_MODULE_27__pages_memo_memo__["a" /* MemoPage */],
        _COMMENT_PAGE: __WEBPACK_IMPORTED_MODULE_30__pages_comment_comment__["a" /* CommentPage */],
        _REPEAT_PAGE: __WEBPACK_IMPORTED_MODULE_31__pages_repeat_repeat__["a" /* RepeatPage */],
        _REMIND_PAGE: __WEBPACK_IMPORTED_MODULE_32__pages_remind_remind__["a" /* RemindPage */],
        _PLAN_PAGE: __WEBPACK_IMPORTED_MODULE_33__pages_plan_plan__["a" /* PlanPage */],
        _INVITES_PAGE: __WEBPACK_IMPORTED_MODULE_34__pages_invites_invites__["a" /* InvitesPage */],
        _MEMBER_PAGE: __WEBPACK_IMPORTED_MODULE_40__pages_member_member__["a" /* MemberPage */],
        _GLORY_PAGE: __WEBPACK_IMPORTED_MODULE_41__pages_glory_glory__["a" /* GloryPage */],
        _LOCATION_PAGE: __WEBPACK_IMPORTED_MODULE_35__pages_location_location__["a" /* LocationPage */],
        _ATTACH_PAGE: __WEBPACK_IMPORTED_MODULE_36__pages_attach_attach__["a" /* AttachPage */],
        _DAILYMEMOS_PAGE: __WEBPACK_IMPORTED_MODULE_37__pages_dailymemos_dailymemos__["a" /* DailyMemosPage */],
        _COMMEMORATIONDAY_PAGE: __WEBPACK_IMPORTED_MODULE_38__pages_commemorationday_commemorationday__["a" /* CommemorationDayPage */],
        _DTSELECT_PAGE: __WEBPACK_IMPORTED_MODULE_39__pages_dtselect_dtselect__["a" /* DtSelectPage */],
        _JH_PAGE: __WEBPACK_IMPORTED_MODULE_28__pages_jh_jh__["a" /* JhPage */],
    };
    DataConfig.PAGES = [
        __WEBPACK_IMPORTED_MODULE_0__pages_h_h__["a" /* HPage */],
        __WEBPACK_IMPORTED_MODULE_29__pages_aip_aip__["a" /* AipPage */],
        __WEBPACK_IMPORTED_MODULE_1__pages_tdl_tdl__["a" /* TdlPage */],
        __WEBPACK_IMPORTED_MODULE_2__pages_lp_lp__["a" /* LpPage */],
        __WEBPACK_IMPORTED_MODULE_3__pages_ls_ls__["a" /* LsPage */],
        __WEBPACK_IMPORTED_MODULE_4__pages_pf_pf__["a" /* PfPage */],
        __WEBPACK_IMPORTED_MODULE_7__pages_r_r__["a" /* RPage */],
        __WEBPACK_IMPORTED_MODULE_5__pages_p_p__["a" /* PPage */],
        __WEBPACK_IMPORTED_MODULE_6__pages_m_m__["a" /* MPage */],
        __WEBPACK_IMPORTED_MODULE_8__pages_pl_pl__["a" /* PlPage */],
        __WEBPACK_IMPORTED_MODULE_9__pages_pc_pc__["a" /* PcPage */],
        __WEBPACK_IMPORTED_MODULE_10__pages_pd_pd__["b" /* PdPage */],
        __WEBPACK_IMPORTED_MODULE_11__pages_ss_ss__["a" /* SsPage */],
        __WEBPACK_IMPORTED_MODULE_12__pages_hl_hl__["a" /* HlPage */],
        __WEBPACK_IMPORTED_MODULE_13__pages_gl_gl__["a" /* GlPage */],
        __WEBPACK_IMPORTED_MODULE_14__pages_gc_gc__["a" /* GcPage */],
        __WEBPACK_IMPORTED_MODULE_15__pages_ga_ga__["a" /* GaPage */],
        __WEBPACK_IMPORTED_MODULE_16__pages_fs_fs4g__["a" /* Fs4gPage */],
        __WEBPACK_IMPORTED_MODULE_17__pages_fs_fs4fo__["a" /* Fs4foPage */],
        __WEBPACK_IMPORTED_MODULE_18__pages_fd_fd__["a" /* FdPage */],
        __WEBPACK_IMPORTED_MODULE_20__pages_ps_ps__["a" /* PsPage */],
        __WEBPACK_IMPORTED_MODULE_19__pages_bl_bl__["a" /* BlPage */],
        __WEBPACK_IMPORTED_MODULE_21__pages_br_br__["a" /* BrPage */],
        // AlPage,       //启动页
        __WEBPACK_IMPORTED_MODULE_23__pages_log_log__["a" /* LogPage */],
        __WEBPACK_IMPORTED_MODULE_24__pages_at_at__["a" /* AtPage */],
        __WEBPACK_IMPORTED_MODULE_25__pages_do_do__["a" /* DoPage */],
        __WEBPACK_IMPORTED_MODULE_26__pages_agenda_agenda__["a" /* AgendaPage */],
        __WEBPACK_IMPORTED_MODULE_27__pages_memo_memo__["a" /* MemoPage */],
        __WEBPACK_IMPORTED_MODULE_30__pages_comment_comment__["a" /* CommentPage */],
        __WEBPACK_IMPORTED_MODULE_31__pages_repeat_repeat__["a" /* RepeatPage */],
        __WEBPACK_IMPORTED_MODULE_32__pages_remind_remind__["a" /* RemindPage */],
        __WEBPACK_IMPORTED_MODULE_33__pages_plan_plan__["a" /* PlanPage */],
        __WEBPACK_IMPORTED_MODULE_34__pages_invites_invites__["a" /* InvitesPage */],
        __WEBPACK_IMPORTED_MODULE_40__pages_member_member__["a" /* MemberPage */],
        __WEBPACK_IMPORTED_MODULE_41__pages_glory_glory__["a" /* GloryPage */],
        __WEBPACK_IMPORTED_MODULE_35__pages_location_location__["a" /* LocationPage */],
        __WEBPACK_IMPORTED_MODULE_36__pages_attach_attach__["a" /* AttachPage */],
        __WEBPACK_IMPORTED_MODULE_37__pages_dailymemos_dailymemos__["a" /* DailyMemosPage */],
        __WEBPACK_IMPORTED_MODULE_38__pages_commemorationday_commemorationday__["a" /* CommemorationDayPage */],
        __WEBPACK_IMPORTED_MODULE_39__pages_dtselect_dtselect__["a" /* DtSelectPage */],
        __WEBPACK_IMPORTED_MODULE_28__pages_jh_jh__["a" /* JhPage */],
    ];
    /*----===== 语音区分 =====----- */
    DataConfig.SPEECH = "SPEECH"; //系统表语音key
    DataConfig.HL = "HL"; //问候语
    DataConfig.LH = "LH"; //	进入教程
    DataConfig.AA = "AA"; //	确认操作后回答
    DataConfig.BB = "BB"; //	取消操作后回答
    DataConfig.CC = "CC"; //	查询后回答（数量）
    DataConfig.DD = "DD"; //	设置后回答
    DataConfig.EE = "EE"; //	确认取消回答
    DataConfig.FF = "FF"; //	异常回答
    DataConfig.UNKNOWN = "UNKNOWN"; //	确认取消回答
    DataConfig.GG = "GG"; //	提醒设置完毕
    /*----===== 语音区分 =====----- */
    /* ============ 返回值配置 ===============*/
    DataConfig.SUCCESS_CODE = 0;
    DataConfig.SUCCESS_MESSAGE = '成功！';
    DataConfig.ERR_CODE = 1;
    DataConfig.ERR_MESSAGE = '系统出错！';
    DataConfig.NULL_CODE = 2;
    DataConfig.NULL_MESSAGE = '查询结果不存在！';
    DataConfig.EXSIT_CODE = 3;
    DataConfig.EXSIT_MSG = '该数据已存在！';
    DataConfig.NOT_NETWORK_CODE = 4;
    DataConfig.NOT_NETWORK_MSG = '当前没有网络！';
    DataConfig.QX_NOT_CODE = 5;
    DataConfig.QX_NOT_MESSAGE = '您没有权限！';
    DataConfig.NOT_PARA_CODE = 6;
    DataConfig.NOT_PARA_MESSAGE = '参数不能为空！';
    DataConfig.RETURN_MSG = new Map();
    /* ============ webscoct  需要用配置 ===============*/
    //通用操作
    DataConfig.XF_NMT = "A0001"; //确认
    DataConfig.XF_NMC = "A0002"; //取消
    //讯飞指令
    DataConfig.XF_SCC = "A1101"; //讯飞：日程添加
    DataConfig.XF_SCD = "A1102"; //讯飞：日程删除
    DataConfig.XF_SCF = "A1103"; //讯飞：日程查询
    DataConfig.XF_PEC = "A1201"; //讯飞：参与人添加
    DataConfig.XF_PED = "A1202"; //讯飞：参与人删除
    DataConfig.XF_PEF = "A1203"; //讯飞：参与人查询
    DataConfig.XF_PEA = "A1204"; //讯飞：参与人授权
    DataConfig.XF_SYSH = "A1301"; //讯飞：私密模式
    //其他技能
    DataConfig.XF_OTS = "B1000"; //全部其他技能
    DataConfig.XF_OTWT = "B1001"; //天气
    DataConfig.XF_OTCN = "B1002"; //万年历
    DataConfig.XF_OTDT = "B1003"; //日期
    //业务指令
    DataConfig.BC_SCC = "D1101"; //添加日程
    DataConfig.BC_SCD = "D1102"; //删除日程
    DataConfig.BC_SCU = "D1103"; //更新日程
    DataConfig.BC_PEC = "D1201"; //添加参与人
    //系统默认头像 128 * 128
    DataConfig.HUIBASE64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAADAFBMVEUAAAA8kJo8j5o8j5sArKw7kJs8j5s7kJo7j5s/lJQ7kJw8kJo8j5o8kJk7j5s8j5o9jps7kJtEiJk6jpw7j5s7kJs8kJo8kJs2kaM7j5o/kZo/n586j5o4jZs7j5s7j5s+jZk7kJs8j5oqf6o6j5k7kJo8j5w7kJo7kJo7kZw8kJs6kZk/f387j5o8j5s8kJv/////AACsztP/rqpwq7X/Ix3L4eStsss9kZyttMv//v//8/3/6/n/6fn/4/f/+P3/+f3/7fr/7Pmut82tuM2swtCuz9TG3uGsvM6tvs+szdL/+/3//P7+/v7/8Pytt8z+/v6sydGtu83/CQb8/f3+/f7/5fitus241dr/zMn/+vn//v7+9/z/5Pc9kJtGlaCrzNLX5+qtx9Csxc9Bk56qzdL/5eP/KyP/b2f/9f3/7/v/8vytwM+tvc/p8fONvMK31Nn0+PmozNH/jof/SUH/5+X/W1P/9/f//f1Gk59VlqWv0NX/9/zE3OCuu87g7O6IucCDtr1Zn6llpq9vqrPt8/VWnqfj7vBJmKLm8fL3+/tgoqz/saz/9PSXwsj/DQf/fnZcoat7srqir8aJp7v5+vvw9/eszdP/5/j/+/7/7vq+2d2sydJOmaSrxtDL1+FyrbWgx8ymy9BjpK5SnKbd6ux2r7e82NzA2t6x0db/rKf/lI3/amL/6Ob/eHH/bGT/x8L/hoD/qKL/uLT/NzD/gXn/kIr/8PD/YFj/0M3/Hhb/29j/TUT/6Of/qaT/+/v/nZfK4OOaxMp5sbiEprmsssvN4eTK3+O2w9T7/P3q7vK8ytegscZqp7GvwNC90NnL3OPQ4+aRvsXz+PiiyM7R5Oejyc6VwMb/09H/o53/Qjv/OjL/4N7/Ukn/6uj/JyL/vrv/ran/MSr/Fg//WVBrqLJPlKL/iYL/RT1/pLb/BQGosMhqna3/8fv++P3F0NzT2+SsytKUq8Dx8/a5xdVvnq/f5u3C1Nzn7PDC1t2xxNPG2uD+7/uy0tefxszT5eiR0odwAAAAL3RSTlMA+VOZAZzu1sAMKtv+WFLgZMgPNOO9TOQO9xwIMCT4lS2rkwZOtFCW4nTPIwRe3BKZduUAAAe7SURBVHjazZt3WBRHGMaPdjQJooIdBAUEgVlGDTbwNMcJCQqoKCpSVFBEAdGgIIoFbMSuKBob9mjsidEUe8Heoum9994Ts7t34AM3u9/s7R1773/c3nPvj9n5Zr6Z+UalMkEhLrZBgf4ermpvxMpb7erhHxhk6xKiagx1CbULtkFE2QTbhXaxqLlzgF1nBKizXYCzZdzb2vq2RlRq7Wvb1uz2HfzUSILUfh3M6W7v5YQky8nL3lz2bo7IJDm6mQXhMRPteYTHZNu3c0Ky5NROln0rnyZIppr4tDLdv1MLZAa16GTqsOOAzCQHk4am5mHIbHJtLt2/qQ0yo2yaSrTv6IDMLIeOUvybeSKzy7MZvX8bR2QBObah9W/vjiwi9/Z0/i4tkYXU0oXq/7eYP0tA0QZt3JEF5Q72g2aOyKJyBGKhoyeysDzFxwMHZHE5iI6/qBEkMio3t2kMABvBmck5DDWKXJ2ldICKbkIqm79y3rxNaamp5uoGnUjfXcxASpiy8GL1uZXjpBAQc6RWxPyLodPA3DPLytLoszRSnuiDZACwGlqanzePlsCHkH83kQnAamHyg5WUubJxti6Q/0sCYAZmzMzbRLdeMFr/IDGAQ4XHDmZRIUzZXbCrBw1BgzWTvaMYwIgh4eHhx5bSNcJt/GARzaxUf93ohsQA9odzmjCDmf4aBUKp7j5NZ3SjagA9QCEPEF54+ouXaBphsa6gQmITeCFRgBXhtXqBoSPInA8TeMEhUNcH6gBO0EVDKc6skBIIHZA4AHPA4L+CNh4f4oIFIMGjXRw/CODUYS4Ohnw+gxYgYQ++B47MfnX7X2oIgGGyjuw78rSEIWnJXnwHmibVtXtptggGkKydGJdBTWBrAPC1BACzG1dDA5KvIRFqbRGAcoznQDua+tQoAEkDWNpVSCPrfW8PxlAkBPAAdhIBssKFdLze93IxzgMA7HiAzuYCOFm/BZh8jHcAO9v8/jsyF8AKo9EIzwWagNvdD5UM0N1YX3EALzfMDTCuBnLVUKgLUEbBq8tZ/0+MPk7GeDvcCYLNAPAi1wBHjT6+CEZisEoVYiMfYOR41v+jU8ZJKsb3gGVaiMoFyQfoyjXAPuPPKzHGQI7qIjoR0AK8wvovf4+QH+owvg5NB0HyAU7wGSPpCdsLV4n/fpAqUD7ABA5gBOnJRnAwDFT5ywbgY3Aa8dEsjM+K/76/ykM2AB+D5Hx9AMbbxH/fQ+UqF4CPwe7Tic8eZ8dCYLNCpZYLwMfgYUYIAANpmcpbLgAXg+HvmArgrQKmqwTIn18zCC2YYAAEAQylisEPLAewBPB/nlswvD3DcgCVAMBUrgFOMzIAgE5YShGDHx83HcAbCsMz4gAfcg1wgDEdQA0NRDpxgGkcwBsyAFyhoXhuAhiD7xIf9aID8IAmo0/LwRh8hmSfRAngD03HCzKgGBw/kuRfFUcHEAglJD3yoRicavz5qKQqDSVAEJSSobxK8RgcQtg/TNJoUqroAGyhpBR1e10Q4DmuAfYTHiSVpORo6ABcoLQcLdLViMbgIcKDp1JyBtUCrIPScmBhgtCdDLEYfGsU4cl3OYMm9tUDPJkOLUyApRlC1/cKNMFBDuBNUgyy/v1KeID09GfBpVkoADCu+jbRP4uLwZOkDWQN69/HAJCYCC5Ou0BbSed0lYIxSNw57c36R/IAlxLHbAaX5yqoQC6tYCNhPJ7+PmlFzjfABtZ/Pd8Jb43ZPBbcoAA7AdqFHwrEYCHBP25Dv8jI9cP4ofjW2OhoeIsmAAIYt02XS47Bo4QeOLE/az86kv9jS3R0LLxJ5QyWCVbgvXcbvgF+W8x4RV71Tx/OP4rvAszNSbGT4W060Y1Kw6SM85cwFIrrzb3+YVFR+gYYeiN2cgy8UQlOB+xL+A8nAwSjkjQl324w+I/muyDzR2xMzHCKrdq2cLHkjgKcPEXIm518Nezoz0Z//0jePypH/2BLzGytlmKzWmy7vlbbMf63XOh/Z/2z9f7c648abfBfe2OwVnuNYrte7MCiTmUY63YS3zvb9im8v777RUVqDE9+GKx9In4NzYGFiqZqcSs7tc4y7gj65q/1jxo2sdae+Xm2Nj6+5zdUZ5deNEeN3ViCmRkNBsVecSyBpm9JSUl2dnaJPg/Sq+YXbXzPiAtFVIdW9lS1M/MzWYTkhQk0Acmsvcr5R6yhPLl0ozrwXbANcwg7a2D/K5d5/4hiuoNLyiZAaXM4AjzzUq74qvnK92z34/xpG0D48NroNdznEbBuT8biu6SXUVP+25bLw7nux/qvLqI9vKYLBH5QXJWJa6XL371x1gCDZv395+83r/41KTZm9nB980d8XUx/fC9UwEBKU+cWYCOxuVfiGHby5fy1Bv/VxVIKGARKOMhdYetZsj87+cUMNvhfOF8kqYRDoIhFcHJYtezRq1iXzuZ+df5891v95WdSi1jIZTwiKtq+a86yAt7/Rzb30/uzr//aT+d/LU6VXsZjYiVbao/6oilrclC4lCvM2VqL2ZQv51O+oFH5kk7Fi1qVL+tVvrBZ+dJu5YvblS/vV/6Cg/JXPJS/5GLmaz5hJlzzUf6ik/JXvazgspvy1/2s4MKjFVz5VP7SqxVc+7WGi89WcPXbGi6/W+L6//8p8yU0/kNpSgAAAABJRU5ErkJggg==";
    //群组系统默认头像 128 * 128
    DataConfig.QZ_HUIBASE64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAACr1BMVEUAAAA8kJo/kZo/n58/lJQ8kJo8j5s7kJo7j5s8j5s6j5k6j5o8kJkqf6o7kJs8j5o8j5o9jptEiJk8kJo+jZkAf387kJo7j5s8j5o9kJk4jZs8kJs7j5oA//87j5s6jpw2kaM8j5s7j5s7j5s7kJs7kJo8j5w7kJo7kJo7kZw8kJs/f387j5o6kZk8jpo8kZ07kJs8j5s7jpo7j5s8kJv///9Kl6HF3eD8/f1OmaP0+PlkpK49kJtAkp39/v7O4uVGlaCKusBLmKLg7O75+/vd6uz+//9sqbFWnqdClJ6Et77y9/js8/Q9kZzq8vNYn6hGlZ/W6OnS5ejC297f7O1NmKOx0da92dxBk51qqLBPmqR2rrbZ6Or0+fn6+/xFlJ/I3+JSnKWv0NXw9vfr8/TJ3+JHlqBgo6yDtr231dm00tddoqukyc9vqrRQmqSz09eCtr3C29+21Nj7/P1doatvqrLb6uxrqLK/2t57srmHucBxq7Vkpq9qp7FDlJ/z+PmVwcdQm6Xx9/fh7e9Ck56pzNGcxMqFt77u9PV/s7ulytD+/v6+2d3Z6OysztOOvcOVwMZIl6Hm8PKWwcd4sLhVnafE3eCTv8W61to+kZzP4+Z7sbmPvcRcoapRm6W719uaxMplpa/R5Od3r7dpp7Hi7u+lys/N4eTT5eigx8z1+frV5+jQ5OWGuL/3+/uOvMNjpa7A2d2jyc7G3uGAtLxzrbW51tp5sLjH3uKLusHB2t7D3N/a6evc6evI4OObw8lio62fxsxxrLTW5url7/GMu8Ls8/X2+vrk7/Goy9ChyM1mp67E3ODt9PXK4OPU5uni7e9sqbO41dmXwsje6+3Y6OqrzdLv9fZyrLTX5+nG3eHk7/C109hSnKaZw8mdxcqQvsSNvMJYn6m92d1UnKbTg+u6AAAANHRSTlMA2xwIDPmZ1sDuTjBYBsj+k2QPTC0Cm+PgUyTk9wH4NA6clVK9tFCW4nTPBF4jVCqr3CusrfpczwAABnxJREFUeNrNW/dfFEcUX5AuTZpgoXeQYmbwDsLRFSKggiAKBo1RASmxxkRj7L3E3nvsmt577733/oeEdlu43Xlvhz32vr/d7Nv5fm8/U95780YQOJCRnZWWkhTo5htNehHt6xaYlJKWlZ0hjAQmZXqlexJVeKZ7ZU5yKrlHslcqAZDqlezhHPZRUTkTCAoTcqJGGU4fFuxLdMA3OMxI9omhPkQ3fEInGkQf7u9NuODtH24EfwInfb+EhGHTj/Yhw4LP6GHRx8YHkWEiKD6Wn99vLDEAY/14l504YhDiuJammFxiGNxi9POP8SQGwnOMTvqACGIwIgL08IckEsORGILnd/cmToC3O5Z/XCRxCiLH4fgnjydOwvjJqP/vNP5eBYhv4B5JnIhIcByEeBOnwhuYCwGJxMlIZK8HEcTpiGCuv2QEwFiVYzxHQoCn5s7kkUtGBG5auzN6/5+Zd/fw/AMN/wfzrvXlp7+yUUo/KLqxnl+Bqo8Ui/C/1q+1UAkVJTW8XpqanxgPvtZwYipVouxrTgXxKv436P927aQO2PMM32gIcvTWQf//HgtVw2dNfPGCQ/wDvbFjD1XHs4VcCobETOHQHrTOQrXQwbcrKeNGf2j2LaLaeJhLgb8i/oY+wHIGP81fyPUJ5NF7KGD8DmXiG65PEKpjCtxiC5i6SrSstPJMhDDAdC4F0ChNVlrbMw2pQMriBAOW7ZCA+VvtpoW1vT8vFaAEBIv5LyD/VDgdEkBPi8Z/9v20bccskL72XFoUYPg4yE/vE42XDTScP4lQEDUoIAewewwW8LpkfWWg5QXEN8gZdISg/OMKWMC9Et1vg02HERnNAdcoGbI7BQug0lp0fLBl5VJYQXK/AC/IrAIh4CnRerW9qQgW4NUvAMw/v4cQ8KBofVZsWw0KSO3Pv4NmZQgBF0XreWLbXvgT9GX3M0GrFoSAZaL1BmlktoJdZ2KGADmGELBEtM6TGl9EDYJ00GobzL9Tsq6UWq+CXacLQgYcjj0AC1ggWU+TWl+Fw7QMIRseKedgARck6xKptQXuO1vIQqzZs3SMQbJfFjbAXWcJaQgBhyH+CvVlazbcdZqQghBQ+gQg4H3Jdp4sevoS7jpFSMK4DvvZ/PdXqW+d9XDPSUIgRkDpo0wBcr98jaz9E7jnQMEN5T2VsPiLZFt/s/xBMyJZISCPA+u1+TcfldnVyR6UVyHcMiEamRRZo8Vv6ZJHsPInJxD9RgtYL946W4P/IbnRj/JHj2D6RQsgDbfV+Kf/JDOpuSZ/9BIxVgApvGpz4L/+j9ziB4WbeNZoAYRcLFLSV/+tSBJdUDw8g+sTOwjtIUK7GKRYbt8ZMsqL236xqUQKwCDUdSpPyJKlf3W8cX3WtX9vdHWreP4LOwcF9pzE9eeLXIj6/+DlzsW18o9881bPnf8crN6e37c4t3Ujs6a4pbh3jzlzyqY6DX/9+NMhpt3n+0P27/84RzBLMWozWveKhbEUf3dgptL89EBCx1Y/F7EZIbbj50GHZPO3GxRv/P7z4IMvoPAoBXZIZixGOMW0epfipdYF9rmyuwlwSCCX7Hg5xeFYqfy1JlH2a5Vsl4ztlBYvp2jUKtb+1n329kUFTKeU6ZZbW6gOlB+Rv1uZLyZw3mK55azApGEL1QXFzkielFw2KyMwYYRmVe9SnSiXz7saaQOfwgrNtIPTRqob1aXq3kkzIzjVDM8vUw7MkXWwVXJl6xjhuVaConALjwBZpoKQtVLzDO0EhdYg2MHFr0jMbJSaDzBSNBpJqjo+AfL/eoQC7kEyI023iZOfbleN1Ocw0nTCXZxJATBVUEDZEzGHlart5BXwOV5AFCtZvYJXgAUtQExWq6brp/AKkOWrAAHBzAMLfgF5WAFhzCMbIwSwZ4EP+9DKCAFtUuNG9qGVyrGdEQI6xLYrxexjO5WDSwMEHKzOH8ChRitwcKlydNtuwDTUcXTreHj9Jq+AMpyABOj4fhWvgN16Ty21Chj28vHfRB2dqhQwOJRwWA9xCdiF+gDxmCKWo/v003/4HIpftYjFsYynsOTSSl30H23bhBuBfvhCpoN5eKBrOeJMLuXK9XDVYjbzy/nML2g0v6TT9KJW88t6zS9sNr+02/zidvPL+82/4GD+FQ/zL7kYfM0nl+Oaj/kXncy/6uUCl93Mv+7nAhceXeDKp/mXXl3g2q8rXHx2gavfrnD53RnX//8Hf4uh2AvXD4oAAAAASUVORK5CYII=";
    //系统默认头像 256 * 256
    DataConfig.HUIBASE64_LARGE = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAADAFBMVEUAAAA8kJo8j5o8j5sArKw7kJs8j5s7kJo7j5s/lJQ7kJw8kJo8j5o8kJk7j5s8j5o9jps7kJtEiJk6jpw7j5s7kJs8kJo8kJs2kaM7j5o/kZo/n586j5o4jZs7j5s7j5s+jZk7kJs8j5oqf6o6j5k7kJo8j5w7kJo7kJo7kZw8kJs6kZk/f387j5o8j5s8kJv/////AACsztP/rqpwq7X/Ix3L4eStsss9kZyttMv//v//8/3/6/n/6fn/4/f/+P3/+f3/7fr/7Pmut82tuM2swtCuz9TG3uGsvM6tvs+szdL/+/3//P7+/v7/8Pytt8z+/v6sydGtu83/CQb8/f3+/f7/5fitus241dr/zMn/+vn//v7+9/z/5Pc9kJtGlaCrzNLX5+qtx9Csxc9Bk56qzdL/5eP/KyP/b2f/9f3/7/v/8vytwM+tvc/p8fONvMK31Nn0+PmozNH/jof/SUH/5+X/W1P/9/f//f1Gk59VlqWv0NX/9/zE3OCuu87g7O6IucCDtr1Zn6llpq9vqrPt8/VWnqfj7vBJmKLm8fL3+/tgoqz/saz/9PSXwsj/DQf/fnZcoat7srqir8aJp7v5+vvw9/eszdP/5/j/+/7/7vq+2d2sydJOmaSrxtDL1+FyrbWgx8ymy9BjpK5SnKbd6ux2r7e82NzA2t6x0db/rKf/lI3/amL/6Ob/eHH/bGT/x8L/hoD/qKL/uLT/NzD/gXn/kIr/8PD/YFj/0M3/Hhb/29j/TUT/6Of/qaT/+/v/nZfK4OOaxMp5sbiEprmsssvN4eTK3+O2w9T7/P3q7vK8ytegscZqp7GvwNC90NnL3OPQ4+aRvsXz+PiiyM7R5Oejyc6VwMb/09H/o53/Qjv/OjL/4N7/Ukn/6uj/JyL/vrv/ran/MSr/Fg//WVBrqLJPlKL/iYL/RT1/pLb/BQGosMhqna3/8fv++P3F0NzT2+SsytKUq8Dx8/a5xdVvnq/f5u3C1Nzn7PDC1t2xxNPG2uD+7/uy0tefxszT5eiR0odwAAAAL3RSTlMA+VOZAZzu1sAMKtv+WFLgZMgPNOO9TOQO9xwIMCT4lS2rkwZOtFCW4nTPIwRe3BKZduUAAAe7SURBVHjazZt3WBRHGMaPdjQJooIdBAUEgVlGDTbwNMcJCQqoKCpSVFBEAdGgIIoFbMSuKBob9mjsidEUe8Heoum9994Ts7t34AM3u9/s7R1773/c3nPvj9n5Zr6Z+UalMkEhLrZBgf4ermpvxMpb7erhHxhk6xKiagx1CbULtkFE2QTbhXaxqLlzgF1nBKizXYCzZdzb2vq2RlRq7Wvb1uz2HfzUSILUfh3M6W7v5YQky8nL3lz2bo7IJDm6mQXhMRPteYTHZNu3c0Ky5NROln0rnyZIppr4tDLdv1MLZAa16GTqsOOAzCQHk4am5mHIbHJtLt2/qQ0yo2yaSrTv6IDMLIeOUvybeSKzy7MZvX8bR2QBObah9W/vjiwi9/Z0/i4tkYXU0oXq/7eYP0tA0QZt3JEF5Q72g2aOyKJyBGKhoyeysDzFxwMHZHE5iI6/qBEkMio3t2kMABvBmck5DDWKXJ2ldICKbkIqm79y3rxNaamp5uoGnUjfXcxASpiy8GL1uZXjpBAQc6RWxPyLodPA3DPLytLoszRSnuiDZACwGlqanzePlsCHkH83kQnAamHyg5WUubJxti6Q/0sCYAZmzMzbRLdeMFr/IDGAQ4XHDmZRIUzZXbCrBw1BgzWTvaMYwIgh4eHhx5bSNcJt/GARzaxUf93ohsQA9odzmjCDmf4aBUKp7j5NZ3SjagA9QCEPEF54+ouXaBphsa6gQmITeCFRgBXhtXqBoSPInA8TeMEhUNcH6gBO0EVDKc6skBIIHZA4AHPA4L+CNh4f4oIFIMGjXRw/CODUYS4Ohnw+gxYgYQ++B47MfnX7X2oIgGGyjuw78rSEIWnJXnwHmibVtXtptggGkKydGJdBTWBrAPC1BACzG1dDA5KvIRFqbRGAcoznQDua+tQoAEkDWNpVSCPrfW8PxlAkBPAAdhIBssKFdLze93IxzgMA7HiAzuYCOFm/BZh8jHcAO9v8/jsyF8AKo9EIzwWagNvdD5UM0N1YX3EALzfMDTCuBnLVUKgLUEbBq8tZ/0+MPk7GeDvcCYLNAPAi1wBHjT6+CEZisEoVYiMfYOR41v+jU8ZJKsb3gGVaiMoFyQfoyjXAPuPPKzHGQI7qIjoR0AK8wvovf4+QH+owvg5NB0HyAU7wGSPpCdsLV4n/fpAqUD7ABA5gBOnJRnAwDFT5ywbgY3Aa8dEsjM+K/76/ykM2AB+D5Hx9AMbbxH/fQ+UqF4CPwe7Tic8eZ8dCYLNCpZYLwMfgYUYIAANpmcpbLgAXg+HvmArgrQKmqwTIn18zCC2YYAAEAQylisEPLAewBPB/nlswvD3DcgCVAMBUrgFOMzIAgE5YShGDHx83HcAbCsMz4gAfcg1wgDEdQA0NRDpxgGkcwBsyAFyhoXhuAhiD7xIf9aID8IAmo0/LwRh8hmSfRAngD03HCzKgGBw/kuRfFUcHEAglJD3yoRicavz5qKQqDSVAEJSSobxK8RgcQtg/TNJoUqroAGyhpBR1e10Q4DmuAfYTHiSVpORo6ABcoLQcLdLViMbgIcKDp1JyBtUCrIPScmBhgtCdDLEYfGsU4cl3OYMm9tUDPJkOLUyApRlC1/cKNMFBDuBNUgyy/v1KeID09GfBpVkoADCu+jbRP4uLwZOkDWQN69/HAJCYCC5Ou0BbSed0lYIxSNw57c36R/IAlxLHbAaX5yqoQC6tYCNhPJ7+PmlFzjfABtZ/Pd8Jb43ZPBbcoAA7AdqFHwrEYCHBP25Dv8jI9cP4ofjW2OhoeIsmAAIYt02XS47Bo4QeOLE/az86kv9jS3R0LLxJ5QyWCVbgvXcbvgF+W8x4RV71Tx/OP4rvAszNSbGT4W060Y1Kw6SM85cwFIrrzb3+YVFR+gYYeiN2cgy8UQlOB+xL+A8nAwSjkjQl324w+I/muyDzR2xMzHCKrdq2cLHkjgKcPEXIm518Nezoz0Z//0jePypH/2BLzGytlmKzWmy7vlbbMf63XOh/Z/2z9f7c648abfBfe2OwVnuNYrte7MCiTmUY63YS3zvb9im8v777RUVqDE9+GKx9In4NzYGFiqZqcSs7tc4y7gj65q/1jxo2sdae+Xm2Nj6+5zdUZ5deNEeN3ViCmRkNBsVecSyBpm9JSUl2dnaJPg/Sq+YXbXzPiAtFVIdW9lS1M/MzWYTkhQk0Acmsvcr5R6yhPLl0ozrwXbANcwg7a2D/K5d5/4hiuoNLyiZAaXM4AjzzUq74qvnK92z34/xpG0D48NroNdznEbBuT8biu6SXUVP+25bLw7nux/qvLqI9vKYLBH5QXJWJa6XL371x1gCDZv395+83r/41KTZm9nB980d8XUx/fC9UwEBKU+cWYCOxuVfiGHby5fy1Bv/VxVIKGARKOMhdYetZsj87+cUMNvhfOF8kqYRDoIhFcHJYtezRq1iXzuZ+df5891v95WdSi1jIZTwiKtq+a86yAt7/Rzb30/uzr//aT+d/LU6VXsZjYiVbao/6oilrclC4lCvM2VqL2ZQv51O+oFH5kk7Fi1qVL+tVvrBZ+dJu5YvblS/vV/6Cg/JXPJS/5GLmaz5hJlzzUf6ik/JXvazgspvy1/2s4MKjFVz5VP7SqxVc+7WGi89WcPXbGi6/W+L6//8p8yU0/kNpSgAAAABJRU5ErkJggg==";
    //群组系统默认头像 256 * 256
    DataConfig.QZ_HUIBASE64_LARGE = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAACr1BMVEUAAAA8kJo/kZo/n58/lJQ8kJo8j5s7kJo7j5s8j5s6j5k6j5o8kJkqf6o7kJs8j5o8j5o9jptEiJk8kJo+jZkAf387kJo7j5s8j5o9kJk4jZs8kJs7j5oA//87j5s6jpw2kaM8j5s7j5s7j5s7kJs7kJo8j5w7kJo7kJo7kZw8kJs/f387j5o6kZk8jpo8kZ07kJs8j5s7jpo7j5s8kJv///9Kl6HF3eD8/f1OmaP0+PlkpK49kJtAkp39/v7O4uVGlaCKusBLmKLg7O75+/vd6uz+//9sqbFWnqdClJ6Et77y9/js8/Q9kZzq8vNYn6hGlZ/W6OnS5ejC297f7O1NmKOx0da92dxBk51qqLBPmqR2rrbZ6Or0+fn6+/xFlJ/I3+JSnKWv0NXw9vfr8/TJ3+JHlqBgo6yDtr231dm00tddoqukyc9vqrRQmqSz09eCtr3C29+21Nj7/P1doatvqrLb6uxrqLK/2t57srmHucBxq7Vkpq9qp7FDlJ/z+PmVwcdQm6Xx9/fh7e9Ck56pzNGcxMqFt77u9PV/s7ulytD+/v6+2d3Z6OysztOOvcOVwMZIl6Hm8PKWwcd4sLhVnafE3eCTv8W61to+kZzP4+Z7sbmPvcRcoapRm6W719uaxMplpa/R5Od3r7dpp7Hi7u+lys/N4eTT5eigx8z1+frV5+jQ5OWGuL/3+/uOvMNjpa7A2d2jyc7G3uGAtLxzrbW51tp5sLjH3uKLusHB2t7D3N/a6evc6evI4OObw8lio62fxsxxrLTW5url7/GMu8Ls8/X2+vrk7/Goy9ChyM1mp67E3ODt9PXK4OPU5uni7e9sqbO41dmXwsje6+3Y6OqrzdLv9fZyrLTX5+nG3eHk7/C109hSnKaZw8mdxcqQvsSNvMJYn6m92d1UnKbTg+u6AAAANHRSTlMA2xwIDPmZ1sDuTjBYBsj+k2QPTC0Cm+PgUyTk9wH4NA6clVK9tFCW4nTPBF4jVCqr3CusrfpczwAABnxJREFUeNrNW/dfFEcUX5AuTZpgoXeQYmbwDsLRFSKggiAKBo1RASmxxkRj7L3E3nvsmt577733/oeEdlu43Xlvhz32vr/d7Nv5fm8/U95780YQOJCRnZWWkhTo5htNehHt6xaYlJKWlZ0hjAQmZXqlexJVeKZ7ZU5yKrlHslcqAZDqlezhHPZRUTkTCAoTcqJGGU4fFuxLdMA3OMxI9omhPkQ3fEInGkQf7u9NuODtH24EfwInfb+EhGHTj/Yhw4LP6GHRx8YHkWEiKD6Wn99vLDEAY/14l504YhDiuJammFxiGNxi9POP8SQGwnOMTvqACGIwIgL08IckEsORGILnd/cmToC3O5Z/XCRxCiLH4fgnjydOwvjJqP/vNP5eBYhv4B5JnIhIcByEeBOnwhuYCwGJxMlIZK8HEcTpiGCuv2QEwFiVYzxHQoCn5s7kkUtGBG5auzN6/5+Zd/fw/AMN/wfzrvXlp7+yUUo/KLqxnl+Bqo8Ui/C/1q+1UAkVJTW8XpqanxgPvtZwYipVouxrTgXxKv436P927aQO2PMM32gIcvTWQf//HgtVw2dNfPGCQ/wDvbFjD1XHs4VcCobETOHQHrTOQrXQwbcrKeNGf2j2LaLaeJhLgb8i/oY+wHIGP81fyPUJ5NF7KGD8DmXiG65PEKpjCtxiC5i6SrSstPJMhDDAdC4F0ChNVlrbMw2pQMriBAOW7ZCA+VvtpoW1vT8vFaAEBIv5LyD/VDgdEkBPi8Z/9v20bccskL72XFoUYPg4yE/vE42XDTScP4lQEDUoIAewewwW8LpkfWWg5QXEN8gZdISg/OMKWMC9Et1vg02HERnNAdcoGbI7BQug0lp0fLBl5VJYQXK/AC/IrAIh4CnRerW9qQgW4NUvAMw/v4cQ8KBofVZsWw0KSO3Pv4NmZQgBF0XreWLbXvgT9GX3M0GrFoSAZaL1BmlktoJdZ2KGADmGELBEtM6TGl9EDYJ00GobzL9Tsq6UWq+CXacLQgYcjj0AC1ggWU+TWl+Fw7QMIRseKedgARck6xKptQXuO1vIQqzZs3SMQbJfFjbAXWcJaQgBhyH+CvVlazbcdZqQghBQ+gQg4H3Jdp4sevoS7jpFSMK4DvvZ/PdXqW+d9XDPSUIgRkDpo0wBcr98jaz9E7jnQMEN5T2VsPiLZFt/s/xBMyJZISCPA+u1+TcfldnVyR6UVyHcMiEamRRZo8Vv6ZJHsPInJxD9RgtYL946W4P/IbnRj/JHj2D6RQsgDbfV+Kf/JDOpuSZ/9BIxVgApvGpz4L/+j9ziB4WbeNZoAYRcLFLSV/+tSBJdUDw8g+sTOwjtIUK7GKRYbt8ZMsqL236xqUQKwCDUdSpPyJKlf3W8cX3WtX9vdHWreP4LOwcF9pzE9eeLXIj6/+DlzsW18o9881bPnf8crN6e37c4t3Ujs6a4pbh3jzlzyqY6DX/9+NMhpt3n+0P27/84RzBLMWozWveKhbEUf3dgptL89EBCx1Y/F7EZIbbj50GHZPO3GxRv/P7z4IMvoPAoBXZIZixGOMW0epfipdYF9rmyuwlwSCCX7Hg5xeFYqfy1JlH2a5Vsl4ztlBYvp2jUKtb+1n329kUFTKeU6ZZbW6gOlB+Rv1uZLyZw3mK55azApGEL1QXFzkielFw2KyMwYYRmVe9SnSiXz7saaQOfwgrNtIPTRqob1aXq3kkzIzjVDM8vUw7MkXWwVXJl6xjhuVaConALjwBZpoKQtVLzDO0EhdYg2MHFr0jMbJSaDzBSNBpJqjo+AfL/eoQC7kEyI023iZOfbleN1Ocw0nTCXZxJATBVUEDZEzGHlart5BXwOV5AFCtZvYJXgAUtQExWq6brp/AKkOWrAAHBzAMLfgF5WAFhzCMbIwSwZ4EP+9DKCAFtUuNG9qGVyrGdEQI6xLYrxexjO5WDSwMEHKzOH8ChRitwcKlydNtuwDTUcXTreHj9Jq+AMpyABOj4fhWvgN16Ty21Chj28vHfRB2dqhQwOJRwWA9xCdiF+gDxmCKWo/v003/4HIpftYjFsYynsOTSSl30H23bhBuBfvhCpoN5eKBrOeJMLuXK9XDVYjbzy/nML2g0v6TT9KJW88t6zS9sNr+02/zidvPL+82/4GD+FQ/zL7kYfM0nl+Oaj/kXncy/6uUCl93Mv+7nAhceXeDKp/mXXl3g2q8rXHx2gavfrnD53RnX//8Hf4uh2AvXD4oAAAAASUVORK5CYII=";
    DataConfig.REPEATIMG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAFCAYAAAAkG+5xAAAAfUlEQVQokcXSsQoCQQxF0TPLFmolypSC1v7/z9hY2IjgNqJoY2wshlHBAcE0ySUkeQlJEeEHNsbq6c/Y4vZNYYqIBeaNA4/YFbzGqOATNgUvMX3Xp0dGahSQCwFdNRwmRdz5vGDuscesQURgKPiOayXiUuUPXi8QGNK/f+ABMIYfLaWIwo0AAAAASUVORK5CYII=";
    //帮助
    DataConfig.helps = [
        "在主界面左划是列表模式，右划可以弹出菜单。",
        "可以语音创建活动，比如说：安排小飞明天上午来公司开会。",
        "说：小吉，你好。 可以唤出语音。",
        "说：我今天有什么安排。可以看到今天安排的内容。",
        "长按月模式下的日期可以快速创建活动。",
        "你可以在活动日历中给你的活动创建一个归类。",
        "月模式上的颜色越深表示你越忙。",
        "你的朋友给的活动，你只可以修改备注和提醒的时间，当然不喜欢的话可以删除掉活动。",
        "如果有人不断给你发你不喜欢的活动，可以点击头像把他（她）放黑名单试试。",
        "我还能帮你查询天气。",
        "你可以发送活动给你的朋友，这些朋友都是你手机通讯录里的人。",
        "文字输入和语音其实是一样的，只不过语音输入更加便捷。",
        "如果你每次分享活动的时候选择朋友太多，创建一个群组可以快速选择一群朋友。",
    ];
    return DataConfig;
}());

//# sourceMappingURL=data.config.js.map

/***/ }),
/* 10 */,
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EmitService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return ScdLsEmData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return ScdEmData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return FriendEmData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return SpeechEmData; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

/**
 * 数据传递广播处理类
 */
var EmitService = (function () {
    function EmitService() {
        //新消息透传(共享数据 入库)
        this.scdedEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        //查询数据透传(语音界面返回显示)
        this.scdLsEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        //语音播报透传 （语音播报内容）
        this.speechEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        //新建修改删除 （语音界面使用）
        this.scdEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        //主页选择时间后，Ls更新
        this.selectDateEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        //新消息点击后
        this.newMessageClickEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        //新日程增加修改删除信息消息刷新
        this.refEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        //语音播放或结束事件
        this.speakEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        //语音播放或结束事件
        this.listenerEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        //新日程增加修改删除信息消息刷新
        this.immediatelyEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        console.log("EmitService initialized.");
    }
    EmitService_1 = EmitService;
    EmitService.prototype.registerImmediately = function (callback) {
        if (this.immediatelyEm.closed) {
            this.immediatelyEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        }
        this.immediatelyEm.subscribe(function ($data) {
            callback($data);
        });
    };
    ;
    EmitService.prototype.emitImmediately = function ($data) {
        if (!this.immediatelyEm.isStopped) {
            this.immediatelyEm.emit($data);
        }
    };
    EmitService.prototype.destroyImmediately = function () {
        this.immediatelyEm.unsubscribe();
    };
    //冥王星内建事件订阅
    EmitService.prototype.register = function (handler, callback) {
        var el = EmitService_1.buildinEvents.get(handler);
        //事件不存在，创建并加入管理
        if (!el) {
            el = new Array();
        }
        var ee = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        //订阅事件回调
        ee.subscribe(function ($data) {
            callback($data);
        });
        el.push(ee);
        EmitService_1.buildinEvents.set(handler, el);
        return ee;
    };
    //冥王星内建事件触发
    EmitService.prototype.emit = function (handler, $data) {
        if ($data === void 0) { $data = {}; }
        var emitted = 0;
        var el = EmitService_1.buildinEvents.get(handler);
        //事件不存在直接返回
        if (!el || el.length < 1) {
            return emitted;
        }
        //普通事件
        if (el && el.length > 0) {
            for (var _i = 0, el_1 = el; _i < el_1.length; _i++) {
                var ee = el_1[_i];
                if (!ee.isStopped) {
                    ee.emit($data);
                    emitted++;
                }
            }
        }
        return emitted;
    };
    //冥王星内建事件注销
    EmitService.prototype.destroy = function (handler) {
        var el = EmitService_1.buildinEvents.get(handler);
        //事件不存在直接返回
        if (!el || el.length < 1) {
            return;
        }
        for (var _i = 0, el_2 = el; _i < el_2.length; _i++) {
            var ee = el_2[_i];
            ee.unsubscribe();
        }
        //从管理中移除当前事件
        EmitService_1.buildinEvents.delete(handler);
    };
    EmitService.prototype.registerListener = function (callback) {
        if (this.listenerEm.closed) {
            this.listenerEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        }
        this.listenerEm.subscribe(function ($data) {
            callback($data);
        });
    };
    ;
    EmitService.prototype.emitListener = function ($data) {
        if (!this.listenerEm.isStopped) {
            this.listenerEm.emit($data);
        }
    };
    EmitService.prototype.destroyListener = function (emit) {
        this.listenerEm.unsubscribe();
    };
    EmitService.prototype.registerSpeak = function (callback) {
        if (this.speakEm.closed) {
            this.speakEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        }
        this.speakEm.subscribe(function ($data) {
            callback($data);
        });
    };
    ;
    EmitService.prototype.emitSpeak = function ($data) {
        if (!this.speakEm.isStopped) {
            this.speakEm.emit($data);
        }
    };
    EmitService.prototype.destroySpeak = function (emit) {
        this.speakEm.unsubscribe();
    };
    EmitService.prototype.registerRef = function (callback) {
        if (this.refEm.closed) {
            this.refEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        }
        this.refEm.subscribe(function ($data) {
            callback($data);
        });
    };
    ;
    EmitService.prototype.emitRef = function ($data) {
        if (!this.refEm.isStopped) {
            this.refEm.emit($data);
        }
    };
    EmitService.prototype.destroyRef = function (emit) {
        this.refEm.unsubscribe();
    };
    EmitService.prototype.registerNewMessageClick = function (callback) {
        if (this.newMessageClickEm.closed) {
            this.newMessageClickEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        }
        this.newMessageClickEm.subscribe(function ($data) {
            callback($data);
        });
    };
    ;
    EmitService.prototype.emitNewMessageClick = function ($data) {
        if (!this.newMessageClickEm.isStopped) {
            this.newMessageClickEm.emit($data);
        }
    };
    EmitService.prototype.destroyNewMessageClick = function (emit) {
        this.newMessageClickEm.unsubscribe();
    };
    EmitService.prototype.registerSelectDate = function (callback) {
        if (this.selectDateEm.closed) {
            this.selectDateEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        }
        this.selectDateEm.subscribe(function ($data) {
            callback($data);
        });
    };
    ;
    EmitService.prototype.emitSelectDate = function ($data) {
        if (!this.selectDateEm.isStopped) {
            this.selectDateEm.emit($data);
        }
    };
    EmitService.prototype.destroySelectDate = function (emit) {
        this.selectDateEm.unsubscribe();
    };
    EmitService.prototype.registerScded = function (callback) {
        if (this.scdedEm.closed) {
            this.scdedEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        }
        this.scdedEm.subscribe(function ($data) {
            callback($data);
        });
    };
    ;
    EmitService.prototype.emitScded = function ($data) {
        if (!this.scdedEm.isStopped) {
            this.scdedEm.emit($data);
        }
    };
    EmitService.prototype.destroyScded = function (emit) {
        this.scdedEm.unsubscribe();
    };
    EmitService.prototype.registerScdLs = function (callback) {
        if (this.scdLsEm.closed) {
            this.scdLsEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        }
        this.scdLsEm.subscribe(function ($data) {
            callback($data);
        });
    };
    ;
    EmitService.prototype.emitScdLs = function ($data) {
        if (!this.scdLsEm.isStopped) {
            this.scdLsEm.emit($data);
        }
    };
    EmitService.prototype.destroyScdLs = function (emit) {
        this.scdLsEm.unsubscribe();
    };
    EmitService.prototype.registerSpeech = function (callback) {
        if (this.speechEm.closed) {
            this.speechEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        }
        this.speechEm.subscribe(function ($data) {
            callback($data);
        });
    };
    ;
    EmitService.prototype.emitSpeech = function ($data) {
        if (!this.speechEm.isStopped) {
            this.speechEm.emit($data);
        }
    };
    EmitService.prototype.destroySpeech = function (emit) {
        this.speechEm.unsubscribe();
    };
    EmitService.prototype.registerScd = function (callback) {
        if (this.scdEm.closed) {
            this.scdEm = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        }
        this.scdEm.subscribe(function ($data) {
            callback($data);
        });
    };
    ;
    EmitService.prototype.emitScd = function ($data) {
        if (!this.speechEm.isStopped) {
            this.scdEm.emit($data);
        }
    };
    EmitService.prototype.destroyScd = function (emit) {
        this.scdEm.unsubscribe();
    };
    //冥王星内建事件订阅/触发管理
    //同一个事件可以被多个调用注册
    EmitService.buildinEvents = new Map();
    EmitService = EmitService_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], EmitService);
    return EmitService;
    var EmitService_1;
}());

var ScdLsEmData = (function () {
    function ScdLsEmData() {
        this.desc = "";
        this.scdTip = "";
        this.datas = new Array();
    }
    return ScdLsEmData;
}());

var ScdEmData = (function () {
    function ScdEmData() {
        this.id = "";
        this.d = "";
        this.t = "";
        this.ti = "";
        this.gs = "";
        this.scdTip = "";
        this.datas = new Array();
    }
    return ScdEmData;
}());

var FriendEmData = (function () {
    function FriendEmData() {
        this.id = "";
        this.n = "";
        this.m = "";
        this.p = "";
        this.a = "";
        this.uid = "";
    }
    return FriendEmData;
}());

var SpeechEmData = (function () {
    function SpeechEmData() {
        this.an = "";
        this.org = "";
    }
    return SpeechEmData;
}());

//# sourceMappingURL=emit.service.js.map

/***/ }),
/* 12 */,
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SqliteExec; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ionic_native_sqlite_porter__ = __webpack_require__(492);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config_sqlite_config__ = __webpack_require__(217);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_log_tbl__ = __webpack_require__(104);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__config_data_config__ = __webpack_require__(9);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






/**
 * create by on 2019/3/5
 */
var SqliteExec = (function () {
    function SqliteExec(sqlliteConfig, sqlitePorter, util) {
        this.sqlliteConfig = sqlliteConfig;
        this.sqlitePorter = sqlitePorter;
        this.util = util;
    }
    /**
     * 执行语句
     */
    SqliteExec.prototype.execSqllog = function (sql, nolog, params) {
        var _this = this;
        if (params === void 0) { params = []; }
        return new Promise(function (resolve, reject) {
            var log = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_log_tbl__["a" /* LogTbl */]();
            log.id = _this.util.getUuid();
            log.su = sql;
            log.ss = new Date().valueOf();
            log.t = 0;
            if (params && params.length > 0) {
                for (var j = 0, len = params.length; j < len; j++) {
                    if (params[j] != "") {
                        if (!params[j] || params[j] == 'undefined') {
                            params[j] = null;
                        }
                    }
                }
            }
            _this.sqlliteConfig.database.transaction(function (tx) {
                tx.executeSql(sql, params, function (tx, res) {
                    if (!nolog) {
                        log.ss = new Date().valueOf() - log.ss;
                        log.st = true;
                        _this.noteLog(log);
                    }
                    resolve(res);
                }, function (tx, err) {
                    if (!nolog) {
                        log.ss = new Date().valueOf() - log.ss;
                        log.st = true;
                        _this.noteLog(log);
                    }
                    console.log("sql [" + sql + "] params [" + (params ? params.join(",") : "") + "] log error :" + err.message);
                    resolve(err);
                });
            });
        });
    };
    /**
     * 执行语句
     */
    SqliteExec.prototype.execSql = function (sql, params) {
        if (params === void 0) { params = []; }
        return this.execSqllog(sql, true, params);
    };
    /**
     * 创建表
     * @param et 对应实体类
     * @returns {Promise<any>}
     */
    SqliteExec.prototype.create = function (itbl) {
        return this.execSql(itbl.cT());
    };
    /**
     * 删除表
     * @param et 对应实体类
     * @returns {Promise<any>}
     */
    SqliteExec.prototype.drop = function (itbl) {
        return this.execSql(itbl.drT());
    };
    /**
     * 保存
     * @param et 对应实体类
     * @returns {Promise<any>}
     */
    SqliteExec.prototype.save = function (itbl) {
        var arr = new Array();
        for (var field in itbl) {
            arr.push(itbl[field]);
        }
        return this.execSql(itbl.inT());
    };
    /**
     * 预编译保存
     * @param et 对应实体类
     * @returns {Promise<any>}
     */
    SqliteExec.prototype.prepareSave = function (itbl) {
        var params = new Array();
        for (var field in itbl) {
            var val = itbl[field];
            if (typeof val !== 'function') {
                params.push(val);
            }
        }
        return this.execSql(itbl.preT(), params);
    };
    /**
     * 更新
     */
    SqliteExec.prototype.update = function (itbl) {
        return this.execSql(itbl.upT());
    };
    /**
     * 删除
     * @param param
     * @returns {Promise<any>}
     */
    SqliteExec.prototype.delete = function (itbl) {
        return this.execSql(itbl.dT());
    };
    /**
     * 查询
     * @param t
     * @returns {Promise<T>}
     */
    SqliteExec.prototype.getList = function (itbl) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.execSql(itbl.slT()).then(function (data) {
                var arr = new Array();
                if (data.rows && data.rows.length > 0) {
                    for (var j = 0, len = data.rows.length; j < len; j++) {
                        arr.push(data.rows.item(j));
                    }
                }
                resolve(arr);
            });
        });
    };
    /**
     * sql字符串查询
     * @param t
     * @returns {Promise<T>}
     */
    SqliteExec.prototype.getExtList = function (sql) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var arr = new Array();
            //console.log("getExtList执行SQL："+sql);
            _this.execSql(sql).then(function (data) {
                if (data && data.rows && data.rows.length > 0) {
                    for (var j = 0, len = data.rows.length; j < len; j++) {
                        arr.push(data.rows.item(j));
                    }
                }
                resolve(arr);
            }).catch(function (e) {
                console.log("getExtList [" + sql + "] without params log error :" + JSON.stringify(e));
                resolve(arr);
            });
        });
    };
    /**
     * 根据ID查询
     * @param t
     * @returns {Promise<T>}
     */
    SqliteExec.prototype.getOne = function (itbl) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            return _this.execSql(itbl.sloT()).then(function (data) {
                if (data.rows && data.rows.length > 0) {
                    resolve(data.rows.item(0));
                }
                else {
                    resolve(null);
                }
            });
        });
    };
    /**
     * 根据ID查询
     * @param t
     * @returns {Promise<T>}
     */
    SqliteExec.prototype.getExtOne = function (sql) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            //console.log("getExtOne执行SQL："+sql);
            return _this.execSql(sql).then(function (data) {
                if (data.rows && data.rows.length > 0) {
                    //console.log(data);
                    resolve(data.rows.item(0));
                }
                else {
                    resolve(null);
                }
            });
        });
    };
    /**
     * 表数据替换
     * @param t
     * @returns {Promise<T>}
     */
    SqliteExec.prototype.replaceT = function (itbl) {
        return this.execSql(itbl.rpT());
    };
    SqliteExec.prototype.batExecSql = function (sqlist) {
        return __awaiter(this, void 0, void 0, function () {
            var sql_1, j, len, count, j, len;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.util.isMobile()) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.sqlliteConfig.database.sqlBatch(sqlist)];
                    case 1: 
                    //console.log("========= 批量出入SQL："+sqlist)
                    return [2 /*return*/, _a.sent()];
                    case 2:
                        if (!this.util.hasCordova()) return [3 /*break*/, 3];
                        sql_1 = "";
                        for (j = 0, len = sqlist.length; j < len; j++) {
                            sql_1 = sql_1 + sqlist[j];
                        }
                        return [2 /*return*/, this.sqlitePorter.importSqlToDb(this.sqlliteConfig.database, sql_1).catch(function (error) {
                                console.log("batExecSql [" + sql_1 + "] without params log error :" + JSON.stringify(error));
                            })];
                    case 3:
                        count = 0;
                        j = 0, len = sqlist.length;
                        _a.label = 4;
                    case 4:
                        if (!(j < len)) return [3 /*break*/, 7];
                        if (!(sqlist[j] != null && sqlist[j] != '')) return [3 /*break*/, 6];
                        count++;
                        return [4 /*yield*/, this.execSql(sqlist[j])];
                    case 5:
                        _a.sent();
                        return [3 /*break*/, 6];
                    case 6:
                        j++;
                        return [3 /*break*/, 4];
                    case 7: return [2 /*return*/, count];
                }
            });
        });
    };
    /**
     * 批量执行
     * @param arrLen
     * @param {Array<string>} sqlist
     * @returns {Promise<any[]>}
     */
    // batchPromiseSql(arrLen,sqlist: Array<string>){
    //   let pro:Array<Promise<any>> = new Array<Promise<any>>();
    //   if(sqlist.length>arrLen){
    //     let len = sqlist.length/arrLen;
    //     len =Number(len.toString().split('.')[0]);
    //     for(let i=0;i<arrLen;i++){
    //       let sqla = new Array<string>();
    //       if(i==arrLen-1){
    //         sqla = sqlist.slice(i*len,sqlist.length);
    //       }else{
    //         sqla = sqlist.slice(i*len,i*len+len);
    //       }
    //       pro.push(this.batExecSql(sqla));
    //     }
    //   }
    //   return Promise.all(pro).then(values =>{
    //       // 返回的values由 promiseX 与 promiseY返回的值所构成的数组。
    //       console.log('batchPromiseSql:'+JSON.stringify(values));
    //     })
    // }
    //插入日志
    SqliteExec.prototype.noteLog = function (log) {
        if (__WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].isdebug && __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].islog) {
            this.execSqllog(log.inT(), true);
        }
    };
    //查看日志
    SqliteExec.prototype.getLogs = function (log) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var sql = "select id,su,ss,t,st,er,wtt from gtd_log where 1 = 1 ";
            if (log.su) {
                sql = sql + (" and su = \"" + log.su + "\"");
            }
            if (log.ss) {
                sql = sql + (" and ss > " + log.ss);
            }
            if (log.t) {
                sql = sql + (" and t >= " + log.t);
            }
            sql = sql + (" and st = " + (log.st ? 1 : 0));
            if (log.searchs) {
                sql = sql + (" and wtt >= " + log.searchs);
            }
            if (log.searche) {
                sql = sql + (" and wtt <= " + log.searchs);
            }
            sql = sql + " order by wtt desc";
            _this.execSqllog(sql, true).then(function (data) {
                var arr = new Array();
                if (data.rows && data.rows.length > 0) {
                    for (var j = 0, len = data.rows.length; j < len; j++) {
                        arr.push(data.rows.item(j));
                    }
                }
                resolve(arr);
            });
        });
    };
    SqliteExec.prototype.sqliteEscape = function (keyword) {
        return keyword.replace(/\//g, '//');
    };
    /**
     * 批量快速保存数据Paramer方式
     * @param {Array<ITblParam>} datas
     * @returns {Array<any>}
     */
    SqliteExec.prototype.getFastSaveSqlByParam = function (datas) {
        var sqlparams = new Array();
        var paramscount = 0;
        var sql = "";
        var params = new Array();
        for (var _i = 0, datas_1 = datas; _i < datas_1.length; _i++) {
            var data = datas_1[_i];
            var fastparam = data.fastParam();
            paramscount += fastparam[2].length;
            if (paramscount > 999) {
                sqlparams.push([sql, params]);
                paramscount = fastparam[2].length;
                sql = "";
                params = new Array();
            }
            if (sql == "") {
                sql += fastparam[0];
                sql += " ";
                sql += fastparam[1];
            }
            else {
                sql += " union all ";
                sql += fastparam[1];
            }
            for (var _a = 0, _b = fastparam[2]; _a < _b.length; _a++) {
                var param = _b[_a];
                params.push(param);
            }
        }
        if (sql != "") {
            sqlparams.push([sql, params]);
        }
        return sqlparams;
    };
    /**
     * 创建表Paramer方式
     * @param {ITblParam} itp
     * @returns {Promise<any>}
     */
    SqliteExec.prototype.createByParam = function (itp) {
        return this.execSql(itp.cTParam());
    };
    /**
     * 删除表Paramer方式
     * @param {ITblParam} itp
     * @returns {Promise<any>}
     */
    SqliteExec.prototype.dropByParam = function (itp) {
        return this.execSql(itp.drTParam());
    };
    /**
     * 保存Paramer方式
     * @param {ITblParam} itp
     * @returns {Promise<any>}
     */
    SqliteExec.prototype.saveByParam = function (itp) {
        var doit = Array();
        doit = itp.inTParam();
        var sq = doit[0];
        var params = doit[1];
        return this.execSql(sq, params);
    };
    /**
     * 更新Paramer方式
     * @param {ITblParam} itp
     * @returns {Promise<any>}
     */
    SqliteExec.prototype.updateByParam = function (itp) {
        var doit = Array();
        doit = itp.upTParam();
        var sq = doit[0];
        var params = doit[1];
        return this.execSql(sq, params);
    };
    /**
     * 删除paramer方式
     * @param param
     * @returns {Promise<number>}
     */
    SqliteExec.prototype.delByParam = function (itp) {
        var doit = Array();
        doit = itp.dTParam();
        var sq = doit[0];
        var params = doit[1];
        return this.execSql(sq, params);
    };
    /**
     * 查询param方式
     * @param {ITblParam} itp
     * @returns {Promise<Array<T>>}
     */
    SqliteExec.prototype.getLstByParam = function (itp) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var doit = Array();
            doit = itp.slTParam();
            var sq = doit[0];
            var params = doit[1];
            _this.execSql(sq, params).then(function (data) {
                var arr = new Array();
                if (data.rows && data.rows.length > 0) {
                    for (var j = 0, len = data.rows.length; j < len; j++) {
                        var tmpT = {};
                        Object.assign(tmpT, data.rows.item(j));
                        arr.push(tmpT);
                        //arr.push(data.rows.item(j));
                    }
                }
                resolve(arr);
            });
        });
    };
    /**
     * sql字符串复杂查询param方式
     * @param {string} sql
     * @param {Array<any>} params
     * @returns {Promise<Array<T>>}
     */
    SqliteExec.prototype.getExtLstByParam = function (sql, params) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var arr = new Array();
            //console.log("getExtList执行SQL："+sql);
            _this.execSql(sql, params).then(function (data) {
                if (data && data.rows && data.rows.length > 0) {
                    for (var j = 0, len = data.rows.length; j < len; j++) {
                        var tmpT = {};
                        Object.assign(tmpT, data.rows.item(j));
                        arr.push(tmpT);
                        //arr.push(data.rows.item(j));
                    }
                }
                resolve(arr);
            }).catch(function (e) {
                console.log("getExtLstByParam [" + sql + "] params [" + (params ? params.join(",") : "") + "] log error :" + JSON.stringify(e));
                resolve(arr);
            });
        });
    };
    /**
     * 根据ID查询 param方式
     * @param {ITblParam} itp
     * @returns {Promise<T>}
     */
    SqliteExec.prototype.getOneByParam = function (itp) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var doit = Array();
            doit = itp.sloTParam();
            var sq = doit[0];
            var params = doit[1];
            return _this.execSql(sq, params).then(function (data) {
                if (data.rows && data.rows.length > 0) {
                    var tmpT = {};
                    Object.assign(tmpT, data.rows.item(0));
                    resolve(tmpT);
                }
                else {
                    resolve(null);
                }
            });
        });
    };
    /**
     * 查询复杂sql返回单条记录 param方式
     * @param {string} sql
     * @param {Array<any>} params
     * @returns {Promise<T>}
     */
    SqliteExec.prototype.getExtOneByParam = function (sql, params) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            return _this.execSql(sql, params).then(function (data) {
                if (data.rows && data.rows.length > 0) {
                    var tmpT = {};
                    Object.assign(tmpT, data.rows.item(0));
                    resolve(tmpT);
                    //resolve(data.rows.item(0));
                }
                else {
                    resolve(null);
                }
            });
        });
    };
    /**
     * 表数据替换 param方式
     * @param {ITblParam} itp
     * @returns {Promise<any>}
     */
    SqliteExec.prototype.repTByParam = function (itp) {
        var doit = Array();
        doit = itp.rpTParam();
        var sq = doit[0];
        var params = doit[1];
        return this.execSql(sq, params);
    };
    /**
     * 批量处理param方式
     * @param {Array<any>} sqlist
     * @returns {Promise<any>}
     */
    SqliteExec.prototype.batExecSqlByParam = function (sqlist) {
        return __awaiter(this, void 0, void 0, function () {
            var count, j, len;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.util.isMobile()) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.sqlliteConfig.database.sqlBatch(sqlist)];
                    case 1: 
                    //console.log("========= 批量出入SQL："+sqlist);
                    return [2 /*return*/, _a.sent()];
                    case 2:
                        count = 0;
                        j = 0, len = sqlist.length;
                        _a.label = 3;
                    case 3:
                        if (!(j < len)) return [3 /*break*/, 8];
                        count++;
                        if (!(typeof sqlist[j] == 'string')) return [3 /*break*/, 5];
                        //console.log("========= 批量出入SQL："+sqlist[j]);
                        return [4 /*yield*/, this.execSql(sqlist[j])];
                    case 4:
                        //console.log("========= 批量出入SQL："+sqlist[j]);
                        _a.sent();
                        return [3 /*break*/, 7];
                    case 5: 
                    //console.log("========= 批量出入SQL："+sqlist[j][0] + " : " + sqlist[j][1]);
                    return [4 /*yield*/, this.execSql(sqlist[j][0], sqlist[j][1])];
                    case 6:
                        //console.log("========= 批量出入SQL："+sqlist[j][0] + " : " + sqlist[j][1]);
                        _a.sent();
                        _a.label = 7;
                    case 7:
                        j++;
                        return [3 /*break*/, 3];
                    case 8: return [2 /*return*/, count];
                }
            });
        });
    };
    SqliteExec = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__config_sqlite_config__["a" /* SqliteConfig */], __WEBPACK_IMPORTED_MODULE_1__ionic_native_sqlite_porter__["a" /* SQLitePorter */],
            __WEBPACK_IMPORTED_MODULE_2__util_service_util_service__["a" /* UtilService */]])
    ], SqliteExec);
    return SqliteExec;
}());

//# sourceMappingURL=sqlite.exec.js.map

/***/ }),
/* 14 */,
/* 15 */,
/* 16 */,
/* 17 */,
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return EventType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "w", function() { return PlanType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "v", function() { return PlanItemType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "y", function() { return SelfDefineType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "u", function() { return PlanDownloadType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "t", function() { return PageDirection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "q", function() { return ObjectType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "C", function() { return SyncType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return DelType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return GsType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "s", function() { return OverType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return CycleType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "x", function() { return RepeatFlag; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return ConfirmType; });
/* unused harmony export OpenWay */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "p", function() { return ModiPower; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CompleteState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "j", function() { return InviteState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return InvitePowr; });
/* unused harmony export RemindTime */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "l", function() { return IsSuccess; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "k", function() { return IsCreate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "m", function() { return IsWholeday; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return Err; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "r", function() { return OperateType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "n", function() { return MemberShareState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "A", function() { return SyncDataSecurity; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "B", function() { return SyncDataStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "D", function() { return ToDoListStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return EventFinishStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "z", function() { return StatusType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "o", function() { return ModalTranType; });
//事件类型
var EventType;
(function (EventType) {
    EventType["Agenda"] = "0";
    EventType["Task"] = "1";
    EventType["MiniTask"] = "2";
})(EventType || (EventType = {}));
var PlanType;
(function (PlanType) {
    PlanType["CalendarPlan"] = "0";
    PlanType["ActivityPlan"] = "1";
    PlanType["PrivatePlan"] = "2";
})(PlanType || (PlanType = {}));
var PlanItemType;
(function (PlanItemType) {
    PlanItemType["Holiday"] = "0";
    PlanItemType["Activity"] = "1";
    PlanItemType["Weather"] = "2";
})(PlanItemType || (PlanItemType = {}));
var SelfDefineType;
(function (SelfDefineType) {
    SelfDefineType["System"] = "0";
    SelfDefineType["Define"] = "1";
})(SelfDefineType || (SelfDefineType = {}));
var PlanDownloadType;
(function (PlanDownloadType) {
    PlanDownloadType["NO"] = "0";
    PlanDownloadType["YES"] = "1";
})(PlanDownloadType || (PlanDownloadType = {}));
// 翻页控制
var PageDirection;
(function (PageDirection) {
    PageDirection["PageUp"] = "up";
    PageDirection["PageInit"] = "init";
    PageDirection["PageDown"] = "down";
})(PageDirection || (PageDirection = {}));
var ObjectType;
(function (ObjectType) {
    ObjectType["Event"] = "event";
    ObjectType["Memo"] = "memo";
    ObjectType["Calendar"] = "calendar";
    ObjectType["CalendarPlan"] = "plan";
})(ObjectType || (ObjectType = {}));
//是否同步
var SyncType;
(function (SyncType) {
    SyncType["unsynch"] = "unsynch";
    SyncType["synch"] = "synch";
})(SyncType || (SyncType = {}));
//是否删除
var DelType;
(function (DelType) {
    DelType["undel"] = "undel";
    DelType["del"] = "del";
})(DelType || (DelType = {}));
//事件归属
var GsType;
(function (GsType) {
    //自己
    GsType["self"] = "0";
    //他人
    GsType["him"] = "1";
    //系统
    GsType["sys"] = "2";
    //共享待接受缓存
    GsType["waitin"] = "3";
    //共享待删除
    GsType["waitdel"] = "4";
})(GsType || (GsType = {}));
//重复结束选项
var OverType;
(function (OverType) {
    //永不
    OverType["fornever"] = "fornever";
    //截止次数
    OverType["times"] = "times";
    //截止时间
    OverType["limitdate"] = "limitdate";
})(OverType || (OverType = {}));
//重复类型选项
var CycleType;
(function (CycleType) {
    CycleType["close"] = "close";
    CycleType["day"] = "1";
    CycleType["week"] = "2";
    CycleType["month"] = "3";
    CycleType["year"] = "4";
})(CycleType || (CycleType = {}));
//记录标志
var RepeatFlag;
(function (RepeatFlag) {
    RepeatFlag["NonRepeat"] = "0";
    RepeatFlag["Repeat"] = "1";
    RepeatFlag["RepeatToOnly"] = "2";
})(RepeatFlag || (RepeatFlag = {}));
//修改确认类型
var ConfirmType;
(function (ConfirmType) {
    ConfirmType["None"] = "None";
    ConfirmType["CurrentOrFutureAll"] = "CurrentOrFutureAll";
    ConfirmType["FutureAll"] = "FutureAll";
    ConfirmType["All"] = "All";
})(ConfirmType || (ConfirmType = {}));
//重复开启选项
var OpenWay;
(function (OpenWay) {
    OpenWay[OpenWay["close"] = -1] = "close";
    OpenWay[OpenWay["Monday"] = 0] = "Monday";
    OpenWay[OpenWay["Tuesday"] = 1] = "Tuesday";
    OpenWay[OpenWay["Wednesday"] = 2] = "Wednesday";
    OpenWay[OpenWay["Thursday"] = 3] = "Thursday";
    OpenWay[OpenWay["Friday"] = 4] = "Friday";
    OpenWay[OpenWay["Saturday"] = 5] = "Saturday";
    OpenWay[OpenWay["Sunday"] = 6] = "Sunday";
})(OpenWay || (OpenWay = {}));
//修改权限
var ModiPower;
(function (ModiPower) {
    ModiPower["disable"] = "0";
    ModiPower["enable"] = "1";
})(ModiPower || (ModiPower = {}));
// 完成状态
var CompleteState;
(function (CompleteState) {
    CompleteState["None"] = "none";
    CompleteState["UnComplete"] = "uncomplete";
    CompleteState["Completed"] = "completed";
})(CompleteState || (CompleteState = {}));
//邀请状态
var InviteState;
(function (InviteState) {
    InviteState["None"] = "none";
    InviteState["Accepted"] = "accepted";
    InviteState["Rejected"] = "rejected";
})(InviteState || (InviteState = {}));
//再邀请权限
var InvitePowr;
(function (InvitePowr) {
    InvitePowr["disable"] = "0";
    InvitePowr["enable"] = "1";
})(InvitePowr || (InvitePowr = {}));
//提醒选项
var RemindTime;
(function (RemindTime) {
    RemindTime[RemindTime["beginevent"] = 0] = "beginevent";
    RemindTime[RemindTime["m10"] = 10] = "m10";
    RemindTime[RemindTime["m30"] = 30] = "m30";
    RemindTime[RemindTime["h1"] = 60] = "h1";
    RemindTime[RemindTime["h4"] = 240] = "h4";
    RemindTime[RemindTime["d1"] = 440] = "d1";
})(RemindTime || (RemindTime = {}));
//是否完成
var IsSuccess;
(function (IsSuccess) {
    IsSuccess["wait"] = "0";
    IsSuccess["success"] = "1";
})(IsSuccess || (IsSuccess = {}));
//完成后是否需要自动创建
var IsCreate;
(function (IsCreate) {
    IsCreate["isNo"] = "0";
    IsCreate["isYes"] = "1";
})(IsCreate || (IsCreate = {}));
//是否全天
var IsWholeday;
(function (IsWholeday) {
    IsWholeday["StartSet"] = "0";
    IsWholeday["WholeDay"] = "1";
    IsWholeday["EndSet"] = "2";
})(IsWholeday || (IsWholeday = {}));
//错误代码
var Err;
(function (Err) {
    Err[Err["netbroken"] = -901] = "netbroken";
})(Err || (Err = {}));
//日程修改、删除类型
var OperateType;
(function (OperateType) {
    OperateType["OnlySel"] = "OnlySel";
    OperateType["FromSel"] = "FromSel";
    OperateType["Non"] = "Non";
})(OperateType || (OperateType = {}));
//成员共享状态
var MemberShareState;
(function (MemberShareState) {
    MemberShareState["SendWait"] = "0";
    MemberShareState["AcceptWait"] = "1";
    MemberShareState["Accepted"] = "2";
    MemberShareState["Rejected"] = "3";
    MemberShareState["Removed"] = "4";
})(MemberShareState || (MemberShareState = {}));
// 数据同步权限
var SyncDataSecurity;
(function (SyncDataSecurity) {
    SyncDataSecurity["None"] = "None";
    SyncDataSecurity["SelfModify"] = "SelfModify";
    SyncDataSecurity["ShareModify"] = "ShareModify";
    SyncDataSecurity["ShareModifyWithoutSender"] = "ShareModifyWithoutSender"; // 共享后发起人本地删除
})(SyncDataSecurity || (SyncDataSecurity = {}));
// 数据同步状态
var SyncDataStatus;
(function (SyncDataStatus) {
    SyncDataStatus["Deleted"] = "del";
    SyncDataStatus["UnDeleted"] = "undel";
})(SyncDataStatus || (SyncDataStatus = {}));
// 是否加入todolist
var ToDoListStatus;
(function (ToDoListStatus) {
    ToDoListStatus["On"] = "0";
    ToDoListStatus["Off"] = "1";
})(ToDoListStatus || (ToDoListStatus = {}));
var EventFinishStatus;
(function (EventFinishStatus) {
    EventFinishStatus["Finished"] = "0";
    EventFinishStatus["NonFinish"] = "1";
})(EventFinishStatus || (EventFinishStatus = {}));
var StatusType;
(function (StatusType) {
    StatusType[StatusType["other"] = 1] = "other";
    StatusType[StatusType["home"] = 2] = "home";
    StatusType[StatusType["meun"] = 3] = "meun";
    StatusType[StatusType["page"] = 4] = "page";
    StatusType[StatusType["model"] = 5] = "model";
})(StatusType || (StatusType = {}));
var ModalTranType;
(function (ModalTranType) {
    ModalTranType["def"] = "def";
    ModalTranType["right"] = "right";
    ModalTranType["left"] = "left";
    ModalTranType["top"] = "top";
    ModalTranType["scale"] = "scale";
})(ModalTranType || (ModalTranType = {}));
//# sourceMappingURL=data.enum.js.map

/***/ }),
/* 19 */,
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export BaseData */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "q", function() { return ScdData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "s", function() { return SpecScdData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return JtData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return FsData; });
/* unused harmony export RemindData */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "o", function() { return PlData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "m", function() { return PageUData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "n", function() { return PageY; });
/* unused harmony export ScdlData */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "r", function() { return ScdPageParamter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "l", function() { return PagePlData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "j", function() { return PagePDPro; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "k", function() { return PagePcPro; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return PageDcData; });
/* unused harmony export PageDaData */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return HData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return PageLoginData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return FsPageData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return PageGroupData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AlData; });
/* unused harmony export PageBlData */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "p", function() { return RcInParam; });
/* unused harmony export MonthData */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return DayData; });
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
/**
 * 继承类
 */
var BaseData = (function () {
    function BaseData() {
    }
    return BaseData;
}());

// export class ScdData {
//   si: string = "";//日程事件ID
//   sn: string = "";//日程事件主题
//   ui: string = "";//创建者
//   sd: string = "";//开始日期
//   st: string = "";//开始时间
//   ed: string = "";//结束日期
//   et: string = "";//结束时间
//   rt: string = "";//重复类型
//   ji: string = "";//计划ID
//   sr: string = "";//日程关联ID
//   bz: string = "";//备注
//   tx: string = "";//提醒方式
//   pni:string = "";//日程原始ID
//   wtt: number;//时间戳
//   du:string ="";//消息读取状态
//   gs:string ="";//归属 0：本人创建，1：他人创建，2：系统本地日历,3:系统计划3优先级类型，4：系统计划无优先级
//   ib:string ="0"; //0：非本地日历;1：本地日历
//   fssshow:string ="";//参与人画面显示用
//   cbkcolor:number = 0;//每个日程颜色画面显示用
//   morecolor:string ="#FFFFFF";//more颜色画面显示
//
//
//   showSpSd: string = "";//画面显示特殊表开始日期
//
//
//   //特殊日期日程
//   specScds: Map<string, SpecScdData> = new Map<string, SpecScdData>();
//
//   //当天关联的特殊日程
//   specScd(d:string): SpecScdData {
//     return this.specScds.get(d);
//   }
//
//   //参与人
//   fss: Array<FsData> =new Array<FsData>();
//
//   //发起人
//   fs: FsData =new FsData();
//
//
//   //提醒设置
//   r: RemindData = new RemindData();
//
//   //所属计划
//   p:PlData = new PlData();
//
//
// }
/**
 * 日程出参
 */
var ScdData = (function () {
    function ScdData() {
        this.si = ""; //日程事件ID
        this.sn = ""; //日程事件主题
        this.ui = ""; //创建者
        this.sd = ""; //开始日期
        this.st = ""; //开始时间
        this.ed = ""; //结束日期
        this.et = ""; //结束时间
        this.rt = ""; //重复类型
        this.ji = ""; //计划ID
        this.sr = ""; //日程关联ID
        this.bz = ""; //备注
        this.tx = ""; //提醒方式
        this.pni = ""; //日程原始ID
        this.du = ""; //消息读取状态
        this.gs = ""; //归属 0：本人创建，1：他人创建，2：系统本地日历,3:系统计划3优先级类型，4：系统计划无优先级
        this.ib = "0"; //0：非本地日历;1：本地日历
        this.fssshow = ""; //参与人画面显示用
        this.cbkcolor = 0; //每个日程颜色画面显示用
        this.morecolor = "#FFFFFF"; //more颜色画面显示
        this.showSpSd = ""; //画面显示特殊表开始日期
        //特殊日期日程
        this.specScds = new Map();
        //参与人
        this.fss = new Array();
        //发起人
        this.fs = new FsData();
        //提醒设置
        this.r = new RemindData();
        //所属计划
        this.p = new PlData();
        //特殊数据附件
        this.fjt = '';
        this.fjn = '';
        this.fj = '';
        this.fjo = {};
    }
    //当天关联的特殊日程
    ScdData.prototype.specScd = function (d) {
        return this.specScds.get(d);
    };
    return ScdData;
}());

//特殊事件
var SpecScdData = (function (_super) {
    __extends(SpecScdData, _super);
    function SpecScdData() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.spi = ""; //日程特殊事件ID
        _this.si = ""; //日程事件ID
        _this.spn = ""; //日程特殊事件主题
        _this.sd = ""; //开始日期
        _this.st = ""; //开始时间
        _this.ed = ""; //结束时间
        _this.et = ""; //结束时间
        _this.ji = ""; //计划ID
        _this.bz = ""; //备注
        _this.sta = ""; //特殊类型
        _this.tx = ""; //提醒方式
        _this.remindData = new RemindData(); //对应提醒时间
        //所属计划
        _this.p = new PlData();
        return _this;
    }
    return SpecScdData;
}(BaseData));

/**
 * 系统特殊计划表
 */
var JtData = (function (_super) {
    __extends(JtData, _super);
    function JtData() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.jti = ""; //主键ID
        _this.si = ""; //日程事件ID
        _this.ji = ""; //计划ID
        _this.spn = ""; //主题
        _this.sd = ""; //开始日期
        _this.st = ""; //开始时间
        _this.ed = ""; //结束时间
        _this.et = ""; //结束时间
        _this.px = 0; //排序
        _this.bz = ""; //备注
        return _this;
    }
    return JtData;
}(BaseData));

//参与人
var FsData = (function () {
    function FsData() {
        this.pwi = ""; //主键
        this.ran = ""; //联系人别称
        this.ranpy = ""; //联系人别称拼音
        this.hiu = ""; // 联系人头像
        this.rn = ""; // 联系人名称
        this.rnpy = ""; //联系人名称拼音
        this.rc = ""; //联系人联系方式
        this.rel = ""; //系类型 1是个人，2是群，0未注册用户
        this.ui = ""; //数据归属人ID
        this.bhi = ""; //头像表ID 用于判断是否有头像记录
        this.bhiu = ""; //base64图片
        this.src = ""; //联系人来源
        this.pi = ""; //日程参与人表ID
        this.si = ""; //日程事件ID
        this.isbla = false; //默认非黑名单
    }
    return FsData;
}());

//提醒时间
var RemindData = (function () {
    function RemindData() {
        this.wi = ""; //提醒时间ID
        this.si = ""; //日程事件ID
        this.st = ""; //日程事件类型
        this.wd = ""; //日程提醒日期
        this.wt = ""; //日程提醒时间
    }
    return RemindData;
}());

//计划
var PlData = (function () {
    function PlData() {
        this.ji = ""; //计划ID
        this.jn = ""; //计划名
        this.jg = ""; //计划描述
        this.jc = ""; //计划颜色标记
        this.jt = ""; //计划类型
        this.jtd = "";
    }
    return PlData;
}());

var PageUData = (function () {
    function PageUData() {
        this.user = {
            //用户ID
            id: "",
            //账户ID
            aid: "",
            //用户名
            name: "",
            //用户头像
            avatar: "",
            //出生日期
            bothday: "",
            //真实姓名
            realname: "",
            //身份证
            No: "",
            //性别
            sex: "",
            //联系方式
            contact: "",
        };
        this.account = {
            // 账户ID
            id: "",
            // 账户名
            name: "",
            // 手机号
            phone: "",
            // 设备号
            device: "",
            // token
            token: "",
            // 账户消息队列
            mq: "",
        };
    }
    return PageUData;
}());

var PageY = (function () {
    function PageY() {
        //偏好主键ID
        this.yi = "";
        //偏好设置类型
        this.yt = "";
        //偏好设置类型名称
        this.ytn = "";
        //偏好设置名称
        this.yn = "";
        //偏好设置key
        this.yk = "";
        //偏好设置value
        this.yv = "";
    }
    return PageY;
}());

var ScdlData = (function () {
    function ScdlData() {
        this.scdl = new Array();
        this.jtl = new Array();
    }
    return ScdlData;
}());

var ScdPageParamter = (function () {
    function ScdPageParamter() {
        //本地日历ID
        this.si = "";
        //特殊表ID
        this.spid = "";
        //原归属ID
        this.gs = "";
        //创建到todolist
        this.todolist = false;
    }
    return ScdPageParamter;
}());

var PagePlData = (function () {
    function PagePlData() {
        this.xtJh = new Array(); //本地计划
        this.zdyJh = new Array(); //自定义计划列表
    }
    return PagePlData;
}());

//页面项目
var PagePDPro = (function () {
    function PagePDPro() {
        this.ji = ""; //计划ID
        this.jn = ""; //计划名
        this.jg = ""; //计划描述
        this.jc = ""; //计划颜色标记
        this.jt = ""; //计划类型 0,系统特殊计划;1系统计划;2自定义
        this.js = 0; //日程数量
        this.jtd = "0"; //系统计划区别是否下载
        this.pt = ""; //计划名  计划分享使用
    }
    return PagePDPro;
}());

//页面项目
var PagePcPro = (function () {
    function PagePcPro() {
        //计划名
        this.jn = "";
        //计划描述
        this.jg = "";
        //计划颜色标记
        this.jc = "";
    }
    return PagePcPro;
}());

var PageDcData = (function () {
    function PageDcData() {
        this.gi = ""; //关系群组主键ID
        this.gn = ""; //组名
        this.gnpy = ""; //组名拼音
        this.gm = ""; //备注
        this.gc = 0; //群组人数
        this.fsl = new Array(); //群组成员
    }
    return PageDcData;
}());

var PageDaData = (function () {
    function PageDaData() {
        this.scdl = new Array(); //当天日程列表
    }
    return PageDaData;
}());

var HData = (function () {
    function HData() {
        this.isShow = false;
        this.showDay = "";
        this.showDay2 = "";
        this.newmessge = 0;
        this.things = 0;
        this.jtl = new Array();
    }
    return HData;
}());

var PageLoginData = (function () {
    function PageLoginData() {
        this.phoneno = "";
        this.userpassword = "";
        this.verifycode = "";
        this.verifykey = "";
        this.username = "";
    }
    return PageLoginData;
}());

/**
 * 联系人视图
 */
var FsPageData = (function (_super) {
    __extends(FsPageData, _super);
    function FsPageData() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.checked = false;
        return _this;
    }
    return FsPageData;
}(FsData));

var PageGroupData = (function (_super) {
    __extends(PageGroupData, _super);
    function PageGroupData() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.checked = false;
        return _this;
    }
    return PageGroupData;
}(PageDcData));

var AlData = (function () {
    function AlData() {
    }
    return AlData;
}());

var PageBlData = (function () {
    function PageBlData() {
    }
    return PageBlData;
}());

/**
 * 日程添加入参
 */
var RcInParam = (function () {
    function RcInParam() {
        this.si = ""; //日程事件ID
        this.sn = ""; //日程事件主题  必传
        this.ui = ""; //创建者
        this.sd = ""; //开始日期      必传
        this.st = ""; //开始时间
        this.ed = ""; //结束日期
        this.et = ""; //结束时间
        this.rt = "0"; //重复类型
        this.ji = ""; //计划ID
        this.sr = ""; //日程关联ID
        this.fjt = ""; //附件类型 2019/6/17 增加
        this.fjn = ""; //附件名称/KEY 2019/6/17 增加
        this.fj = ""; //附件 2019/6/17 增加
        this.bz = ""; //备注
        this.tx = "0"; //提醒方式
        this.gs = "0"; //归属 0：本人创建，1：他人创建，2：系统本地日历,3:系统计划3优先级类型（入JtTbl表），4：系统计划无优先级
        this.px = 0; //排序
        this.specScdUpd = new BaseData(); //sp内容
        //参与人
        this.fss = new Array();
    }
    /**
     * 设置ed、et等其他参数
     */
    RcInParam.prototype.setParam = function () {
        if (this.ed == '') {
            this.ed = this.sd;
        }
        if (this.et == '') {
            this.et = this.st;
        }
    };
    return RcInParam;
}());

var MonthData = (function () {
    function MonthData() {
    }
    return MonthData;
}());

var DayData = (function () {
    function DayData() {
    }
    return DayData;
}());

//# sourceMappingURL=data.mapping.js.map

/***/ }),
/* 21 */,
/* 22 */,
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PipesModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__formatedate_formatedate__ = __webpack_require__(1227);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__formatstring_formatstring__ = __webpack_require__(1228);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__formatweather_formatweather__ = __webpack_require__(1229);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__formatrepeat_formatrepeat__ = __webpack_require__(1230);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__formatremind_formatremind__ = __webpack_require__(1231);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__formatuser_formatuser__ = __webpack_require__(1232);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__formatplan_formatplan__ = __webpack_require__(1233);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__transformdate_transfromdate__ = __webpack_require__(1234);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__formatstring_formatmonthstring__ = __webpack_require__(1235);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};










var PipesModule = (function () {
    function PipesModule() {
    }
    PipesModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_1__formatedate_formatedate__["a" /* FormatedatePipe */],
                __WEBPACK_IMPORTED_MODULE_2__formatstring_formatstring__["a" /* FormatstringPipe */],
                __WEBPACK_IMPORTED_MODULE_6__formatuser_formatuser__["a" /* FormatUserPipe */],
                __WEBPACK_IMPORTED_MODULE_7__formatplan_formatplan__["a" /* FormatPlanPipe */],
                __WEBPACK_IMPORTED_MODULE_3__formatweather_formatweather__["a" /* FormatWeatherPipe */],
                __WEBPACK_IMPORTED_MODULE_4__formatrepeat_formatrepeat__["a" /* FormatRepeatPipe */],
                __WEBPACK_IMPORTED_MODULE_5__formatremind_formatremind__["a" /* FormatRemindPipe */],
                __WEBPACK_IMPORTED_MODULE_8__transformdate_transfromdate__["a" /* TransFromDatePipe */],
                __WEBPACK_IMPORTED_MODULE_9__formatstring_formatmonthstring__["a" /* FormatmonthstringPipe */]
            ],
            imports: [],
            exports: [
                __WEBPACK_IMPORTED_MODULE_1__formatedate_formatedate__["a" /* FormatedatePipe */],
                __WEBPACK_IMPORTED_MODULE_2__formatstring_formatstring__["a" /* FormatstringPipe */],
                __WEBPACK_IMPORTED_MODULE_6__formatuser_formatuser__["a" /* FormatUserPipe */],
                __WEBPACK_IMPORTED_MODULE_7__formatplan_formatplan__["a" /* FormatPlanPipe */],
                __WEBPACK_IMPORTED_MODULE_3__formatweather_formatweather__["a" /* FormatWeatherPipe */],
                __WEBPACK_IMPORTED_MODULE_4__formatrepeat_formatrepeat__["a" /* FormatRepeatPipe */],
                __WEBPACK_IMPORTED_MODULE_5__formatremind_formatremind__["a" /* FormatRemindPipe */],
                __WEBPACK_IMPORTED_MODULE_8__transformdate_transfromdate__["a" /* TransFromDatePipe */],
                __WEBPACK_IMPORTED_MODULE_9__formatstring_formatmonthstring__["a" /* FormatmonthstringPipe */]
            ]
        })
    ], PipesModule);
    return PipesModule;
}());

//# sourceMappingURL=pipes.module.js.map

/***/ }),
/* 24 */,
/* 25 */,
/* 26 */,
/* 27 */,
/* 28 */,
/* 29 */,
/* 30 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CalendarService; });
/* unused harmony export FindActivityCondition */
/* unused harmony export PagedActivityData */
/* unused harmony export MonthActivityData */
/* unused harmony export DayActivityData */
/* unused harmony export ActivityData */
/* unused harmony export ActivitySummaryData */
/* unused harmony export MonthActivitySummaryData */
/* unused harmony export DayActivitySummaryData */
/* harmony export (immutable) */ __webpack_exports__["b"] = generateDataType;
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_service__ = __webpack_require__(106);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__restful_shaesev__ = __webpack_require__(107);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__restful_datasev__ = __webpack_require__(108);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__restful_bacsev__ = __webpack_require__(110);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__event_service__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__memo_service__ = __webpack_require__(85);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__data_enum__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_async_dist_async_js__ = __webpack_require__(226);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_async_dist_async_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_async_dist_async_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_jha_tbl__ = __webpack_require__(223);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__ = __webpack_require__(505);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__sqlite_tbl_ev_tbl__ = __webpack_require__(221);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__sqlite_tbl_mom_tbl__ = __webpack_require__(225);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_par_tbl__ = __webpack_require__(222);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__sqlite_tbl_fj_tbl__ = __webpack_require__(224);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__util_util__ = __webpack_require__(220);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__remind_service__ = __webpack_require__(227);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






















var CalendarService = (function (_super) {
    __extends(CalendarService, _super);
    function CalendarService(sqlExce, util, emitService, userConfig, eventService, memoService, remindService, bacRestful, shareRestful, dataRestful) {
        var _this = _super.call(this) || this;
        _this.sqlExce = sqlExce;
        _this.util = util;
        _this.emitService = emitService;
        _this.userConfig = userConfig;
        _this.eventService = eventService;
        _this.memoService = memoService;
        _this.remindService = remindService;
        _this.bacRestful = bacRestful;
        _this.shareRestful = shareRestful;
        _this.dataRestful = dataRestful;
        _this.calendaractivities = new Array();
        _this.activitiesqueue = __WEBPACK_IMPORTED_MODULE_12_async_dist_async_js__["queue"](function (_a, callback) {
            var data = _a.data;
            return __awaiter(_this, void 0, void 0, function () {
                var monthlyLastDataIndex, lastindexes_1, index, _i, data_1, single;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            if (!(data instanceof Array)) return [3 /*break*/, 2];
                            monthlyLastDataIndex = data.reduce(function (target, val, index) {
                                if (val.evd) {
                                    var month = __WEBPACK_IMPORTED_MODULE_13_moment__(val.evd).format("YYYY/MM");
                                    target.set(month, index);
                                }
                                else if (!val.evd && val.sd) {
                                    var month = __WEBPACK_IMPORTED_MODULE_13_moment__(val.sd).format("YYYY/MM");
                                    target.set(month, index);
                                }
                                return target;
                            }, new Map());
                            lastindexes_1 = new Array();
                            monthlyLastDataIndex.forEach(function (val) {
                                lastindexes_1.push(val);
                            });
                            index = 0;
                            for (_i = 0, data_1 = data; _i < data_1.length; _i++) {
                                single = data_1[_i];
                                if (lastindexes_1.indexOf(index) >= 0) {
                                    this.mergeCalendarActivity(single, true);
                                }
                                else {
                                    this.mergeCalendarActivity(single, false);
                                }
                                index++;
                            }
                            // 同步提醒，如果有的话
                            return [4 /*yield*/, this.remindService.syncScheduledReminds(data)];
                        case 1:
                            // 同步提醒，如果有的话
                            _a.sent();
                            return [3 /*break*/, 4];
                        case 2:
                            this.mergeCalendarActivity(data);
                            // 同步提醒，如果有的话
                            return [4 /*yield*/, this.remindService.syncScheduledReminds([data])];
                        case 3:
                            // 同步提醒，如果有的话
                            _a.sent();
                            _a.label = 4;
                        case 4:
                            callback();
                            return [2 /*return*/];
                    }
                });
            });
        });
        return _this;
    }
    CalendarService.prototype.clearCalendarActivities = function () {
        this.calendaractivities.length = 0;
    };
    /**
     * 刷新日历显示列表到指定月份
     *
     * 所有月份数据保持在calendaractivities中
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.refreshCalendarActivitiesToMonth = function (month, skipInit) {
        if (month === void 0) { month = __WEBPACK_IMPORTED_MODULE_13_moment__().format("YYYY/MM"); }
        if (skipInit === void 0) { skipInit = true; }
        return __awaiter(this, void 0, void 0, function () {
            var firstMonth, lastMonth, currentMonth, currentMonth;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(month); // 入参不能为空
                        if (!(!this.calendaractivities || this.calendaractivities.length <= 0)) return [3 /*break*/, 3];
                        if (!!skipInit) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.getCalendarActivities(__WEBPACK_IMPORTED_MODULE_10__data_enum__["t" /* PageDirection */].PageInit)];
                    case 1:
                        _a.sent();
                        return [3 /*break*/, 3];
                    case 2: return [2 /*return*/, this.calendaractivities];
                    case 3:
                        firstMonth = this.calendaractivities[0].month;
                        lastMonth = this.calendaractivities[this.calendaractivities.length - 1].month;
                        if (!__WEBPACK_IMPORTED_MODULE_13_moment__(month, "YYYY/MM").isBefore(firstMonth)) return [3 /*break*/, 6];
                        currentMonth = __WEBPACK_IMPORTED_MODULE_13_moment__(firstMonth, "YYYY/MM").subtract(1, "months").format("YYYY/MM");
                        _a.label = 4;
                    case 4:
                        if (false) return [3 /*break*/, 6];
                        return [4 /*yield*/, this.getCalendarActivities(__WEBPACK_IMPORTED_MODULE_10__data_enum__["t" /* PageDirection */].PageDown)];
                    case 5:
                        _a.sent();
                        if (month == currentMonth) {
                            return [3 /*break*/, 6];
                        }
                        currentMonth = __WEBPACK_IMPORTED_MODULE_13_moment__(currentMonth).subtract(1, "months").format("YYYY/MM");
                        return [3 /*break*/, 4];
                    case 6:
                        if (!__WEBPACK_IMPORTED_MODULE_13_moment__(lastMonth, "YYYY/MM").isBefore(month)) return [3 /*break*/, 9];
                        currentMonth = __WEBPACK_IMPORTED_MODULE_13_moment__(lastMonth, "YYYY/MM").add(1, "months").format("YYYY/MM");
                        _a.label = 7;
                    case 7:
                        if (false) return [3 /*break*/, 9];
                        return [4 /*yield*/, this.getCalendarActivities(__WEBPACK_IMPORTED_MODULE_10__data_enum__["t" /* PageDirection */].PageUp)];
                    case 8:
                        _a.sent();
                        if (month == currentMonth) {
                            return [3 /*break*/, 9];
                        }
                        currentMonth = __WEBPACK_IMPORTED_MODULE_13_moment__(currentMonth, "YYYY/MM").add(1, "months").format("YYYY/MM");
                        return [3 /*break*/, 7];
                    case 9: return [2 /*return*/, this.calendaractivities];
                }
            });
        });
    };
    /**
     * 取得日历显示列表
     *
     * 所有月份数据保持在calendaractivities中
     *
     * 初始化(PageDirection.PageInit)3个月的数据（上一个月、当前月份、下个月）
     * 向上翻页(PageDirection.PageUp)加载最后一个月的下一个月的数据
     * 向下翻页(PageDirection.PageDown)加载第一个月的上一个月的数据
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.getCalendarActivities = function (direction) {
        if (direction === void 0) { direction = __WEBPACK_IMPORTED_MODULE_10__data_enum__["t" /* PageDirection */].PageInit; }
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var _a, _b, _c, _d, _e, _f, _g, lastmonth, _h, _j, firstmonth, _k, _l;
            return __generator(this, function (_m) {
                switch (_m.label) {
                    case 0:
                        this.assertEmpty(direction); // 入参不能为空
                        _a = direction;
                        switch (_a) {
                            case __WEBPACK_IMPORTED_MODULE_10__data_enum__["t" /* PageDirection */].PageInit: return [3 /*break*/, 1];
                            case __WEBPACK_IMPORTED_MODULE_10__data_enum__["t" /* PageDirection */].PageUp: return [3 /*break*/, 5];
                            case __WEBPACK_IMPORTED_MODULE_10__data_enum__["t" /* PageDirection */].PageDown: return [3 /*break*/, 7];
                        }
                        return [3 /*break*/, 9];
                    case 1:
                        this.calendaractivities = new Array(); // 强制重新初始化
                        _c = (_b = this.calendaractivities).push;
                        return [4 /*yield*/, this.fetchMonthActivities(__WEBPACK_IMPORTED_MODULE_13_moment__().subtract(1, "months").format("YYYY/MM"))];
                    case 2:
                        _c.apply(_b, [_m.sent()]);
                        _e = (_d = this.calendaractivities).push;
                        return [4 /*yield*/, this.fetchMonthActivities(__WEBPACK_IMPORTED_MODULE_13_moment__().format("YYYY/MM"))];
                    case 3:
                        _e.apply(_d, [_m.sent()]);
                        _g = (_f = this.calendaractivities).push;
                        return [4 /*yield*/, this.fetchMonthActivities(__WEBPACK_IMPORTED_MODULE_13_moment__().add(1, "months").format("YYYY/MM"))];
                    case 4:
                        _g.apply(_f, [_m.sent()]);
                        // 活动变化时自动更新日历显示列表数据
                        this.emitService.destroy("mwxing.calendar.activities.changed");
                        this.emitService.register("mwxing.calendar.activities.changed", function (data) {
                            if (!data) {
                                _this.assertFail("事件mwxing.calendar.activities.changed无扩展数据");
                                return;
                            }
                            _this.activitiesqueue.push({ data: data }, function () {
                                // 完成处理
                                if (_this.calendaractivities.length > 0) {
                                    for (var _i = 0, _a = _this.calendaractivities; _i < _a.length; _i++) {
                                        var monthactivities = _a[_i];
                                        _this.emitService.emit("mwxing.calendar." + monthactivities.month + ".changed", monthactivities);
                                    }
                                }
                            });
                        });
                        return [3 /*break*/, 10];
                    case 5:
                        if (this.calendaractivities.length < 1) {
                            this.assertFail("getCalendarActivities 调用PageDirection.PageUp之前, 请先调用PageDirection.PageInit。");
                        }
                        lastmonth = this.calendaractivities[this.calendaractivities.length - 1].month;
                        _j = (_h = this.calendaractivities).push;
                        return [4 /*yield*/, this.fetchMonthActivities(__WEBPACK_IMPORTED_MODULE_13_moment__(lastmonth, "YYYY/MM").add(1, "months").format("YYYY/MM"))];
                    case 6:
                        _j.apply(_h, [_m.sent()]);
                        return [3 /*break*/, 10];
                    case 7:
                        if (this.calendaractivities.length < 1) {
                            this.assertFail("getCalendarActivities 调用PageDirection.PageDown, 请先调用PageDirection.PageInit。");
                        }
                        firstmonth = this.calendaractivities[0].month;
                        _l = (_k = this.calendaractivities).unshift;
                        return [4 /*yield*/, this.fetchMonthActivities(__WEBPACK_IMPORTED_MODULE_13_moment__(firstmonth, "YYYY/MM").subtract(1, "months").format("YYYY/MM"))];
                    case 8:
                        _l.apply(_k, [_m.sent()]);
                        return [3 /*break*/, 10];
                    case 9:
                        this.assertFail(); // 非法参数
                        _m.label = 10;
                    case 10: return [2 /*return*/, this.calendaractivities];
                }
            });
        });
    };
    /**
     * 合并日历显示列表
     *
     * 所有月份数据保持在calendaractivities中
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.mergeCalendarActivity = function (activity, update) {
        if (update === void 0) { update = true; }
        this.assertEmpty(activity); // 入参不能为空
        // 如果没有缓存数据，不处理
        if (this.calendaractivities.length < 1) {
            return;
        }
        // 判断活动数据类型
        var activityType = this.getActivityType(activity);
        var firstmonth = this.calendaractivities[0].month;
        var lastmonth = this.calendaractivities[this.calendaractivities.length - 1].month;
        var currentmonth = "";
        // 根据活动日期合并入缓存日历显示列表数据
        switch (activityType) {
            case "PlanItemData":
                // 转换成匹配对象类型
                var item = {};
                Object.assign(item, activity);
                // 判断数据是否属于当前缓存日期范围
                currentmonth = __WEBPACK_IMPORTED_MODULE_13_moment__(item.sd).format("YYYY/MM");
                if (__WEBPACK_IMPORTED_MODULE_13_moment__(firstmonth, "YYYY/MM").diff(currentmonth, "months") <= 0 && __WEBPACK_IMPORTED_MODULE_13_moment__(currentmonth).diff(lastmonth, "months") <= 0) {
                    var diff = __WEBPACK_IMPORTED_MODULE_13_moment__(currentmonth, "YYYY/MM").diff(firstmonth, "months");
                    var currentmonthactivities = this.calendaractivities[diff];
                    this.mergeMonthActivities(currentmonthactivities, [item], update);
                }
                break;
            case "AgendaData":
                // 转换成匹配对象类型
                var agenda = {};
                Object.assign(agenda, activity);
                // 判断数据是否属于当前缓存日期范围
                currentmonth = __WEBPACK_IMPORTED_MODULE_13_moment__(agenda.evd).format("YYYY/MM");
                if (__WEBPACK_IMPORTED_MODULE_13_moment__(firstmonth, "YYYY/MM").diff(currentmonth, "months") <= 0 && __WEBPACK_IMPORTED_MODULE_13_moment__(currentmonth).diff(lastmonth, "months") <= 0) {
                    var diff = __WEBPACK_IMPORTED_MODULE_13_moment__(currentmonth, "YYYY/MM").diff(firstmonth, "months");
                    var currentmonthactivities = this.calendaractivities[diff];
                    this.mergeMonthActivities(currentmonthactivities, [agenda], update);
                }
                break;
            case "TaskData":
                // 转换成匹配对象类型
                var task = {};
                Object.assign(task, activity);
                // 判断数据是否属于当前缓存日期范围
                currentmonth = __WEBPACK_IMPORTED_MODULE_13_moment__(task.evd).format("YYYY/MM");
                if (__WEBPACK_IMPORTED_MODULE_13_moment__(firstmonth, "YYYY/MM").diff(currentmonth, "months") <= 0 && __WEBPACK_IMPORTED_MODULE_13_moment__(currentmonth, "YYYY/MM").diff(lastmonth, "months") <= 0) {
                    var diff = __WEBPACK_IMPORTED_MODULE_13_moment__(currentmonth, "YYYY/MM").diff(firstmonth, "months");
                    var currentmonthactivities = this.calendaractivities[diff];
                    this.mergeMonthActivities(currentmonthactivities, [task], update);
                }
                break;
            case "MiniTaskData":
                // 转换成匹配对象类型
                var minitask = {};
                Object.assign(minitask, activity);
                // 判断数据是否属于当前缓存日期范围
                currentmonth = __WEBPACK_IMPORTED_MODULE_13_moment__(minitask.evd).format("YYYY/MM");
                if (__WEBPACK_IMPORTED_MODULE_13_moment__(firstmonth, "YYYY/MM").diff(currentmonth, "months") <= 0 && __WEBPACK_IMPORTED_MODULE_13_moment__(currentmonth, "YYYY/MM").diff(lastmonth, "months") <= 0) {
                    var diff = __WEBPACK_IMPORTED_MODULE_13_moment__(currentmonth).diff(firstmonth, "months");
                    var currentmonthactivities = this.calendaractivities[diff];
                    this.mergeMonthActivities(currentmonthactivities, [minitask], update);
                }
                break;
            case "MemoData":
                // 转换成匹配对象类型
                var memo = {};
                Object.assign(memo, activity);
                // 判断数据是否属于当前缓存日期范围
                currentmonth = __WEBPACK_IMPORTED_MODULE_13_moment__(memo.sd).format("YYYY/MM");
                if (__WEBPACK_IMPORTED_MODULE_13_moment__(firstmonth, "YYYY/MM").diff(currentmonth, "months") <= 0 && __WEBPACK_IMPORTED_MODULE_13_moment__(currentmonth, "YYYY/MM").diff(lastmonth, "months") <= 0) {
                    var diff = __WEBPACK_IMPORTED_MODULE_13_moment__(currentmonth, "YYYY/MM").diff(firstmonth, "months");
                    var currentmonthactivities = this.calendaractivities[diff];
                    this.mergeMonthActivities(currentmonthactivities, [memo], update);
                }
                break;
            default:
                this.assertFail(); // 非法数据
        }
    };
    /**
     * 创建/更新日历
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.savePlan = function (plan) {
        return __awaiter(this, void 0, void 0, function () {
            var sqls, plandb, _i, _a, member, memberdb, sqls, plandb, _b, _c, member, memberdb;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        // 入参严格检查
                        this.assertEmpty(plan); // 对象不能为空
                        this.assertEmpty(plan.jn); // 名称不能为空
                        this.assertEmpty(plan.jc); // 颜色不能为空
                        if (!plan.ji) return [3 /*break*/, 2];
                        sqls = new Array();
                        plan.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                        plandb = new __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_jha_tbl__["a" /* JhaTbl */]();
                        Object.assign(plandb, plan);
                        sqls.push(plandb.upTParam());
                        // 保存日历成员
                        if (plan.members && plan.members.length > 0) {
                            for (_i = 0, _a = plan.members; _i < _a.length; _i++) {
                                member = _a[_i];
                                if (member.pari) {
                                    member.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                                }
                                else {
                                    member.pari = this.util.getUuid();
                                    member.obt = __WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].CalendarPlan;
                                    member.obi = plan.ji;
                                    member.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel;
                                    member.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                                }
                                memberdb = new __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_par_tbl__["a" /* ParTbl */]();
                                Object.assign(memberdb, member);
                                sqls.push(memberdb.rpTParam());
                            }
                        }
                        else {
                            plan.members = plan.members || new Array();
                        }
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls)];
                    case 1:
                        _d.sent();
                        return [3 /*break*/, 4];
                    case 2:
                        sqls = new Array();
                        plan.ji = this.util.getUuid();
                        plan.jt = plan.jt || __WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].PrivatePlan; // 默认创建自定义日历
                        plan.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel;
                        plan.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                        plandb = new __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_jha_tbl__["a" /* JhaTbl */]();
                        Object.assign(plandb, plan);
                        sqls.push(plandb.inTParam());
                        // 保存日历成员
                        if (plan.members && plan.members.length > 0) {
                            for (_b = 0, _c = plan.members; _b < _c.length; _b++) {
                                member = _c[_b];
                                member.pari = this.util.getUuid();
                                member.obt = __WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].CalendarPlan;
                                member.obi = plan.ji;
                                member.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel;
                                member.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                                memberdb = new __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_par_tbl__["a" /* ParTbl */]();
                                Object.assign(memberdb, member);
                                sqls.push(memberdb.inTParam());
                            }
                        }
                        else {
                            plan.members = plan.members || new Array();
                        }
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls)];
                    case 3:
                        _d.sent();
                        _d.label = 4;
                    case 4:
                        this.emitService.emit("mwxing.calendar.plans.changed", plan);
                        this.syncPrivatePlans([plan]);
                        return [2 /*return*/, plan];
                }
            });
        });
    };
    /**
     * 更新日历颜色
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.updatePlanColor = function (ji, jc) {
        return __awaiter(this, void 0, void 0, function () {
            var plandb, plan;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(ji); // 计划ID不能为空
                        this.assertEmpty(jc); // 颜色不能为空
                        plandb = new __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_jha_tbl__["a" /* JhaTbl */]();
                        plandb.ji = ji;
                        plandb.jc = jc;
                        plandb.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                        return [4 /*yield*/, this.sqlExce.updateByParam(plandb)];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.getPlan(ji, false)];
                    case 2:
                        plan = _a.sent();
                        this.emitService.emit("mwxing.calendar.plans.changed", plan);
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 取得计划
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.getPlan = function (ji, withchildren) {
        if (withchildren === void 0) { withchildren = true; }
        return __awaiter(this, void 0, void 0, function () {
            var plan, plandb, plansql, planmembersql, _a, params, sql, _b, agendasql, agendas, tasksql, tasks, minitasksql, minitasks, memosql, memos, merged;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        this.assertEmpty(ji); // 计划ID不能为空
                        plan = {};
                        plandb = new __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_jha_tbl__["a" /* JhaTbl */]();
                        plansql = "select * from gtd_jha where ji = ? and del = ?";
                        return [4 /*yield*/, this.sqlExce.getExtOneByParam(plansql, [ji, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel])];
                    case 1:
                        plandb = _c.sent();
                        // 计划不存在直接返回
                        if (!plandb) {
                            return [2 /*return*/, null];
                        }
                        Object.assign(plan, plandb);
                        planmembersql = "select * from gtd_par where obt = ? and obi = ? and del = ?";
                        _a = plan;
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(planmembersql, [__WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].CalendarPlan, ji, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel])];
                    case 2:
                        _a.members = (_c.sent()) || new Array();
                        if (!withchildren) {
                            return [2 /*return*/, plan];
                        }
                        params = new Array();
                        params.push(ji);
                        if (!(plan.jt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].CalendarPlan || plan.jt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].ActivityPlan)) return [3 /*break*/, 4];
                        sql = "select * from gtd_jta where ji = ? and del <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "'";
                        _b = plan;
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, params)];
                    case 3:
                        _b.items = _c.sent();
                        _c.label = 4;
                    case 4:
                        if (!(plan.jt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].PrivatePlan)) return [3 /*break*/, 9];
                        agendasql = "select ev.*,\n                              ea.sd sd,\n                              ea.st st,\n                              ea.ed ed,\n                              ea.et et,\n                              ea.ct ct\n                       from gtd_ev ev\n                          left join gtd_ca ea on ea.evi = ev.evi\n                       where ev.type = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].Agenda + "' and ev.ji = ? and ev.del <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "'";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(agendasql, params)];
                    case 5:
                        agendas = _c.sent();
                        tasksql = "select ev.*,\n                            et.cs cs,\n                            et.isrt isrt,\n                            et.cd cd,\n                            et.fd fd\n                     from gtd_ev ev\n                        left join gtd_t et on et.evi = ev.evi\n                     where ev.type = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].Task + "' and ev.ji = ? and ev.del <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "'";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(tasksql, params)];
                    case 6:
                        tasks = _c.sent();
                        minitasksql = "select *\n                         from gtd_ev\n                         where type = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].MiniTask + "' and ji = ? and del <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "'";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(minitasksql, params)];
                    case 7:
                        minitasks = _c.sent();
                        memosql = "select * from gtd_mom where ji = ? and del <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "'";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(memosql, params)];
                    case 8:
                        memos = _c.sent();
                        merged = new Array();
                        merged = merged.concat(agendas);
                        merged = merged.concat(tasks);
                        merged = merged.concat(minitasks);
                        merged = merged.concat(memos);
                        plan.items = merged;
                        _c.label = 9;
                    case 9: return [2 /*return*/, plan];
                }
            });
        });
    };
    /**
     * 取得删除日历SQL
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.removePlanSqls = function (ji, jt, withchildren) {
        if (withchildren === void 0) { withchildren = true; }
        this.assertEmpty(ji); // id不能为空
        this.assertNull(jt); // 计划类型不能为空
        var sqls = new Array();
        // 同时删除日历项
        if (withchildren) {
            if (jt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].CalendarPlan || jt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].ActivityPlan) {
                var plandb = new __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_jha_tbl__["a" /* JhaTbl */]();
                plandb.ji = ji;
                plandb.jtd = "0";
                sqls.push(plandb.upTParam());
                var planitemdb = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                planitemdb.ji = ji;
                planitemdb.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                sqls.push(planitemdb.upTParam());
                // 删除关联表，通过未关联主表条件删除
                sqls.push(["update gtd_fj set del = ? where obt = ? and obi not in (select jti from gtd_jta where del <> ?);", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del, __WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Calendar, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del]]); // 附件表
                sqls.push(["delete from gtd_wa where obt = ? and obi not in (select jti from gtd_jta where del <> ?);", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Calendar, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del]]); // 提醒表
                sqls.push(["update gtd_par set del = ? where obt = ? and obi not in (select jti from gtd_jta where del <> ?);", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del, __WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Calendar, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del]]); // 参与人表
                sqls.push(["delete from gtd_mrk where obt = ? and obi not in (select jti from gtd_jta where del <> ?);", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Calendar, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del]]); // 标签表
            }
            if (jt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].PrivatePlan) {
                var plandb = new __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_jha_tbl__["a" /* JhaTbl */]();
                plandb.ji = ji;
                plandb.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                sqls.push(plandb.upTParam());
                var eventdb = new __WEBPACK_IMPORTED_MODULE_16__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
                eventdb.ji = ji;
                eventdb.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                // 删除事件主表
                sqls.push(eventdb.upTParam());
                // 删除关联表，通过未关联主表条件删除
                sqls.push(["delete from gtd_ca where evi not in (select evi from gtd_ev where del <> ?);", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del]]); // 日程表
                sqls.push(["delete from gtd_t where evi not in (select evi from gtd_ev where del <> ?);", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del]]); // 任务表
                sqls.push(["update gtd_fj set del = ? where obt = ? and obi not in (select evi from gtd_ev where del <> ?);", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del, __WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Event, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del]]); // 附件表
                sqls.push(["delete from gtd_wa where obt = ? and obi not in (select evi from gtd_ev where del <> ?);", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Event, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del]]); // 提醒表
                sqls.push(["update gtd_par set del = ? where obt = ? and obi not in (select evi from gtd_ev where del <> ?);", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del, __WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Event, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del]]); // 参与人表
                sqls.push(["delete from gtd_mrk where obt = ? and obi not in (select evi from gtd_ev where del <> ?);", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Event, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del]]); // 标签表
                var memodb = new __WEBPACK_IMPORTED_MODULE_17__sqlite_tbl_mom_tbl__["a" /* MomTbl */]();
                memodb.ji = ji;
                // 删除备忘主表
                sqls.push(memodb.dTParam());
                // 删除关联表，通过未关联主表条件删除
                sqls.push(["update gtd_fj set del = ? where obt = ? and obi not in (select moi from gtd_mom where del <> ?);", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del, __WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Memo, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del]]); // 附件表
                sqls.push(["delete from gtd_wa where obt = ? and obi not in (select moi from gtd_mom where del <> ?);", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Memo, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del]]); // 提醒表
                sqls.push(["update gtd_par set del = ? where obt = ? and obi not in (select moi from gtd_mom where del <> ?);", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del, __WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Memo, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del]]); // 参与人表
                sqls.push(["delete from gtd_mrk where obt = ? and obi not in (select moi from gtd_mom where del <> ?);", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Memo, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del]]); // 标签表
            }
        }
        else {
            // 不删除子元素，需要把子元素的计划ID更新为空/默认计划ID
            if (jt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].CalendarPlan || jt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].ActivityPlan) {
                var plandb = new __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_jha_tbl__["a" /* JhaTbl */]();
                plandb.ji = ji;
                plandb.jtd = "0";
                sqls.push(plandb.upTParam());
                // 更新日历项表计划ID
                sqls.push(["update gtd_jta set ji = ?, utt = ? where ji = ?", ['', __WEBPACK_IMPORTED_MODULE_13_moment__().unix(), ji]]);
            }
            if (jt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].PrivatePlan) {
                var plandb = new __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_jha_tbl__["a" /* JhaTbl */]();
                plandb.ji = ji;
                plandb.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                sqls.push(plandb.upTParam());
                // 更新事件主表
                sqls.push(["update gtd_ev set ji = ?, utt = ? where ji = ?", ['', __WEBPACK_IMPORTED_MODULE_13_moment__().unix(), ji]]);
                // 更新备忘主表
                sqls.push(["update gtd_mom set ji = ?, utt = ? where ji = ?", ['', __WEBPACK_IMPORTED_MODULE_13_moment__().unix(), ji]]);
            }
        }
        return sqls;
    };
    /**
     * 删除日历
     *
     * @author leon_xi@163.com
     **/
    // async removePlan(ji: string, jt: PlanType, withchildren: boolean = true) {
    //
    //   this.assertEmpty(ji);   // id不能为空
    //   this.assertNull(jt);    // 计划类型不能为空
    //
    //   let sqls: Array<any> = this.removePlanSqls(ji, jt, withchildren);
    //
    //   await this.sqlExce.batExecSqlByParam(sqls);
    //
    //   return;
    // }
    /**
     * 删除日历
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.removePlan = function (plan, withchildren) {
        if (withchildren === void 0) { withchildren = true; }
        return __awaiter(this, void 0, void 0, function () {
            var ji, jt, sqls, jhadb, items, sql, removeditems, removedjtas, _i, items_1, item, jtadb, removesqls, _a, removesqls_1, removesql, jhadb, updatedactivites, items, itemsql, removedjtas, _b, items_2, item, jtadb, removesqls, _c, removesqls_2, removesql, events, eventsql, _d, events_1, event_1, evi, type, agenda, task, memos, memosql, removedmoms, _e, memos_1, memo, memodb, removesqls, _f, removesqls_3, removesql, items, itemsql, removedjtas, _g, items_3, item, jtadb, updatesqls, _h, updatesqls_1, updatesql, events, eventsql, _j, events_2, event_2, evi, type, agenda, changed, task, changed, memos, memosql, removedmoms, _k, memos_2, memo, memodb, updatesqls, _l, updatesqls_2, updatesql;
            return __generator(this, function (_m) {
                switch (_m.label) {
                    case 0:
                        this.assertEmpty(plan); // 计划不能为空
                        this.assertEmpty(plan.ji); // 计划ID不能为空
                        this.assertEmpty(plan.jt); // 计划类型不能为空
                        ji = plan.ji;
                        jt = plan.jt;
                        sqls = new Array();
                        if (!(jt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].CalendarPlan || jt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].ActivityPlan)) return [3 /*break*/, 3];
                        plan.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                        jhadb = new __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_jha_tbl__["a" /* JhaTbl */]();
                        Object.assign(jhadb, plan);
                        sqls.push(jhadb.upTParam());
                        items = new Array();
                        sql = "select * from gtd_jta where ji = ? and del = ?";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, [ji, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel])];
                    case 1:
                        items = (_m.sent()) || items;
                        removeditems = new Array();
                        // 存在日历项
                        if (items.length > 0) {
                            removedjtas = new Array();
                            for (_i = 0, items_1 = items; _i < items_1.length; _i++) {
                                item = items_1[_i];
                                item.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                                jtadb = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                                Object.assign(jtadb, item);
                                removeditems.push(item);
                                removedjtas.push(jtadb);
                            }
                            removesqls = this.sqlExce.getFastSaveSqlByParam(removedjtas) || new Array();
                            for (_a = 0, removesqls_1 = removesqls; _a < removesqls_1.length; _a++) {
                                removesql = removesqls_1[_a];
                                sqls.push(removesql);
                            }
                        }
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls)];
                    case 2:
                        _m.sent();
                        this.emitService.emit("mwxing.calendar.activities.changed", removeditems);
                        this.emitService.emit("mwxing.calendar.plans.changed", plan);
                        _m.label = 3;
                    case 3:
                        if (!(jt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].PrivatePlan)) return [3 /*break*/, 29];
                        plan.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                        plan.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                        jhadb = new __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_jha_tbl__["a" /* JhaTbl */]();
                        Object.assign(jhadb, plan);
                        sqls.push(jhadb.upTParam());
                        updatedactivites = new Array();
                        if (!withchildren) return [3 /*break*/, 15];
                        items = new Array();
                        itemsql = "select * from gtd_jta where ji = ? and del = ?";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(itemsql, [ji, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel])];
                    case 4:
                        items = (_m.sent()) || items;
                        // 存在日历项
                        if (items.length > 0) {
                            removedjtas = new Array();
                            for (_b = 0, items_2 = items; _b < items_2.length; _b++) {
                                item = items_2[_b];
                                item.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                                jtadb = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                                Object.assign(jtadb, item);
                                updatedactivites.push(item);
                                removedjtas.push(jtadb);
                            }
                            removesqls = this.sqlExce.getFastSaveSqlByParam(removedjtas) || new Array();
                            for (_c = 0, removesqls_2 = removesqls; _c < removesqls_2.length; _c++) {
                                removesql = removesqls_2[_c];
                                sqls.push(removesql);
                            }
                        }
                        events = new Array();
                        eventsql = "select * from gtd_ev where ji = ? and (rtevi is null or rtevi = '') and del = ?";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(eventsql, [ji, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel])];
                    case 5:
                        events = (_m.sent()) || events;
                        _d = 0, events_1 = events;
                        _m.label = 6;
                    case 6:
                        if (!(_d < events_1.length)) return [3 /*break*/, 13];
                        event_1 = events_1[_d];
                        evi = event_1.evi;
                        type = event_1.type;
                        if (!(type == __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].Agenda)) return [3 /*break*/, 9];
                        return [4 /*yield*/, this.eventService.getAgenda(evi)];
                    case 7:
                        agenda = _m.sent();
                        return [4 /*yield*/, this.eventService.removeAgenda(agenda, __WEBPACK_IMPORTED_MODULE_10__data_enum__["r" /* OperateType */].FromSel)];
                    case 8:
                        _m.sent();
                        _m.label = 9;
                    case 9:
                        if (!(type == __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].Task)) return [3 /*break*/, 12];
                        return [4 /*yield*/, this.eventService.getTask(evi)];
                    case 10:
                        task = _m.sent();
                        return [4 /*yield*/, this.eventService.removeTask(task)];
                    case 11:
                        _m.sent();
                        _m.label = 12;
                    case 12:
                        _d++;
                        return [3 /*break*/, 6];
                    case 13:
                        memos = new Array();
                        memosql = "select * from gtd_mom where ji = ? and del = ?";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(memosql, [ji, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel])];
                    case 14:
                        memos = (_m.sent()) || memos;
                        // 存在事件
                        if (memos.length > 0) {
                            removedmoms = new Array();
                            for (_e = 0, memos_1 = memos; _e < memos_1.length; _e++) {
                                memo = memos_1[_e];
                                memo.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                                memodb = new __WEBPACK_IMPORTED_MODULE_17__sqlite_tbl_mom_tbl__["a" /* MomTbl */]();
                                Object.assign(memodb, memo);
                                removedmoms.push(memodb);
                                updatedactivites.push(memo);
                            }
                            removesqls = this.sqlExce.getFastSaveSqlByParam(removedmoms) || new Array();
                            for (_f = 0, removesqls_3 = removesqls; _f < removesqls_3.length; _f++) {
                                removesql = removesqls_3[_f];
                                sqls.push(removesql);
                            }
                        }
                        return [3 /*break*/, 27];
                    case 15:
                        items = new Array();
                        itemsql = "select * from gtd_jta where ji = ? and del = ?";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(itemsql, [ji, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel])];
                    case 16:
                        items = (_m.sent()) || items;
                        // 存在日历项
                        if (items.length > 0) {
                            removedjtas = new Array();
                            for (_g = 0, items_3 = items; _g < items_3.length; _g++) {
                                item = items_3[_g];
                                item.ji = "";
                                jtadb = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                                Object.assign(jtadb, item);
                                updatedactivites.push(item);
                                removedjtas.push(jtadb);
                            }
                            updatesqls = this.sqlExce.getFastSaveSqlByParam(removedjtas) || new Array();
                            for (_h = 0, updatesqls_1 = updatesqls; _h < updatesqls_1.length; _h++) {
                                updatesql = updatesqls_1[_h];
                                sqls.push(updatesql);
                            }
                        }
                        events = new Array();
                        eventsql = "select * from gtd_ev where ji = ? and (rtevi is null or rtevi = '') and del = ?";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(eventsql, [ji, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel])];
                    case 17:
                        events = (_m.sent()) || events;
                        _j = 0, events_2 = events;
                        _m.label = 18;
                    case 18:
                        if (!(_j < events_2.length)) return [3 /*break*/, 25];
                        event_2 = events_2[_j];
                        evi = event_2.evi;
                        type = event_2.type;
                        if (!(type == __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].Agenda)) return [3 /*break*/, 21];
                        return [4 /*yield*/, this.eventService.getAgenda(evi)];
                    case 19:
                        agenda = _m.sent();
                        changed = {};
                        Object.assign(changed, agenda);
                        changed.ji = "";
                        return [4 /*yield*/, this.eventService.saveAgenda(changed, agenda, __WEBPACK_IMPORTED_MODULE_10__data_enum__["r" /* OperateType */].FromSel)];
                    case 20:
                        _m.sent();
                        _m.label = 21;
                    case 21:
                        if (!(type == __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].Task)) return [3 /*break*/, 24];
                        return [4 /*yield*/, this.eventService.getTask(evi)];
                    case 22:
                        task = _m.sent();
                        changed = {};
                        Object.assign(changed, task);
                        changed.ji = "";
                        return [4 /*yield*/, this.eventService.saveTask(changed)];
                    case 23:
                        _m.sent();
                        _m.label = 24;
                    case 24:
                        _j++;
                        return [3 /*break*/, 18];
                    case 25:
                        memos = new Array();
                        memosql = "select * from gtd_mom where ji = ? and del = ?";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(memosql, [ji, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel])];
                    case 26:
                        memos = (_m.sent()) || memos;
                        // 存在备忘
                        if (memos.length > 0) {
                            removedmoms = new Array();
                            for (_k = 0, memos_2 = memos; _k < memos_2.length; _k++) {
                                memo = memos_2[_k];
                                memo.ji = "";
                                memodb = new __WEBPACK_IMPORTED_MODULE_17__sqlite_tbl_mom_tbl__["a" /* MomTbl */]();
                                Object.assign(memodb, memo);
                                removedmoms.push(memodb);
                                updatedactivites.push(memo);
                            }
                            updatesqls = this.sqlExce.getFastSaveSqlByParam(removedmoms) || new Array();
                            for (_l = 0, updatesqls_2 = updatesqls; _l < updatesqls_2.length; _l++) {
                                updatesql = updatesqls_2[_l];
                                sqls.push(updatesql);
                            }
                        }
                        _m.label = 27;
                    case 27: return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls)];
                    case 28:
                        _m.sent();
                        this.emitService.emit("mwxing.calendar.activities.changed", updatedactivites);
                        this.emitService.emit("mwxing.calendar.plans.changed", plan);
                        this.syncPrivatePlans([plan]);
                        _m.label = 29;
                    case 29: return [2 /*return*/, plan];
                }
            });
        });
    };
    /**
     * 根据日历项ID取得日历项
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.getPlanItem = function (jti) {
        return __awaiter(this, void 0, void 0, function () {
            var planitemdb, sql, planitem, members, querymemberdb, memberdbs, _i, memberdbs_1, memberdb, member, fs;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(jti); // 入参不能为空
                        planitemdb = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                        sql = "select * from gtd_jta where jti = ? and del = ?";
                        return [4 /*yield*/, this.sqlExce.getExtOneByParam(sql, [jti, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel])];
                    case 1:
                        planitemdb = _a.sent();
                        if (!planitemdb)
                            return [2 /*return*/, null];
                        planitem = {};
                        Object.assign(planitem, planitemdb);
                        planitem.rtjson = Object(__WEBPACK_IMPORTED_MODULE_8__event_service__["f" /* generateRtJson */])(planitem.rtjson, planitem.rt);
                        planitem.txjson = Object(__WEBPACK_IMPORTED_MODULE_8__event_service__["g" /* generateTxJson */])(planitem.txjson, planitem.tx);
                        members = new Array();
                        querymemberdb = new __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_par_tbl__["a" /* ParTbl */]();
                        querymemberdb.obi = jti;
                        querymemberdb.obt = __WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Calendar;
                        return [4 /*yield*/, this.sqlExce.getLstByParam(querymemberdb)];
                    case 2:
                        memberdbs = (_a.sent()) || new Array();
                        for (_i = 0, memberdbs_1 = memberdbs; _i < memberdbs_1.length; _i++) {
                            memberdb = memberdbs_1[_i];
                            member = {};
                            Object.assign(member, memberdb);
                            fs = this.userConfig.GetOneBTbl(memberdb.pwi);
                            this.assertEmpty(fs); // 联系人不能为空
                            Object.assign(member, fs);
                            members.push(member);
                        }
                        planitem.members = members;
                        return [2 /*return*/, planitem];
                }
            });
        });
    };
    /**
     * 根据日历项ID取得日历项
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.findPlanItem = function (cond) {
        return __awaiter(this, void 0, void 0, function () {
            var planitemdb, planitems, planitem, members, querymemberdb, memberdbs, _i, memberdbs_2, memberdb, member, fs;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(cond); // 入参不能为空
                        planitemdb = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                        Object.assign(planitemdb, cond);
                        return [4 /*yield*/, this.sqlExce.getLstByParam(planitemdb)];
                    case 1:
                        planitems = _a.sent();
                        if (!planitems || planitems.length <= 0)
                            return [2 /*return*/, null];
                        planitemdb = planitems[0]; // 取第一条
                        planitem = {};
                        Object.assign(planitem, planitemdb);
                        planitem.rtjson = Object(__WEBPACK_IMPORTED_MODULE_8__event_service__["f" /* generateRtJson */])(planitem.rtjson, planitem.rt);
                        planitem.txjson = Object(__WEBPACK_IMPORTED_MODULE_8__event_service__["g" /* generateTxJson */])(planitem.txjson, planitem.tx);
                        members = new Array();
                        querymemberdb = new __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_par_tbl__["a" /* ParTbl */]();
                        querymemberdb.obi = planitem.jti;
                        querymemberdb.obt = __WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Calendar;
                        return [4 /*yield*/, this.sqlExce.getLstByParam(querymemberdb)];
                    case 2:
                        memberdbs = (_a.sent()) || new Array();
                        for (_i = 0, memberdbs_2 = memberdbs; _i < memberdbs_2.length; _i++) {
                            memberdb = memberdbs_2[_i];
                            member = {};
                            Object.assign(member, memberdb);
                            fs = this.userConfig.GetOneBTbl(memberdb.pwi);
                            this.assertEmpty(fs); // 联系人不能为空
                            Object.assign(member, fs);
                            members.push(member);
                        }
                        planitem.members = members;
                        return [2 /*return*/, planitem];
                }
            });
        });
    };
    /**
     * 取得两个日历项变化的字段名成数组
     *
     * @param {PlanItemData} one
     * @param {PlanItemData} another
     * @returns {Array<string>}
     *
     * @author leon_xi@163.com
     */
    CalendarService.prototype.changedPlanItemFields = function (one, another) {
        Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["a" /* assertEmpty */])(one); // 入参不能为空
        Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["a" /* assertEmpty */])(another); // 入参不能为空
        var changed = new Array();
        for (var _i = 0, _a = Object.keys(one); _i < _a.length; _i++) {
            var key = _a[_i];
            if (["wtt", "utt", "rts", "txs"].indexOf(key) >= 0)
                continue; // 忽略字段
            if (one.hasOwnProperty(key)) {
                var value = one[key];
                // 如果两个值都为空, 继续
                if (!value && !another[key]) {
                    continue;
                }
                // 如果one的值为空, 不一致
                if (!value || !another[key]) {
                    changed.push(key);
                    continue;
                }
                if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {
                    if (typeof value === 'string' && value != "" && another[key] != "" && key == "rt") {
                        var onert = new __WEBPACK_IMPORTED_MODULE_8__event_service__["c" /* RtJson */]();
                        Object.assign(onert, JSON.parse(value));
                        var anotherrt = new __WEBPACK_IMPORTED_MODULE_8__event_service__["c" /* RtJson */]();
                        Object.assign(anotherrt, JSON.parse(another[key]));
                        if (!(onert.sameWith(anotherrt))) {
                            changed.push(key);
                            continue;
                        }
                    }
                    if (typeof value === 'string' && value != "" && another[key] != "" && key == "tx") {
                        var onetx = new __WEBPACK_IMPORTED_MODULE_8__event_service__["d" /* TxJson */]();
                        Object.assign(onetx, JSON.parse(value));
                        var anothertx = new __WEBPACK_IMPORTED_MODULE_8__event_service__["d" /* TxJson */]();
                        Object.assign(anothertx, JSON.parse(another[key]));
                        if (!(onetx.sameWith(anothertx))) {
                            changed.push(key);
                            continue;
                        }
                    }
                    if (value != another[key]) {
                        changed.push(key);
                        continue;
                    }
                }
                if (value instanceof __WEBPACK_IMPORTED_MODULE_8__event_service__["c" /* RtJson */]) {
                    var onert = new __WEBPACK_IMPORTED_MODULE_8__event_service__["c" /* RtJson */]();
                    Object.assign(onert, value);
                    var anotherrt = new __WEBPACK_IMPORTED_MODULE_8__event_service__["c" /* RtJson */]();
                    Object.assign(anotherrt, another[key]);
                    if (!(onert.sameWith(anotherrt))) {
                        changed.push(key);
                        continue;
                    }
                }
                if (value instanceof __WEBPACK_IMPORTED_MODULE_8__event_service__["d" /* TxJson */]) {
                    var onetx = new __WEBPACK_IMPORTED_MODULE_8__event_service__["d" /* TxJson */]();
                    Object.assign(onetx, value);
                    var anothertx = new __WEBPACK_IMPORTED_MODULE_8__event_service__["d" /* TxJson */]();
                    Object.assign(anothertx, another[key]);
                    if (!(onetx.sameWith(anothertx))) {
                        changed.push(key);
                        continue;
                    }
                }
                if (value instanceof Array) {
                    if (value.length != another[key].length) {
                        changed.push(key);
                        continue;
                    }
                    if (value.length > 0) {
                        if (value[0] && value[0].hasOwnProperty("pari") && another[key][0] && another[key][0].hasOwnProperty("pari")) {
                            var compare = value.concat(another[key]);
                            compare.sort(function (a, b) {
                                if (a.pari > b.pari)
                                    return -1;
                                if (a.pari < b.pari)
                                    return 1;
                                return 0;
                            });
                            var result = compare.reduce(function (target, val) {
                                if (!target) {
                                    target = val;
                                }
                                else {
                                    if (!val) {
                                        target = {};
                                    }
                                    else {
                                        var issame = true;
                                        for (var _i = 0, _a = Object.keys(target); _i < _a.length; _i++) {
                                            var key_1 = _a[_i];
                                            if (["wtt", "utt"].indexOf(key_1) >= 0)
                                                continue; // 忽略字段
                                            if (target.hasOwnProperty(key_1)) {
                                                var value_1 = target[key_1];
                                                if (typeof value_1 === 'string' || typeof value_1 === 'number' || typeof value_1 === 'boolean') {
                                                    if (value_1 != val[key_1])
                                                        issame = false;
                                                }
                                            }
                                        }
                                        if (issame) {
                                            target = null;
                                        }
                                        else {
                                            target = {};
                                        }
                                    }
                                }
                                return target;
                            }, null);
                            if (result && result.isEmpty()) {
                                changed.push(key);
                                continue;
                            }
                        }
                        else if (value[0] instanceof __WEBPACK_IMPORTED_MODULE_19__sqlite_tbl_fj_tbl__["a" /* FjTbl */] && another[key][0] instanceof __WEBPACK_IMPORTED_MODULE_19__sqlite_tbl_fj_tbl__["a" /* FjTbl */]) {
                            var compare = value.concat(another[key]);
                            compare.sort(function (a, b) {
                                if (a.fji > b.fji)
                                    return -1;
                                if (a.fji < b.fji)
                                    return 1;
                                return 0;
                            });
                            var result = compare.reduce(function (target, val) {
                                if (!target) {
                                    target = val;
                                }
                                else {
                                    if (!val) {
                                        target = {};
                                    }
                                    else {
                                        var issame = true;
                                        for (var _i = 0, _a = Object.keys(target); _i < _a.length; _i++) {
                                            var key_2 = _a[_i];
                                            if (["wtt", "utt"].indexOf(key_2) >= 0)
                                                continue; // 忽略字段
                                            if (target.hasOwnProperty(key_2)) {
                                                var value_2 = target[key_2];
                                                if (typeof value_2 === 'string' || typeof value_2 === 'number' || typeof value_2 === 'boolean') {
                                                    if (value_2 != val[key_2])
                                                        issame = false;
                                                }
                                            }
                                        }
                                        if (issame) {
                                            target = null;
                                        }
                                        else {
                                            target = {};
                                        }
                                    }
                                }
                                return target;
                            }, null);
                            if (result && result.isEmpty()) {
                                changed.push(key);
                                continue;
                            }
                        }
                        else {
                            continue; // 非比较字段，忽略
                        }
                    }
                }
            }
        }
        return changed;
    };
    /**
     * 判断两个日历项是否相同
     *
     * @param {PlanItemData} one
     * @param {PlanItemData} another
     * @returns {boolean}
     *
     * @author leon_xi@163.com
     */
    CalendarService.prototype.isSamePlanItem = function (one, another) {
        if (!one || !another)
            return false;
        for (var _i = 0, _a = Object.keys(one); _i < _a.length; _i++) {
            var key = _a[_i];
            if (["wtt", "utt", "rts", "txs"].indexOf(key) >= 0)
                continue; // 忽略字段
            if (one.hasOwnProperty(key)) {
                var value = one[key];
                // 如果两个值都为空, 继续
                if (!value && !another[key]) {
                    continue;
                }
                // 如果one的值为空, 不一致
                if (!value || !another[key])
                    return false;
                if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {
                    if (typeof value === 'string' && value != "" && another[key] != "" && key == "rt") {
                        var onert = new __WEBPACK_IMPORTED_MODULE_8__event_service__["c" /* RtJson */]();
                        Object.assign(onert, JSON.parse(value));
                        var anotherrt = new __WEBPACK_IMPORTED_MODULE_8__event_service__["c" /* RtJson */]();
                        Object.assign(anotherrt, JSON.parse(another[key]));
                        if (!(onert.sameWith(anotherrt)))
                            return false;
                        continue;
                    }
                    if (typeof value === 'string' && value != "" && another[key] != "" && key == "tx") {
                        var onetx = new __WEBPACK_IMPORTED_MODULE_8__event_service__["d" /* TxJson */]();
                        Object.assign(onetx, JSON.parse(value));
                        var anothertx = new __WEBPACK_IMPORTED_MODULE_8__event_service__["d" /* TxJson */]();
                        Object.assign(anothertx, JSON.parse(another[key]));
                        if (!(onetx.sameWith(anothertx)))
                            return false;
                        continue;
                    }
                    if (value != another[key])
                        return false;
                }
                if (value instanceof __WEBPACK_IMPORTED_MODULE_8__event_service__["c" /* RtJson */]) {
                    var onert = new __WEBPACK_IMPORTED_MODULE_8__event_service__["c" /* RtJson */]();
                    Object.assign(onert, value);
                    var anotherrt = new __WEBPACK_IMPORTED_MODULE_8__event_service__["c" /* RtJson */]();
                    Object.assign(anotherrt, another[key]);
                    if (!(onert.sameWith(anotherrt)))
                        return false;
                    continue;
                }
                if (value instanceof __WEBPACK_IMPORTED_MODULE_8__event_service__["d" /* TxJson */]) {
                    var onetx = new __WEBPACK_IMPORTED_MODULE_8__event_service__["d" /* TxJson */]();
                    Object.assign(onetx, value);
                    var anothertx = new __WEBPACK_IMPORTED_MODULE_8__event_service__["d" /* TxJson */]();
                    Object.assign(anothertx, another[key]);
                    if (!(onetx.sameWith(anothertx)))
                        return false;
                    continue;
                }
                if (value instanceof Array) {
                    if (value.length != another[key].length)
                        return false;
                    if (value.length > 0) {
                        if (value[0] && value[0].hasOwnProperty("pari") && another[key][0] && another[key][0].hasOwnProperty("pari")) {
                            var compare = value.concat(another[key]);
                            compare.sort(function (a, b) {
                                if (a.pari > b.pari)
                                    return -1;
                                if (a.pari < b.pari)
                                    return 1;
                                return 0;
                            });
                            var result = compare.reduce(function (target, val) {
                                if (!target) {
                                    target = val;
                                }
                                else {
                                    if (!val) {
                                        target = {};
                                    }
                                    else {
                                        var issame = true;
                                        for (var _i = 0, _a = Object.keys(target); _i < _a.length; _i++) {
                                            var key_3 = _a[_i];
                                            if (["wtt", "utt"].indexOf(key_3) >= 0)
                                                continue; // 忽略字段
                                            if (target.hasOwnProperty(key_3)) {
                                                var value_3 = target[key_3];
                                                if (typeof value_3 === 'string' || typeof value_3 === 'number' || typeof value_3 === 'boolean') {
                                                    if (value_3 != val[key_3])
                                                        issame = false;
                                                }
                                            }
                                        }
                                        if (issame) {
                                            target = null;
                                        }
                                        else {
                                            target = {};
                                        }
                                    }
                                }
                                return target;
                            }, null);
                            if (result && result.isEmpty())
                                return false;
                        }
                        else if (value[0] instanceof __WEBPACK_IMPORTED_MODULE_19__sqlite_tbl_fj_tbl__["a" /* FjTbl */] && another[key][0] instanceof __WEBPACK_IMPORTED_MODULE_19__sqlite_tbl_fj_tbl__["a" /* FjTbl */]) {
                            var compare = value.concat(another[key]);
                            compare.sort(function (a, b) {
                                if (a.fji > b.fji)
                                    return -1;
                                if (a.fji < b.fji)
                                    return 1;
                                return 0;
                            });
                            var result = compare.reduce(function (target, val) {
                                if (!target) {
                                    target = val;
                                }
                                else {
                                    if (!val) {
                                        target = {};
                                    }
                                    else {
                                        var issame = true;
                                        for (var _i = 0, _a = Object.keys(target); _i < _a.length; _i++) {
                                            var key_4 = _a[_i];
                                            if (["wtt", "utt"].indexOf(key_4) >= 0)
                                                continue; // 忽略字段
                                            if (target.hasOwnProperty(key_4)) {
                                                var value_4 = target[key_4];
                                                if (typeof value_4 === 'string' || typeof value_4 === 'number' || typeof value_4 === 'boolean') {
                                                    if (value_4 != val[key_4])
                                                        issame = false;
                                                }
                                            }
                                        }
                                        if (issame) {
                                            target = null;
                                        }
                                        else {
                                            target = {};
                                        }
                                    }
                                }
                                return target;
                            }, null);
                            if (result && result.isEmpty())
                                return false;
                        }
                        else {
                            return false;
                        }
                    }
                }
            }
        }
        return true;
    };
    /**
     * 判断日历项修改是否需要确认
     * 当前日历项修改 还是 将来日历项全部修改
     *
     * @param {PlanItemData} before
     * @param {PlanItemData} after
     * @returns {boolean}
     */
    CalendarService.prototype.hasPlanItemModifyConfirm = function (before, after) {
        Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["a" /* assertEmpty */])(before); // 入参不能为空
        Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["a" /* assertEmpty */])(after); // 入参不能为空
        var confirm = __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].None;
        // 确认修改前日程是否重复
        if (before.rfg != __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].Repeat)
            return confirm;
        for (var _i = 0, _a = Object.keys(before); _i < _a.length; _i++) {
            var key = _a[_i];
            if (["sd", "st", "jtn", "rt", "rtjson"].indexOf(key) >= 0) {
                var value = before[key];
                // 如果两个值都为空, 继续
                if (!value && !after[key]) {
                    continue;
                }
                // 如果one的值为空, 不一致
                if (!value || !after[key]) {
                    if (confirm == __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].None) {
                        confirm = __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll;
                    }
                    else if (confirm == __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].All) {
                        confirm = __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].FutureAll;
                    }
                    continue;
                }
                if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {
                    if (typeof value === 'string' && value != "" && after[key] != "" && key == "rt") {
                        var onert = new __WEBPACK_IMPORTED_MODULE_8__event_service__["c" /* RtJson */]();
                        Object.assign(onert, JSON.parse(value));
                        var anotherrt = new __WEBPACK_IMPORTED_MODULE_8__event_service__["c" /* RtJson */]();
                        Object.assign(anotherrt, JSON.parse(after[key]));
                        if (!(onert.sameWith(anotherrt))) {
                            if (confirm == __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].None) {
                                confirm = __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].All;
                            }
                            else if (confirm == __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll) {
                                confirm = __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].FutureAll;
                            }
                        }
                        continue;
                    }
                    if (value != after[key]) {
                        if (confirm == __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].None) {
                            confirm = __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll;
                        }
                        else if (confirm == __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].All) {
                            confirm = __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].FutureAll;
                        }
                        continue;
                    }
                }
                if (value instanceof __WEBPACK_IMPORTED_MODULE_8__event_service__["c" /* RtJson */]) {
                    var onert = new __WEBPACK_IMPORTED_MODULE_8__event_service__["c" /* RtJson */]();
                    Object.assign(onert, value);
                    var anotherrt = new __WEBPACK_IMPORTED_MODULE_8__event_service__["c" /* RtJson */]();
                    Object.assign(anotherrt, after[key]);
                    if (!(onert.sameWith(anotherrt))) {
                        if (confirm == __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].None) {
                            confirm = __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].All;
                        }
                        else if (confirm == __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll) {
                            confirm = __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].FutureAll;
                        }
                    }
                    continue;
                }
            }
        }
        return confirm;
    };
    /**
     * 创建/更新日历项
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.savePlanItem = function (item, origin, modiType) {
        if (origin === void 0) { origin = null; }
        if (modiType === void 0) { modiType = __WEBPACK_IMPORTED_MODULE_10__data_enum__["r" /* OperateType */].Non; }
        return __awaiter(this, void 0, void 0, function () {
            var items, changed, rtjson, txjson, members, memberdbs, _i, members_1, member, memberdb, sqls, planitemdb, sqls_1, planitemdb, anewitem, confirm_1, _a, planitemdb, sqls, planitemdb_1, rtjti, fetchFromSel_1, originitems, originitemsdb, _b, originitems_1, originitem, planitemdb_2, originitemssqls, _c, originitemssqls_1, originitemsql, sqls_2, anewitem, rtjti, fetchFromSel_2, originitems, originitemsdb, _d, originitems_2, originitem, planitemdb_3, originitemssqls, _e, originitemssqls_2, originitemsql, futureallsqls_1, bnewitem, futureallrtjti, fetchFromSel, futurealloriginitems, futurealloriginitemsdb, _f, futurealloriginitems_1, originitem, planitemdb_4, futurealloriginitemssqls, _g, futurealloriginitemssqls_1, originitemsql, allsqls_1, allrtjti, fetchAll, alloriginitems, cnewitem, alloriginitemsdb, _h, alloriginitems_1, originitem, planitemdb_5, alloriginitemssqls, _j, alloriginitemssqls_1, originitemsql, sqls_3;
            return __generator(this, function (_k) {
                switch (_k.label) {
                    case 0:
                        this.assertEmpty(item); // 入参不能为空
                        this.assertEmpty(item.sd); // 日历项所属日期不能为空
                        this.assertEmpty(item.jtn); // 日历项名称不能为空
                        items = new Array();
                        if (!item.jti) return [3 /*break*/, 26];
                        this.assertEmpty(origin); // 修改日历项原日历项不能为空
                        this.assertEmpty(modiType); // 修改日历项修改类型不能为空
                        changed = this.changedPlanItemFields(item, origin);
                        if (!(changed && changed.length > 0)) return [3 /*break*/, 24];
                        rtjson = Object(__WEBPACK_IMPORTED_MODULE_8__event_service__["f" /* generateRtJson */])(item.rtjson, item.rt);
                        txjson = Object(__WEBPACK_IMPORTED_MODULE_8__event_service__["g" /* generateTxJson */])(item.txjson, item.tx);
                        if (!(origin.rfg == __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].NonRepeat)) return [3 /*break*/, 5];
                        if (!(rtjson.cycletype == __WEBPACK_IMPORTED_MODULE_10__data_enum__["c" /* CycleType */].close)) return [3 /*break*/, 2];
                        // 修改为非重复日历项
                        item.rtjson = rtjson;
                        item.rt = JSON.stringify(rtjson);
                        item.rts = rtjson.text();
                        item.txjson = txjson;
                        item.tx = JSON.stringify(txjson);
                        item.txs = txjson.text();
                        members = item.members || new Array();
                        memberdbs = new Array();
                        // 保存参与人
                        for (_i = 0, members_1 = members; _i < members_1.length; _i++) {
                            member = members_1[_i];
                            if (!member.pari) {
                                member.pari = this.util.getUuid();
                                member.obt = __WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Calendar;
                                member.obi = item.jti;
                                member.sdt = __WEBPACK_IMPORTED_MODULE_10__data_enum__["n" /* MemberShareState */].SendWait;
                                member.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                                member.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel;
                            }
                            memberdb = new __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_par_tbl__["a" /* ParTbl */]();
                            Object.assign(memberdb, member);
                            memberdbs.push(memberdb);
                        }
                        sqls = new Array();
                        if (memberdbs.length > 0) {
                            sqls = this.sqlExce.getFastSaveSqlByParam(memberdbs) || new Array();
                        }
                        item.members = members;
                        planitemdb = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                        Object.assign(planitemdb, item);
                        planitemdb.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                        sqls.push(planitemdb.rpTParam());
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls)];
                    case 1:
                        _k.sent();
                        Object.assign(item, planitemdb);
                        items.push(item);
                        return [3 /*break*/, 4];
                    case 2:
                        sqls_1 = new Array();
                        // 删除当前日历项
                        origin.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                        origin.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                        planitemdb = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                        Object.assign(planitemdb, origin);
                        sqls_1.push(planitemdb.upTParam());
                        anewitem = {};
                        Object.assign(anewitem, item);
                        // 重置日历项ID
                        anewitem.jti = "";
                        anewitem.rtjti = "";
                        this.newPlanitem(anewitem, function (newitems, newsqls) {
                            for (var _i = 0, newitems_1 = newitems; _i < newitems_1.length; _i++) {
                                var newitem = newitems_1[_i];
                                items.push(newitem);
                            }
                            for (var _a = 0, newsqls_1 = newsqls; _a < newsqls_1.length; _a++) {
                                var sql = newsqls_1[_a];
                                sqls_1.push(sql);
                            }
                        });
                        // 删除日历项放在返回日历项的最后
                        items.push(origin);
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls_1)];
                    case 3:
                        _k.sent();
                        _k.label = 4;
                    case 4: return [3 /*break*/, 23];
                    case 5:
                        confirm_1 = this.hasPlanItemModifyConfirm(origin, item);
                        _a = confirm_1;
                        switch (_a) {
                            case __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].None: return [3 /*break*/, 6];
                            case __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll: return [3 /*break*/, 8];
                            case __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].FutureAll: return [3 /*break*/, 16];
                            case __WEBPACK_IMPORTED_MODULE_10__data_enum__["b" /* ConfirmType */].All: return [3 /*break*/, 19];
                        }
                        return [3 /*break*/, 22];
                    case 6:
                        // 修改当前日历项
                        item.rtjson = rtjson;
                        item.rt = JSON.stringify(rtjson);
                        item.rts = rtjson.text();
                        item.txjson = txjson;
                        item.tx = JSON.stringify(txjson);
                        item.txs = txjson.text();
                        planitemdb = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                        Object.assign(planitemdb, item);
                        planitemdb.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                        return [4 /*yield*/, this.sqlExce.updateByParam(planitemdb)];
                    case 7:
                        _k.sent();
                        Object.assign(item, planitemdb);
                        items.push(item);
                        return [3 /*break*/, 23];
                    case 8:
                        // 修改当前/将来所有日历项
                        this.assertEqual(modiType, __WEBPACK_IMPORTED_MODULE_10__data_enum__["r" /* OperateType */].Non); // 入参不能为Non
                        if (!(modiType == __WEBPACK_IMPORTED_MODULE_10__data_enum__["r" /* OperateType */].OnlySel)) return [3 /*break*/, 12];
                        sqls = new Array();
                        item.rfg = __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].RepeatToOnly;
                        // 关闭重复
                        item.rtjson = new __WEBPACK_IMPORTED_MODULE_8__event_service__["c" /* RtJson */]();
                        item.rt = JSON.stringify(item.rtjson);
                        item.rts = item.rtjson.text();
                        item.txjson = txjson;
                        item.tx = JSON.stringify(txjson);
                        item.txs = txjson.text();
                        item.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                        planitemdb_1 = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                        Object.assign(planitemdb_1, item);
                        sqls.push(planitemdb_1.upTParam());
                        items.push(item);
                        if (!(!origin.rtjti || origin.rtjti == "")) return [3 /*break*/, 10];
                        rtjti = origin.jti;
                        fetchFromSel_1 = "select *\n                                              from gtd_jta\n                                              where rtjti = ?1\n                                                and del <> ?2\n                                              order by sd asc";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(fetchFromSel_1, [rtjti, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del])];
                    case 9:
                        originitems = (_k.sent()) || new Array();
                        originitemsdb = new Array();
                        rtjti = "";
                        for (_b = 0, originitems_1 = originitems; _b < originitems_1.length; _b++) {
                            originitem = originitems_1[_b];
                            originitem.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                            originitem.rtjti = rtjti;
                            if (rtjti == "") {
                                rtjti = originitem.jti;
                            }
                            planitemdb_2 = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                            Object.assign(planitemdb_2, originitem);
                            items.push(originitem);
                            originitemsdb.push(planitemdb_2);
                        }
                        originitemssqls = this.sqlExce.getFastSaveSqlByParam(originitemsdb) || new Array();
                        for (_c = 0, originitemssqls_1 = originitemssqls; _c < originitemssqls_1.length; _c++) {
                            originitemsql = originitemssqls_1[_c];
                            sqls.push(originitemsql);
                        }
                        _k.label = 10;
                    case 10: return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls)];
                    case 11:
                        _k.sent();
                        _k.label = 12;
                    case 12:
                        if (!(modiType == __WEBPACK_IMPORTED_MODULE_10__data_enum__["r" /* OperateType */].FromSel)) return [3 /*break*/, 15];
                        sqls_2 = new Array();
                        anewitem = {};
                        Object.assign(anewitem, item);
                        // 重置日历项ID
                        anewitem.jti = "";
                        anewitem.rtjti = "";
                        this.newPlanitem(anewitem, function (newitems, newsqls) {
                            for (var _i = 0, newitems_2 = newitems; _i < newitems_2.length; _i++) {
                                var newitem = newitems_2[_i];
                                items.push(newitem);
                            }
                            for (var _a = 0, newsqls_2 = newsqls; _a < newsqls_2.length; _a++) {
                                var sql = newsqls_2[_a];
                                sqls_2.push(sql);
                            }
                        });
                        rtjti = origin.rtjti ? origin.rtjti : origin.jti;
                        fetchFromSel_2 = "select *\n                                            from gtd_jta\n                                            where (jti = ?1 or rtjti = ?1)\n                                              and rfg = ?2\n                                              and date(replace(sd, '/', '-')) >= date(replace(?3, '/', '-'))\n                                              and del <> ?4\n                                            order by sd asc";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(fetchFromSel_2, [rtjti, __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].Repeat, origin.sd, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del])];
                    case 13:
                        originitems = (_k.sent()) || new Array();
                        originitemsdb = new Array();
                        for (_d = 0, originitems_2 = originitems; _d < originitems_2.length; _d++) {
                            originitem = originitems_2[_d];
                            originitem.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                            originitem.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                            planitemdb_3 = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                            Object.assign(planitemdb_3, originitem);
                            items.push(originitem);
                            originitemsdb.push(planitemdb_3);
                        }
                        originitemssqls = this.sqlExce.getFastSaveSqlByParam(originitemsdb) || new Array();
                        for (_e = 0, originitemssqls_2 = originitemssqls; _e < originitemssqls_2.length; _e++) {
                            originitemsql = originitemssqls_2[_e];
                            sqls_2.unshift(originitemsql);
                        }
                        // 执行SQL
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls_2)];
                    case 14:
                        // 执行SQL
                        _k.sent();
                        _k.label = 15;
                    case 15: return [3 /*break*/, 23];
                    case 16:
                        // 修改将来所有日历项
                        this.assertNotEqual(modiType, __WEBPACK_IMPORTED_MODULE_10__data_enum__["r" /* OperateType */].FromSel); // 入参不能为FromSel以外
                        futureallsqls_1 = new Array();
                        bnewitem = {};
                        Object.assign(bnewitem, item);
                        // 重置日历项ID
                        bnewitem.jti = "";
                        bnewitem.rtjti = "";
                        this.newPlanitem(bnewitem, function (newitems, newsqls) {
                            for (var _i = 0, newitems_3 = newitems; _i < newitems_3.length; _i++) {
                                var newitem = newitems_3[_i];
                                items.push(newitem);
                            }
                            for (var _a = 0, newsqls_3 = newsqls; _a < newsqls_3.length; _a++) {
                                var sql = newsqls_3[_a];
                                futureallsqls_1.push(sql);
                            }
                        });
                        futureallrtjti = origin.rtjti ? origin.rtjti : origin.jti;
                        fetchFromSel = "select *\n                                          from gtd_jta\n                                          where (jti = ?1 or rtjti = ?1)\n                                            and rfg = ?2\n                                            and date(replace(sd, '/', '-')) >= date(replace(?3, '/', '-'))\n                                            and del <> ?4\n                                          order by sd asc";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(fetchFromSel, [futureallrtjti, __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].Repeat, origin.sd, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del])];
                    case 17:
                        futurealloriginitems = (_k.sent()) || new Array();
                        futurealloriginitemsdb = new Array();
                        for (_f = 0, futurealloriginitems_1 = futurealloriginitems; _f < futurealloriginitems_1.length; _f++) {
                            originitem = futurealloriginitems_1[_f];
                            originitem.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                            originitem.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                            planitemdb_4 = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                            Object.assign(planitemdb_4, originitem);
                            items.push(originitem);
                            futurealloriginitemsdb.push(planitemdb_4);
                        }
                        futurealloriginitemssqls = this.sqlExce.getFastSaveSqlByParam(futurealloriginitemsdb) || new Array();
                        for (_g = 0, futurealloriginitemssqls_1 = futurealloriginitemssqls; _g < futurealloriginitemssqls_1.length; _g++) {
                            originitemsql = futurealloriginitemssqls_1[_g];
                            futureallsqls_1.unshift(originitemsql);
                        }
                        // 执行SQL
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(futureallsqls_1)];
                    case 18:
                        // 执行SQL
                        _k.sent();
                        return [3 /*break*/, 23];
                    case 19:
                        allsqls_1 = new Array();
                        allrtjti = origin.rtjti ? origin.rtjti : origin.jti;
                        fetchAll = "select *\n                                          from gtd_jta\n                                          where (jti = ?1 or rtjti = ?1)\n                                            and rfg = ?2\n                                            and del <> ?3\n                                          order by sd asc";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(fetchAll, [allrtjti, __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].Repeat, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del])];
                    case 20:
                        alloriginitems = (_k.sent()) || new Array();
                        cnewitem = {};
                        Object.assign(cnewitem, item);
                        // 重置日历项ID,开始日期
                        cnewitem.jti = "";
                        cnewitem.rtjti = "";
                        cnewitem.sd = alloriginitems[0].sd;
                        this.newPlanitem(cnewitem, function (newitems, newsqls) {
                            for (var _i = 0, newitems_4 = newitems; _i < newitems_4.length; _i++) {
                                var newitem = newitems_4[_i];
                                items.push(newitem);
                            }
                            for (var _a = 0, newsqls_4 = newsqls; _a < newsqls_4.length; _a++) {
                                var sql = newsqls_4[_a];
                                allsqls_1.push(sql);
                            }
                        });
                        alloriginitemsdb = new Array();
                        for (_h = 0, alloriginitems_1 = alloriginitems; _h < alloriginitems_1.length; _h++) {
                            originitem = alloriginitems_1[_h];
                            originitem.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                            originitem.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                            planitemdb_5 = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                            Object.assign(planitemdb_5, originitem);
                            items.push(originitem);
                            alloriginitemsdb.push(planitemdb_5);
                        }
                        alloriginitemssqls = this.sqlExce.getFastSaveSqlByParam(alloriginitemsdb) || new Array();
                        for (_j = 0, alloriginitemssqls_1 = alloriginitemssqls; _j < alloriginitemssqls_1.length; _j++) {
                            originitemsql = alloriginitemssqls_1[_j];
                            allsqls_1.unshift(originitemsql);
                        }
                        // 执行SQL
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(allsqls_1)];
                    case 21:
                        // 执行SQL
                        _k.sent();
                        return [3 /*break*/, 23];
                    case 22:
                        Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["c" /* assertFail */])();
                        _k.label = 23;
                    case 23: return [3 /*break*/, 25];
                    case 24:
                        // 没有修改
                        items.push(item);
                        _k.label = 25;
                    case 25: return [3 /*break*/, 28];
                    case 26:
                        sqls_3 = new Array();
                        this.newPlanitem(item, function (newitems, newsqls) {
                            for (var _i = 0, newitems_5 = newitems; _i < newitems_5.length; _i++) {
                                var newitem = newitems_5[_i];
                                items.push(newitem);
                            }
                            for (var _a = 0, newsqls_5 = newsqls; _a < newsqls_5.length; _a++) {
                                var sql = newsqls_5[_a];
                                sqls_3.push(sql);
                            }
                        });
                        // 执行创建SQL
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls_3)];
                    case 27:
                        // 执行创建SQL
                        _k.sent();
                        _k.label = 28;
                    case 28:
                        this.emitService.emit("mwxing.calendar.activities.changed", items);
                        this.syncPlanItems(items);
                        return [2 /*return*/, items];
                }
            });
        });
    };
    CalendarService.prototype.newPlanitem = function (item, callback) {
        var _this = this;
        this.assertEmpty(item); // 入参不能为空
        this.assertEmpty(item.sd); // 日历项所属日期不能为空
        this.assertEmpty(item.jtn); // 日历项名称不能为空
        this.assertNotEmpty(item.jti); // 日历项ID不能有值
        this.assertNotEmpty(item.rtjti); // 重复日历项ID不能有值
        // 日历项类型默认活动
        if (!item.jtt) {
            item.jtt = __WEBPACK_IMPORTED_MODULE_10__data_enum__["v" /* PlanItemType */].Activity;
        }
        // 自定义日历项
        if (!item.jtc) {
            item.jtc = __WEBPACK_IMPORTED_MODULE_10__data_enum__["y" /* SelfDefineType */].Define;
        }
        var items = new Array();
        var itemdbs = new Array();
        var members = item.members || new Array();
        var memberdbs = new Array();
        var rtjson = Object(__WEBPACK_IMPORTED_MODULE_8__event_service__["f" /* generateRtJson */])(item.rtjson, item.rt);
        var txjson = Object(__WEBPACK_IMPORTED_MODULE_8__event_service__["g" /* generateTxJson */])(item.txjson, item.tx);
        var rtjti = "";
        rtjson.each(item.sd, function (day) {
            var newitem = {};
            Object.assign(newitem, item);
            newitem.jti = _this.util.getUuid();
            newitem.sd = day;
            newitem.ui = __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.id;
            if (rtjson.cycletype != __WEBPACK_IMPORTED_MODULE_10__data_enum__["c" /* CycleType */].close) {
                // 重复标志
                newitem.rfg = __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].Repeat;
                if (rtjti != "") {
                    newitem.rtjti = rtjti;
                }
            }
            else {
                // 非重复标志
                newitem.rfg = __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].NonRepeat;
            }
            if (!rtjti || rtjti == "") {
                // 保存参与人
                for (var _i = 0, members_2 = members; _i < members_2.length; _i++) {
                    var member = members_2[_i];
                    member.pari = _this.util.getUuid();
                    member.obt = __WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Calendar;
                    member.obi = newitem.jti;
                    member.sdt = __WEBPACK_IMPORTED_MODULE_10__data_enum__["n" /* MemberShareState */].SendWait;
                    member.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                    member.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel;
                    var memberdb = new __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_par_tbl__["a" /* ParTbl */]();
                    Object.assign(memberdb, member);
                    memberdbs.push(memberdb);
                }
                newitem.members = members;
            }
            newitem.rtjson = rtjson;
            newitem.rt = JSON.stringify(rtjson);
            newitem.rts = rtjson.text();
            newitem.txjson = txjson;
            newitem.tx = JSON.stringify(txjson);
            newitem.txs = txjson.text();
            newitem.st = !newitem.st ? __WEBPACK_IMPORTED_MODULE_13_moment__().format('HH:mm') : newitem.st;
            newitem.pn = !newitem.pn ? 0 : newitem.pn;
            newitem.md = !newitem.md ? __WEBPACK_IMPORTED_MODULE_10__data_enum__["p" /* ModiPower */].enable : newitem.md;
            newitem.iv = !newitem.iv ? __WEBPACK_IMPORTED_MODULE_10__data_enum__["i" /* InvitePowr */].enable : newitem.iv;
            newitem.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
            newitem.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel;
            var planitemdb = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
            Object.assign(planitemdb, newitem);
            itemdbs.push(planitemdb);
            items.push(newitem);
            if (rtjti == "" && rtjson.cycletype != __WEBPACK_IMPORTED_MODULE_10__data_enum__["c" /* CycleType */].close) {
                rtjti = newitem.jti;
            }
        });
        var sqls = this.sqlExce.getFastSaveSqlByParam(itemdbs) || new Array();
        var membersqls = this.sqlExce.getFastSaveSqlByParam(memberdbs) || new Array();
        for (var _i = 0, membersqls_1 = membersqls; _i < membersqls_1.length; _i++) {
            var membersql = membersqls_1[_i];
            sqls.push(membersql);
        }
        callback(items, sqls);
        return;
    };
    /**
     * 删除日历项
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.removePlanItem = function (origin, modiType) {
        if (modiType === void 0) { modiType = __WEBPACK_IMPORTED_MODULE_10__data_enum__["r" /* OperateType */].Non; }
        return __awaiter(this, void 0, void 0, function () {
            var items, sqls, itemsid, planitemdb, rtjti, fetchFromSel, originitems, originitemsdb, _i, originitems_3, originitem, planitemdb_6, originitemssqls, _a, originitemssqls_3, originitemsql, rtjti, fetchFromSel, originitems, originitemsdb, _b, originitems_4, originitem, planitemdb, originitemssqls, _c, originitemssqls_4, originitemsql, planitemdb;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        this.assertEmpty(origin); // 入参不能为空
                        this.assertEmpty(modiType); // 入参不能为空
                        items = new Array();
                        sqls = new Array();
                        itemsid = new Array();
                        if (!(origin.rfg == __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].Repeat)) return [3 /*break*/, 5];
                        this.assertEqual(modiType, __WEBPACK_IMPORTED_MODULE_10__data_enum__["r" /* OperateType */].Non); // 入参不能为Non
                        if (!(modiType == __WEBPACK_IMPORTED_MODULE_10__data_enum__["r" /* OperateType */].OnlySel)) return [3 /*break*/, 2];
                        // 删除当前日历项
                        origin.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                        origin.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                        planitemdb = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                        Object.assign(planitemdb, origin);
                        sqls.push(planitemdb.upTParam());
                        itemsid.push(origin.jti);
                        items.push(origin);
                        if (!(!origin.rtjti || origin.rtjti == "")) return [3 /*break*/, 2];
                        rtjti = origin.jti;
                        fetchFromSel = "select *\n                                      from gtd_jta\n                                      where rtjti = ?1\n                                        and (rfg = ?2 or rfg = ?3)\n                                        and del <> ?4\n                                      order by sd asc";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(fetchFromSel, [rtjti, __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].Repeat, __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].RepeatToOnly, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del])];
                    case 1:
                        originitems = (_d.sent()) || new Array();
                        originitemsdb = new Array();
                        rtjti = "";
                        for (_i = 0, originitems_3 = originitems; _i < originitems_3.length; _i++) {
                            originitem = originitems_3[_i];
                            originitem.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                            originitem.rtjti = rtjti;
                            if (rtjti == "") {
                                rtjti = originitem.jti;
                            }
                            planitemdb_6 = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                            Object.assign(planitemdb_6, originitem);
                            items.push(originitem);
                            originitemsdb.push(planitemdb_6);
                        }
                        originitemssqls = this.sqlExce.getFastSaveSqlByParam(originitemsdb) || new Array();
                        for (_a = 0, originitemssqls_3 = originitemssqls; _a < originitemssqls_3.length; _a++) {
                            originitemsql = originitemssqls_3[_a];
                            sqls.push(originitemsql);
                        }
                        _d.label = 2;
                    case 2:
                        if (!(modiType == __WEBPACK_IMPORTED_MODULE_10__data_enum__["r" /* OperateType */].FromSel)) return [3 /*break*/, 4];
                        rtjti = origin.rtjti ? origin.rtjti : origin.jti;
                        fetchFromSel = "select *\n                                    from gtd_jta\n                                    where (jti = ?1 or rtjti = ?1)\n                                      and (rfg = ?2 or rfg = ?3)\n                                      and date(replace(sd, '/', '-')) >= date(replace(?4, '/', '-'))\n                                      and del <> ?5\n                                    order by sd asc";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(fetchFromSel, [rtjti, __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].Repeat, __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].RepeatToOnly, origin.sd, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del])];
                    case 3:
                        originitems = (_d.sent()) || new Array();
                        originitemsdb = new Array();
                        for (_b = 0, originitems_4 = originitems; _b < originitems_4.length; _b++) {
                            originitem = originitems_4[_b];
                            originitem.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                            originitem.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                            planitemdb = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                            Object.assign(planitemdb, originitem);
                            itemsid.push(originitem.jti);
                            items.push(originitem);
                            originitemsdb.push(planitemdb);
                        }
                        originitemssqls = this.sqlExce.getFastSaveSqlByParam(originitemsdb) || new Array();
                        for (_c = 0, originitemssqls_4 = originitemssqls; _c < originitemssqls_4.length; _c++) {
                            originitemsql = originitemssqls_4[_c];
                            sqls.push(originitemsql);
                        }
                        _d.label = 4;
                    case 4: return [3 /*break*/, 6];
                    case 5:
                        // 删除当前日历项
                        origin.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                        origin.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                        planitemdb = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                        Object.assign(planitemdb, origin);
                        sqls.push(planitemdb.upTParam());
                        itemsid.push(origin.jti);
                        items.push(origin);
                        _d.label = 6;
                    case 6:
                        // 设置关联数据删除标志
                        sqls.push(["update gtd_par set del = ?, tb = ? where obt = ? and obi in ('" + itemsid.join(', ') + "')", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del, __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch, __WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Calendar]]);
                        sqls.push(["update gtd_fj set del = ?, tb = ? where obt = ? and obi in ('" + itemsid.join(', ') + "')", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del, __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch, __WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Calendar]]);
                        sqls.push(["delete from gtd_wa where obt = ? and obi in ('" + itemsid.join(', ') + "')", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Calendar]]); // 提醒表
                        sqls.push(["delete from gtd_mrk where obt = ? and obi in ('" + itemsid.join(', ') + "')", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Calendar]]); // 标签表
                        // 执行SQL
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls)];
                    case 7:
                        // 执行SQL
                        _d.sent();
                        this.emitService.emit("mwxing.calendar.activities.changed", items);
                        this.syncPlanItems(items);
                        return [2 /*return*/, items];
                }
            });
        });
    };
    /**
     * 取得所有日历概要
     * 包括 自定义日历/冥王星预定义日历
     * 结果根据类型正序 创建时间倒序
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.fetchAllPlansSummary = function (jts) {
        if (jts === void 0) { jts = []; }
        return __awaiter(this, void 0, void 0, function () {
            var sql, plansummarys;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        sql = "select jha.*, ifnull(events.eventscount, 0) eventscount, ifnull(memos.memoscount, 0) memoscount, ifnull(items.itemscount, 0) itemscount\n                    from gtd_jha jha\n                    left join\n                    (select ev.ji ji, count(*) eventscount\n                      from gtd_ev ev\n                      where ev.del <> 'del' and ev.ji in (select ji from gtd_jha where del <> 'del')\n                      group by ev.ji) events\n                    on jha.ji = events.ji\n                    left join\n                    (select mom.ji ji, count(*) memoscount\n                      from gtd_mom mom\n                      where mom.del <> 'del' and mom.ji in (select ji from gtd_jha where del <> 'del')\n                      group by mom.ji) memos\n                    on jha.ji = memos.ji\n                    left join\n                    (select jta.ji ji, count(*) itemscount\n                      from gtd_jta jta\n                      where jta.del <> 'del' and jta.ji in (select ji from gtd_jha where del <> 'del')\n                      group by jta.ji) items\n                    on jha.ji = items.ji\n                    where " + ((jts && jts.length > 0) ? ('jha.jt in (' + jts.join(', ') + ') and') : '') + " jha.del <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "'\n                    order by jha.jt asc, jha.wtt desc";
                        return [4 /*yield*/, this.sqlExce.getExtList(sql)];
                    case 1:
                        plansummarys = (_a.sent()) || new Array();
                        return [2 /*return*/, plansummarys];
                }
            });
        });
    };
    /**
     * 取得所有日历
     * 包括 自定义日历/冥王星预定义日历
     * 结果根据类型正序 创建时间倒序
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.fetchAllPlans = function (jts) {
        if (jts === void 0) { jts = []; }
        return __awaiter(this, void 0, void 0, function () {
            var sql, plans, _i, plans_1, plan, items, subsqljta, planitems, _a, planitems_1, planitem, subsqlagenda, planagendas, _b, planagendas_1, planagenda, subsqltask, plantasks, _c, plantasks_1, plantask, subsqlmemo, planmemos, _d, planmemos_1, planmemo;
            return __generator(this, function (_e) {
                switch (_e.label) {
                    case 0:
                        sql = "select * from gtd_jha where " + ((jts && jts.length > 0) ? ('jt in (' + jts.join(', ') + ') and') : '') + " del <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' order by jt asc, wtt desc";
                        return [4 /*yield*/, this.sqlExce.getExtList(sql)];
                    case 1:
                        plans = (_e.sent()) || new Array();
                        _i = 0, plans_1 = plans;
                        _e.label = 2;
                    case 2:
                        if (!(_i < plans_1.length)) return [3 /*break*/, 8];
                        plan = plans_1[_i];
                        items = new Array();
                        subsqljta = "select * from gtd_jta where ji = ?1 and del <> ?2";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(subsqljta, [plan.ji, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del])];
                    case 3:
                        planitems = (_e.sent()) || new Array();
                        for (_a = 0, planitems_1 = planitems; _a < planitems_1.length; _a++) {
                            planitem = planitems_1[_a];
                            items.push(planitem);
                        }
                        subsqlagenda = "select agenda.*\n                                    from (select ev.* from gtd_ev ev where ev.type = ?6 and ev.ji = ?1 and ev.rfg = ?2 and del <> ?5) agenda\n                                    left join gtd_ca ca on ca.evi = agenda.evi\n                                  union all\n                                  select agenda.*\n                                    from (select ev.* from gtd_ev ev where ev.type = ?6 and ev.ji = ?1 and del <> ?5 and (ev.rfg = ?3 or ev.rfg = ?4)) agenda\n                                    left join gtd_ca ca on ca.evi = agenda.rtevi";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(subsqlagenda, [plan.ji, __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].NonRepeat, __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].Repeat, __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].RepeatToOnly, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del, __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].Agenda])];
                    case 4:
                        planagendas = (_e.sent()) || new Array();
                        for (_b = 0, planagendas_1 = planagendas; _b < planagendas_1.length; _b++) {
                            planagenda = planagendas_1[_b];
                            items.push(planagenda);
                        }
                        subsqltask = "select task.*\n                                  from (select ev.* from gtd_ev ev where ev.type = ?6 and ev.ji = ?1 and ev.rfg = ?2 and del <> ?5) task\n                                  left join gtd_ca ca on ca.evi = task.evi\n                                union all\n                                select task.*\n                                  from (select ev.* from gtd_ev ev where ev.type = ?6 and ev.ji = ?1 and del <> ?5 and (ev.rfg = ?3 or ev.rfg = ?4)) task\n                                  left join gtd_ca ca on ca.evi = task.rtevi";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(subsqltask, [plan.ji, __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].NonRepeat, __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].Repeat, __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].RepeatToOnly, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del, __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].Task])];
                    case 5:
                        plantasks = (_e.sent()) || new Array();
                        for (_c = 0, plantasks_1 = plantasks; _c < plantasks_1.length; _c++) {
                            plantask = plantasks_1[_c];
                            items.push(plantask);
                        }
                        subsqlmemo = "select * from gtd_mom where ji = ?1 and del <> ?2";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(subsqlmemo, [plan.ji, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del])];
                    case 6:
                        planmemos = (_e.sent()) || new Array();
                        for (_d = 0, planmemos_1 = planmemos; _d < planmemos_1.length; _d++) {
                            planmemo = planmemos_1[_d];
                            items.push(planmemo);
                        }
                        plan.items = items;
                        _e.label = 7;
                    case 7:
                        _i++;
                        return [3 /*break*/, 2];
                    case 8: return [2 /*return*/, plans];
                }
            });
        });
    };
    /**
     * 取得自定义日历
     * 结果根据创建时间倒序
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.fetchPrivatePlans = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.fetchAllPlans([__WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].PrivatePlan])];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    /**
     * 合并日历一览
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.mergePlans = function (plans, plan) {
        this.assertEmpty(plans); // 入参不能为空
        this.assertEmpty(plan); // 入参不能为空
        var existids = new Array();
        existids = plans.reduce(function (target, val) {
            target.push(val.ji);
            return target;
        }, existids);
        var index = existids.indexOf(plan.ji);
        if (index >= 0) {
            // 更新/删除原有日历
            if (plan.del != __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del) {
                plans.splice(index, 1, plan);
            }
            else {
                plans.splice(index, 1);
            }
        }
        else {
            // 新增日历
            if (plan.del != __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del) {
                plans.unshift(plan);
            }
        }
        return plans;
    };
    /**
     * 取得冥王星预定义日历
     * 结果根据类型正序 创建时间倒序
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.fetchPublicPlans = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.fetchAllPlans([__WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].CalendarPlan, __WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].ActivityPlan])];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    /**
     * 取得指定日历所有日历项
     * 结果根据所属日期正序排序
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.fetchPlanItems = function (ji) {
        return __awaiter(this, void 0, void 0, function () {
            var sql;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(ji); // 入参不能为空
                        sql = "select * from gtd_jta where ji = '" + ji + "' and del <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' order by sd asc";
                        return [4 /*yield*/, this.sqlExce.getExtList(sql)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    /**
     * 取得指定日历所有事件
     * 结果根据事件日期正序排序
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.fetchPlanEvents = function (ji) {
        return __awaiter(this, void 0, void 0, function () {
            var sql;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(ji); // 入参不能为空
                        sql = "select * from gtd_ev where ji = '" + ji + "' and del <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' order by evd asc";
                        return [4 /*yield*/, this.sqlExce.getExtList(sql)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    /**
     * 取得指定日历所有备忘
     * 结果根据创建时间戳正序/倒序排序
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.fetchPlanMemos = function (ji, sort) {
        if (sort === void 0) { sort = __WEBPACK_IMPORTED_MODULE_1__base_service__["b" /* SortType */].ASC; }
        return __awaiter(this, void 0, void 0, function () {
            var sql;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(ji); // 入参不能为空
                        sql = "select * from gtd_mom where ji = '" + ji + "' and del <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' order by sd " + sort;
                        return [4 /*yield*/, this.sqlExce.getExtList(sql)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    /**
     * 下载指定日历所有日历项
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.downloadPublicPlan = function (ji, jt) {
        return __awaiter(this, void 0, void 0, function () {
            var plandata, bip, plan, sqls, delexistsqls, plandb, itemType, planitems, _i, _a, pa, planitemdata, planitemdb, subsqls, _b, subsqls_1, subsql;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        this.assertEmpty(ji); // 入参不能为空
                        plandata = {};
                        bip = new __WEBPACK_IMPORTED_MODULE_5__restful_shaesev__["a" /* BipdshaeData */]();
                        bip.d.pi = ji;
                        return [4 /*yield*/, this.shareRestful.downsysname(bip)];
                    case 1:
                        plan = _c.sent();
                        sqls = new Array();
                        if (plan && plan.pn) {
                            delexistsqls = this.removePlanSqls(ji, jt);
                            sqls = sqls.concat(delexistsqls);
                            plandb = new __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_jha_tbl__["a" /* JhaTbl */]();
                            plandb.ji = ji;
                            plandb.jt = jt;
                            plandb.jn = plan.pn.pt;
                            plandb.jg = plan.pn.pd;
                            plandb.jc = plan.pn.pm;
                            plandb.jtd = __WEBPACK_IMPORTED_MODULE_10__data_enum__["u" /* PlanDownloadType */].YES;
                            plandb.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].synch;
                            plandb.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel;
                            Object.assign(plandata, plandb);
                            plandata.items = new Array();
                            sqls.push(plandb.rpTParam());
                            itemType = (jt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].CalendarPlan ? __WEBPACK_IMPORTED_MODULE_10__data_enum__["v" /* PlanItemType */].Holiday : __WEBPACK_IMPORTED_MODULE_10__data_enum__["v" /* PlanItemType */].Activity);
                            // 创建日历项
                            if (plan.pa && plan.pa.length > 0) {
                                planitems = new Array();
                                for (_i = 0, _a = plan.pa; _i < _a.length; _i++) {
                                    pa = _a[_i];
                                    planitemdata = {};
                                    planitemdb = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                                    planitemdb.jti = this.util.getUuid();
                                    planitemdb.ji = ji; //计划ID
                                    planitemdb.jtt = itemType; //日历项类型
                                    planitemdb.jtc = __WEBPACK_IMPORTED_MODULE_10__data_enum__["y" /* SelfDefineType */].System; //日历项类型 下载
                                    planitemdb.jtn = pa.at; //日程事件主题  必传
                                    planitemdb.sd = __WEBPACK_IMPORTED_MODULE_13_moment__(pa.adt).format("YYYY/MM/DD"); //所属日期      必传
                                    planitemdb.st = pa.st; //所属时间
                                    planitemdb.bz = pa.am; //备注
                                    planitemdb.px = plan.pn.px; //排序
                                    planitemdb.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].synch;
                                    planitemdb.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel;
                                    Object.assign(planitemdata, planitemdb);
                                    plandata.items.push(planitemdata);
                                    planitems.push(planitemdb);
                                }
                                if (planitems.length > 0) {
                                    subsqls = this.sqlExce.getFastSaveSqlByParam(planitems);
                                    for (_b = 0, subsqls_1 = subsqls; _b < subsqls_1.length; _b++) {
                                        subsql = subsqls_1[_b];
                                        sqls.push(subsql);
                                    }
                                }
                            }
                        }
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls)];
                    case 2:
                        _c.sent();
                        this.emitService.emit("mwxing.calendar.plans.changed", plandata);
                        this.emitService.emit("mwxing.calendar.activities.changed", plandata.items);
                        return [2 /*return*/, plandata];
                }
            });
        });
    };
    /**
     * 获取用户的活动汇总
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.fetchActivitiesSummary = function () {
        return __awaiter(this, void 0, void 0, function () {
            var sql, summary;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        sql = "select\n                        max(jta.calendaritemscount) calendaritemscount,\n                        max(jta.activityitemscount) activityitemscount,\n                        max(ev.eventscount) eventscount,\n                        max(ev.agendascount) agendascount,\n                        max(ev.taskscount) taskscount,\n                        max(ev.repeateventscount) repeateventscount,\n                        max(mo.memoscount) memoscount,\n                        max(mo.bookedtimesummary) bookedtimesummary\n                      from (select\n                              sum(CASE WHEN IFNULL(gjt.jti, '') = '' THEN 0 WHEN gjt.jtt <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["v" /* PlanItemType */].Holiday + "' THEN 0 WHEN gjt.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) calendaritemscount,\n                              sum(CASE WHEN IFNULL(gjt.jti, '') = '' THEN 0 WHEN gjt.jtt <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["v" /* PlanItemType */].Activity + "' THEN 0 WHEN gjt.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) activityitemscount\n                            from gtd_jta gjt) jta,\n                            (select\n                              sum(CASE WHEN IFNULL(gev.evi, '') = '' THEN 0 WHEN gev.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) eventscount,\n                              sum(CASE WHEN IFNULL(gev.evi, '') = '' THEN 0 WHEN IFNULL(gev.rtevi, '') <> '' THEN 0 WHEN gev.type <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].Agenda + "' THEN 0 WHEN gev.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) agendascount,\n                              sum(CASE WHEN IFNULL(gev.evi, '') = '' THEN 0 WHEN gev.type <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].Task + "' THEN 0 WHEN gev.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) taskscount,\n                              sum(CASE WHEN IFNULL(gev.rtevi, '') = '' THEN 0 WHEN gev.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) repeateventscount\n                            from gtd_ev gev) ev,\n                            (select\n                              sum(CASE WHEN IFNULL(gmo.moi, '') = '' THEN 0 WHEN gmo.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) memoscount,\n                              0 bookedtimesummary\n                            from gtd_mom gmo) mo";
                        summary = new ActivitySummaryData();
                        return [4 /*yield*/, this.sqlExce.getExtOne(sql)];
                    case 1:
                        summary = _a.sent();
                        return [2 /*return*/, summary];
                }
            });
        });
    };
    /**
     * 重新计算指定年月下的活动汇总
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.refreshMonthActivitiesSummary = function (origin, monthActivities) {
        this.assertEmpty(origin); // 入参不能为空
        this.assertEmpty(origin.month); // 每月概要月份不能为空
        this.assertEmpty(monthActivities); // 入参不能为空
        this.assertEmpty(monthActivities.month); // 每月活动月份不能为空
        this.assertNotEqual(origin.month, monthActivities.month); // 两个月份不能不一致
        for (var _i = 0, _a = origin.days; _i < _a.length; _i++) {
            var daysummary = _a[_i];
            var dayActivities = monthActivities.days.get(daysummary.day);
            // 计算日历项
            var calendaritemscount = 0;
            var activityitemscount = 0;
            var daycalendaritem = "";
            var px = null;
            for (var _b = 0, _c = dayActivities.calendaritems; _b < _c.length; _b++) {
                var item = _c[_b];
                if (item.jtt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["v" /* PlanItemType */].Holiday) {
                    calendaritemscount++;
                }
                if (item.jtt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["v" /* PlanItemType */].Activity) {
                    activityitemscount++;
                }
                if (!px) {
                    px = item.px;
                    daycalendaritem = item.jtn;
                }
                else {
                    if (px > item.px) {
                        px = item.px;
                        daycalendaritem = item.jtn;
                    }
                }
            }
            daysummary.daycalendaritem = daycalendaritem;
            daysummary.calendaritemscount = calendaritemscount;
            daysummary.activityitemscount = activityitemscount;
            // 计算活动
            var acceptableeventscount = 0;
            var eventscount = 0;
            var agendascount = 0;
            var taskscount = 0;
            var repeateventscount = 0;
            for (var _d = 0, _e = dayActivities.events; _d < _e.length; _d++) {
                var event_3 = _e[_d];
                eventscount++;
                if (event_3.ui != __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.id && event_3.invitestatus == __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].None) {
                    acceptableeventscount++;
                }
                if (event_3.type == __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].Agenda && (!event_3.rtevi && event_3.rtevi == "")) {
                    agendascount++;
                }
                if (event_3.type == __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].Task) {
                    taskscount++;
                }
                if (event_3.rtevi && event_3.rtevi != "") {
                    repeateventscount++;
                }
            }
            daysummary.acceptableeventscount = acceptableeventscount;
            daysummary.eventscount = eventscount;
            daysummary.agendascount = agendascount;
            daysummary.taskscount = taskscount;
            daysummary.repeateventscount = repeateventscount;
            // 计算备忘
            daysummary.memoscount = dayActivities.memos.length;
        }
        return origin;
    };
    /**
     * 获取指定年月下的活动汇总
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.fetchMonthActivitiesSummary = function (month) {
        if (month === void 0) { month = __WEBPACK_IMPORTED_MODULE_13_moment__().format('YYYY/MM'); }
        return __awaiter(this, void 0, void 0, function () {
            var days, arrDays, daysql, sql, monthSummary, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.assertEmpty(month); // 入参不能为空
                        days = __WEBPACK_IMPORTED_MODULE_13_moment__(month, "YYYY/MM").daysInMonth();
                        arrDays = new Array(days).fill("01");
                        arrDays = arrDays.map(function (value, index) {
                            return (month + "/" + ("0" + (index + 1)).slice(-2));
                        });
                        console.log(arrDays.join(","));
                        daysql = "select '" + arrDays.join("' sd union all select '") + "' sd";
                        sql = "select gdaymom.day day,\n                          dayitem.jtn daycalendaritem,\n                          gdaymom.calendaritemscount calendaritemscount,\n                          gdaymom.activityitemscount activityitemscount,\n                          gdaymom.eventscount eventscount,\n                          gdaymom.agendascount agendascount,\n                          gdaymom.taskscount taskscount,\n                          gdaymom.repeateventscount repeateventscount,\n                          gdaymom.acceptableeventscount acceptableeventscount,\n                          gdaymom.memoscount memoscount,\n                          gdaymom.bookedtimesummary bookedtimesummary\n                      from (select gdayev.day day,\n                                max(gdayev.calendaritemscount) calendaritemscount,\n                                max(gdayev.activityitemscount) activityitemscount,\n                                max(gdayev.eventscount) eventscount,\n                                max(gdayev.agendascount) agendascount,\n                                max(gdayev.taskscount) taskscount,\n                                max(gdayev.repeateventscount) repeateventscount,\n                                max(gdayev.acceptableeventscount) acceptableeventscount,\n                                sum(CASE WHEN IFNULL(gmo.moi, '') = '' THEN 0 WHEN gmo.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) memoscount,\n                                0 bookedtimesummary\n                        from (select gdayjta.day day,\n                                    max(gdayjta.calendaritemscount) calendaritemscount,\n                                    max(gdayjta.activityitemscount) activityitemscount,\n                                    sum(CASE WHEN IFNULL(gev.evi, '') = '' THEN 0 WHEN gev.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) eventscount,\n                                    sum(CASE WHEN IFNULL(gev.evi, '') = '' THEN 0 WHEN IFNULL(gev.rtevi, '') <> '' THEN 0 WHEN gev.type <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].Agenda + "' THEN 0 WHEN gev.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) agendascount,\n                                    sum(CASE WHEN IFNULL(gev.evi, '') = '' THEN 0 WHEN gev.type <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].Task + "' THEN 0 WHEN gev.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) taskscount,\n                                    sum(CASE WHEN IFNULL(gev.rtevi, '') = '' THEN 0 WHEN gev.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 WHEN gev.invitestatus = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].Accepted + "' THEN 1 WHEN gev.ui = '" + __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.id + "' THEN 1 ELSE 0 END) repeateventscount,\n                                    sum(CASE WHEN IFNULL(gev.evi, '') = '' THEN 0 WHEN IFNULL(gev.rtevi, '') <> '' THEN 0 WHEN IFNULL(gev.ui, '') = '" + __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.id + "' THEN 0 WHEN IFNULL(gev.del, '') = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 WHEN IFNULL(gev.invitestatus, '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].None + "') = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].None + "' THEN 1 ELSE 0 END) acceptableeventscount\n                              from (select gday.sd day,\n                                      sum(CASE WHEN IFNULL(gjt.jti, '') = '' THEN 0 WHEN gjt.jtt <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["v" /* PlanItemType */].Holiday + "' THEN 0 WHEN gjt.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) calendaritemscount,\n                                      sum(CASE WHEN IFNULL(gjt.jti, '') = '' THEN 0 WHEN gjt.jtt <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["v" /* PlanItemType */].Activity + "' THEN 0 WHEN gjt.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) activityitemscount\n                                    from (" + daysql + ") gday\n                                        left join gtd_jta gjt on gday.sd = gjt.sd\n                                    group by gday.sd) gdayjta\n                                left join gtd_ev gev on gdayjta.day = gev.evd\n                              group by gdayjta.day) gdayev\n                        left join gtd_mom gmo on gdayev.day = gmo.sd\n                        group by gdayev.day) gdaymom\n                      left join (\n                        select sd, jtn from gtd_jta group by sd having px >= 0 and min(px)\n                      ) dayitem\n                      on gdaymom.day = dayitem.sd";
                        monthSummary = new MonthActivitySummaryData();
                        monthSummary.month = month;
                        _a = monthSummary;
                        return [4 /*yield*/, this.sqlExce.getExtList(sql)];
                    case 1:
                        _a.days = _b.sent();
                        return [2 /*return*/, monthSummary];
                }
            });
        });
    };
    /**
     * 获取指定年月下的活动
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.fetchMonthActivities = function (month) {
        if (month === void 0) { month = __WEBPACK_IMPORTED_MODULE_13_moment__().format('YYYY/MM'); }
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var monthActivity, days, startday, endday, stepday, day, sqlcalitems, _a, sqlevents, _b, sqlmemos, _c;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        this.assertEmpty(month); // 入参不能为空
                        monthActivity = new MonthActivityData();
                        monthActivity.month = month;
                        days = new Map();
                        startday = __WEBPACK_IMPORTED_MODULE_13_moment__(month, "YYYY/MM").startOf('month').format("YYYY/MM/DD");
                        endday = __WEBPACK_IMPORTED_MODULE_13_moment__(month, "YYYY/MM").endOf('month').format("YYYY/MM/DD");
                        // 初始化每日记录
                        days.set(startday, new DayActivityData(startday));
                        stepday = startday;
                        while (stepday != endday) {
                            stepday = __WEBPACK_IMPORTED_MODULE_13_moment__(stepday).add(1, "days").format("YYYY/MM/DD");
                            day = stepday;
                            days.set(day, new DayActivityData(day));
                        }
                        sqlcalitems = "select * from gtd_jta where substr(sd, 1, 7) = '" + month + "' AND del <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' order by sd asc, st asc";
                        _a = monthActivity;
                        return [4 /*yield*/, this.sqlExce.getExtList(sqlcalitems)];
                    case 1:
                        _a.calendaritems = (_d.sent()) || new Array();
                        days = monthActivity.calendaritems.reduce(function (days, value) {
                            var day = value.sd;
                            var dayActivity = days.get(day);
                            _this.assertNull(dayActivity);
                            // 天气设置到天气字段
                            if (value.jtt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["v" /* PlanItemType */].Weather) {
                                dayActivity.weather = value;
                            }
                            else {
                                dayActivity.calendaritems.push(value);
                            }
                            days.set(day, dayActivity);
                            return days;
                        }, days);
                        sqlevents = "select * from gtd_ev where substr(evd, 1, 7) = '" + month + "' AND del <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' order by evd asc";
                        _b = monthActivity;
                        return [4 /*yield*/, this.sqlExce.getExtList(sqlevents)];
                    case 2:
                        _b.events = (_d.sent()) || new Array();
                        days = monthActivity.events.reduce(function (days, value) {
                            var day = value.evd;
                            var dayActivity = days.get(day);
                            _this.assertNull(dayActivity);
                            // 受邀人未接受的重复子日程不显示
                            if (value.ui != __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.id && value.rtevi && value.invitestatus != __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].Accepted && value.invitestatus != __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].Rejected) {
                                // 不加入日程一览
                            }
                            else {
                                dayActivity.events.push(value);
                            }
                            days.set(day, dayActivity);
                            return days;
                        }, days);
                        sqlmemos = "select * from gtd_mom where substr(sd, 1, 7) = '" + month + "' AND del <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' order by sd asc";
                        _c = monthActivity;
                        return [4 /*yield*/, this.sqlExce.getExtList(sqlmemos)];
                    case 3:
                        _c.memos = (_d.sent()) || new Array();
                        days = monthActivity.memos.reduce(function (days, value) {
                            var day = value.sd;
                            var dayActivity = days.get(day);
                            _this.assertNull(dayActivity);
                            dayActivity.memos.push(value);
                            days.set(day, dayActivity);
                            return days;
                        }, days);
                        monthActivity.days = days;
                        monthActivity.days.forEach(function (val) {
                            monthActivity.arraydays.push(val);
                        });
                        return [2 /*return*/, monthActivity];
                }
            });
        });
    };
    /**
     * 合并(更新/插入/删除)月活动数据（用于日历页月度活动一览）
     *
     * 避免重复查询数据库, 提高效率
     * 不属于当月范围内的活动将被忽略
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.mergeMonthActivities = function (monthActivities, activitiedatas, update) {
        var _this = this;
        if (update === void 0) { update = true; }
        // 入参不能为空
        this.assertEmpty(monthActivities); // 月活动数据不能为空
        this.assertEmpty(monthActivities.month); // 月活动数据月份不能为空
        this.assertEmpty(activitiedatas); // 活动数据不能为空
        var activities = activitiedatas;
        // 没有合并数据直接返回
        if (activities.length == 0) {
            return monthActivities;
        }
        var startday = __WEBPACK_IMPORTED_MODULE_13_moment__(monthActivities.month, "YYYY/MM").startOf('month').format("YYYY/MM/DD");
        var endday = __WEBPACK_IMPORTED_MODULE_13_moment__(monthActivities.month, "YYYY/MM").endOf('month').format("YYYY/MM/DD");
        // 循环合并更新活动
        for (var _i = 0, activities_1 = activities; _i < activities_1.length; _i++) {
            var activity = activities_1[_i];
            var day = "";
            var activityType = this.getActivityType(activity);
            // 取得活动日期
            switch (activityType) {
                case "PlanItemData":
                    day = activity.sd;
                    break;
                case "AgendaData":
                    day = activity.evd;
                    break;
                case "TaskData":
                    day = activity.evd;
                    break;
                case "MiniTaskData":
                    day = activity.evd;
                    break;
                case "MemoData":
                    day = activity.sd;
                    break;
                default:
                    this.assertFail(); // 不能有上述以外的活动
            }
            // 不属于当页日期范围内的活动忽略
            if (startday > day || day > endday) {
                continue;
            }
            // 获取既存活动ID, 用于判断更新/插入/删除
            var calendaritemids = new Array();
            var eventids = new Array();
            var memoids = new Array();
            monthActivities.calendaritems.reduce(function (calendaritemids, value) {
                calendaritemids.push(value.jti);
                return calendaritemids;
            }, calendaritemids);
            monthActivities.events.reduce(function (eventids, value) {
                eventids.push(value.evi);
                return eventids;
            }, eventids);
            monthActivities.memos.reduce(function (memoids, value) {
                memoids.push(value.moi);
                return memoids;
            }, memoids);
            // 更新/插入/删除活动数据
            var index = -1;
            switch (activityType) {
                case "PlanItemData":
                    index = calendaritemids.indexOf(activity.jti);
                    var item = {};
                    Object.assign(item, activity);
                    if (index >= 0) {
                        // 更新/删除
                        if (item.del == __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del) {
                            // 删除
                            monthActivities.calendaritems.splice(index, 1);
                        }
                        else {
                            // 更新
                            monthActivities.calendaritems.splice(index, 1, item);
                        }
                    }
                    else {
                        if (item.del != __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del) {
                            // 插入
                            monthActivities.calendaritems.push(item);
                        }
                    }
                    break;
                case "AgendaData":
                case "TaskData":
                case "MiniTaskData":
                    index = eventids.indexOf(activity.evi);
                    var event_4 = {};
                    Object.assign(event_4, activity);
                    if (index >= 0) {
                        // 更新/删除
                        if (event_4.del == __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del) {
                            // 删除
                            monthActivities.events.splice(index, 1);
                        }
                        else {
                            // 更新
                            monthActivities.events.splice(index, 1, event_4);
                        }
                    }
                    else {
                        if (event_4.del != __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del) {
                            monthActivities.events.push(event_4);
                        }
                    }
                    break;
                case "MemoData":
                    var memo = {};
                    Object.assign(memo, activity);
                    index = memoids.indexOf(activity.moi);
                    if (index >= 0) {
                        // 更新/删除
                        if (memo.del == __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del) {
                            // 删除
                            monthActivities.memos.splice(index, 1);
                        }
                        else {
                            // 更新
                            monthActivities.memos.splice(index, 1, memo);
                        }
                    }
                    else {
                        if (memo.del != __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del) {
                            monthActivities.memos.push(memo);
                        }
                    }
                    break;
                default:
                    this.assertFail(); // 不能有上述以外的活动
            }
        }
        // 重构每天活动数据
        // let days: Map<string, DayActivityData> = new Map<string, DayActivityData>();
        // 初始化每日记录
        // days.set(startday, new DayActivityData(startday));
        // let stepday: string = startday;
        // while (stepday != endday) {
        //   stepday = moment(stepday).add(1, "days").format("YYYY/MM/DD");
        //
        //   let day: string = stepday;
        //   days.set(day, new DayActivityData(day));
        // }
        if (update) {
            var days = monthActivities.days;
            // 清空数据
            days.forEach(function (dayActivity) {
                dayActivity.calendaritems.length = 0;
                dayActivity.events.length = 0;
                dayActivity.memos.length = 0;
            });
            days = monthActivities.calendaritems.reduce(function (days, value) {
                var day = value.sd;
                var dayActivity = days.get(day);
                _this.assertNull(dayActivity);
                // 天气设置到天气字段
                if (value.jtt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["v" /* PlanItemType */].Weather) {
                    dayActivity.weather = value;
                }
                else {
                    dayActivity.calendaritems.push(value);
                }
                days.set(day, dayActivity);
                return days;
            }, days);
            days = monthActivities.events.reduce(function (days, value) {
                var day = value.evd;
                var dayActivity = days.get(day);
                _this.assertNull(dayActivity);
                // 受邀人未接受的重复子日程不显示
                if (value.ui != __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.id && value.rtevi && value.invitestatus != __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].Accepted && value.invitestatus != __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].Rejected) {
                    // 不加入日程一览
                }
                else {
                    dayActivity.events.push(value);
                }
                days.set(day, dayActivity);
                return days;
            }, days);
            days = monthActivities.memos.reduce(function (days, value) {
                var day = value.sd;
                var dayActivity = days.get(day);
                _this.assertNull(dayActivity);
                dayActivity.memos.push(value);
                days.set(day, dayActivity);
                return days;
            }, days);
            monthActivities.days = days;
        }
        return monthActivities;
    };
    /**
     * 获取指定日期下的活动汇总
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.fetchDayActivitiesSummary = function (day) {
        if (day === void 0) { day = __WEBPACK_IMPORTED_MODULE_13_moment__().format('YYYY/MM/DD'); }
        return __awaiter(this, void 0, void 0, function () {
            var sql, daySummary;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(day); // 入参不能为空
                        sql = "select gdaymom.day day,\n                          dayitem.jtn daycalendaritem,\n                          gdaymom.calendaritemscount calendaritemscount,\n                          gdaymom.activityitemscount activityitemscount,\n                          gdaymom.eventscount eventscount,\n                          gdaymom.agendascount agendascount,\n                          gdaymom.taskscount taskscount,\n                          gdaymom.repeateventscount repeateventscount,\n                          gdaymom.acceptableeventscount acceptableeventscount,\n                          gdaymom.memoscount memoscount,\n                          gdaymom.bookedtimesummary bookedtimesummary\n                      from (select gdayev.day day,\n                            max(gdayev.calendaritemscount) calendaritemscount,\n                            max(gdayev.activityitemscount) activityitemscount,\n                            max(gdayev.eventscount) eventscount,\n                            max(gdayev.agendascount) agendascount,\n                            max(gdayev.taskscount) taskscount,\n                            max(gdayev.repeateventscount) repeateventscount,\n                            max(gdayev.acceptableeventscount) acceptableeventscount,\n                            sum(CASE WHEN IFNULL(gmo.moi, '') = '' THEN 0 WHEN gmo.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) memoscount,\n                            0 bookedtimesummary\n                        from (select gdayjta.day day,\n                                max(gdayjta.calendaritemscount) calendaritemscount,\n                                max(gdayjta.activityitemscount) activityitemscount,\n                                sum(CASE WHEN IFNULL(gev.evi, '') = '' THEN 0 WHEN gev.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) eventscount,\n                                sum(CASE WHEN IFNULL(gev.evi, '') = '' THEN 0 WHEN IFNULL(gev.rtevi, '') <> '' THEN 0 WHEN gev.type <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].Agenda + "' THEN 0 WHEN gev.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) agendascount,\n                                sum(CASE WHEN IFNULL(gev.evi, '') = '' THEN 0 WHEN gev.type <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].Task + "' THEN 0 WHEN gev.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) taskscount,\n                                sum(CASE WHEN IFNULL(gev.rtevi, '') = '' THEN 0 WHEN gev.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 WHEN gev.invitestatus = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].Accepted + "' THEN 1 WHEN gev.ui = '" + __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.id + "' THEN 1 ELSE 0 END) repeateventscount,\n                                sum(CASE WHEN IFNULL(gev.evi, '') = '' THEN 0 WHEN IFNULL(gev.rtevi, '') <> '' THEN 0 WHEN IFNULL(gev.ui, '') = '" + __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.id + "' THEN 0 WHEN IFNULL(gev.del, '') = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 WHEN IFNULL(gev.invitestatus, '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].None + "') = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].None + "' THEN 1 ELSE 0 END) acceptableeventscount\n                          from (select gday.sd day,\n                                  sum(CASE WHEN IFNULL(gjt.jti, '') = '' THEN 0 WHEN gjt.jtt <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["v" /* PlanItemType */].Holiday + "' THEN 0 WHEN gjt.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) calendaritemscount,\n                                  sum(CASE WHEN IFNULL(gjt.jti, '') = '' THEN 0 WHEN gjt.jtt <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["v" /* PlanItemType */].Activity + "' THEN 0 WHEN gjt.del = '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' THEN 0 ELSE 1 END) activityitemscount\n                                from (select '" + day + "' sd) gday\n                                    left join gtd_jta gjt on gday.sd = gjt.sd\n                                group by gday.sd) gdayjta\n                            left join gtd_ev gev on gdayjta.day = gev.evd\n                          group by gdayjta.day) gdayev\n                      left join gtd_mom gmo on gdayev.day = gmo.sd\n                      group by gdayev.day) gdaymom\n                    left join (\n                      select sd, jtn from gtd_jta group by sd having px >= 0 and min(px)\n                    ) dayitem\n                    on gdaymom.day = dayitem.sd";
                        return [4 /*yield*/, this.sqlExce.getExtOne(sql)];
                    case 1:
                        daySummary = _a.sent();
                        return [2 /*return*/, daySummary];
                }
            });
        });
    };
    /**
     * 获取指定日期下的活动
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.fetchDayActivities = function (day) {
        if (day === void 0) { day = __WEBPACK_IMPORTED_MODULE_13_moment__().format('YYYY/MM/DD'); }
        return __awaiter(this, void 0, void 0, function () {
            var dayActivity, sqlcalitems, items, sqlevents, _a, sqlmemos, _b;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        this.assertEmpty(day);
                        dayActivity = new DayActivityData();
                        dayActivity.day = day;
                        sqlcalitems = "select * from gtd_jta where sd = '" + day + "' and del <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' order by st asc";
                        return [4 /*yield*/, this.sqlExce.getExtList(sqlcalitems)];
                    case 1:
                        items = (_c.sent()) || new Array();
                        dayActivity.calendaritems = items.reduce(function (dayitems, value) {
                            // 天气设置到天气字段
                            if (value.jtt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["v" /* PlanItemType */].Weather) {
                                dayActivity.weather = value;
                            }
                            else {
                                dayitems.push(value);
                            }
                            return dayitems;
                        }, new Array());
                        sqlevents = "select * from gtd_ev where evd = '" + day + "' and del <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "' and (ui = '" + __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.id + "' or (ui <> '" + __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.id + "' and not (ifnull(rtevi, '') <> '' and invitestatus <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].Accepted + "')))";
                        _a = dayActivity;
                        return [4 /*yield*/, this.sqlExce.getExtList(sqlevents)];
                    case 2:
                        _a.events = (_c.sent()) || new Array();
                        sqlmemos = "select * from gtd_mom where sd = '" + day + "' and del <> '" + __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del + "'";
                        _b = dayActivity;
                        return [4 /*yield*/, this.sqlExce.getExtList(sqlmemos)];
                    case 3:
                        _b.memos = (_c.sent()) || new Array();
                        return [2 /*return*/, dayActivity];
                }
            });
        });
    };
    /**
     * 合并(更新/插入/删除)日活动数据（用于每日活动一览）
     *
     * 避免重复查询数据库, 提高效率
     * 不属于当日范围内的活动将被忽略
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.mergeDayActivities = function (dayActivities, activitiedatas) {
        // 入参不能为空
        this.assertEmpty(dayActivities); // 日活动数据不能为空
        this.assertEmpty(dayActivities.day); // 日活动数据日期不能为空
        this.assertEmpty(activitiedatas); // 活动数据不能为空
        var activities = activitiedatas;
        // 没有合并数据直接返回
        if (activities.length == 0) {
            return dayActivities;
        }
        var activityday = dayActivities.day;
        // 循环合并更新活动
        for (var _i = 0, activities_2 = activities; _i < activities_2.length; _i++) {
            var activity = activities_2[_i];
            var day = "";
            var activityType = this.getActivityType(activity);
            // 取得活动日期
            switch (activityType) {
                case "PlanItemData":
                    day = activity.sd;
                    break;
                case "AgendaData":
                    day = activity.evd;
                    break;
                case "TaskData":
                    day = activity.evd;
                    break;
                case "MiniTaskData":
                    day = activity.evd;
                    break;
                case "MemoData":
                    day = activity.sd;
                    break;
                default:
                    this.assertFail(); // 不能有上述以外的活动
            }
            // 不属于当页日期范围内的活动忽略
            if (activityday != day) {
                continue;
            }
            // 获取既存活动ID, 用于判断更新/插入/删除
            var calendaritemids = new Array();
            var eventids = new Array();
            var memoids = new Array();
            dayActivities.calendaritems.reduce(function (calendaritemids, value) {
                calendaritemids.push(value.jti);
                return calendaritemids;
            }, calendaritemids);
            dayActivities.events.reduce(function (eventids, value) {
                eventids.push(value.evi);
                return eventids;
            }, eventids);
            dayActivities.memos.reduce(function (memoids, value) {
                memoids.push(value.moi);
                return memoids;
            }, memoids);
            // 更新/插入/删除活动数据
            var index = -1;
            switch (activityType) {
                case "PlanItemData":
                    index = calendaritemids.indexOf(activity.jti);
                    var item = {};
                    Object.assign(item, activity);
                    // 天气设置到天气字段
                    if (item.jtt == __WEBPACK_IMPORTED_MODULE_10__data_enum__["v" /* PlanItemType */].Weather) {
                        dayActivities.weather = item;
                    }
                    else {
                        if (index >= 0) {
                            // 更新/删除
                            if (item.del == __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del) {
                                // 删除
                                if (index == 0) {
                                    dayActivities.calendaritems = dayActivities.calendaritems.slice(1);
                                }
                                else {
                                    dayActivities.calendaritems = dayActivities.calendaritems.slice(0, index).concat(dayActivities.calendaritems.slice(index + 1));
                                }
                            }
                            else {
                                // 更新
                                if (index == 0) {
                                    dayActivities.calendaritems = dayActivities.calendaritems.slice(1);
                                    dayActivities.calendaritems.unshift(item);
                                }
                                else {
                                    var tail = dayActivities.calendaritems.slice(index + 1);
                                    tail.unshift(item);
                                    dayActivities.calendaritems = dayActivities.calendaritems.slice(0, index).concat(tail);
                                }
                            }
                        }
                        else {
                            // 插入
                            dayActivities.calendaritems.push(item);
                        }
                    }
                    break;
                case "AgendaData":
                case "TaskData":
                case "MiniTaskData":
                    index = eventids.indexOf(activity.evi);
                    var event_5 = {};
                    Object.assign(event_5, activity);
                    if (index >= 0) {
                        // 更新/删除
                        if (event_5.del == __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del) {
                            // 删除
                            if (index == 0) {
                                dayActivities.events = dayActivities.events.slice(1);
                            }
                            else {
                                dayActivities.events = dayActivities.events.slice(0, index).concat(dayActivities.events.slice(index + 1));
                            }
                        }
                        else {
                            // 更新
                            if (index == 0) {
                                dayActivities.events = dayActivities.events.slice(1);
                                dayActivities.events.unshift(event_5);
                            }
                            else {
                                var tail = dayActivities.events.slice(index + 1);
                                tail.unshift(event_5);
                                dayActivities.events = dayActivities.events.slice(0, index).concat(tail);
                            }
                        }
                    }
                    else {
                        dayActivities.events.push(event_5);
                    }
                    break;
                case "MemoData":
                    var memo = {};
                    Object.assign(memo, activity);
                    index = memoids.indexOf(activity.moi);
                    if (index >= 0) {
                        // 更新/删除
                        if (memo.del == __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del) {
                            // 删除
                            if (index == 0) {
                                dayActivities.memos = dayActivities.memos.slice(1);
                            }
                            else {
                                dayActivities.memos = dayActivities.memos.slice(0, index).concat(dayActivities.memos.slice(index + 1));
                            }
                        }
                        else {
                            // 更新
                            if (index == 0) {
                                dayActivities.memos = dayActivities.memos.slice(1);
                                dayActivities.memos.unshift(memo);
                            }
                            else {
                                var tail = dayActivities.memos.slice(index + 1);
                                tail.unshift(memo);
                                dayActivities.memos = dayActivities.memos.slice(0, index).concat(tail);
                            }
                        }
                    }
                    else {
                        dayActivities.memos.push(memo);
                    }
                    break;
                default:
                    this.assertFail(); // 不能有上述以外的活动
            }
        }
        return dayActivities;
    };
    /**
     * 查询活动（时间/内容/标签）
     *
     * 日历项/事件/备忘
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.findActivities = function (condition) {
        return __awaiter(this, void 0, void 0, function () {
            var resultActivity, sqlcalitems, sqlevents, sqlmemos, ciargs, evargs, moargs, seachCalendar, seachEvent, seachMemo, ciwhere, evwhere, mowhere, likes, querymarks, _a, _b, _c;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        this.assertEmpty(condition); // 入参不能为空
                        resultActivity = new ActivityData();
                        resultActivity.condition = condition;
                        sqlcalitems = '';
                        sqlevents = '';
                        sqlmemos = '';
                        ciargs = [];
                        evargs = [];
                        moargs = [];
                        seachCalendar = false;
                        seachEvent = false;
                        seachMemo = false;
                        // 查询范围
                        if (condition.target && condition.target.length > 0) {
                            if (condition.target.indexOf(__WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Calendar) >= 0) {
                                seachCalendar = true;
                            }
                            if (condition.target.indexOf(__WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Event) >= 0) {
                                seachEvent = true;
                            }
                            if (condition.target.indexOf(__WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Memo) >= 0) {
                                seachMemo = true;
                            }
                        }
                        else {
                            seachCalendar = true;
                            seachEvent = true;
                            seachMemo = true;
                        }
                        ciwhere = '';
                        evwhere = '';
                        mowhere = '';
                        // 开始日期
                        if (condition.sd) {
                            ciwhere += (ciwhere ? '' : 'where ');
                            ciwhere += "sd >= ? ";
                            ciargs.push(condition.sd);
                            evwhere += (evwhere ? '' : 'where ');
                            evwhere += "evd >= ? ";
                            evargs.push(condition.sd);
                            mowhere += (mowhere ? '' : 'where ');
                            mowhere += "sd >= ? ";
                            moargs.push(condition.sd);
                        }
                        // 结束日期
                        if (condition.ed) {
                            ciwhere += (ciwhere ? 'and ' : 'where ');
                            ciwhere += "sd <= ? ";
                            ciargs.push(condition.ed);
                            evwhere += (evwhere ? 'and ' : 'where ');
                            evwhere += "evd <= ? ";
                            evargs.push(condition.ed);
                            mowhere += (mowhere ? 'and ' : 'where ');
                            mowhere += "sd <= ? ";
                            moargs.push(condition.ed);
                        }
                        // 内容查询
                        if (condition.text) {
                            ciwhere += (ciwhere ? 'and ' : 'where ');
                            ciwhere += "jtn like ? ";
                            ciargs.push("%" + condition.text + "%");
                            evwhere += (evwhere ? 'and ' : 'where ');
                            evwhere += "(evn like ? or bz like ?) ";
                            evargs.push("%" + condition.text + "%");
                            evargs.push("%" + condition.text + "%");
                            mowhere += (mowhere ? 'and ' : 'where ');
                            mowhere += "mon like ? ";
                            moargs.push("%" + condition.text + "%");
                        }
                        // 标签查询
                        if (condition.mark && condition.mark.length > 0) {
                            likes = new Array(condition.mark.length).fill('?', 0, condition.mark.length).join(' or mkl like ');
                            querymarks = condition.mark.map(function (value) { return "%" + value + "%"; });
                            ciwhere += (ciwhere ? 'and ' : 'where ');
                            ciwhere += "jti in (select obi from gtd_mrk where obt = ? and (mkl like " + likes + ")) ";
                            ciargs.push(__WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Calendar);
                            ciargs = ciargs.concat(querymarks);
                            evwhere += (evwhere ? 'and ' : 'where ');
                            evwhere += "evi in (select obi from gtd_mrk where obt = ? and (mkl like " + likes + ")) ";
                            evargs.push(__WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Event);
                            evargs = evargs.concat(querymarks);
                            mowhere += (mowhere ? 'and ' : 'where ');
                            mowhere += "moi in (select obi from gtd_mrk where obt = ? and (mkl like " + likes + ")) ";
                            moargs.push(__WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Memo);
                            moargs = moargs.concat(querymarks);
                        }
                        // 增加删除标记判断
                        ciwhere += (ciwhere ? 'and ' : 'where ');
                        ciwhere += "del <> ? ";
                        ciargs.push(__WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del);
                        evwhere += (evwhere ? 'and ' : 'where ');
                        evwhere += "del <> ? ";
                        evargs.push(__WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del);
                        mowhere += (mowhere ? 'and ' : 'where ');
                        mowhere += "del <> ? ";
                        moargs.push(__WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del);
                        sqlcalitems = "select * from gtd_jta " + ciwhere + " order by sd asc";
                        sqlevents = "select * from gtd_ev " + evwhere + " order by evd asc";
                        sqlmemos = "select * from gtd_mom " + mowhere + " order by sd asc";
                        if (!(sqlcalitems && seachCalendar)) return [3 /*break*/, 2];
                        _a = resultActivity;
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sqlcalitems, ciargs)];
                    case 1:
                        _a.calendaritems = (_d.sent()) || new Array();
                        _d.label = 2;
                    case 2:
                        if (!(sqlevents && seachEvent)) return [3 /*break*/, 4];
                        _b = resultActivity;
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sqlevents, evargs)];
                    case 3:
                        _b.events = (_d.sent()) || new Array();
                        _d.label = 4;
                    case 4:
                        if (!(sqlmemos && seachMemo)) return [3 /*break*/, 6];
                        _c = resultActivity;
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sqlmemos, moargs)];
                    case 5:
                        _c.memos = (_d.sent()) || new Array();
                        _d.label = 6;
                    case 6: return [2 /*return*/, resultActivity];
                }
            });
        });
    };
    /**
     * 共享日历项
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.sendPlanItem = function (planitem) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(planitem); // 入参不能为空
                        return [4 /*yield*/, this.syncPlanItems([planitem])];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 同步指定/所有未同步日历项
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.syncPlanItems = function (planitems) {
        if (planitems === void 0) { planitems = new Array(); }
        return __awaiter(this, void 0, void 0, function () {
            var members, sql, sqlmember, push, _loop_1, _i, planitems_2, planitem;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(planitems); // 入参不能为空
                        members = new Array();
                        if (!(planitems.length <= 0)) return [3 /*break*/, 3];
                        sql = "select * from gtd_jta where tb = ? and del <> ?";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, [__WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch, __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del])];
                    case 1:
                        planitems = (_a.sent()) || planitems;
                        sqlmember = " select par.*  ,\n                                    b.ran,\n                                   b.ranpy,\n                                   '' hiu,\n                                   b.rn,\n                                   b.rnpy,\n                                   b.rc,\n                                   b.rel,\n                                   b.src\n                              from (select\n                                    case when rfg = ?1 then jti\n                                       when ifnull(rtjti, '') = '' then jti\n                                       else rtjti end forcejti\n                                    from gtd_jta\n                                    where ui <> '' and ui is not null and tb = ?2) jta\n                              inner join gtd_par par\n                              on jta.forcejti = par.obi and par.obt = ?3\n                              inner join gtd_b b\n                              on par.pwi = b.pwi ";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sqlmember, [__WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].NonRepeat, __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch, __WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Calendar])];
                    case 2:
                        members = (_a.sent()) || members;
                        _a.label = 3;
                    case 3:
                        if (!(planitems.length > 0)) return [3 /*break*/, 5];
                        push = new __WEBPACK_IMPORTED_MODULE_6__restful_datasev__["c" /* PushInData */]();
                        _loop_1 = function (planitem) {
                            // 忽略内建日历项
                            if (planitem.jtc == __WEBPACK_IMPORTED_MODULE_10__data_enum__["y" /* SelfDefineType */].System)
                                return "continue";
                            var sync = new __WEBPACK_IMPORTED_MODULE_6__restful_datasev__["d" /* SyncData */]();
                            sync.fields.unshared.push("del"); // 删除状态为个人数据不共享给他人
                            sync.fields.unshared.push("bz"); // 备注为个人数据不共享给他人
                            sync.fields.unshared.push("ji"); // 计划为个人数据不共享给他人
                            sync.fields.unshared.push("tx"); // 提醒为个人数据不共享给他人
                            sync.fields.unshared.push("txs"); // 提醒为个人数据不共享给他人
                            sync.fields.unshared.push("invitestatus"); // 接受拒绝状态为个人数据不共享给他人
                            // 非重复日程/重复日程的第一条需要通知
                            if (!planitem.rtjti || planitem.rfg == __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].RepeatToOnly) {
                                sync.main = true;
                            }
                            sync.src = planitem.ui;
                            sync.id = planitem.jti;
                            sync.type = "PlanItem";
                            sync.title = planitem.jtn;
                            sync.security = __WEBPACK_IMPORTED_MODULE_10__data_enum__["A" /* SyncDataSecurity */].None;
                            // 设置删除状态
                            if (planitem.del == __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del) {
                                sync.status = __WEBPACK_IMPORTED_MODULE_10__data_enum__["B" /* SyncDataStatus */].Deleted;
                            }
                            else {
                                sync.status = __WEBPACK_IMPORTED_MODULE_10__data_enum__["B" /* SyncDataStatus */].UnDeleted;
                            }
                            // 设置受邀状态
                            if (planitem.invitestatus == __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].Accepted) {
                                sync.invitestate = __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].Accepted;
                            }
                            else if (planitem.invitestatus == __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].Rejected) {
                                sync.invitestate = __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].Rejected;
                            }
                            else {
                                sync.invitestate = __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].None;
                            }
                            if (members.length > 0) {
                                var masterid_1;
                                if (planitem.rtjti == "") {
                                    //非重复数据或重复数据的父记录
                                    masterid_1 = planitem.jti;
                                }
                                else if (planitem.rfg == __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].RepeatToOnly) {
                                    //重复中独立数据
                                    masterid_1 = planitem.jti;
                                }
                                else {
                                    //重复数据
                                    masterid_1 = planitem.rtjti;
                                }
                                var membersTos = members.filter(function (value, index, arr) {
                                    return masterid_1 == value.obi;
                                });
                                planitem.members = membersTos;
                            }
                            sync.to = (planitem.members && planitem.members.length > 0) ? planitem.members.reduce(function (target, element) {
                                if (element && element.rc)
                                    target.push(element.rc);
                                return target;
                            }, new Array()) : [];
                            sync.payload = planitem;
                            push.d.push(sync);
                        };
                        for (_i = 0, planitems_2 = planitems; _i < planitems_2.length; _i++) {
                            planitem = planitems_2[_i];
                            _loop_1(planitem);
                        }
                        if (!(push.d.length > 0)) return [3 /*break*/, 5];
                        return [4 /*yield*/, this.dataRestful.push(push)];
                    case 4:
                        _a.sent();
                        _a.label = 5;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 完成日历项同步,更新日历项同步状态
     *
     * @author leon_xi@163.com
     */
    CalendarService.prototype.acceptSyncPlanItems = function (ids) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var sqls, sql, _i, ids_1, id;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        sqls = new Array();
                        sql = "update gtd_jta set tb = ? where jti in ('" + ids.join(', ') + "')";
                        sqls.push([sql, [__WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].synch]]);
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls)];
                    case 1:
                        _a.sent();
                        // 同步完成后刷新缓存
                        for (_i = 0, ids_1 = ids; _i < ids_1.length; _i++) {
                            id = ids_1[_i];
                            this.getPlanItem(id).then(function (planitem) {
                                if (planitem) {
                                    _this.emitService.emit("mwxing.calendar.activities.changed", planitem);
                                }
                            });
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 接收日历项数据同步
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.receivedPlanItem = function (jti) {
        return __awaiter(this, void 0, void 0, function () {
            var pull, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.assertEmpty(jti); // 入参不能为空
                        pull = new __WEBPACK_IMPORTED_MODULE_6__restful_datasev__["b" /* PullInData */]();
                        pull.type = "PlanItem";
                        if (jti instanceof Array) {
                            (_a = pull.d).splice.apply(_a, [0, 0].concat(jti));
                        }
                        else {
                            pull.d.push(jti);
                        }
                        // 发送下载日历项请求
                        return [4 /*yield*/, this.dataRestful.pull(pull)];
                    case 1:
                        // 发送下载日历项请求
                        _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 接收日历项保存到本地
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.receivedPlanItemData = function (planitems, status) {
        return __awaiter(this, void 0, void 0, function () {
            var sqlparam, saved, _i, planitems_3, planitem, current, txjson, planitemdb, delpar, _a, _b, member, par;
            return __generator(this, function (_c) {
                this.assertEmpty(planitems); // 入参不能为空
                this.assertEmpty(status); // 入参不能为空
                sqlparam = new Array();
                saved = new Array();
                for (_i = 0, planitems_3 = planitems; _i < planitems_3.length; _i++) {
                    planitem = planitems_3[_i];
                    current = {};
                    Object.assign(current, planitem);
                    // 删除参与人时，通过这个字段传递删除数据
                    if (status == __WEBPACK_IMPORTED_MODULE_10__data_enum__["B" /* SyncDataStatus */].Deleted) {
                        current.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                    }
                    else {
                        // 删除字段不共享, 如果不存在需要设置默认值
                        if (!current.del)
                            current.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel;
                    }
                    current.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].synch;
                    // 非共享字段，第一次接收需要付初值
                    if (!current.bz) {
                        current.bz = "";
                    }
                    if (!current.ji) {
                        current.ji = "";
                    }
                    if (!current.tx) {
                        txjson = new __WEBPACK_IMPORTED_MODULE_8__event_service__["d" /* TxJson */]();
                        current.tx = JSON.stringify(txjson);
                        current.txs = txjson.text();
                    }
                    if (!current.invitestatus) {
                        current.invitestatus = __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].None;
                    }
                    planitemdb = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
                    Object.assign(planitemdb, current);
                    sqlparam.push(planitemdb.rpTParam());
                    //相关参与人更新
                    if (current.rfg == __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].NonRepeat || (current.rfg != __WEBPACK_IMPORTED_MODULE_10__data_enum__["x" /* RepeatFlag */].NonRepeat && current.rtjti == '')) {
                        delpar = new __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_par_tbl__["a" /* ParTbl */]();
                        delpar.obt = __WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Calendar;
                        delpar.obi = current.jti;
                        sqlparam.push(delpar.dTParam());
                        if (current.members && current.members.length > 0) {
                            for (_a = 0, _b = current.members; _a < _b.length; _a++) {
                                member = _b[_a];
                                par = new __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_par_tbl__["a" /* ParTbl */]();
                                Object.assign(par, member);
                                par.pari = this.util.getUuid();
                                par.obi = current.jti;
                                par.obt = __WEBPACK_IMPORTED_MODULE_10__data_enum__["q" /* ObjectType */].Calendar;
                                par.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].synch;
                                par.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel;
                                sqlparam.push(par.rpTParam());
                            }
                        }
                    }
                    saved.push(current);
                }
                this.sqlExce.batExecSqlByParam(sqlparam);
                this.emitService.emit("mwxing.calendar.activities.changed", saved);
                return [2 /*return*/, saved];
            });
        });
    };
    /**
     * 接受邀请
     *
     * @author leon_xi@163.com
     */
    CalendarService.prototype.acceptReceivedPlanItem = function (jti) {
        return __awaiter(this, void 0, void 0, function () {
            var origin, current, saved;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(jti); // 入参不能为空
                        return [4 /*yield*/, this.getPlanItem(jti)];
                    case 1:
                        origin = _a.sent();
                        current = {};
                        Object.assign(current, origin);
                        current.invitestatus = __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].Accepted;
                        return [4 /*yield*/, this.savePlanItem(current, origin)];
                    case 2:
                        saved = _a.sent();
                        return [2 /*return*/, current];
                }
            });
        });
    };
    /**
     * 拒绝邀请
     *
     * @author leon_xi@163.com
     */
    CalendarService.prototype.rejectReceivedPlanItem = function (jti) {
        return __awaiter(this, void 0, void 0, function () {
            var origin, current, saved;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(jti); // 入参不能为空
                        return [4 /*yield*/, this.getPlanItem(jti)];
                    case 1:
                        origin = _a.sent();
                        current = {};
                        Object.assign(current, origin);
                        current.invitestatus = __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].Rejected;
                        current.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del; // 拒绝的日程设置为删除, 从用户日历显示中删除
                        return [4 /*yield*/, this.savePlanItem(current, origin)];
                    case 2:
                        saved = _a.sent();
                        return [2 /*return*/, current];
                }
            });
        });
    };
    /**
     * 共享日历
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.sendPlan = function (plan) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(plan); // 入参不能为空
                        this.assertNotEqual(plan.jt, __WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].PrivatePlan); // 非自定义日历不能共享
                        return [4 /*yield*/, this.syncPrivatePlans([plan])];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    CalendarService.prototype.requestInitialData = function () {
        return __awaiter(this, void 0, void 0, function () {
            var pull;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        pull = new __WEBPACK_IMPORTED_MODULE_6__restful_datasev__["b" /* PullInData */]();
                        pull.type = "*";
                        return [4 /*yield*/, this.dataRestful.pull(pull)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 接收日历数据同步
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.receivedPlan = function (ji) {
        return __awaiter(this, void 0, void 0, function () {
            var pull, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.assertEmpty(ji); // 入参不能为空
                        pull = new __WEBPACK_IMPORTED_MODULE_6__restful_datasev__["b" /* PullInData */]();
                        pull.type = "Plan";
                        if (ji instanceof Array) {
                            (_a = pull.d).splice.apply(_a, [0, 0].concat(ji));
                        }
                        else {
                            pull.d.push(ji);
                        }
                        // 发送下载日历请求
                        return [4 /*yield*/, this.dataRestful.pull(pull)];
                    case 1:
                        // 发送下载日历请求
                        _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 接收日历保存到本地
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.receivedPlanData = function (plan, status) {
        return __awaiter(this, void 0, void 0, function () {
            var plandb, localplan;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(plan); // 入参不能为空
                        this.assertEmpty(plan.ji); // 计划ID不能为空
                        this.assertEmpty(status); // 入参不能为空
                        plandb = new __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_jha_tbl__["a" /* JhaTbl */]();
                        Object.assign(plandb, plan);
                        if (status == __WEBPACK_IMPORTED_MODULE_10__data_enum__["B" /* SyncDataStatus */].Deleted) {
                            plandb.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                        }
                        plandb.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].synch;
                        return [4 /*yield*/, this.sqlExce.repTByParam(plandb)];
                    case 1:
                        _a.sent();
                        localplan = {};
                        Object.assign(localplan, plandb);
                        this.emitService.emit("mwxing.calendar.plans.changed", localplan);
                        return [2 /*return*/, localplan];
                }
            });
        });
    };
    /**
     * 同步指定或所有自定义日历
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.syncPrivatePlans = function (plans) {
        if (plans === void 0) { plans = new Array(); }
        return __awaiter(this, void 0, void 0, function () {
            var sql, push, _i, plans_2, plan, sync;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(plans); // 入参不能为空
                        if (!(plans.length <= 0)) return [3 /*break*/, 2];
                        sql = "select * from gtd_jha where jt = ? and tb = ?";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, [__WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].PrivatePlan, __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch])];
                    case 1:
                        plans = (_a.sent()) || plans;
                        _a.label = 2;
                    case 2:
                        if (!(plans.length > 0)) return [3 /*break*/, 4];
                        push = new __WEBPACK_IMPORTED_MODULE_6__restful_datasev__["c" /* PushInData */]();
                        for (_i = 0, plans_2 = plans; _i < plans_2.length; _i++) {
                            plan = plans_2[_i];
                            if (plan.jt != __WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].PrivatePlan)
                                continue;
                            sync = new __WEBPACK_IMPORTED_MODULE_6__restful_datasev__["d" /* SyncData */]();
                            sync.src = __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.id;
                            sync.id = plan.ji;
                            sync.type = "Plan";
                            sync.title = plan.jn;
                            sync.security = __WEBPACK_IMPORTED_MODULE_10__data_enum__["A" /* SyncDataSecurity */].None;
                            // 设置删除状态
                            if (plan.del == __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del) {
                                sync.status = __WEBPACK_IMPORTED_MODULE_10__data_enum__["B" /* SyncDataStatus */].Deleted;
                            }
                            else {
                                sync.status = __WEBPACK_IMPORTED_MODULE_10__data_enum__["B" /* SyncDataStatus */].UnDeleted;
                            }
                            sync.payload = plan;
                            push.d.push(sync);
                        }
                        if (!(push.d.length > 0)) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.dataRestful.push(push)];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 更新已同步标志
     * 根据日历ID和更新时间戳
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.acceptSyncPrivatePlans = function (syncids) {
        return __awaiter(this, void 0, void 0, function () {
            var sqls, _i, syncids_1, syncid;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(syncids); // 入参不能为空
                        if (syncids.length < 1) {
                            return [2 /*return*/];
                        }
                        sqls = new Array();
                        for (_i = 0, syncids_1 = syncids; _i < syncids_1.length; _i++) {
                            syncid = syncids_1[_i];
                            sqls.push(["update gtd_jha set tb = ? where ji = ?", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].synch, syncid]]);
                        }
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 分享日历
     *
     * 日历数据上传服务器，并获得分享URL
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.sharePlan = function (plan, refreshChildren) {
        if (refreshChildren === void 0) { refreshChildren = false; }
        return __awaiter(this, void 0, void 0, function () {
            var shareplan, upplan, shared;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(plan); // 入参不能为空
                        this.assertEmpty(plan.ji); // 计划ID不能为空
                        if (!refreshChildren) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.getPlan(plan.ji, true)];
                    case 1:
                        plan = _a.sent(); // 重新获取计划和计划子项目
                        _a.label = 2;
                    case 2:
                        shareplan = this.convertPlanData2Plan(plan);
                        upplan = new __WEBPACK_IMPORTED_MODULE_5__restful_shaesev__["e" /* ShareData */]();
                        upplan.oai = "";
                        upplan.ompn = "";
                        upplan.c = "";
                        upplan.d.p = shareplan;
                        return [4 /*yield*/, this.shareRestful.share(upplan)];
                    case 3:
                        shared = _a.sent();
                        if (shared)
                            return [2 /*return*/, shared.psurl];
                        else
                            return [2 /*return*/, ""];
                        return [2 /*return*/];
                }
            });
        });
    };
    CalendarService.prototype.convertPlanData2Plan = function (src) {
        this.assertEmpty(src); // 入参不能为空
        var dest = new __WEBPACK_IMPORTED_MODULE_5__restful_shaesev__["b" /* Plan */]();
        dest.pn = {
            ji: src.ji,
            jn: src.jn,
            jc: src.jc
        };
        if (src.items && src.items.length > 0) {
            for (var _i = 0, _a = src.items; _i < _a.length; _i++) {
                var item = _a[_i];
                dest.pa.push(this.convertPlanActivity2PlanPa(item));
            }
        }
        return dest;
    };
    CalendarService.prototype.convertPlanActivity2PlanPa = function (source) {
        var pa = new __WEBPACK_IMPORTED_MODULE_5__restful_shaesev__["c" /* PlanPa */]();
        var src = source;
        if (src.jti) {
            //关联日程ID
            pa.rai = "";
            //日程发送人用户ID
            pa.fc = "";
            //日程ID
            pa.ai = src.jti;
            //主题
            pa.at = src.jtn;
            //时间(YYYY/MM/DD)
            pa.adt = src.sd;
            //开始时间
            pa.st = src.st;
            //结束日期
            pa.ed = src.sd;
            //结束时间
            pa.et = src.st;
            //计划
            pa.ap = src.ji;
            //重复
            pa.ar = "";
            //提醒
            pa.aa = "";
            //备注
            pa.am = src.bz;
            //优先级
            pa.px = src.px;
        }
        if (src.evi && src.ed) {
            //关联日程ID
            pa.rai = src.rtevi;
            //日程发送人用户ID
            pa.fc = src.ui;
            //日程ID
            pa.ai = src.evi;
            //主题
            pa.at = src.evn;
            //时间(YYYY/MM/DD)
            pa.adt = src.sd;
            //开始时间
            pa.st = src.st;
            //结束日期
            pa.ed = src.ed;
            //结束时间
            pa.et = src.et;
            //计划
            pa.ap = src.ji;
            //重复
            pa.ar = "";
            //提醒
            pa.aa = "";
            //备注
            pa.am = src.bz;
            //优先级
            pa.px = 0;
        }
        if (src.evi && src.cs) {
            //关联日程ID
            pa.rai = "";
            //日程发送人用户ID
            pa.fc = src.ui;
            //日程ID
            pa.ai = src.evi;
            //主题
            pa.at = src.evn;
            //时间(YYYY/MM/DD)
            pa.adt = src.evd;
            //开始时间
            pa.st = "99:99";
            //结束日期
            pa.ed = src.evd;
            //结束时间
            pa.et = "99:99";
            //计划
            pa.ap = src.ji;
            //重复
            pa.ar = "";
            //提醒
            pa.aa = "";
            //备注
            pa.am = src.bz;
            //优先级
            pa.px = 0;
        }
        if (src.evi && !src.cs && !src.ed) {
            //关联日程ID
            pa.rai = "";
            //日程发送人用户ID
            pa.fc = src.ui;
            //日程ID
            pa.ai = src.evi;
            //主题
            pa.at = src.evn;
            //时间(YYYY/MM/DD)
            pa.adt = src.evd;
            //开始时间
            pa.st = "99:99";
            //结束日期
            pa.ed = src.evd;
            //结束时间
            pa.et = "99:99";
            //计划
            pa.ap = src.ji;
            //重复
            pa.ar = "";
            //提醒
            pa.aa = "";
            //备注
            pa.am = src.bz;
            //优先级
            pa.px = 0;
        }
        if (src.moi) {
            //关联日程ID
            pa.rai = "";
            //日程发送人用户ID
            pa.fc = "";
            //日程ID
            pa.ai = src.moi;
            //主题
            pa.at = src.mon;
            //时间(YYYY/MM/DD)
            pa.adt = src.sd;
            //开始时间
            pa.st = "99:99";
            //结束日期
            pa.ed = src.sd;
            //结束时间
            pa.et = "99:99";
            //计划
            pa.ap = src.ji;
            //重复
            pa.ar = "";
            //提醒
            pa.aa = "";
            //备注
            pa.am = "";
            //优先级
            pa.px = 0;
        }
        return pa;
    };
    /**
     * 获取翻页活动数据（用于日程一览）
     *
     * 默认一页显示1周7天, 可指定天数（使用奇数7, 9, 11, ...）
     * 支持向上或向下翻页
     * 默认查询当天向前3天以及向后3天共7天数据
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.fetchPagedActivities = function (day, direction, daysPerPage) {
        if (day === void 0) { day = __WEBPACK_IMPORTED_MODULE_13_moment__().format("YYYY/MM/DD"); }
        if (direction === void 0) { direction = __WEBPACK_IMPORTED_MODULE_10__data_enum__["t" /* PageDirection */].PageInit; }
        if (daysPerPage === void 0) { daysPerPage = 7; }
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var pagedActivities, startday, endday, days, stepday, day_1, sqlcalitems, _a, sqlevents, _b, sqlmemos, _c;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        this.assertEmpty(day); // 入参不能为空
                        this.assertEmpty(direction); // 入参不能为空
                        this.assertEmpty(daysPerPage); // 入参不能为空
                        pagedActivities = new PagedActivityData();
                        startday = day;
                        endday = day;
                        switch (direction) {
                            case __WEBPACK_IMPORTED_MODULE_10__data_enum__["t" /* PageDirection */].PageInit:
                                startday = __WEBPACK_IMPORTED_MODULE_13_moment__(day).subtract(Math.floor(daysPerPage / 2), "days").format("YYYY/MM/DD");
                                endday = __WEBPACK_IMPORTED_MODULE_13_moment__(day).add(Math.floor(daysPerPage / 2), "days").format("YYYY/MM/DD");
                                break;
                            case __WEBPACK_IMPORTED_MODULE_10__data_enum__["t" /* PageDirection */].PageDown:
                                endday = __WEBPACK_IMPORTED_MODULE_13_moment__(day).subtract(1, "days").format("YYYY/MM/DD");
                                startday = __WEBPACK_IMPORTED_MODULE_13_moment__(day).subtract(daysPerPage, "days").format("YYYY/MM/DD");
                                break;
                            case __WEBPACK_IMPORTED_MODULE_10__data_enum__["t" /* PageDirection */].PageUp:
                                startday = __WEBPACK_IMPORTED_MODULE_13_moment__(day).add(1, "days").format("YYYY/MM/DD");
                                endday = __WEBPACK_IMPORTED_MODULE_13_moment__(day).add(daysPerPage, "days").format("YYYY/MM/DD");
                                break;
                            default:
                                this.assertFail();
                        }
                        pagedActivities.startday = startday;
                        pagedActivities.endday = endday;
                        days = new Map();
                        // 初始化每日记录
                        days.set(startday, new DayActivityData(startday));
                        stepday = startday;
                        while (stepday != endday) {
                            stepday = __WEBPACK_IMPORTED_MODULE_13_moment__(stepday).add(1, "days").format("YYYY/MM/DD");
                            day_1 = stepday;
                            days.set(day_1, new DayActivityData(day_1));
                        }
                        sqlcalitems = "select * from gtd_jta where sd >= '" + startday + "' and sd <= '" + endday + "' order by st asc";
                        _a = pagedActivities;
                        return [4 /*yield*/, this.sqlExce.getExtList(sqlcalitems)];
                    case 1:
                        _a.calendaritems = (_d.sent()) || pagedActivities.calendaritems;
                        days = pagedActivities.calendaritems.reduce(function (days, value) {
                            var day = value.sd;
                            var dayActivity = days.get(day);
                            _this.assertNull(dayActivity);
                            dayActivity.calendaritems.push(value);
                            days.set(day, dayActivity);
                            return days;
                        }, days);
                        sqlevents = "select * from gtd_ev where evd >= '" + startday + "' and evd <= '" + endday + "' ";
                        _b = pagedActivities;
                        return [4 /*yield*/, this.sqlExce.getExtList(sqlevents)];
                    case 2:
                        _b.events = (_d.sent()) || pagedActivities.events;
                        days = pagedActivities.events.reduce(function (days, value) {
                            var day = value.evd;
                            var dayActivity = days.get(day);
                            _this.assertNull(dayActivity);
                            dayActivity.events.push(value);
                            days.set(day, dayActivity);
                            return days;
                        }, days);
                        sqlmemos = "select * from gtd_mom where sd >= '" + startday + "' and sd <= '" + endday + "'";
                        _c = pagedActivities;
                        return [4 /*yield*/, this.sqlExce.getExtList(sqlmemos)];
                    case 3:
                        _c.memos = (_d.sent()) || pagedActivities.memos;
                        days = pagedActivities.memos.reduce(function (days, value) {
                            var day = value.sd;
                            var dayActivity = days.get(day);
                            _this.assertNull(dayActivity);
                            dayActivity.memos.push(value);
                            days.set(day, dayActivity);
                            return days;
                        }, days);
                        pagedActivities.days = days;
                        return [2 /*return*/, pagedActivities];
                }
            });
        });
    };
    /**
     * 合并(更新/插入/删除)翻页活动数据（用于日程一览）
     *
     * 避免重复查询数据库, 提高效率
     * 不属于当页日期范围内的活动将被忽略
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.mergePagedActivities = function (pagedActivities, activitiedatas) {
        var _this = this;
        // 入参不能为空
        this.assertEmpty(pagedActivities); // 翻页数据不能为空
        this.assertEmpty(pagedActivities.startday); // 翻页数据开始日期不能为空
        this.assertEmpty(pagedActivities.endday); // 翻页数据结束日期不能为空
        this.assertEmpty(activitiedatas); // 活动数据不能为空
        var activities = activitiedatas;
        // 没有合并数据直接返回
        if (activities.length == 0) {
            return pagedActivities;
        }
        var startday = pagedActivities.startday;
        var endday = pagedActivities.endday;
        // 循环合并更新活动
        for (var _i = 0, activities_3 = activities; _i < activities_3.length; _i++) {
            var activity = activities_3[_i];
            var day = "";
            var activityType = this.getActivityType(activity);
            // 取得活动日期
            switch (activityType) {
                case "PlanItemData":
                    day = activity.sd;
                    break;
                case "AgendaData":
                    day = activity.evd;
                    break;
                case "TaskData":
                    day = activity.evd;
                    break;
                case "MiniTaskData":
                    day = activity.evd;
                    break;
                case "MemoData":
                    day = activity.sd;
                    break;
                default:
                    this.assertFail(); // 不能有上述以外的活动
            }
            // 不属于当页日期范围内的活动忽略
            if (startday > day || day > endday) {
                continue;
            }
            // 获取既存活动ID, 用于判断更新/插入/删除
            var calendaritemids = new Array();
            var eventids = new Array();
            var memoids = new Array();
            pagedActivities.calendaritems.reduce(function (calendaritemids, value) {
                calendaritemids.push(value.jti);
                return calendaritemids;
            }, calendaritemids);
            pagedActivities.events.reduce(function (eventids, value) {
                eventids.push(value.evi);
                return eventids;
            }, eventids);
            pagedActivities.memos.reduce(function (memoids, value) {
                memoids.push(value.moi);
                return memoids;
            }, memoids);
            // 更新/插入/删除活动数据
            var index = -1;
            switch (activityType) {
                case "PlanItemData":
                    index = calendaritemids.indexOf(activity.jti);
                    var item = {};
                    Object.assign(item, activity);
                    if (index >= 0) {
                        // 更新/删除
                        if (item.del == __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del) {
                            // 删除
                            if (index == 0) {
                                pagedActivities.calendaritems = pagedActivities.calendaritems.slice(1);
                            }
                            else {
                                pagedActivities.calendaritems = pagedActivities.calendaritems.slice(0, index).concat(pagedActivities.calendaritems.slice(index + 1));
                            }
                        }
                        else {
                            // 更新
                            if (index == 0) {
                                pagedActivities.calendaritems = pagedActivities.calendaritems.slice(1);
                                pagedActivities.calendaritems.unshift(item);
                            }
                            else {
                                var tail = pagedActivities.calendaritems.slice(index + 1);
                                tail.unshift(item);
                                pagedActivities.calendaritems = pagedActivities.calendaritems.slice(0, index).concat(tail);
                            }
                        }
                    }
                    else {
                        // 插入
                        pagedActivities.calendaritems.push(item);
                    }
                    break;
                case "AgendaData":
                case "TaskData":
                case "MiniTaskData":
                    index = eventids.indexOf(activity.evi);
                    var event_6 = {};
                    Object.assign(event_6, activity);
                    if (index >= 0) {
                        // 更新/删除
                        if (event_6.del == __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del) {
                            // 删除
                            if (index == 0) {
                                pagedActivities.events = pagedActivities.events.slice(1);
                            }
                            else {
                                pagedActivities.events = pagedActivities.events.slice(0, index).concat(pagedActivities.events.slice(index + 1));
                            }
                        }
                        else {
                            // 更新
                            if (index == 0) {
                                pagedActivities.events = pagedActivities.events.slice(1);
                                pagedActivities.events.unshift(event_6);
                            }
                            else {
                                var tail = pagedActivities.events.slice(index + 1);
                                tail.unshift(event_6);
                                pagedActivities.events = pagedActivities.events.slice(0, index).concat(tail);
                            }
                        }
                    }
                    else {
                        pagedActivities.events.push(event_6);
                    }
                    break;
                case "MemoData":
                    var memo = {};
                    Object.assign(memo, activity);
                    index = memoids.indexOf(activity.moi);
                    if (index >= 0) {
                        // 更新/删除
                        if (memo.del == __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del) {
                            // 删除
                            if (index == 0) {
                                pagedActivities.memos = pagedActivities.memos.slice(1);
                            }
                            else {
                                pagedActivities.memos = pagedActivities.memos.slice(0, index).concat(pagedActivities.memos.slice(index + 1));
                            }
                        }
                        else {
                            // 更新
                            if (index == 0) {
                                pagedActivities.memos = pagedActivities.memos.slice(1);
                                pagedActivities.memos.unshift(memo);
                            }
                            else {
                                var tail = pagedActivities.memos.slice(index + 1);
                                tail.unshift(memo);
                                pagedActivities.memos = pagedActivities.memos.slice(0, index).concat(tail);
                            }
                        }
                    }
                    else {
                        pagedActivities.memos.push(memo);
                    }
                    break;
                default:
                    this.assertFail(); // 不能有上述以外的活动
            }
        }
        // 重构每天活动数据
        var days = new Map();
        // 初始化每日记录
        days.set(startday, new DayActivityData(startday));
        var stepday = startday;
        while (stepday != endday) {
            stepday = __WEBPACK_IMPORTED_MODULE_13_moment__(stepday).add(1, "days").format("YYYY/MM/DD");
            var day = stepday;
            days.set(day, new DayActivityData(day));
        }
        days = pagedActivities.calendaritems.reduce(function (days, value) {
            var day = value.sd;
            var dayActivity = days.get(day);
            _this.assertNull(dayActivity);
            dayActivity.calendaritems.push(value);
            days.set(day, dayActivity);
            return days;
        }, days);
        days = pagedActivities.events.reduce(function (days, value) {
            var day = value.evd;
            var dayActivity = days.get(day);
            _this.assertNull(dayActivity);
            dayActivity.events.push(value);
            days.set(day, dayActivity);
            return days;
        }, days);
        days = pagedActivities.memos.reduce(function (days, value) {
            var day = value.sd;
            var dayActivity = days.get(day);
            _this.assertNull(dayActivity);
            dayActivity.memos.push(value);
            days.set(day, dayActivity);
            return days;
        }, days);
        pagedActivities.days = days;
        return pagedActivities;
    };
    /**
     * 取得活动类型
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.getActivityType = function (source) {
        this.assertEmpty(source);
        var src = source;
        if (src.jti) {
            return "PlanItemData";
        }
        if (src.evi && src.type == __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].Agenda) {
            return "AgendaData";
        }
        if (src.evi && src.type == __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].Task) {
            return "TaskData";
        }
        if (src.evi && src.type == __WEBPACK_IMPORTED_MODULE_10__data_enum__["g" /* EventType */].MiniTask) {
            return "MiniTaskData";
        }
        if (src.moi) {
            return "MemoData";
        }
        this.assertFail();
    };
    /**
     * 备份所有日历和活动
     *
     * JhaTbl
     * JtaTbl
     * EvTbl
     * CaTbl
     * TTbl
     * MomTbl
     * ParTbl
     * FjTbl
     * WaTbl    提醒不备份
     * MrkTbl   标注不备份
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.backupCalendar = function (bts) {
        return __awaiter(this, void 0, void 0, function () {
            var backupPro, par, _a, fj, _b;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        this.assertEmpty(bts); // 入参不能为空
                        // JhaTbl
                        // JtaTbl
                        return [4 /*yield*/, this.backup(bts)];
                    case 1:
                        // JhaTbl
                        // JtaTbl
                        _c.sent();
                        // EvTbl
                        // CaTbl
                        // TTbl
                        return [4 /*yield*/, this.eventService.backup(bts)];
                    case 2:
                        // EvTbl
                        // CaTbl
                        // TTbl
                        _c.sent();
                        // MomTbl
                        return [4 /*yield*/, this.memoService.backup(bts)];
                    case 3:
                        // MomTbl
                        _c.sent();
                        backupPro = new __WEBPACK_IMPORTED_MODULE_7__restful_bacsev__["b" /* BackupPro */]();
                        //操作账户ID
                        backupPro.oai = __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.id;
                        //操作手机号码
                        backupPro.ompn = __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.phone;
                        //时间戳
                        backupPro.d.bts = bts;
                        par = new __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_par_tbl__["a" /* ParTbl */]();
                        _a = backupPro.d;
                        return [4 /*yield*/, this.sqlExce.getLstByParam(par)];
                    case 4:
                        _a.par = _c.sent();
                        fj = new __WEBPACK_IMPORTED_MODULE_19__sqlite_tbl_fj_tbl__["a" /* FjTbl */]();
                        _b = backupPro.d;
                        return [4 /*yield*/, this.sqlExce.getLstByParam(fj)];
                    case 5:
                        _b.fj = _c.sent();
                        return [4 /*yield*/, this.bacRestful.backup(backupPro)];
                    case 6:
                        _c.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 恢复所有日历和活动
     *
     * JhaTbl
     * JtaTbl
     * EvTbl
     * CaTbl
     * TTbl
     * MomTbl
     * ParTbl
     * FjTbl
     * WaTbl
     * MrkTbl
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.recoveryCalendar = function (bts, autoSave) {
        if (autoSave === void 0) { autoSave = true; }
        return __awaiter(this, void 0, void 0, function () {
            var recoverPro, rdn, recoveries, planrecoveries, eventrecoveries, memorecoveries, sqls, pars, _i, pars_1, par, pardb, fjs, _a, fjs_1, fj, fjdb;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.assertEmpty(bts); // 入参不能为空
                        recoverPro = new __WEBPACK_IMPORTED_MODULE_7__restful_bacsev__["c" /* RecoverPro */]();
                        //操作账户ID
                        recoverPro.oai = __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.id;
                        //操作手机号码
                        recoverPro.ompn = __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.phone;
                        recoverPro.d.bts = bts;
                        rdn = new Array();
                        rdn.push('jha');
                        rdn.push('jta');
                        rdn.push('ev');
                        rdn.push('ca');
                        rdn.push('tt');
                        rdn.push('mom');
                        rdn.push('par');
                        rdn.push('fj');
                        recoverPro.d.rdn = rdn;
                        return [4 /*yield*/, this.bacRestful.recover(recoverPro)];
                    case 1:
                        recoveries = _b.sent();
                        planrecoveries = this.recovery(recoveries);
                        eventrecoveries = this.eventService.recovery(recoveries);
                        memorecoveries = this.memoService.recovery(recoveries);
                        sqls = new Array();
                        pars = recoveries.par;
                        // 删除参与人
                        sqls.push(["delete from gtd_par;", []]);
                        // 恢复备份参与人
                        for (_i = 0, pars_1 = pars; _i < pars_1.length; _i++) {
                            par = pars_1[_i];
                            pardb = new __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_par_tbl__["a" /* ParTbl */]();
                            Object.assign(pardb, par);
                            sqls.push(pardb.inTParam());
                        }
                        fjs = recoveries.fj;
                        // 删除附件
                        sqls.push(["delete from gtd_fj;", []]);
                        // 恢复备份附件
                        for (_a = 0, fjs_1 = fjs; _a < fjs_1.length; _a++) {
                            fj = fjs_1[_a];
                            fjdb = new __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_par_tbl__["a" /* ParTbl */]();
                            Object.assign(fjdb, fj);
                            sqls.push(fjdb.inTParam());
                        }
                        if (!autoSave) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(planrecoveries.concat(eventrecoveries, memorecoveries, sqls))];
                    case 2:
                        _b.sent();
                        _b.label = 3;
                    case 3: return [2 /*return*/, planrecoveries.concat(eventrecoveries, memorecoveries, sqls)];
                }
            });
        });
    };
    /**
     * 备份日历和日历项
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.backup = function (bts) {
        return __awaiter(this, void 0, void 0, function () {
            var backupPro, jha, _a, jtasql, _b;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        this.assertEmpty(bts); // 入参不能为空
                        backupPro = new __WEBPACK_IMPORTED_MODULE_7__restful_bacsev__["b" /* BackupPro */]();
                        //操作账户ID
                        backupPro.oai = __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.id;
                        //操作手机号码
                        backupPro.ompn = __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.phone;
                        //时间戳
                        backupPro.d.bts = bts;
                        jha = new __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_jha_tbl__["a" /* JhaTbl */]();
                        jha.jt = __WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].PrivatePlan;
                        _a = backupPro.d;
                        return [4 /*yield*/, this.sqlExce.getLstByParam(jha)];
                    case 1:
                        _a.jha = _c.sent();
                        jtasql = "select * from gtd_jta where ji in (select ji from gtd_jha where jt = ?) or ji is null or ji = ?";
                        _b = backupPro.d;
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(jtasql, [__WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].PrivatePlan, ''])];
                    case 2:
                        _b.jta = _c.sent();
                        return [4 /*yield*/, this.bacRestful.backup(backupPro)];
                    case 3:
                        _c.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 恢复日历和日历项
     *
     * @author leon_xi@163.com
     **/
    CalendarService.prototype.recovery = function (recoveries) {
        this.assertEmpty(recoveries); // 入参不能为空
        var sqls = new Array();
        var planitems = recoveries.jta;
        // 删除自定义日历项
        sqls.push(["delete from gtd_jta where ji in (select ji from gtd_jha where jt = ?) or ji is null or ji = ?;", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].PrivatePlan, '']]);
        // 恢复备份日历项
        for (var _i = 0, planitems_4 = planitems; _i < planitems_4.length; _i++) {
            var planitem = planitems_4[_i];
            var planitemdb = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jta_tbl__["a" /* JtaTbl */]();
            Object.assign(planitemdb, planitem);
            sqls.push(planitemdb.inTParam());
        }
        var plans = recoveries.jha;
        // 删除自定义日历
        sqls.push(["delete from gtd_jha where jt = ?", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["w" /* PlanType */].PrivatePlan]]);
        // 恢复备份日历
        for (var _a = 0, plans_3 = plans; _a < plans_3.length; _a++) {
            var plan = plans_3[_a];
            var plandb = new __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_jha_tbl__["a" /* JhaTbl */]();
            Object.assign(plandb, plan);
            sqls.push(plandb.inTParam());
        }
        return sqls;
    };
    CalendarService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_3__util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_4__util_service_emit_service__["a" /* EmitService */],
            __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */],
            __WEBPACK_IMPORTED_MODULE_8__event_service__["b" /* EventService */],
            __WEBPACK_IMPORTED_MODULE_9__memo_service__["a" /* MemoService */],
            __WEBPACK_IMPORTED_MODULE_21__remind_service__["a" /* ScheduleRemindService */],
            __WEBPACK_IMPORTED_MODULE_7__restful_bacsev__["a" /* BacRestful */],
            __WEBPACK_IMPORTED_MODULE_5__restful_shaesev__["d" /* ShaeRestful */],
            __WEBPACK_IMPORTED_MODULE_6__restful_datasev__["a" /* DataRestful */]])
    ], CalendarService);
    return CalendarService;
}(__WEBPACK_IMPORTED_MODULE_1__base_service__["a" /* BaseService */]));

var FindActivityCondition = (function () {
    function FindActivityCondition() {
        this.mark = new Array();
        this.target = new Array();
    }
    return FindActivityCondition;
}());

var PagedActivityData = (function () {
    function PagedActivityData() {
        this.calendaritems = new Array(); // 日历项
        this.events = new Array(); // 事件
        this.memos = new Array(); // 备忘
        this.days = new Map(); // 指定期间每天的活动
    }
    return PagedActivityData;
}());

var MonthActivityData = (function () {
    function MonthActivityData() {
        this.calendaritems = new Array(); // 日历项
        this.events = new Array(); // 事件
        this.memos = new Array(); // 备忘
        this.days = new Map(); // 当月每天的活动
        this.arraydays = new Array();
    }
    return MonthActivityData;
}());

var DayActivityData = (function () {
    function DayActivityData(day) {
        if (day === void 0) { day = ""; }
        this.calendaritems = new Array(); // 日历项
        this.events = new Array(); // 事件
        this.memos = new Array(); // 备忘
        this.day = day;
    }
    return DayActivityData;
}());

var ActivityData = (function () {
    function ActivityData() {
        this.calendaritems = new Array(); // 日历项
        this.events = new Array(); // 事件
        this.memos = new Array(); // 备忘
    }
    return ActivityData;
}());

var ActivitySummaryData = (function () {
    function ActivitySummaryData() {
    }
    return ActivitySummaryData;
}());

var MonthActivitySummaryData = (function () {
    function MonthActivitySummaryData() {
        this.days = new Array(); // 每日活动汇总
    }
    return MonthActivitySummaryData;
}());

var DayActivitySummaryData = (function () {
    function DayActivitySummaryData() {
    }
    return DayActivitySummaryData;
}());

function generateDataType(activityType) {
    var datatype = "";
    switch (activityType) {
        case "PlanData":
            datatype = "Plan";
            break;
        case "PlanItemData":
            datatype = "PlanItem";
            break;
        case "AgendaData":
            datatype = "Agenda";
            break;
        case "TaskData":
            datatype = "Task";
            break;
        case "MiniTaskData":
            datatype = "MiniTask";
            break;
        case "MemoData":
            datatype = "Memo";
            break;
        default:
            datatype = "Invalid Data Type";
    }
    return datatype;
}
//# sourceMappingURL=calendar.service.js.map

/***/ }),
/* 31 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return EventService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CacheFilePathJson; });
/* unused harmony export RetParamEv */
/* unused harmony export RetParamTaskData */
/* unused harmony export RetParamMiniTaskData */
/* unused harmony export RtOver */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return RtJson; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return TxJson; });
/* unused harmony export DoType */
/* unused harmony export isJsonString */
/* harmony export (immutable) */ __webpack_exports__["e"] = generateCacheFilePathJson;
/* harmony export (immutable) */ __webpack_exports__["f"] = generateRtJson;
/* harmony export (immutable) */ __webpack_exports__["g"] = generateTxJson;
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_service__ = __webpack_require__(106);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__ = __webpack_require__(221);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_t_tbl__ = __webpack_require__(502);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_ca_tbl__ = __webpack_require__(503);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__restful_agdsev__ = __webpack_require__(111);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__sqlite_tbl_wa_tbl__ = __webpack_require__(504);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__data_enum__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__restful_bacsev__ = __webpack_require__(110);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_par_tbl__ = __webpack_require__(222);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jha_tbl__ = __webpack_require__(223);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__sqlite_tbl_b_tbl__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_fj_tbl__ = __webpack_require__(224);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__restful_datasev__ = __webpack_require__(108);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__util_util__ = __webpack_require__(220);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__ionic_native_file__ = __webpack_require__(102);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};























var EventService = (function (_super) {
    __extends(EventService, _super);
    function EventService(sqlExce, util, agdRest, emitService, file, bacRestful, userConfig, dataRestful) {
        var _this = _super.call(this) || this;
        _this.sqlExce = sqlExce;
        _this.util = util;
        _this.agdRest = agdRest;
        _this.emitService = emitService;
        _this.file = file;
        _this.bacRestful = bacRestful;
        _this.userConfig = userConfig;
        _this.dataRestful = dataRestful;
        _this.EVT_ST = "08:00"; //全天开始时间默认为8:00
        return _this;
    }
    /**
     * 接收事件日程保存到本地
     *
     * @param {Array<AgendaData>} pullAgdatas
     * @param {SyncDataStatus} status
     * @returns {Promise<Array<AgendaData>>}
     */
    EventService.prototype.receivedAgendaData = function (pullAgdatas, status) {
        return __awaiter(this, void 0, void 0, function () {
            var sqlparam, saved, nwfj, was, j, len, agd, ev, ca, ca, par, nwpar, sq, params, wa, waparams;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(pullAgdatas); // 入参不能为空
                        this.assertEmpty(status); // 入参不能为空
                        sqlparam = new Array();
                        saved = new Array();
                        nwfj = new Array();
                        was = new Array();
                        if (!(pullAgdatas && pullAgdatas != null)) return [3 /*break*/, 2];
                        for (j = 0, len = pullAgdatas.length; j < len; j++) {
                            agd = {};
                            Object.assign(agd, pullAgdatas[j]);
                            // 删除参与人时，通过这个字段传递删除数据
                            if (status == __WEBPACK_IMPORTED_MODULE_12__data_enum__["B" /* SyncDataStatus */].Deleted) {
                                agd.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del;
                            }
                            else {
                                // 删除字段不共享, 如果不存在需要设置默认值
                                if (!agd.del)
                                    agd.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel;
                            }
                            agd.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].synch;
                            // 非共享字段，第一次接收需要付初值
                            if (!agd.todolist) {
                                agd.todolist = __WEBPACK_IMPORTED_MODULE_12__data_enum__["D" /* ToDoListStatus */].Off;
                            }
                            if (!agd.wc) {
                                agd.wc = __WEBPACK_IMPORTED_MODULE_12__data_enum__["f" /* EventFinishStatus */].NonFinish;
                            }
                            if (!agd.bz) {
                                agd.bz = "";
                            }
                            if (!agd.ji) {
                                agd.ji = "";
                            }
                            if (!agd.tx) {
                                agd.txjson = generateTxJson(agd.txjson, agd.tx);
                                agd.txs = agd.txjson.text();
                            }
                            else {
                                agd.txjson = generateTxJson(agd.txjson, agd.tx);
                            }
                            if (!agd.invitestatus) {
                                agd.invitestatus = __WEBPACK_IMPORTED_MODULE_12__data_enum__["j" /* InviteState */].None;
                            }
                            ev = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
                            Object.assign(ev, agd);
                            sqlparam.push(ev.rpTParam());
                            if (agd.rfg == __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].RepeatToOnly) {
                                ca = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_ca_tbl__["a" /* CaTbl */]();
                                Object.assign(ca, agd);
                                sqlparam.push(ca.rpTParam());
                            }
                            if (agd.rtevi == "") {
                                ca = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_ca_tbl__["a" /* CaTbl */]();
                                Object.assign(ca, agd);
                                sqlparam.push(ca.rpTParam());
                                par = new __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_par_tbl__["a" /* ParTbl */]();
                                par.obt = __WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event;
                                par.obi = agd.evi;
                                sqlparam.push(par.dTParam());
                                nwpar = new Array();
                                if (agd.del != __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del) {
                                    nwpar = this.sqlparamAddPar(agd.evi, agd.members);
                                    sqlparam = sqlparam.concat(nwpar);
                                }
                            }
                            sq = void 0;
                            params = void 0;
                            sq = "update gtd_wa set tb = ? ,del = ?  where  obi = ? and obt = ?; ";
                            params = new Array();
                            params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch);
                            params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del);
                            params.push(agd.evi);
                            params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event);
                            sqlparam.push([sq, params]);
                            if (agd.del != __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del) {
                                if (ev.todolist == __WEBPACK_IMPORTED_MODULE_12__data_enum__["D" /* ToDoListStatus */].On) {
                                    //如果在todolist中，则加系统提醒
                                    was.push(this.sqlparamAddSysTx2(ev, __WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event));
                                }
                                else {
                                    wa = new __WEBPACK_IMPORTED_MODULE_11__sqlite_tbl_wa_tbl__["a" /* WaTbl */]();
                                    wa.wai = ev.evi;
                                    wa.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
                                    wa.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del;
                                    sqlparam.push(wa.upTParam());
                                }
                                //提醒新建
                                if (agd.txjson.reminds && agd.txjson.reminds.length > 0) {
                                    was = was.concat(this.sqlparamAddTxWa2(ev, __WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event, agd.txjson));
                                }
                            }
                            /*//相关附件更新
                            if (agd.attachments && agd.attachments != null && agd.attachments.length > 0) {
                              //删除附件
                              let fj = new FjTbl();
                              fj.obt = anyenum.ObjectType.Event;
                              fj.obi = agd.evi;
                              sqlparam.push(fj.dTParam());
                    
                              let upfjparams = this.sqlparamAddFj(agd.evi, agd.attachments) ;
                    
                    
                              nwfj = [...nwfj,...upfjparams];
                            }*/
                            saved.push(agd);
                        }
                        waparams = new Array();
                        if (was && was.length > 0) {
                            waparams = this.sqlExce.getFastSaveSqlByParam(was);
                        }
                        sqlparam = sqlparam.concat(waparams);
                        /*let fjparams = new Array<any>();
                  
                        if (nwfj && nwfj.length > 0){
                          fjparams = this.sqlExce.getFastSaveSqlByParam(nwfj) || new Array<any>();
                        }
                  
                        sqlparam = [...sqlparam, ...fjparams];*/
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqlparam)];
                    case 1:
                        /*let fjparams = new Array<any>();
                  
                        if (nwfj && nwfj.length > 0){
                          fjparams = this.sqlExce.getFastSaveSqlByParam(nwfj) || new Array<any>();
                        }
                  
                        sqlparam = [...sqlparam, ...fjparams];*/
                        _a.sent();
                        this.emitService.emit("mwxing.calendar.activities.changed", saved);
                        _a.label = 2;
                    case 2: return [2 /*return*/, saved];
                }
            });
        });
    };
    /**
     * 接收日程数据同步
     *
     * @author leon_xi@163.com
     **/
    EventService.prototype.receivedAgenda = function (evi) {
        return __awaiter(this, void 0, void 0, function () {
            var pull, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.assertEmpty(evi); // 入参不能为空
                        pull = new __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["b" /* PullInData */]();
                        if (evi instanceof Array) {
                            pull.type = "Agenda";
                            (_a = pull.d).splice.apply(_a, [0, 0].concat(evi));
                        }
                        else {
                            pull.type = "Agenda";
                            pull.d.push(evi);
                        }
                        // 发送下载日程请求
                        return [4 /*yield*/, this.dataRestful.pull(pull)];
                    case 1:
                        // 发送下载日程请求
                        _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 取得两个日程变化的字段名成数组
     *
     * @param {AgendaData} one
     * @param {AgendaData} another
     * @returns {Array<string>}
     *
     * @author leon_xi@163.com
     */
    EventService.prototype.changedAgendaFields = function (one, another) {
        Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["a" /* assertEmpty */])(one); // 入参不能为空
        Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["a" /* assertEmpty */])(another); // 入参不能为空
        var changed = new Array();
        for (var _i = 0, _a = Object.keys(one); _i < _a.length; _i++) {
            var key = _a[_i];
            if (["wtt", "utt", "rts", "txs", "fj", "pn", "originator", "tos", "attachments"].indexOf(key) >= 0)
                continue; // 忽略字段
            if (one.hasOwnProperty(key)) {
                var value = one[key];
                // 如果两个值都为空, 继续
                if (!value && !another[key]) {
                    continue;
                }
                // 如果one的值为空, 不一致
                if (!value || !another[key]) {
                    changed.push(key);
                    continue;
                }
                if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {
                    if (typeof value === 'string' && value != "" && another[key] != "" && key == "rt") {
                        var onert = new RtJson();
                        Object.assign(onert, JSON.parse(value));
                        var anotherrt = new RtJson();
                        Object.assign(anotherrt, JSON.parse(another[key]));
                        if (!(onert.sameWith(anotherrt))) {
                            changed.push(key);
                            continue;
                        }
                    }
                    if (typeof value === 'string' && value != "" && another[key] != "" && key == "tx") {
                        var onetx = new TxJson();
                        Object.assign(onetx, JSON.parse(value));
                        var anothertx = new TxJson();
                        Object.assign(anothertx, JSON.parse(another[key]));
                        if (!(onetx.sameWith(anothertx))) {
                            changed.push(key);
                            continue;
                        }
                    }
                    if (value != another[key]) {
                        changed.push(key);
                        continue;
                    }
                }
                if (value instanceof RtJson) {
                    var onert = new RtJson();
                    Object.assign(onert, value);
                    var anotherrt = new RtJson();
                    Object.assign(anotherrt, another[key]);
                    if (!(onert.sameWith(anotherrt))) {
                        changed.push(key);
                        continue;
                    }
                }
                if (value instanceof TxJson) {
                    var onetx = new TxJson();
                    Object.assign(onetx, value);
                    var anothertx = new TxJson();
                    Object.assign(anothertx, another[key]);
                    if (!(onetx.sameWith(anothertx))) {
                        changed.push(key);
                        continue;
                    }
                }
                if (value instanceof Array) {
                    if (value.length != another[key].length) {
                        changed.push(key);
                        continue;
                    }
                    if (value.length > 0) {
                        if (value[0] && value[0].hasOwnProperty("members") && another[key][0] && another[key][0].hasOwnProperty("members")) {
                            var compare = value.concat(another[key]);
                            compare.sort(function (a, b) {
                                if (a.pari > b.pari)
                                    return -1;
                                if (a.pari < b.pari)
                                    return 1;
                                return 0;
                            });
                            var result = compare.reduce(function (target, val) {
                                if (!target) {
                                    target = val;
                                }
                                else {
                                    if (!val) {
                                        target = {};
                                    }
                                    else {
                                        var issame = true;
                                        for (var _i = 0, _a = Object.keys(target); _i < _a.length; _i++) {
                                            var key_1 = _a[_i];
                                            if (["wtt", "utt"].indexOf(key_1) >= 0)
                                                continue; // 忽略字段
                                            if (target.hasOwnProperty(key_1)) {
                                                var value_1 = target[key_1];
                                                if (typeof value_1 === 'string' || typeof value_1 === 'number' || typeof value_1 === 'boolean') {
                                                    if (value_1 != val[key_1])
                                                        issame = false;
                                                }
                                            }
                                        }
                                        if (issame) {
                                            target = null;
                                        }
                                        else {
                                            target = {};
                                        }
                                    }
                                }
                                return target;
                            }, null);
                            if (result && result.isEmpty()) {
                                changed.push(key);
                                continue;
                            }
                        }
                        else if (value[0] instanceof __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_fj_tbl__["a" /* FjTbl */] && another[key][0] instanceof __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_fj_tbl__["a" /* FjTbl */]) {
                            var compare = value.concat(another[key]);
                            compare.sort(function (a, b) {
                                if (a.fji > b.fji)
                                    return -1;
                                if (a.fji < b.fji)
                                    return 1;
                                return 0;
                            });
                            var result = compare.reduce(function (target, val) {
                                if (!target) {
                                    target = val;
                                }
                                else {
                                    if (!val) {
                                        target = {};
                                    }
                                    else {
                                        var issame = true;
                                        for (var _i = 0, _a = Object.keys(target); _i < _a.length; _i++) {
                                            var key_2 = _a[_i];
                                            if (["wtt", "utt"].indexOf(key_2) >= 0)
                                                continue; // 忽略字段
                                            if (target.hasOwnProperty(key_2)) {
                                                var value_2 = target[key_2];
                                                if (typeof value_2 === 'string' || typeof value_2 === 'number' || typeof value_2 === 'boolean') {
                                                    if (value_2 != val[key_2])
                                                        issame = false;
                                                }
                                            }
                                        }
                                        if (issame) {
                                            target = null;
                                        }
                                        else {
                                            target = {};
                                        }
                                    }
                                }
                                return target;
                            }, null);
                            if (result && result.isEmpty()) {
                                changed.push(key);
                                continue;
                            }
                        }
                        else {
                            continue; // 非比较字段，忽略
                        }
                    }
                }
            }
        }
        return changed;
    };
    /**
     * 判断两个日程是否相同
     *
     * @param {AgendaData} one
     * @param {AgendaData} another
     * @returns {boolean}
     *
     * @author leon_xi@163.com
     */
    EventService.prototype.isSameAgenda = function (one, another) {
        if (!one || !another)
            return false;
        for (var _i = 0, _a = Object.keys(one); _i < _a.length; _i++) {
            var key = _a[_i];
            if (["wtt", "utt", "rts", "txs", "fj", "pn", "originator", "tos", "attachments"].indexOf(key) >= 0)
                continue; // 忽略字段
            if (one.hasOwnProperty(key)) {
                var value = one[key];
                // 如果两个值都为空, 继续
                if (!value && !another[key]) {
                    continue;
                }
                // 如果one的值为空, 不一致
                if (!value || !another[key])
                    return false;
                if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {
                    if (typeof value === 'string' && value != "" && another[key] != "" && key == "rt") {
                        var onert = new RtJson();
                        Object.assign(onert, JSON.parse(value));
                        var anotherrt = new RtJson();
                        Object.assign(anotherrt, JSON.parse(another[key]));
                        if (!(onert.sameWith(anotherrt)))
                            return false;
                        continue;
                    }
                    if (typeof value === 'string' && value != "" && another[key] != "" && key == "tx") {
                        var onetx = new TxJson();
                        Object.assign(onetx, JSON.parse(value));
                        var anothertx = new TxJson();
                        Object.assign(anothertx, JSON.parse(another[key]));
                        if (!(onetx.sameWith(anothertx)))
                            return false;
                        continue;
                    }
                    if (value != another[key])
                        return false;
                }
                if (value instanceof RtJson) {
                    var onert = new RtJson();
                    Object.assign(onert, value);
                    var anotherrt = new RtJson();
                    Object.assign(anotherrt, another[key]);
                    if (!(onert.sameWith(anotherrt)))
                        return false;
                    continue;
                }
                if (value instanceof TxJson) {
                    var onetx = new TxJson();
                    Object.assign(onetx, value);
                    var anothertx = new TxJson();
                    Object.assign(anothertx, another[key]);
                    if (!(onetx.sameWith(anothertx)))
                        return false;
                    continue;
                }
                if (value instanceof Array) {
                    if (value.length != another[key].length)
                        return false;
                    if (value.length > 0) {
                        if (value[0] && value[0].hasOwnProperty("pari") && another[key][0] && another[key][0].hasOwnProperty("pari")) {
                            var compare = value.concat(another[key]);
                            compare.sort(function (a, b) {
                                if (a.pari > b.pari)
                                    return -1;
                                if (a.pari < b.pari)
                                    return 1;
                                return 0;
                            });
                            var result = compare.reduce(function (target, val) {
                                if (!target) {
                                    target = val;
                                }
                                else {
                                    if (!val) {
                                        target = {};
                                    }
                                    else {
                                        var issame = true;
                                        for (var _i = 0, _a = Object.keys(target); _i < _a.length; _i++) {
                                            var key_3 = _a[_i];
                                            if (["wtt", "utt"].indexOf(key_3) >= 0)
                                                continue; // 忽略字段
                                            if (target.hasOwnProperty(key_3)) {
                                                var value_3 = target[key_3];
                                                if (typeof value_3 === 'string' || typeof value_3 === 'number' || typeof value_3 === 'boolean') {
                                                    if (value_3 != val[key_3])
                                                        issame = false;
                                                }
                                            }
                                        }
                                        if (issame) {
                                            target = null;
                                        }
                                        else {
                                            target = {};
                                        }
                                    }
                                }
                                return target;
                            }, null);
                            if (result && result.isEmpty())
                                return false;
                        }
                        else if (value[0] instanceof __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_fj_tbl__["a" /* FjTbl */] && another[key][0] instanceof __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_fj_tbl__["a" /* FjTbl */]) {
                            var compare = value.concat(another[key]);
                            compare.sort(function (a, b) {
                                if (a.fji > b.fji)
                                    return -1;
                                if (a.fji < b.fji)
                                    return 1;
                                return 0;
                            });
                            var result = compare.reduce(function (target, val) {
                                if (!target) {
                                    target = val;
                                }
                                else {
                                    if (!val) {
                                        target = {};
                                    }
                                    else {
                                        var issame = true;
                                        for (var _i = 0, _a = Object.keys(target); _i < _a.length; _i++) {
                                            var key_4 = _a[_i];
                                            if (["wtt", "utt"].indexOf(key_4) >= 0)
                                                continue; // 忽略字段
                                            if (target.hasOwnProperty(key_4)) {
                                                var value_4 = target[key_4];
                                                if (typeof value_4 === 'string' || typeof value_4 === 'number' || typeof value_4 === 'boolean') {
                                                    if (value_4 != val[key_4])
                                                        issame = false;
                                                }
                                            }
                                        }
                                        if (issame) {
                                            target = null;
                                        }
                                        else {
                                            target = {};
                                        }
                                    }
                                }
                                return target;
                            }, null);
                            if (result && result.isEmpty())
                                return false;
                        }
                        else {
                            return false;
                        }
                    }
                }
            }
        }
        return true;
    };
    /**
     * 判断两个任务是否相同
     *
     * @param {TaskData} one
     * @param {TaskData} another
     * @returns {boolean}
     *
     * @author leon_xi@163.com
     */
    EventService.prototype.isSameTask = function (one, another) {
        if (!one || !another)
            return false;
        for (var _i = 0, _a = Object.keys(one); _i < _a.length; _i++) {
            var key = _a[_i];
            if (["wtt", "utt", "rts", "txs", "fj", "pn", "originator", "tos"].indexOf(key) >= 0)
                continue; // 忽略字段
            if (one.hasOwnProperty(key)) {
                var value = one[key];
                // 如果两个值都为空, 继续
                if (!value && !another[key]) {
                    continue;
                }
                // 如果one的值为空, 不一致
                if (!value || !another[key])
                    return false;
                if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {
                    if (typeof value === 'string' && value != "" && another[key] != "" && key == "rt") {
                        var onert = new RtJson();
                        Object.assign(onert, JSON.parse(value));
                        var anotherrt = new RtJson();
                        Object.assign(anotherrt, JSON.parse(another[key]));
                        if (!(onert.sameWith(anotherrt)))
                            return false;
                        continue;
                    }
                    if (typeof value === 'string' && value != "" && another[key] != "" && key == "tx") {
                        var onetx = new TxJson();
                        Object.assign(onetx, JSON.parse(value));
                        var anothertx = new TxJson();
                        Object.assign(anothertx, JSON.parse(another[key]));
                        if (!(onetx.sameWith(anothertx)))
                            return false;
                        continue;
                    }
                    if (value != another[key])
                        return false;
                }
                if (value instanceof RtJson) {
                    var onert = new RtJson();
                    Object.assign(onert, value);
                    var anotherrt = new RtJson();
                    Object.assign(anotherrt, another[key]);
                    if (!(onert.sameWith(anotherrt)))
                        return false;
                    continue;
                }
                if (value instanceof TxJson) {
                    var onetx = new TxJson();
                    Object.assign(onetx, value);
                    var anothertx = new TxJson();
                    Object.assign(anothertx, another[key]);
                    if (!(onetx.sameWith(anothertx)))
                        return false;
                    continue;
                }
                if (value instanceof Array) {
                    if (value.length != another[key].length)
                        return false;
                    if (value.length > 0) {
                        if (value[0] && value[0].hasOwnProperty("members") && another[key][0] && another[key][0].hasOwnProperty("members")) {
                            var compare = value.concat(another[key]);
                            compare.sort(function (a, b) {
                                if (a.pari > b.pari)
                                    return -1;
                                if (a.pari < b.pari)
                                    return 1;
                                return 0;
                            });
                            var result = compare.reduce(function (target, val) {
                                if (!target) {
                                    target = val;
                                }
                                else {
                                    if (!val) {
                                        target = {};
                                    }
                                    else {
                                        var issame = true;
                                        for (var _i = 0, _a = Object.keys(target); _i < _a.length; _i++) {
                                            var key_5 = _a[_i];
                                            if (["wtt", "utt"].indexOf(key_5) >= 0)
                                                continue; // 忽略字段
                                            if (target.hasOwnProperty(key_5)) {
                                                var value_5 = target[key_5];
                                                if (typeof value_5 === 'string' || typeof value_5 === 'number' || typeof value_5 === 'boolean') {
                                                    if (value_5 != val[key_5])
                                                        issame = false;
                                                }
                                            }
                                        }
                                        if (issame) {
                                            target = null;
                                        }
                                        else {
                                            target = {};
                                        }
                                    }
                                }
                                return target;
                            }, null);
                            if (result && result.isEmpty())
                                return false;
                        }
                        else if (value[0] instanceof __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_fj_tbl__["a" /* FjTbl */] && another[key][0] instanceof __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_fj_tbl__["a" /* FjTbl */]) {
                            var compare = value.concat(another[key]);
                            compare.sort(function (a, b) {
                                if (a.fji > b.fji)
                                    return -1;
                                if (a.fji < b.fji)
                                    return 1;
                                return 0;
                            });
                            var result = compare.reduce(function (target, val) {
                                if (!target) {
                                    target = val;
                                }
                                else {
                                    if (!val) {
                                        target = {};
                                    }
                                    else {
                                        var issame = true;
                                        for (var _i = 0, _a = Object.keys(target); _i < _a.length; _i++) {
                                            var key_6 = _a[_i];
                                            if (["wtt", "utt"].indexOf(key_6) >= 0)
                                                continue; // 忽略字段
                                            if (target.hasOwnProperty(key_6)) {
                                                var value_6 = target[key_6];
                                                if (typeof value_6 === 'string' || typeof value_6 === 'number' || typeof value_6 === 'boolean') {
                                                    if (value_6 != val[key_6])
                                                        issame = false;
                                                }
                                            }
                                        }
                                        if (issame) {
                                            target = null;
                                        }
                                        else {
                                            target = {};
                                        }
                                    }
                                }
                                return target;
                            }, null);
                            if (result && result.isEmpty())
                                return false;
                        }
                        else {
                            return false;
                        }
                    }
                }
            }
        }
        return true;
    };
    /**
     * 页面判断重复设置是否改变
     * @param {AgendaData} newAgd
     * @param {AgendaData} oldAgd
     * @returns {boolean}
     */
    EventService.prototype.isAgendaRepeatChanged = function (newAgd, oriAgd) {
        var ret = new Array();
        if (!newAgd.rtjson) {
            if (newAgd.rt) {
                newAgd.rtjson = new RtJson();
                Object.assign(newAgd.rtjson, JSON.parse(newAgd.rt));
            }
            else {
                newAgd.rtjson = new RtJson();
            }
        }
        else {
            var rtjson = new RtJson();
            Object.assign(rtjson, newAgd.rtjson);
            newAgd.rtjson = rtjson;
        }
        if (!oriAgd.rtjson) {
            if (oriAgd.rt) {
                oriAgd.rtjson = new RtJson();
                Object.assign(oriAgd.rtjson, JSON.parse(oriAgd.rt));
            }
            else {
                oriAgd.rtjson = new RtJson();
            }
        }
        else {
            var rtjson = new RtJson();
            Object.assign(rtjson, oriAgd.rtjson);
            oriAgd.rtjson = rtjson;
        }
        //重复选项发生变化
        if (!newAgd.rtjson.sameWith(oriAgd.rtjson))
            ret.push("rt");
        //title发生变化
        if (newAgd.evn != oriAgd.evn) {
            ret.push("evn");
        }
        //开始日发生变化
        if (newAgd.sd != oriAgd.sd) {
            ret.push("sd");
        }
        if (newAgd.evd != oriAgd.evd) {
            ret.push("evd");
        }
        //开始时间发生变化
        if (newAgd.st != oriAgd.st) {
            ret.push("st");
        }
        //全天条件发生变化
        if (newAgd.al != oriAgd.al) {
            ret.push("al");
        }
        //时长发生变化
        if (newAgd.ct != oriAgd.ct) {
            ret.push("ct");
        }
        return ret;
    };
    /**
     * 判断日程修改是否需要确认
     * 当前日程修改 还是 将来日程全部修改
     *
     * @param {AgendaData} newAgd
     * @param {AgendaData} oldAgd
     * @returns {boolean}
     */
    EventService.prototype.hasAgendaModifyConfirm = function (before, after) {
        Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["a" /* assertEmpty */])(before); // 入参不能为空
        Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["a" /* assertEmpty */])(after); // 入参不能为空
        var confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].None;
        // 确认修改前日程是否重复
        if (before.rfg != __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].Repeat)
            return confirm;
        for (var _i = 0, _a = Object.keys(before); _i < _a.length; _i++) {
            var key = _a[_i];
            if (["sd", "evd", "st", "al", "ct", "evn", "rt", "rtjson"].indexOf(key) >= 0) {
                var value = before[key];
                // 如果两个值都为空, 继续
                if (!value && !after[key]) {
                    continue;
                }
                // 如果one的值为空, 不一致
                if (!value || !after[key]) {
                    if (confirm == __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].None) {
                        confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll;
                    }
                    else if (confirm == __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].All) {
                        confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].FutureAll;
                    }
                    continue;
                }
                if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {
                    if (typeof value === 'string' && value != "" && after[key] != "" && key == "rt") {
                        var onert = new RtJson();
                        Object.assign(onert, JSON.parse(value));
                        var anotherrt = new RtJson();
                        Object.assign(anotherrt, JSON.parse(after[key]));
                        if (!(onert.sameWith(anotherrt))) {
                            if (confirm == __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].None) {
                                // 如果修改为不重复,提示当前或将来所有
                                if (anotherrt.cycletype == __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].close) {
                                    confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll;
                                }
                                else {
                                    confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].All;
                                }
                            }
                            else if (confirm == __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll) {
                                if (anotherrt.cycletype != __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].close) {
                                    confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].FutureAll;
                                }
                                // 如果修改为不重复,提示当前或将来所有
                            }
                        }
                        continue;
                    }
                    if (value != after[key]) {
                        if (confirm == __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].None) {
                            confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll;
                        }
                        else if (confirm == __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].All) {
                            confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].FutureAll;
                        }
                        continue;
                    }
                }
                if (value instanceof RtJson) {
                    var onert = new RtJson();
                    Object.assign(onert, value);
                    var anotherrt = new RtJson();
                    Object.assign(anotherrt, after[key]);
                    if (!(onert.sameWith(anotherrt))) {
                        if (confirm == __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].None) {
                            // 如果修改为不重复,提示当前或将来所有
                            if (anotherrt.cycletype == __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].close) {
                                confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll;
                            }
                            else {
                                confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].All;
                            }
                        }
                        else if (confirm == __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll) {
                            if (anotherrt.cycletype != __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].close) {
                                confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].FutureAll;
                            }
                            // 如果修改为不重复,提示当前或将来所有
                        }
                    }
                    continue;
                }
            }
        }
        return confirm;
    };
    /**
     * 判断任务修改是否需要确认
     * 当前任务修改 还是 将来任务全部修改
     *
     * @param {TaskData} before
     * @param {TaskData} after
     * @returns {boolean}
     */
    EventService.prototype.hasTaskModifyConfirm = function (before, after) {
        Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["a" /* assertEmpty */])(before); // 入参不能为空
        Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["a" /* assertEmpty */])(after); // 入参不能为空
        var confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].None;
        // 确认修改前日程是否重复
        if (before.rfg != __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].Repeat)
            return confirm;
        for (var _i = 0, _a = Object.keys(before); _i < _a.length; _i++) {
            var key = _a[_i];
            if (["sd", "st", "evn", "rt", "rtjson"].indexOf(key) >= 0) {
                var value = before[key];
                // 如果两个值都为空, 继续
                if (!value && !after[key]) {
                    continue;
                }
                // 如果one的值为空, 不一致
                if (!value || !after[key]) {
                    if (confirm == __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].None) {
                        confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll;
                    }
                    else if (confirm == __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].All) {
                        confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].FutureAll;
                    }
                    continue;
                }
                if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {
                    if (typeof value === 'string' && value != "" && after[key] != "" && key == "rt") {
                        var onert = new RtJson();
                        Object.assign(onert, JSON.parse(value));
                        var anotherrt = new RtJson();
                        Object.assign(anotherrt, JSON.parse(after[key]));
                        if (!(onert.sameWith(anotherrt))) {
                            if (confirm == __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].None) {
                                confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].All;
                            }
                            else if (confirm == __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll) {
                                confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].FutureAll;
                            }
                        }
                        continue;
                    }
                    if (value != after[key]) {
                        if (confirm == __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].None) {
                            confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll;
                        }
                        else if (confirm == __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].All) {
                            confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].FutureAll;
                        }
                        continue;
                    }
                }
                if (value instanceof RtJson) {
                    var onert = new RtJson();
                    Object.assign(onert, value);
                    var anotherrt = new RtJson();
                    Object.assign(anotherrt, after[key]);
                    if (!(onert.sameWith(anotherrt))) {
                        if (confirm == __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].None) {
                            confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].All;
                        }
                        else if (confirm == __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll) {
                            confirm = __WEBPACK_IMPORTED_MODULE_12__data_enum__["b" /* ConfirmType */].FutureAll;
                        }
                    }
                    continue;
                }
            }
        }
        return confirm;
    };
    /**
     * 页面判断重复设置是否改变
     * @param {AgendaData} newAgd
     * @param {AgendaData} oldAgd
     * @returns {boolean}
     */
    EventService.prototype.hasAgendaModifyDo = function (newAgd, oriAgd, modiType) {
        var changed = this.isAgendaRepeatChanged(newAgd, oriAgd);
        var doType = DoType.Local;
        if (changed.length > 0) {
            //重复设定
            /* 修改场景：
            *  非重复事件to非重复、重复事件中的某一日程to独立日程
            * `修改重复事件to重复事件、非重复事件to重复事件
            */
            //非重复事件to非重复
            if (oriAgd.rfg == __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].NonRepeat && newAgd.rtjson.cycletype == __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].close) {
                doType = DoType.Current;
            }
            //非重复事件to重复事件
            if (oriAgd.rfg == __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].NonRepeat && newAgd.rtjson.cycletype != __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].close) {
                doType = DoType.FutureAll;
            }
            //重复事件中的某一日程to独立日程或关闭重复
            if (oriAgd.rfg == __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].Repeat && modiType == __WEBPACK_IMPORTED_MODULE_12__data_enum__["r" /* OperateType */].OnlySel) {
                doType = DoType.Current;
                //如果是修改重复选项
                if (changed.length == 1 && changed[0] == "rt" && newAgd.rtjson.cycletype != __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].close) {
                    //重复选项变为关闭的不执行all
                    doType = DoType.All;
                }
            }
            //重复事件to重复事件或关闭重复
            if (oriAgd.rfg == __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].Repeat && modiType == __WEBPACK_IMPORTED_MODULE_12__data_enum__["r" /* OperateType */].FromSel) {
                doType = DoType.FutureAll;
            }
        }
        else if (newAgd.invitestatus != oriAgd.invitestatus) {
            doType = DoType.Invite;
        }
        else {
            doType = DoType.Local;
        }
        return doType;
    };
    /**
     * 取得日程相关所有信息
    * @param {string} evi
     * @returns {Promise<Array<AgendaData>>}
     */
    EventService.prototype.getAgenda = function (evi, getdel) {
        if (getdel === void 0) { getdel = false; }
        return __awaiter(this, void 0, void 0, function () {
            var agdata, delcondi, params, sql, ev, masterEvi, parEvi, ca, jha, fj, attachments, _a, _b;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        this.assertEmpty(evi); // 入参不能为空
                        agdata = {};
                        delcondi = "";
                        params = new Array();
                        sql = " select * from gtd_ev where evi = ?  ";
                        params.push(evi);
                        if (!getdel) {
                            sql = sql + " and del = ? ";
                            params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel);
                        }
                        return [4 /*yield*/, this.sqlExce.getExtOneByParam(sql, params)];
                    case 1:
                        ev = _c.sent();
                        // 如果事件不存在
                        if (!ev) {
                            return [2 /*return*/, null];
                        }
                        Object.assign(agdata, ev);
                        agdata.rtjson = new RtJson();
                        Object.assign(agdata.rtjson, JSON.parse(agdata.rt));
                        agdata.txjson = new TxJson();
                        Object.assign(agdata.txjson, JSON.parse(agdata.tx));
                        if (agdata.rtevi == "") {
                            //非重复数据或重复数据的父记录
                            masterEvi = agdata.evi;
                            parEvi = agdata.evi;
                        }
                        else if (agdata.rfg == __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].RepeatToOnly) {
                            //重复中独立数据
                            masterEvi = agdata.evi;
                            parEvi = agdata.rtevi;
                        }
                        else {
                            //重复数据
                            masterEvi = agdata.rtevi;
                            parEvi = agdata.rtevi;
                        }
                        ca = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_ca_tbl__["a" /* CaTbl */]();
                        ca.evi = masterEvi;
                        return [4 /*yield*/, this.sqlExce.getOneByParam(ca)];
                    case 2:
                        ca = _c.sent();
                        if (ca) {
                            agdata.sd = ca.sd;
                            agdata.st = ca.st;
                            agdata.ed = ca.ed;
                            agdata.et = ca.et;
                            agdata.al = ca.al;
                            agdata.ct = ca.ct;
                        }
                        jha = new __WEBPACK_IMPORTED_MODULE_15__sqlite_tbl_jha_tbl__["a" /* JhaTbl */]();
                        jha.ji = agdata.ji;
                        return [4 /*yield*/, this.sqlExce.getOneByParam(jha)];
                    case 3:
                        jha = _c.sent();
                        agdata.jha = jha;
                        fj = new __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_fj_tbl__["a" /* FjTbl */]();
                        fj.obi = agdata.evi;
                        fj.obt = __WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event;
                        fj.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel;
                        attachments = new Array();
                        return [4 /*yield*/, this.sqlExce.getLstByParam(fj)];
                    case 4:
                        attachments = _c.sent();
                        agdata.attachments = attachments;
                        //附件数量
                        if (attachments != null) {
                            agdata.fj = attachments.length + "";
                        }
                        else {
                            agdata.fj = 0 + "";
                        }
                        if (!(agdata.gs == '0')) return [3 /*break*/, 6];
                        //共享人信息
                        _a = agdata;
                        return [4 /*yield*/, this.getMemberByEvi(parEvi)];
                    case 5:
                        //共享人信息
                        _a.members = _c.sent();
                        //参与人数量
                        if (agdata.members != null) {
                            agdata.pn = agdata.members.length;
                        }
                        else {
                            agdata.pn = 0;
                        }
                        _c.label = 6;
                    case 6:
                        if (!(agdata.gs == '1')) return [3 /*break*/, 8];
                        //发起人信息
                        _b = agdata;
                        return [4 /*yield*/, this.getMemberByUi(agdata.ui)];
                    case 7:
                        //发起人信息
                        _b.originator = _c.sent();
                        _c.label = 8;
                    case 8: return [2 /*return*/, agdata];
                }
            });
        });
    };
    /**
     * 根据事件Id获取联系人信息
     * @returns {Promise<Array<Member>>}
     */
    EventService.prototype.getMemberByEvi = function (evi) {
        return __awaiter(this, void 0, void 0, function () {
            var members, pars, par, j, len, member, fs;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        members = new Array();
                        pars = new Array();
                        par = new __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_par_tbl__["a" /* ParTbl */]();
                        par.obi = evi;
                        par.obt = __WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event;
                        return [4 /*yield*/, this.sqlExce.getLstByParam(par)];
                    case 1:
                        pars = _a.sent();
                        for (j = 0, len = pars.length; j < len; j++) {
                            member = {};
                            Object.assign(member, pars[j]);
                            fs = void 0;
                            fs = this.userConfig.GetOneBTbl(pars[j].pwi);
                            if (fs && fs != null) {
                                Object.assign(member, fs);
                            }
                            members.push(member);
                        }
                        return [2 /*return*/, members];
                }
            });
        });
    };
    /**
     * 根据用户Id获取联系人信息
     * @returns {Promise<Member>}
     */
    EventService.prototype.getMemberByUi = function (ui) {
        return __awaiter(this, void 0, void 0, function () {
            var member, fs, b;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        member = {};
                        //发起人信息
                        fs = this.userConfig.GetOneBTbl(ui);
                        if (!(fs && fs != null)) return [3 /*break*/, 1];
                        Object.assign(member, fs);
                        return [3 /*break*/, 3];
                    case 1:
                        b = new __WEBPACK_IMPORTED_MODULE_17__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        b.ui = ui;
                        return [4 /*yield*/, this.sqlExce.getExtOne(b.slT())];
                    case 2:
                        b = _a.sent();
                        if (b != null) {
                            Object.assign(member, b);
                            member.bhiu = __WEBPACK_IMPORTED_MODULE_16__config_data_config__["a" /* DataConfig */].HUIBASE64;
                        }
                        else {
                            console.error("=======PgbusiService 获取发起人失败 =======");
                        }
                        _a.label = 3;
                    case 3: return [2 /*return*/, member];
                }
            });
        });
    };
    /**
     * 删除事件
     * @param {AgendaData} oriAgdata
     * @param {OperateType} delType
     * 重复事件删除，选仅删除当前事件使用OperateType.OnlySel，选从删除日程开始修改使用OperateType.FromSel，
     * 其他事件删除使用OperateType.FromSel，
     * @returns {Promise<Array<AgendaData>>}
     */
    EventService.prototype.removeAgenda = function (oriAgdata, delType) {
        return __awaiter(this, void 0, void 0, function () {
            var outAgds, sqlparam, params, delEvi, sq, outAgd, tos, ev;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (delType == __WEBPACK_IMPORTED_MODULE_12__data_enum__["r" /* OperateType */].FromSel && oriAgdata.rfg == __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].RepeatToOnly) {
                            this.assertFail("独立日删除不可以选择删除将来所有");
                        }
                        outAgds = new Array();
                        sqlparam = new Array();
                        if (oriAgdata.rtevi == "") {
                            //非重复数据或重复数据的父记录
                            delEvi = oriAgdata.evi;
                        }
                        else if (oriAgdata.rfg == __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].RepeatToOnly) {
                            //重复中独立日只能删自己
                            delEvi = oriAgdata.evi;
                        }
                        else {
                            //重复数据
                            delEvi = oriAgdata.rtevi;
                        }
                        if (!(delType == __WEBPACK_IMPORTED_MODULE_12__data_enum__["r" /* OperateType */].FromSel)) return [3 /*break*/, 2];
                        //删除原事件中从当前开始所有事件
                        console.log("**** removeAgenda start :****" + __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm:ss SSS"));
                        return [4 /*yield*/, this.delFromsel(delEvi, oriAgdata, sqlparam, outAgds)];
                    case 1:
                        _a.sent();
                        console.log("**** removeAgenda end :****" + __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm:ss SSS"));
                        return [3 /*break*/, 4];
                    case 2:
                        sq = void 0;
                        outAgd = {};
                        tos = void 0;
                        tos = this.getMemberPhone(oriAgdata.members);
                        //事件对象放入返回事件
                        Object.assign(outAgd, oriAgdata);
                        outAgd.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del;
                        outAgd.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
                        outAgd.mi = __WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */].account.id;
                        outAgd.tos = tos; //需要发送的参与人
                        ev = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
                        ev.evi = outAgd.evi;
                        ev.del = outAgd.del;
                        ev.tb = outAgd.tb;
                        ev.mi = outAgd.mi;
                        sqlparam.push(ev.upTParam());
                        outAgds.push(outAgd);
                        //如果当前删除对象是父事件，则为当前重复事件重建新的父事件，值为ev表重复记录里的第一条做为父事件
                        return [4 /*yield*/, this.changedParentAgdForOther(oriAgdata, oriAgdata.members, sqlparam, outAgds)];
                    case 3:
                        //如果当前删除对象是父事件，则为当前重复事件重建新的父事件，值为ev表重复记录里的第一条做为父事件
                        _a.sent();
                        // 删除相关提醒
                        sq = "update gtd_wa set tb = ? ,del = ?  where obi = ? and obt = ?; ";
                        params = new Array();
                        params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch);
                        params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del);
                        params.push(oriAgdata.evi);
                        params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event);
                        sqlparam.push([sq, params]);
                        _a.label = 4;
                    case 4: return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqlparam)];
                    case 5:
                        _a.sent();
                        this.emitService.emit("mwxing.calendar.activities.changed", outAgds);
                        this.syncAgendas(outAgds);
                        return [2 /*return*/, outAgds];
                }
            });
        });
    };
    /**
     * 保存或修改事件
     * @param {AgendaData} newAgdata 新事件详情
     * @param {AgendaData} oriAgdata 原事件详情 修改场合必须传入
     * @param {OperateType} modiType
     * 重复事件修改，选仅修改当前事件使用OperateType.OnlySel，选从当前日程开始修改使用OperateType.FromSel，
     * 其他事件修改使用OperateType.FromSel
     * @returns {Promise<Array<AgendaData>>}
     */
    EventService.prototype.saveAgenda = function (newAgdata, oriAgdata, modiType) {
        if (oriAgdata === void 0) { oriAgdata = null; }
        if (modiType === void 0) { modiType = __WEBPACK_IMPORTED_MODULE_12__data_enum__["r" /* OperateType */].OnlySel; }
        return __awaiter(this, void 0, void 0, function () {
            var outAgdatas, retParamEv;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        // 入参不能为空
                        this.assertEmpty(newAgdata);
                        this.assertEmpty(newAgdata.sd); // 事件开始日期不能为空
                        this.assertEmpty(newAgdata.evn); // 事件标题不能为空
                        if (!newAgdata.evi || newAgdata.evi == "") {
                            if (newAgdata.rtjson || newAgdata.rt || newAgdata.rts) {
                                this.assertEmpty(newAgdata.rtjson); // 新建事件重复设置不能为空
                            }
                            else {
                                newAgdata.rtjson = new RtJson();
                            }
                            if (newAgdata.txjson || newAgdata.tx || newAgdata.txs) {
                                this.assertEmpty(newAgdata.txjson); // 新建事件提醒不能为空
                            }
                            else {
                                newAgdata.txjson = new TxJson();
                            }
                        }
                        if (!(newAgdata.evi != null && newAgdata.evi != "")) return [3 /*break*/, 2];
                        /*修改*/
                        this.assertNull(oriAgdata); // 原始事件详情不能为空
                        if (newAgdata.rtjson.cycletype != __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].close && oriAgdata.rfg == __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].RepeatToOnly) {
                            this.assertFail("独立日不允许设定重复");
                        }
                        console.log("**** updateAgenda start :****" + __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm:ss SSS"));
                        return [4 /*yield*/, this.updateAgenda(newAgdata, oriAgdata, modiType)];
                    case 1:
                        outAgdatas = _a.sent();
                        console.log("**** updateAgenda end :****" + __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm:ss SSS"));
                        this.emitService.emit("mwxing.calendar.activities.changed", outAgdatas);
                        this.syncAgendas(outAgdatas);
                        return [2 /*return*/, outAgdatas];
                    case 2:
                        retParamEv = new RetParamEv();
                        console.log("**** newAgenda start :****" + __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm:ss SSS"));
                        retParamEv = this.newAgenda(newAgdata);
                        console.log("**** newAgenda end :****" + __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm:ss SSS"));
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(retParamEv.sqlparam)];
                    case 3:
                        _a.sent();
                        //提交服务器
                        //如果网络正常提交到服务器，则更新同步标志同步通过websocket来通知
                        this.emitService.emitRef(newAgdata.sd);
                        this.emitService.emit("mwxing.calendar.activities.changed", retParamEv.outAgdatas);
                        this.syncAgendas(retParamEv.outAgdatas);
                        return [2 /*return*/, retParamEv.outAgdatas];
                }
            });
        });
    };
    /**
     * 新增事件
     * @param {AgendaData} agdata
     * @returns {Promise<Array<AgendaData>>}
     */
    EventService.prototype.newAgenda = function (agdata) {
        //设置页面参数初始化
        this.initAgdParam(agdata);
        //console.log(JSON.stringify(agdata));
        var sqlparam = new Array();
        //事件sqlparam 及提醒sqlparam及附件
        var retParamEv = new RetParamEv();
        console.log("**** newAgenda sqlparamAddEv2 start :****" + __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm:ss SSS"));
        retParamEv = this.sqlparamAddEv2(agdata);
        console.log("**** newAgenda sqlparamAddEv2 end :****" + __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm:ss SSS"));
        //console.log(JSON.stringify(retParamEv));
        //日程表sqlparam
        var caparam = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_ca_tbl__["a" /* CaTbl */]();
        if (retParamEv.rtevi != "") {
            caparam = this.sqlparamAddCa(retParamEv.rtevi, agdata);
            sqlparam.push(caparam.rpTParam());
        }
        var tos; //需要发送的参与人手机号
        tos = this.getMemberPhone(agdata.members);
        //日程表信息，参与人及附件信息放入返回事件的每条记录信息中
        for (var j = 0, len = retParamEv.outAgdatas.length; j < len; j++) {
            var outAgd = {};
            outAgd = retParamEv.outAgdatas[j];
            var tmpevi = outAgd.evi;
            Object.assign(outAgd, caparam);
            outAgd.evi = tmpevi;
            outAgd.members = agdata.members;
            if (j == 0) {
                outAgd.attachments = agdata.attachments;
            }
            outAgd.tos = tos;
        }
        //批量本地入库
        retParamEv.sqlparam = sqlparam.concat(retParamEv.sqlparam);
        return retParamEv;
    };
    /**
     * 更新事件
     * @param {AgendaData} newAgdata
     * @param {AgendaData} oriAgdata
     * @param {OperateType} modiType
     * @returns {Promise<Array<AgendaData>>}
     */
    EventService.prototype.updateAgenda = function (newAgdata, oriAgdata, modiType) {
        return __awaiter(this, void 0, void 0, function () {
            var txjson, sqlparam, sq, tmpsq, outAgds, params, doType, tos, masterEvi, delEvi, ev, caparam, getall, was, waparams, _i, outAgds_1, agd, ev_1, nwAgdata, retParamEv, nwpar, _a, _b, attach, fj, newattach, retParamEv, nwpar, outAgd, was, rtjon, ev, isParent, caparam, getall;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        if (modiType == __WEBPACK_IMPORTED_MODULE_12__data_enum__["r" /* OperateType */].FromSel && oriAgdata.rfg == __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].RepeatToOnly) {
                            this.assertFail("独立日修改不可以选择修改将来所有");
                        }
                        //如果不使用页面对象，而直接使用更新后的返回数据对象作为参数，则rtjson，txjson为空
                        if (!newAgdata.rtjson) {
                            if (newAgdata.rt) {
                                newAgdata.rtjson = new RtJson();
                                Object.assign(newAgdata.rtjson, JSON.parse(newAgdata.rt));
                            }
                            else {
                                newAgdata.rtjson = new RtJson();
                            }
                        }
                        if (!oriAgdata.rtjson) {
                            if (oriAgdata.rt) {
                                oriAgdata.rtjson = new RtJson();
                                Object.assign(oriAgdata.rtjson, JSON.parse(oriAgdata.rt));
                            }
                            else {
                                oriAgdata.rtjson = new RtJson();
                            }
                        }
                        if (!newAgdata.txjson) {
                            if (newAgdata.tx) {
                                newAgdata.txjson = new TxJson();
                                Object.assign(newAgdata.txjson, JSON.parse(newAgdata.tx));
                            }
                            else {
                                newAgdata.txjson = new TxJson();
                            }
                        }
                        else {
                            txjson = new TxJson();
                            Object.assign(txjson, newAgdata.txjson);
                            newAgdata.txjson = txjson;
                        }
                        sqlparam = new Array();
                        outAgds = new Array();
                        doType = this.hasAgendaModifyDo(newAgdata, oriAgdata, modiType);
                        newAgdata.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
                        tos = this.getMemberPhone(newAgdata.members);
                        newAgdata.mi = __WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */].account.id;
                        if (oriAgdata.rtevi == "") {
                            //非重复数据或重复数据的父记录
                            masterEvi = oriAgdata.evi;
                            delEvi = oriAgdata.evi;
                        }
                        else if (oriAgdata.rfg == __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].RepeatToOnly) {
                            //重复中独立日只能修改自己
                            masterEvi = oriAgdata.rtevi;
                            delEvi = oriAgdata.evi;
                        }
                        else {
                            //重复数据
                            masterEvi = oriAgdata.rtevi;
                            delEvi = oriAgdata.rtevi;
                        }
                        if (!(doType == DoType.Invite)) return [3 /*break*/, 3];
                        //邀请状态处理
                        if (newAgdata.invitestatus == __WEBPACK_IMPORTED_MODULE_12__data_enum__["j" /* InviteState */].Rejected) {
                            sq = " update gtd_ev set invitestatus = ?1 ,del = ?2  where evi = ?3 or rtevi = ?3 ; ";
                            params = new Array();
                            params.push(newAgdata.invitestatus);
                            params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del);
                            params.push(masterEvi);
                        }
                        else {
                            sq = " update gtd_ev set invitestatus = ?1  where evi = ?2 or rtevi = ?2 ; ";
                            params = new Array();
                            params.push(newAgdata.invitestatus);
                            params.push(masterEvi);
                        }
                        sqlparam.push([sq, params]);
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqlparam)];
                    case 1:
                        _c.sent();
                        return [4 /*yield*/, this.getAllAgendaForFieldChanged(oriAgdata, newAgdata, FieldChanged.Invite, "", outAgds)];
                    case 2:
                        _c.sent();
                        return [2 /*return*/, outAgds];
                    case 3:
                        if (!(doType == DoType.Local)) return [3 /*break*/, 12];
                        newAgdata.tx = JSON.stringify(newAgdata.txjson);
                        newAgdata.txs = newAgdata.txjson.text();
                        ev = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
                        Object.assign(ev, newAgdata);
                        ev.evi = oriAgdata.evi;
                        sqlparam.push(ev.upTParam());
                        caparam = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_ca_tbl__["a" /* CaTbl */]();
                        caparam = this.sqlparamAddCa(oriAgdata.evi, newAgdata); //evi使用原evi
                        sqlparam.push(caparam.rpTParam());
                        //其他表相关处理
                        this.modifyOnlyoneForOther(sqlparam, oriAgdata, newAgdata);
                        //todolist处理
                        if (newAgdata.todolist != oriAgdata.todolist) {
                            params = new Array();
                            params.push(newAgdata.todolist);
                            if (newAgdata.todolist == __WEBPACK_IMPORTED_MODULE_12__data_enum__["D" /* ToDoListStatus */].On) {
                                tmpsq = " , wc = ? ";
                                params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["f" /* EventFinishStatus */].NonFinish);
                            }
                            else {
                                tmpsq = "";
                            }
                            params.push(masterEvi);
                            params.push(masterEvi);
                            sq = " update gtd_ev set todolist = ?  " + tmpsq + " where evi = ? or rtevi = ?  ";
                            sqlparam.push([sq, params]);
                        }
                        //计划处理
                        if (newAgdata.ji != oriAgdata.ji) {
                            sq = " update gtd_ev set ji = ?  where evi = ? or rtevi = ?  ";
                            params = new Array();
                            params.push(newAgdata.ji);
                            params.push(masterEvi);
                            params.push(masterEvi);
                            sqlparam.push([sq, params]);
                        }
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqlparam)];
                    case 4:
                        _c.sent();
                        newAgdata.tos = tos;
                        outAgds.push(newAgdata);
                        getall = false;
                        return [4 /*yield*/, this.getAllAgendaForFieldChanged(oriAgdata, newAgdata, FieldChanged.Ji, oriAgdata.evi, outAgds)];
                    case 5:
                        getall = _c.sent();
                        if (!!getall) return [3 /*break*/, 7];
                        return [4 /*yield*/, this.getAllAgendaForFieldChanged(oriAgdata, newAgdata, FieldChanged.Member, oriAgdata.evi, outAgds)];
                    case 6:
                        getall = _c.sent();
                        _c.label = 7;
                    case 7:
                        if (!!getall) return [3 /*break*/, 9];
                        return [4 /*yield*/, this.getAllAgendaForFieldChanged(oriAgdata, newAgdata, FieldChanged.Todolist, oriAgdata.evi, outAgds)];
                    case 8:
                        _c.sent();
                        _c.label = 9;
                    case 9:
                        was = new Array();
                        waparams = new Array();
                        if (!(newAgdata.todolist != oriAgdata.todolist)) return [3 /*break*/, 11];
                        if (ev.todolist == __WEBPACK_IMPORTED_MODULE_12__data_enum__["D" /* ToDoListStatus */].On) {
                            for (_i = 0, outAgds_1 = outAgds; _i < outAgds_1.length; _i++) {
                                agd = outAgds_1[_i];
                                ev_1 = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
                                Object.assign(ev_1, agd);
                                //如果在todolist中，则加系统提醒
                                was.push(this.sqlparamAddSysTx2(ev_1, __WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event));
                            }
                            if (was && was.length > 0) {
                                waparams = this.sqlExce.getFastSaveSqlByParam(was);
                            }
                        }
                        else {
                            sq = "update gtd_wa set tb = ? ,del = ?  where obt = ? and  wai in (select evi from gtd_ev\n          where  evi = ? or rtevi =  ? ); ";
                            params = new Array();
                            params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch);
                            params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del);
                            params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event);
                            params.push(masterEvi);
                            params.push(masterEvi);
                            waparams.push([sq, params]);
                        }
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(waparams)];
                    case 10:
                        _c.sent();
                        _c.label = 11;
                    case 11: return [2 /*return*/, outAgds];
                    case 12:
                        if (!(doType == DoType.FutureAll)) return [3 /*break*/, 15];
                        //删除原事件中从当前开始所有事件
                        console.log("**** updateAgenda delFromsel start :****" + __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm:ss SSS"));
                        return [4 /*yield*/, this.delFromsel(delEvi, oriAgdata, sqlparam, outAgds)];
                    case 13:
                        _c.sent();
                        console.log("**** updateAgenda delFromsel end :****" + __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm:ss SSS"));
                        nwAgdata = {};
                        Object.assign(nwAgdata, newAgdata);
                        nwAgdata.sd = nwAgdata.evd;
                        retParamEv = new RetParamEv();
                        console.log("**** updateAgenda newAgenda start :****" + __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm:ss SSS"));
                        retParamEv = this.newAgenda(nwAgdata);
                        console.log("**** updateAgenda newAgenda end :****" + __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm:ss SSS"));
                        nwpar = new Array();
                        nwpar = this.sqlparamAddPar(retParamEv.rtevi, newAgdata.members);
                        //把当前选中记录的附件信息更新到新的信息的第一条中
                        if (newAgdata.attachments && retParamEv.outAgdatas.length > 0) {
                            retParamEv.outAgdatas[0].attachments = new Array();
                            for (_a = 0, _b = newAgdata.attachments; _a < _b.length; _a++) {
                                attach = _b[_a];
                                fj = new __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_fj_tbl__["a" /* FjTbl */]();
                                fj.fji = attach.fji;
                                fj.obi = retParamEv.outAgdatas[0].evi;
                                sqlparam.push(fj.upTParam());
                                newattach = {};
                                this.util.cloneObj(newattach, attach);
                                newattach.obi = retParamEv.outAgdatas[0].evi;
                                retParamEv.outAgdatas[0].attachments.push(newattach);
                            }
                        }
                        sqlparam = sqlparam.concat(retParamEv.sqlparam, nwpar);
                        //修改与新增记录合并成返回事件
                        console.log("**** updateAgenda outAgds = [...outAgds, ...retParamEv.outAgdatas]; start :****" + __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm:ss SSS"));
                        outAgds = retParamEv.outAgdatas.concat(outAgds);
                        console.log("**** updateAgenda outAgds = [...outAgds, ...retParamEv.outAgdatas]; end :****" + __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm:ss SSS"));
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqlparam)];
                    case 14:
                        _c.sent();
                        return [2 /*return*/, outAgds];
                    case 15:
                        if (!(doType == DoType.All)) return [3 /*break*/, 18];
                        //删除原事件中从当前开始所有事件
                        oriAgdata.evd = oriAgdata.sd;
                        return [4 /*yield*/, this.delFromsel(delEvi, oriAgdata, sqlparam, outAgds)];
                    case 16:
                        _c.sent();
                        retParamEv = new RetParamEv();
                        newAgdata.sd = oriAgdata.sd;
                        retParamEv = this.newAgenda(newAgdata);
                        nwpar = new Array();
                        nwpar = this.sqlparamAddPar(retParamEv.rtevi, newAgdata.members);
                        sqlparam = sqlparam.concat(retParamEv.sqlparam, nwpar);
                        //修改与新增记录合并成返回事件
                        outAgds = retParamEv.outAgdatas.concat(outAgds);
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqlparam)];
                    case 17:
                        _c.sent();
                        return [2 /*return*/, outAgds];
                    case 18:
                        if (!(doType == DoType.Current)) return [3 /*break*/, 26];
                        outAgd = {};
                        was = new Array();
                        //字段evt 设定
                        newAgdata.evt = newAgdata.st;
                        rtjon = new RtJson();
                        rtjon.cycletype = __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].close;
                        rtjon.over.value = "";
                        rtjon.over.type = __WEBPACK_IMPORTED_MODULE_12__data_enum__["s" /* OverType */].fornever;
                        rtjon.cyclenum = 1;
                        rtjon.openway = new Array();
                        newAgdata.rt = JSON.stringify(rtjon);
                        newAgdata.rts = rtjon.text();
                        if (oriAgdata.rfg == __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].Repeat) {
                            newAgdata.rfg = __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].RepeatToOnly;
                        }
                        newAgdata.tx = JSON.stringify(newAgdata.txjson);
                        newAgdata.txs = newAgdata.txjson.text();
                        newAgdata.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
                        ev = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
                        Object.assign(ev, newAgdata);
                        ev.evi = oriAgdata.evi; //evi使用原evi
                        sqlparam.push(ev.upTParam());
                        //事件对象的日程，放入返回事件(单条数据附件，参与人已有)
                        Object.assign(outAgd, newAgdata);
                        outAgd.evi = ev.evi;
                        outAgd.tos = tos; //需要发送的参与人
                        outAgds.push(outAgd);
                        //其他表相关处理
                        this.modifyOnlyoneForOther(sqlparam, oriAgdata, newAgdata);
                        //如果当前更新对象是父节点，则为当前重复日程重建新的父记录，值为ev表里的第一条做为父记录
                        console.log("**** updateAgenda changedParentAgdForOther start :****" + __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm:ss SSS"));
                        isParent = false;
                        return [4 /*yield*/, this.changedParentAgdForOther(oriAgdata, newAgdata.members, sqlparam, outAgds)];
                    case 19:
                        isParent = _c.sent();
                        console.log("**** updateAgenda changedParentAgdForOther end :****" + __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm:ss SSS"));
                        caparam = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_ca_tbl__["a" /* CaTbl */]();
                        caparam = this.sqlparamAddCa(oriAgdata.evi, newAgdata); //evi使用原evi
                        sqlparam.push(caparam.rpTParam());
                        //变化或新增的日程放入事件对象
                        Object.assign(outAgd, caparam);
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqlparam)];
                    case 20:
                        _c.sent();
                        if (!!isParent) return [3 /*break*/, 25];
                        getall = false;
                        return [4 /*yield*/, this.getAllAgendaForFieldChanged(oriAgdata, newAgdata, FieldChanged.Member, outAgd.evi, outAgds)];
                    case 21:
                        getall = _c.sent();
                        if (!!getall) return [3 /*break*/, 23];
                        return [4 /*yield*/, this.getAllAgendaForFieldChanged(oriAgdata, newAgdata, FieldChanged.Ji, outAgd.evi, outAgds)];
                    case 22:
                        getall = _c.sent();
                        _c.label = 23;
                    case 23:
                        if (!!getall) return [3 /*break*/, 25];
                        return [4 /*yield*/, this.getAllAgendaForFieldChanged(oriAgdata, newAgdata, FieldChanged.Todolist, outAgd.evi, outAgds)];
                    case 24:
                        _c.sent();
                        _c.label = 25;
                    case 25: return [2 /*return*/, outAgds];
                    case 26: return [2 /*return*/, outAgds];
                }
            });
        });
    };
    /**
     * 单独更新单条记录时，如果指定字段改变则需要提交活动所有记录到服务器
     * @param {AgendaData} oriAgdata
     * @param {AgendaData} newAgdata
     * @param {FieldChanged} fieldChanged
     * @param {string} ignoreEvi
     * @param {Array<AgendaData>} outAgds
     * @returns {Promise<boolean>}
     */
    EventService.prototype.getAllAgendaForFieldChanged = function (oriAgdata, newAgdata, fieldChanged, ignoreEvi, outAgds) {
        return __awaiter(this, void 0, void 0, function () {
            var retAgendas, ret, changed, tmpcondi, sq, tos, masterEvi, _loop_1, _i, _a, oriMember, state_1, attachs, _loop_2, _b, retAgendas_1, agd;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        retAgendas = new Array();
                        ret = false;
                        changed = false;
                        tmpcondi = "";
                        //除了接受拒绝，其他非重复数(调用前已放入返回数组中)据不需要获取所有数据
                        if (fieldChanged != FieldChanged.Invite && oriAgdata.rfg == __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].NonRepeat) {
                            return [2 /*return*/, ret];
                        }
                        if (oriAgdata.rtevi == "") {
                            //非重复数据或重复数据的父记录
                            masterEvi = oriAgdata.evi;
                        }
                        else {
                            //重复数据（包含独立日数据）
                            masterEvi = oriAgdata.rtevi;
                        }
                        switch (fieldChanged) {
                            case FieldChanged.Invite:
                                tmpcondi = " ";
                                changed = true;
                                break;
                            case FieldChanged.Ji:
                                if (oriAgdata.ji != newAgdata.ji) {
                                    tmpcondi = " and del <> 'del'   and evi <> '" + ignoreEvi + "' ";
                                    changed = true;
                                }
                                break;
                            case FieldChanged.Todolist:
                                if (oriAgdata.todolist != newAgdata.todolist) {
                                    tmpcondi = " and del <> 'del'   and evi <> '" + ignoreEvi + "' ";
                                    changed = true;
                                }
                                break;
                            case FieldChanged.Member:
                                tmpcondi = " and del <> 'del'   and evi <> '" + ignoreEvi + "' ";
                                if (!oriAgdata.members) {
                                    oriAgdata.members = new Array();
                                }
                                if (!newAgdata.members) {
                                    newAgdata.members = new Array();
                                }
                                if (oriAgdata.members.length != newAgdata.members.length) {
                                    changed = true;
                                }
                                else {
                                    _loop_1 = function (oriMember) {
                                        var findm = newAgdata.members.find(function (value, index, arr) {
                                            return value.pari == oriMember.pari || value.ui == oriMember.ui || value.rc == oriMember.rc;
                                        });
                                        if (!findm) {
                                            changed = true;
                                            return "break";
                                        }
                                    };
                                    for (_i = 0, _a = oriAgdata.members; _i < _a.length; _i++) {
                                        oriMember = _a[_i];
                                        state_1 = _loop_1(oriMember);
                                        if (state_1 === "break")
                                            break;
                                    }
                                }
                                break;
                            default:
                                break;
                        }
                        if (!changed) return [3 /*break*/, 3];
                        ret = true;
                        tos = this.getMemberPhone(newAgdata.members);
                        sq = "select ev.*, ca.sd, ca.ed, ca.st, ca.et, ca.al, ca.ct\n                        from (select *,\n                        case when rfg = '2' then evi\n                             when ifnull(rtevi, '') = '' then evi\n                             else rtevi end forcaevi\n                          from gtd_ev\n                          where (evi = ?1 or rtevi = ?1)   " + tmpcondi + "  ) ev\n                        left join gtd_ca ca\n                        on ca.evi = ev.forcaevi ;";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sq, [masterEvi])];
                    case 1:
                        retAgendas = (_c.sent()) || retAgendas;
                        attachs = new Array();
                        sq = "select * from gtd_fj where obt = ?1 and  obi in (select evi\n      from gtd_ev  where (evi = ?2 or rtevi = ?2)    " + tmpcondi + " ); ";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sq, [__WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event, masterEvi])];
                    case 2:
                        attachs = _c.sent();
                        _loop_2 = function (agd) {
                            agd.members = newAgdata.members; //参与人
                            agd.pn = agd.members.length;
                            agd.tos = tos;
                            //附件
                            if (attachs && attachs.length > 0) {
                                agd.attachments = attachs.filter(function (value, index, arr) {
                                    return agd.evi == value.obi;
                                });
                            }
                        };
                        //活动其他对象绑定
                        for (_b = 0, retAgendas_1 = retAgendas; _b < retAgendas_1.length; _b++) {
                            agd = retAgendas_1[_b];
                            _loop_2(agd);
                        }
                        Object.assign(outAgds, outAgds.concat(retAgendas));
                        _c.label = 3;
                    case 3: return [2 /*return*/, ret];
                }
            });
        });
    };
    /**
     * 如果只修改单一记录，对提醒，参与人，附件进行先删除再新增操作
     * @param {Array<any>} sqlparam
     * @param {AgendaData} oriAgdata
     * @param {AgendaData} newAgdata
     */
    EventService.prototype.modifyOnlyoneForOther = function (sqlparam, oriAgdata, newAgdata) {
        var sq = "";
        var params;
        //取参与人evi设定
        var parEvi;
        if (oriAgdata.rtevi == "") {
            //非重复数据或重复数据的父记录
            parEvi = oriAgdata.evi;
        }
        else {
            //重复数据(此处包含独立日)
            parEvi = oriAgdata.rtevi;
        }
        // 删除相关提醒
        sq = "update gtd_wa set tb = ? ,del = ?  where  obi = ? and obt = ?; ";
        params = new Array();
        params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch);
        params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del);
        params.push(oriAgdata.evi);
        params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event);
        sqlparam.push([sq, params]);
        var ev = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
        Object.assign(ev, newAgdata);
        //提醒新建
        var was = new Array();
        var waparams = new Array();
        if (ev.todolist == __WEBPACK_IMPORTED_MODULE_12__data_enum__["D" /* ToDoListStatus */].On) {
            //如果在todolist中，则加系统提醒
            was.push(this.sqlparamAddSysTx2(ev, __WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event));
        }
        else {
            var wa = new __WEBPACK_IMPORTED_MODULE_11__sqlite_tbl_wa_tbl__["a" /* WaTbl */]();
            wa.wai = ev.evi;
            wa.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
            wa.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del;
            sqlparam.push(wa.upTParam());
        }
        if (newAgdata.txjson.reminds && newAgdata.txjson.reminds.length > 0) {
            ev.evi = oriAgdata.evi;
            was = was.concat(this.sqlparamAddTxWa2(ev, __WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event, newAgdata.txjson));
        }
        if (was && was.length > 0) {
            waparams = this.sqlExce.getFastSaveSqlByParam(was);
        }
        //删除参与人
        var par = new __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_par_tbl__["a" /* ParTbl */]();
        par.obt = __WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event;
        par.obi = parEvi;
        sqlparam.push(par.dTParam());
        //添加参与人
        var nwpar = new Array();
        nwpar = this.sqlparamAddPar(parEvi, newAgdata.members);
        //更新相关ev表参与人数
        sq = " update gtd_ev set pn = ? where evi = ? or rtevi = ? ;";
        params = new Array();
        params.push(newAgdata.members.length);
        params.push(parEvi);
        params.push(parEvi);
        sqlparam.push([sq, params]);
        /*//删除附件
        let fj = new FjTbl();
        fj.obt = anyenum.ObjectType.Event;
        fj.obi = oriAgdata.evi;
        sqlparam.push(fj.dTParam());
        //附件更新
        let nwfj = new Array<FjTbl>();
        nwfj = this.sqlparamAddFj(oriAgdata.evi, newAgdata.attachments);
        let fjparams = new Array<any>();
        if (nwfj && nwfj.length > 0){
          fjparams = this.sqlExce.getFastSaveSqlByParam(nwfj);
        }*/
        sqlparam = Object.assign(sqlparam, sqlparam.concat(nwpar, waparams));
    };
    /**
     * 如果当前修改单一对象是父事件，则为当前重复事件重建新的父事件，
     * 值为ev表重复记录里不为独立日不为删除的第一条做为父事件
     * @param {AgendaData} oriAgdata
     * @param {Array<Member>} members
     * @param {Array<any>} sqlparam
     * @param {DUflag} doflag
     * @returns {Promise<void>}
     */
    EventService.prototype.changedParentAgdForOther = function (oriAgdata, members, sqlparam, outAgds) {
        return __awaiter(this, void 0, void 0, function () {
            var ret, sq, params, nwEv, tos, upcondi, upAgds, upAttaches, upParent, nwca, nwpar, _loop_3, j, len;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        ret = false;
                        nwEv = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
                        tos = this.getMemberPhone(members);
                        upAgds = new Array();
                        upAttaches = new Array();
                        upParent = {};
                        if (!((!oriAgdata.rtevi || oriAgdata.rtevi == "") && oriAgdata.rfg == __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].Repeat)) return [3 /*break*/, 3];
                        ret = true;
                        //取得为修改的记录放入返回事件中
                        upcondi = " rtevi = ? ";
                        sq = " select ev.*, ca.sd, ca.ed, ca.st, ca.et, ca.al, ca.ct\n                        from (select *,\n                        case when rfg = '2' then evi\n                             when ifnull(rtevi, '') = '' then evi\n                             else rtevi end forcaevi\n                          from gtd_ev\n                          where " + upcondi + " ) ev\n                        left join gtd_ca ca\n                        on ca.evi = ev.forcaevi  order by ev.evd ; ";
                        params = new Array();
                        params.push(oriAgdata.evi);
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sq, params)];
                    case 1:
                        upAgds = _a.sent();
                        //取得修改的事件的附件
                        sq = "select * from gtd_fj where obt = ? and  obi in (select evi from gtd_ev\n          where " + upcondi + " ); ";
                        params = new Array();
                        params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event);
                        params.push(oriAgdata.evi);
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sq, params)];
                    case 2:
                        upAttaches = _a.sent();
                        if (upAgds.length > 0) {
                            //找到满足条件的首条记录
                            upParent = upAgds.find(function (value, index, arr) {
                                return value.rtevi == oriAgdata.evi && value.rfg == __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].Repeat && value.del != __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del;
                            });
                            if (upParent) {
                                //更新首条为父事件
                                upParent.rtevi = "";
                                upParent.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
                                upParent.mi = __WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */].account.id;
                                upParent.pn = members.length;
                                Object.assign(nwEv, upParent);
                                sqlparam.push(nwEv.upTParam());
                                //原子事件的父字段改为新的父事件
                                sq = "update gtd_ev set rtevi = ?,mi= ?,tb = ? ,pn = ? where  " + upcondi + "; ";
                                params = new Array();
                                params.push(nwEv.evi);
                                params.push(__WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */].account.id);
                                params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch);
                                params.push(members.length);
                                params.push(oriAgdata.evi);
                                sqlparam.push([sq, params]);
                                nwca = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_ca_tbl__["a" /* CaTbl */]();
                                nwca = this.sqlparamAddCa(nwEv.evi, oriAgdata);
                                sqlparam.push(nwca.rpTParam());
                                nwpar = new Array();
                                nwpar = this.sqlparamAddPar(nwEv.evi, members);
                                _loop_3 = function (j, len) {
                                    if (upAgds[j].rtevi != "") {
                                        upAgds[j].rtevi = upParent.evi;
                                    }
                                    upAgds[j].mi = __WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */].account.id;
                                    upAgds[j].tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
                                    upAgds[j].tos = tos; //需要发送的参与人
                                    //参与人
                                    upAgds[j].members = members;
                                    upAgds[j].pn = members.length;
                                    //ca数据
                                    if (upAgds[j].rfg != __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].RepeatToOnly) {
                                        //新的日程赋给非独立日的记录
                                        var tmpevi = upAgds[j].evi;
                                        Object.assign(upAgds[j], nwca);
                                        upAgds[j].evi = tmpevi;
                                    }
                                    //附件
                                    if (upAttaches && upAttaches.length > 0) {
                                        upAgds[j].attachments = upAttaches.filter(function (value, index, arr) {
                                            return upAgds[j].evi == value.obi;
                                        });
                                    }
                                };
                                //新父节点记录以外数据对象内容设置
                                for (j = 0, len = upAgds.length; j < len; j++) {
                                    _loop_3(j, len);
                                }
                                Object.assign(sqlparam, sqlparam.concat(nwpar));
                            }
                            Object.assign(outAgds, outAgds.concat(upAgds));
                        }
                        _a.label = 3;
                    case 3: return [2 /*return*/, ret];
                }
            });
        });
    };
    /**
     * 删除原事件中从当前开始所有事件
     * @param {string} masterEvi
     * @param {AgendaData} oriAgdata
     * @param {Array<any>} sqlparam
     * @param {Array<AgendaData>} outAgds
     * @returns {Promise<void>}
     */
    EventService.prototype.delFromsel = function (masterEvi, oriAgdata, sqlparam, outAgds) {
        return __awaiter(this, void 0, void 0, function () {
            var delAgds, delAttachs, delcondi, tos, sq, params, _loop_4, j, len;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        delAgds = new Array();
                        delAttachs = new Array();
                        tos = this.getMemberPhone(oriAgdata.members);
                        //标记为删除的记录放入返回事件中
                        delcondi = " evd >= ? and (evi = ? or rtevi =  ?) and del <> ? ";
                        //取得所有删除的附件
                        sq = "select * from gtd_fj where obt = ? and  obi in (select evi from gtd_ev\n          where " + delcondi + " ); ";
                        params = new Array();
                        params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event);
                        params.push(oriAgdata.evd);
                        params.push(masterEvi);
                        params.push(masterEvi);
                        params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del);
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sq, params)];
                    case 1:
                        delAttachs = _a.sent();
                        //取得所有要删除的事件
                        sq = " select ev.*, ca.sd, ca.ed, ca.st, ca.et, ca.al, ca.ct\n                        from (select *,\n                        case when rfg = '2' then evi\n                             when ifnull(rtevi, '') = '' then evi\n                             else rtevi end forcaevi\n                          from gtd_ev\n                          where " + delcondi + " ) ev\n                        left join gtd_ca ca\n                        on ca.evi = ev.forcaevi ; ";
                        params = new Array();
                        params.push(oriAgdata.evd);
                        params.push(masterEvi);
                        params.push(masterEvi);
                        params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del);
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sq, params)];
                    case 2:
                        delAgds = _a.sent();
                        if (delAgds && delAgds != null && delAgds.length > 0) {
                            _loop_4 = function (j, len) {
                                delAgds[j].del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del;
                                delAgds[j].mi = __WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */].account.id;
                                delAgds[j].tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
                                delAgds[j].tos = tos; //需要发送的参与人
                                delAgds[j].members = oriAgdata.members; //参与人
                                //附件
                                if (delAttachs && delAttachs.length > 0) {
                                    delAgds[j].attachments = delAttachs.filter(function (value, index, arr) {
                                        return delAgds[j].evi == value.obi;
                                    });
                                }
                            };
                            for (j = 0, len = delAgds.length; j < len; j++) {
                                _loop_4(j, len);
                            }
                        }
                        //删除原事件中从当前事件开始所有提醒 evd使用原事件evd
                        sq = "update gtd_wa set tb = ? ,del = ?  where obt = ? and  obi in (select evi from gtd_ev\n          where " + delcondi + " ); ";
                        params = new Array();
                        params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch);
                        params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del);
                        params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event);
                        params.push(oriAgdata.evd);
                        params.push(masterEvi);
                        params.push(masterEvi);
                        params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del);
                        sqlparam.push([sq, params]);
                        //删除原事件中从当前开始所有事件 evd使用原事件evd
                        sq = "update  gtd_ev set del = ? , mi =?,tb = ?  where " + delcondi + " ;";
                        params = new Array();
                        params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del);
                        params.push(__WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */].account.id);
                        params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch);
                        params.push(oriAgdata.evd);
                        params.push(masterEvi);
                        params.push(masterEvi);
                        params.push(__WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del);
                        sqlparam.push([sq, params]);
                        console.log("****  delFromsel 结果数组合并 start :****" + __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm:ss SSS"));
                        Object.assign(outAgds, outAgds.concat(delAgds));
                        console.log("****  delFromsel 结果数组合并 end :****" + __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm:ss SSS"));
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 获取参与人手机号
     * @param {Array<Member>} members
     * @returns {Array<string>}
     */
    EventService.prototype.getMemberPhone = function (members) {
        var ret = [];
        if (!members || members == null) {
            return "";
        }
        for (var j = 0, len = members.length; j < len; j++) {
            ret.push(members[j].rc);
        }
        return ret.join(",");
    };
    /**
     * 创建附件
     * @param {string} evi
     * @param {Array<FjTbl>} fjs
     * @returns {Array<any>}
     */
    EventService.prototype.sqlparamAddFj = function (evi, attachments) {
        var ret = new Array();
        if (attachments && attachments.length > 0) {
            for (var j = 0, len = attachments.length; j < len; j++) {
                var fj = new __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_fj_tbl__["a" /* FjTbl */]();
                Object.assign(fj, attachments[j]);
                fj.fji = this.util.getUuid();
                fj.obt = __WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event;
                fj.obi = evi;
                ret.push(fj);
            }
        }
        return ret;
    };
    /**
     * 创建参与人
     * @param {string} evi
     * @param {Array<Member>} pars
     * @returns {Array<any>}
     */
    EventService.prototype.sqlparamAddPar = function (evi, pars) {
        var ret = new Array();
        if (pars && pars.length > 0) {
            for (var j = 0, len = pars.length; j < len; j++) {
                var par = new __WEBPACK_IMPORTED_MODULE_14__sqlite_tbl_par_tbl__["a" /* ParTbl */]();
                par.pari = this.util.getUuid();
                par.pwi = pars[j].pwi;
                par.ui = pars[j].ui;
                par.obt = __WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event;
                par.obi = evi;
                par.sa = pars[j].sa;
                par.sdt = pars[j].sdt;
                par.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
                par.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel;
                ret.push(par.rpTParam());
            }
        }
        return ret;
    };
    /**
     * 初始化页面参数
     * @param {AgendaData} agdata
     */
    EventService.prototype.initAgdParam = function (agdata) {
        agdata.members = !agdata.members ? new Array() : agdata.members;
        agdata.attachments = !agdata.attachments ? new Array() : agdata.attachments;
        agdata.ui = __WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */].account.id;
        agdata.mi = (!agdata.mi || agdata.mi == "") ? __WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */].account.id : agdata.mi;
        agdata.rtevi = !agdata.rtevi ? "" : agdata.rtevi;
        agdata.ji = !agdata.ji ? "" : agdata.ji;
        agdata.bz = !agdata.bz ? "" : agdata.bz;
        agdata.type = !agdata.type ? __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Agenda : agdata.type;
        var txjson = new TxJson();
        agdata.txjson = (agdata.txjson && agdata.txjson != null) ? agdata.txjson : txjson;
        agdata.tx = !agdata.tx ? JSON.stringify(agdata.txjson) : agdata.tx;
        agdata.txs = !agdata.txs ? "" : agdata.txs;
        var rtjon = new RtJson();
        rtjon.cycletype = __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].close;
        rtjon.over.value = "";
        rtjon.over.type = __WEBPACK_IMPORTED_MODULE_12__data_enum__["s" /* OverType */].fornever;
        rtjon.cyclenum = 1;
        rtjon.openway = new Array();
        agdata.rtjson = (agdata.rtjson && agdata.rtjson != null) ? agdata.rtjson : rtjon;
        agdata.rt = !agdata.rt ? JSON.stringify(agdata.rtjson) : agdata.rt;
        agdata.rts = !agdata.rts ? "" : agdata.rts;
        agdata.fj = !agdata.fj ? "" : agdata.fj;
        agdata.pn = !agdata.pn ? 0 : agdata.pn;
        agdata.md = !agdata.md ? __WEBPACK_IMPORTED_MODULE_12__data_enum__["p" /* ModiPower */].enable : agdata.md;
        agdata.iv = !agdata.iv ? __WEBPACK_IMPORTED_MODULE_12__data_enum__["i" /* InvitePowr */].enable : agdata.iv;
        agdata.sr = !agdata.sr ? "" : agdata.sr;
        agdata.gs = !agdata.gs ? __WEBPACK_IMPORTED_MODULE_12__data_enum__["h" /* GsType */].self : agdata.gs;
        agdata.wc = !agdata.wc ? __WEBPACK_IMPORTED_MODULE_12__data_enum__["f" /* EventFinishStatus */].NonFinish : agdata.wc;
        agdata.todolist = !agdata.todolist ? __WEBPACK_IMPORTED_MODULE_12__data_enum__["D" /* ToDoListStatus */].Off : agdata.todolist;
        agdata.invitestatus = !agdata.invitestatus ? __WEBPACK_IMPORTED_MODULE_12__data_enum__["j" /* InviteState */].None : agdata.invitestatus;
        agdata.tb = !agdata.tb ? __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch : agdata.tb;
        agdata.del = !agdata.del ? __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel : agdata.del;
        agdata.rfg = !agdata.rfg ? __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].NonRepeat : agdata.rfg;
        agdata.al = !agdata.al ? __WEBPACK_IMPORTED_MODULE_12__data_enum__["m" /* IsWholeday */].StartSet : agdata.al;
        if (agdata.al == __WEBPACK_IMPORTED_MODULE_12__data_enum__["m" /* IsWholeday */].StartSet) {
            agdata.ct = !agdata.ct ? 60 : agdata.ct;
            agdata.sd = agdata.sd || agdata.evd || __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD");
            agdata.st = !agdata.st ? this.EVT_ST : agdata.st;
            agdata.ed = agdata.ed || __WEBPACK_IMPORTED_MODULE_9_moment__(agdata.sd + " " + agdata.st).
                add(agdata.ct, 'm').format("YYYY/MM/DD");
            agdata.et = !agdata.et ? __WEBPACK_IMPORTED_MODULE_9_moment__(agdata.sd + " " + agdata.st).
                add(agdata.ct, 'm').format("HH:mm") : agdata.et;
        }
        else {
            agdata.ct = !agdata.ct ? 0 : agdata.ct;
            agdata.ed = agdata.ed || __WEBPACK_IMPORTED_MODULE_9_moment__().
                add(7, 'd').format("YYYY/MM/DD");
            agdata.et = !agdata.et ? __WEBPACK_IMPORTED_MODULE_9_moment__().
                add(7, 'd').format("HH:mm") : agdata.et;
            agdata.sd = agdata.sd || agdata.evd || agdata.ed;
            agdata.st = !agdata.st ? agdata.et : agdata.st;
        }
    };
    EventService.prototype.sqlparamAddEv2 = function (agdata) {
        var _this = this;
        var ret = new RetParamEv();
        var outAgds = new Array();
        var evs = new Array();
        var was = new Array();
        var fjs = new Array();
        //字段evt 设定
        agdata.evt = agdata.st;
        var rtjson = new RtJson();
        Object.assign(rtjson, agdata.rtjson);
        agdata.rt = JSON.stringify(agdata.rtjson);
        agdata.rts = rtjson.text();
        if (rtjson.cycletype == __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].close) {
            agdata.rfg = __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].NonRepeat;
        }
        else {
            agdata.rfg = __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].Repeat;
        }
        var txjson = agdata.txjson;
        agdata.tx = JSON.stringify(agdata.txjson);
        agdata.txs = agdata.txjson.text();
        //获取重复日期
        rtjson.each(agdata.sd, function (day) {
            var ev = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
            Object.assign(ev, agdata);
            ev.evi = _this.util.getUuid();
            // 非重复日程及重复日程的第一条的rtevi（父日程evi）字段设为空。遵循父子关系，
            // 父记录的父节点字段rtevi设为空，子记录的父节点字段rtevi设为父记录的evi
            if (evs.length < 1) {
                ret.rtevi = ev.evi;
                agdata.evi = ev.evi;
                ev.rtevi = "";
            }
            else {
                ev.rtevi = ret.rtevi;
            }
            ev.evd = day;
            ev.type = __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Agenda;
            ev.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
            ev.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel;
            evs.push(ev);
            if (ev.todolist == __WEBPACK_IMPORTED_MODULE_12__data_enum__["D" /* ToDoListStatus */].On) {
                //如果在todolist中，则加系统提醒
                was.push(_this.sqlparamAddSysTx2(ev, __WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event));
            }
            if (txjson.reminds && txjson.reminds.length > 0) {
                was = was.concat(_this.sqlparamAddTxWa2(ev, __WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event, txjson));
            }
            /*if (agdata.attachments && agdata.attachments.length > 0){
              fjs = [...fjs,...this.sqlparamAddFj(ev.evi,agdata.attachments)];
            }附件由附件页面保存*/
            //新增数据需要返回出去
            var outAgd = {};
            Object.assign(outAgd, ev);
            outAgds.push(outAgd);
        }, true);
        var evparams = new Array();
        if (evs && evs.length > 0) {
            evparams = this.sqlExce.getFastSaveSqlByParam(evs);
        }
        var waparams = new Array();
        if (was && was.length > 0) {
            waparams = this.sqlExce.getFastSaveSqlByParam(was);
        }
        /*let fjparams = new  Array<any>();
        if (fjs && fjs.length > 0) {
          fjparams = this.sqlExce.getFastSaveSqlByParam(fjs);
        }*/
        ret.sqlparam = evparams.concat(waparams, ret.sqlparam);
        ret.outAgdatas = outAgds;
        return ret;
    };
    /**
     * 日程新增sql list
     * @param {string} rtevi
     * @param {AgendaData} agdata
     * @returns {Array<any>}
     */
    EventService.prototype.sqlparamAddCa = function (rtevi, agdata) {
        if (agdata.al == __WEBPACK_IMPORTED_MODULE_12__data_enum__["m" /* IsWholeday */].EndSet) {
            agdata.sd = agdata.ed;
            agdata.st = agdata.et;
            agdata.ct = 0;
        }
        var ca = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_ca_tbl__["a" /* CaTbl */]();
        ca.evi = rtevi;
        ca.sd = agdata.sd;
        ca.ed = agdata.ed;
        ca.ct = agdata.ct;
        ca.al = agdata.al;
        ca.st = agdata.st;
        ca.et = agdata.et;
        return ca;
    };
    /**
       * 删除任务
     *
       * @author leon_xi@163.com
       */
    EventService.prototype.removeTask = function (task) {
        return __awaiter(this, void 0, void 0, function () {
            var sqls, evdb, tdb;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(task); // 入参不能为空
                        this.assertEmpty(task.evi); // 任务ID不能为空
                        task.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del;
                        task.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
                        sqls = new Array();
                        evdb = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
                        Object.assign(evdb, task);
                        sqls.push(evdb.upTParam());
                        tdb = new __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_t_tbl__["a" /* TTbl */]();
                        Object.assign(tdb, task);
                        sqls.push(tdb.upTParam());
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls)];
                    case 1:
                        _a.sent();
                        this.emitService.emit("mwxing.calendar.activities.changed", task);
                        this.syncTask(task);
                        return [2 /*return*/, task];
                }
            });
        });
    };
    /**
     * 创建更新任务
   *
   * 重复任务不直接创建多个任务记录
   * 前面的任务完成后, 新增完成日程后续的新任务
   *
     * @author ying<343253410@qq.com>
     */
    EventService.prototype.saveTask = function (task) {
        return __awaiter(this, void 0, void 0, function () {
            var evi, evdb, ttdb, txjson, rtjon, sqlparam, retParamTaskData;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(task); // 对象不能为空
                        this.assertEmpty(task.evn); // 事件主题不能为空
                        evi = "";
                        if (!task.evi) return [3 /*break*/, 3];
                        evi = task.evi;
                        evdb = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
                        task.mi = __WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */].account.id; //更新者
                        Object.assign(evdb, task);
                        return [4 /*yield*/, this.sqlExce.updateByParam(evdb)];
                    case 1:
                        _a.sent();
                        ttdb = new __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_t_tbl__["a" /* TTbl */]();
                        Object.assign(ttdb, task);
                        return [4 /*yield*/, this.sqlExce.updateByParam(ttdb)];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 5];
                    case 3:
                        //创建事件
                        task.evi = this.util.getUuid();
                        evi = task.evi;
                        task.ui = __WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */].account.id;
                        task.type = __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Task;
                        task.evd = task.evd || __WEBPACK_IMPORTED_MODULE_9_moment__().format('YYYY/MM/DD');
                        task.gs = __WEBPACK_IMPORTED_MODULE_12__data_enum__["h" /* GsType */].self;
                        task.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
                        task.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel;
                        task.evt = task.evt || "23:59";
                        task.cs = task.cs || __WEBPACK_IMPORTED_MODULE_12__data_enum__["l" /* IsSuccess */].wait;
                        task.isrt = task.isrt || __WEBPACK_IMPORTED_MODULE_12__data_enum__["k" /* IsCreate */].isNo;
                        txjson = new TxJson();
                        task.txjson = task.txjson || txjson;
                        task.txs = task.txs || "";
                        rtjon = new RtJson();
                        rtjon.cycletype = __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].close;
                        rtjon.over.value = "";
                        rtjon.over.type = __WEBPACK_IMPORTED_MODULE_12__data_enum__["s" /* OverType */].fornever;
                        rtjon.cyclenum = 1;
                        rtjon.openway = new Array();
                        task.rtjson = task.rtjson || rtjon;
                        sqlparam = new Array();
                        retParamTaskData = new RetParamTaskData();
                        retParamTaskData = this.sqlparamAddTaskData(task);
                        sqlparam = retParamTaskData.sqlparam.slice();
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqlparam)];
                    case 4:
                        _a.sent();
                        _a.label = 5;
                    case 5:
                        this.emitService.emit("mwxing.calendar.activities.changed", task);
                        this.syncTask(task);
                        return [2 /*return*/, task];
                }
            });
        });
    };
    EventService.prototype.sqlparamAddTaskData = function (taskData) {
        var _this = this;
        var ret = new RetParamTaskData();
        var outTasks = new Array();
        //字段evt 设定
        taskData.evt = taskData.evt || "23:59";
        var rtjson = new RtJson();
        Object.assign(rtjson, taskData.rtjson);
        taskData.rt = JSON.stringify(taskData.rtjson);
        if (rtjson.cycletype == __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].close) {
            taskData.rfg = __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].NonRepeat;
        }
        else {
            taskData.rfg = __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].Repeat;
        }
        var txjson = taskData.txjson;
        taskData.tx = JSON.stringify(taskData.txjson);
        //		let days: Array<string> = new Array<string>();
        //获取重复日期
        rtjson.each(taskData.evd, function (day) {
            var ev = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
            Object.assign(ev, taskData);
            ev.evi = _this.util.getUuid();
            // 非重复日程及重复日程的第一条的rtevi（父日程evi）字段设为空。遵循父子关系，
            // 父记录的父节点字段rtevi设为空，子记录的父节点字段rtevi设为父记录的evi
            if (ret.sqlparam.length < 1) {
                ret.rtevi = ev.evi;
                taskData.evi = ev.evi;
                ev.rtevi = "";
            }
            else {
                ev.rtevi = ret.rtevi;
            }
            ev.evd = day;
            ev.type = __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Task;
            ev.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
            ev.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel;
            ret.sqlparam.push(ev.rpTParam());
            //添加提醒的SQL
            if (txjson.reminds && txjson.reminds.length > 0) {
                ret.sqlparam = ret.sqlparam.concat(_this.sqlparamAddTxWa(ev, __WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event, txjson));
            }
            //创建任务SQL
            ret.sqlparam.push(_this.sqlparamAddTaskTt(ev, taskData.cs, taskData.isrt));
            //新增数据需要返回出去
            var task2 = {};
            Object.assign(task2, ev);
            outTasks.push(task2);
        });
        // days = this.getOutDays(rtjson,taskData.evt);
        // for(let day of days) {
        //
        //   let ev = new EvTbl();
        //   Object.assign(ev, taskData);
        //   ev.evi = this.util.getUuid();
        //   // 非重复日程及重复日程的第一条的rtevi（父日程evi）字段设为空。遵循父子关系，
        //   // 父记录的父节点字段rtevi设为空，子记录的父节点字段rtevi设为父记录的evi
        //   if (ret.sqlparam.length < 1) {
        //     ret.rtevi = ev.evi;
        //     taskData.evi = ev.evi;
        //     ev.rtevi = "";
        //   }else{
        //     ev.rtevi = ret.rtevi;
        //   }
        //   ev.evd = day;
        //   ev.type = anyenum.EventType.Task;
        //   ev.tb = anyenum.SyncType.unsynch;
        //   ev.del = anyenum.DelType.undel;
        //   ret.sqlparam.push(ev.rpTParam());
        //   //添加提醒的SQL
        //   if (txjson.reminds && txjson.reminds.length > 0) {
        //   	ret.sqlparam = [...ret.sqlparam ,...this.sqlparamAddTxWa(ev,anyenum.ObjectType.Event,txjson)];
        // 	}
        //   //创建任务SQL
        //    ret.sqlparam.push(this.sqlparamAddTaskTt(ev,taskData.cs, taskData.isrt))
        //   //新增数据需要返回出去
        //   let task2 = {} as TaskData;
        //   Object.assign(task2,ev);
        //   outTasks.push(task2);
        // }
        ret.outTasks = outTasks;
        return ret;
    };
    /**
     * 获取提醒表sql
     * @param {EvTbl} ev
     * @param {string} obtType
     * @param {TxJson} txjson
     * @returns {Array<any>}
     */
    EventService.prototype.sqlparamAddTxWa2 = function (ev, obtType, txjson) {
        var ret = new Array();
        if (txjson.reminds && txjson.reminds.length > 0) {
            for (var j = 0, len = txjson.reminds.length; j < len; j++) {
                var wa = new __WEBPACK_IMPORTED_MODULE_11__sqlite_tbl_wa_tbl__["a" /* WaTbl */](); //提醒表
                var remind = void 0;
                wa.obt = obtType;
                wa.obi = ev.evi;
                remind = txjson.reminds[j];
                wa.st = ev.evn;
                wa.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
                wa.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel;
                var time = remind;
                var date = void 0;
                date = __WEBPACK_IMPORTED_MODULE_9_moment__(ev.evd + " " + ev.evt).subtract(time, 'm').format("YYYY/MM/DD HH:mm");
                //使用ev表zhukey与提醒时间的组合，便于服务器更新及本地更新
                wa.wai = ev.evi + __WEBPACK_IMPORTED_MODULE_9_moment__(date).format("YYYYMMDDHHmm");
                wa.wd = __WEBPACK_IMPORTED_MODULE_9_moment__(date).format("YYYY/MM/DD");
                wa.wt = __WEBPACK_IMPORTED_MODULE_9_moment__(date).format("HH:mm");
                ret.push(wa);
                //console.log('-------- 插入提醒表 --------');
            }
        }
        return ret;
    };
    /**
     * 获取提醒表sql
     * @param {EvTbl} ev
     * @param {string} obtType
     * @returns {WaTbl}
     */
    EventService.prototype.sqlparamAddSysTx2 = function (ev, obtType) {
        var wa = new __WEBPACK_IMPORTED_MODULE_11__sqlite_tbl_wa_tbl__["a" /* WaTbl */](); //提醒表
        wa.obt = obtType;
        wa.obi = ev.evi;
        wa.st = ev.evn;
        wa.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
        wa.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel;
        var date;
        date = __WEBPACK_IMPORTED_MODULE_9_moment__(ev.evd + " " + ev.evt);
        var loop = true;
        while (loop) {
            if (date.diff(__WEBPACK_IMPORTED_MODULE_9_moment__(), 'hours', true) > 1) {
                loop = false;
                break;
            }
            date = __WEBPACK_IMPORTED_MODULE_9_moment__(date).add(4, 'hours');
        }
        //每个ev对应的系统提醒主key使用evi
        wa.wai = ev.evi;
        wa.wd = date.format("YYYY/MM/DD");
        wa.wt = date.format("HH:mm");
        //console.log('-------- 插入提醒表 --------');
        return wa;
    };
    /**
     * 获取提醒表sql
     * @param {EvTbl} ev
     * @param {string} obtType
     * @param {TxJson} txjson
     * @param {string} al
     * @param {string} st
     * @returns {Array<any>}
     */
    EventService.prototype.sqlparamAddTxWa = function (ev, obtType, txjson, al, st) {
        if (al === void 0) { al = ""; }
        if (st === void 0) { st = ""; }
        var ret = new Array();
        if (txjson.reminds && txjson.reminds.length > 0) {
            for (var j = 0, len = txjson.reminds.length; j < len; j++) {
                var wa = new __WEBPACK_IMPORTED_MODULE_11__sqlite_tbl_wa_tbl__["a" /* WaTbl */](); //提醒表
                var remind = void 0;
                wa.wai = this.util.getUuid();
                wa.obt = obtType;
                wa.obi = ev.evi;
                remind = txjson.reminds[j];
                wa.st = ev.evn;
                var time = remind;
                var date = void 0;
                if (al == __WEBPACK_IMPORTED_MODULE_12__data_enum__["m" /* IsWholeday */].StartSet) {
                    date = __WEBPACK_IMPORTED_MODULE_9_moment__(ev.evd + " " + st).subtract(time, 'm').format("YYYY/MM/DD HH:mm");
                }
                else {
                    date = __WEBPACK_IMPORTED_MODULE_9_moment__(ev.evd + " " + this.EVT_ST).subtract(time, 'm').format("YYYY/MM/DD HH:mm");
                }
                wa.wd = __WEBPACK_IMPORTED_MODULE_9_moment__(date).format("YYYY/MM/DD");
                wa.wt = __WEBPACK_IMPORTED_MODULE_9_moment__(date).format("HH:mm");
                ret.push(wa.rpTParam());
                //console.log('-------- 插入提醒表 --------');
            }
        }
        return ret;
    };
    /**
   *  获取任务SQL
   * @param {EvTbl}
   * @param {ev: EvTbl,st:string ,sd:string,txjson :TxJson }
   * @returns {ETbl}
   */
    EventService.prototype.sqlparamAddTaskTt = function (ev, cs, isrt) {
        //创建任务
        var ttdb = new __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_t_tbl__["a" /* TTbl */]();
        ttdb.evi = ev.evi;
        ttdb.cs = cs || __WEBPACK_IMPORTED_MODULE_12__data_enum__["l" /* IsSuccess */].wait;
        ttdb.isrt = isrt || __WEBPACK_IMPORTED_MODULE_12__data_enum__["k" /* IsCreate */].isNo;
        ttdb.cd = __WEBPACK_IMPORTED_MODULE_9_moment__().format('YYYY/MM/DD');
        return ttdb.rpTParam();
    };
    /**
     * 根据事件ID获取任务
      @author ying<343253410@qq.com>
     */
    EventService.prototype.getTask = function (evi) {
        return __awaiter(this, void 0, void 0, function () {
            var task, params, sqlparam;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(evi); // id不能为空
                        task = {};
                        params = Array();
                        sqlparam = "select ev.*,td.cs,td.isrt,td.cd,td.fd from gtd_ev  ev left join gtd_t  td on ev.evi = td.evi where ev.evi ='" + evi + "' and  ev.del ='undel'";
                        console.info("执行的SQL" + sqlparam);
                        return [4 /*yield*/, this.sqlExce.getExtOneByParam(sqlparam, params)];
                    case 1:
                        task = _a.sent();
                        return [2 /*return*/, task];
                }
            });
        });
    };
    /**
       * 创建更新小任务
       * @author ying<343253410@qq.com>
       */
    EventService.prototype.saveMiniTask = function (minitask) {
        return __awaiter(this, void 0, void 0, function () {
            var evdb, txjson, rtjon, sqlparam, retParamMiniTaskData;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(minitask); // 对象不能为空
                        this.assertEmpty(minitask.evn);
                        if (!minitask.evi) return [3 /*break*/, 2];
                        evdb = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
                        Object.assign(evdb, minitask);
                        return [4 /*yield*/, this.sqlExce.updateByParam(evdb)];
                    case 1:
                        _a.sent();
                        return [3 /*break*/, 4];
                    case 2:
                        minitask.evi = this.util.getUuid();
                        minitask.ui = __WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */].account.id;
                        minitask.type = __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].MiniTask;
                        minitask.evd = minitask.evd || __WEBPACK_IMPORTED_MODULE_9_moment__().format('YYYY/MM/DD');
                        minitask.gs = __WEBPACK_IMPORTED_MODULE_12__data_enum__["h" /* GsType */].self;
                        minitask.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
                        minitask.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel;
                        minitask.evt = minitask.evt || "23:59";
                        txjson = new TxJson();
                        minitask.txjson = minitask.txjson || txjson;
                        minitask.txs = minitask.txs || "";
                        rtjon = new RtJson();
                        rtjon.cycletype = __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].close;
                        rtjon.over.value = "";
                        rtjon.over.type = __WEBPACK_IMPORTED_MODULE_12__data_enum__["s" /* OverType */].fornever;
                        rtjon.cyclenum = 1;
                        rtjon.openway = new Array();
                        minitask.rtjson = minitask.rtjson || rtjon;
                        sqlparam = new Array();
                        retParamMiniTaskData = new RetParamMiniTaskData();
                        retParamMiniTaskData = this.sqlparamAddMiniTaskData(minitask);
                        sqlparam = retParamMiniTaskData.sqlparam.slice();
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqlparam)];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4:
                        this.emitService.emit("mwxing.calendar.activities.changed", minitask);
                        return [2 /*return*/, minitask];
                }
            });
        });
    };
    EventService.prototype.sqlparamAddMiniTaskData = function (minitask) {
        var _this = this;
        var ret = new RetParamMiniTaskData();
        var outTasks = new Array();
        //字段evt 设定
        minitask.evt = minitask.evt || "23:59";
        var rtjson = new RtJson();
        Object.assign(rtjson, minitask.rtjson);
        minitask.rt = JSON.stringify(minitask.rtjson);
        if (rtjson.cycletype == __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].close) {
            minitask.rfg = __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].NonRepeat;
        }
        else {
            minitask.rfg = __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].Repeat;
        }
        var txjson = minitask.txjson;
        minitask.tx = JSON.stringify(minitask.txjson);
        // let days: Array<string> = new Array<string>();
        //获取重复日期
        rtjson.each(minitask.evd, function (day) {
            var ev = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
            Object.assign(ev, minitask);
            ev.evi = _this.util.getUuid();
            // 非重复日程及重复日程的第一条的rtevi（父日程evi）字段设为空。遵循父子关系，
            // 父记录的父节点字段rtevi设为空，子记录的父节点字段rtevi设为父记录的evi
            if (ret.sqlparam.length < 1) {
                ret.rtevi = ev.evi;
                minitask.evi = ev.evi;
                ev.rtevi = "";
            }
            else {
                ev.rtevi = ret.rtevi;
            }
            ev.evd = day;
            ev.type = __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].MiniTask;
            ev.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
            ev.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel;
            ret.sqlparam.push(ev.rpTParam());
            //添加提醒的SQL
            if (txjson.reminds && txjson.reminds.length > 0) {
                ret.sqlparam = ret.sqlparam.concat(_this.sqlparamAddTxWa(ev, __WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event, txjson));
            }
            //新增数据需要返回出去
            var task2 = {};
            Object.assign(task2, ev);
            outTasks.push(task2);
        });
        ret.outTasks = outTasks;
        return ret;
    };
    /**
     *  获取小任务
     * @author ying<343253410@qq.com>
     */
    EventService.prototype.getMiniTask = function (evi) {
        return __awaiter(this, void 0, void 0, function () {
            var params, sqlparam, evdbnew, ev;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(evi); // id不能为空
                        params = Array();
                        sqlparam = "select * from gtd_ev where evi = '" + evi + "' and  del ='undel'";
                        return [4 /*yield*/, this.sqlExce.getExtOneByParam(sqlparam, params)];
                    case 1:
                        evdbnew = _a.sent();
                        if (evdbnew && evdbnew.evi) {
                            ev = {};
                            Object.assign(ev, evdbnew);
                            return [2 /*return*/, ev];
                        }
                        else {
                            return [2 /*return*/, null];
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    EventService.prototype.updateEventPlan = function () { };
    EventService.prototype.updateEventRemind = function () { };
    EventService.prototype.updateEventRepeat = function () { };
    EventService.prototype.removeEvent = function () { };
    /**
       * 完成任务
       * @author ying<343253410@qq.com>
       */
    EventService.prototype.finishTask = function (task) {
        return __awaiter(this, void 0, void 0, function () {
            var sqls, evdb, tdb;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(task); // 入参不能为空
                        this.assertEmpty(task.evi); // 事件ID不能为空
                        task.cs = __WEBPACK_IMPORTED_MODULE_12__data_enum__["l" /* IsSuccess */].success;
                        task.evd = __WEBPACK_IMPORTED_MODULE_9_moment__().format('YYYY/MM/DD');
                        task.evt = __WEBPACK_IMPORTED_MODULE_9_moment__().format('HH:mm');
                        task.fd = __WEBPACK_IMPORTED_MODULE_9_moment__().format('YYYY/MM/DD');
                        sqls = new Array();
                        evdb = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
                        Object.assign(evdb, task);
                        sqls.push(evdb.rpTParam());
                        tdb = new __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_t_tbl__["a" /* TTbl */]();
                        Object.assign(tdb, task);
                        sqls.push(tdb.rpTParam());
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls)];
                    case 1:
                        _a.sent();
                        this.emitService.emit("mwxing.calendar.activities.changed", task);
                        return [2 /*return*/, task];
                }
            });
        });
    };
    /**
     * 当是自动创建的任务的情况下,进行下一步操作
     * @author ying<343253410@qq.com>
     */
    EventService.prototype.finishTaskNext = function (evi) {
        return __awaiter(this, void 0, void 0, function () {
            var task, task2, task3;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(evi);
                        task = {};
                        return [4 /*yield*/, this.getTask(evi)];
                    case 1:
                        task = _a.sent();
                        task2 = null;
                        if (!(task.isrt == __WEBPACK_IMPORTED_MODULE_12__data_enum__["k" /* IsCreate */].isYes)) return [3 /*break*/, 3];
                        task3 = {};
                        Object.assign(task3, task);
                        if (!task3.rtevi) {
                            task3.rtevi = evi;
                        }
                        task3.evi = "";
                        task3.evd = __WEBPACK_IMPORTED_MODULE_9_moment__().format('YYYY/MM/DD');
                        task3.cs = __WEBPACK_IMPORTED_MODULE_12__data_enum__["l" /* IsSuccess */].wait;
                        task3.isrt = __WEBPACK_IMPORTED_MODULE_12__data_enum__["k" /* IsCreate */].isYes;
                        return [4 /*yield*/, this.saveTask(task3)];
                    case 2:
                        task2 = _a.sent();
                        _a.label = 3;
                    case 3: return [2 /*return*/, task2];
                }
            });
        });
    };
    EventService.prototype.sendAttachment = function (attachments) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(attachments); // 入参不能为空
                        return [4 /*yield*/, this.syncAttachments(attachments)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    EventService.prototype.syncAttachments = function (attachments, callback) {
        if (attachments === void 0) { attachments = new Array(); }
        if (callback === void 0) { callback = null; }
        return __awaiter(this, void 0, void 0, function () {
            var members, sql, sqlmember, maxdata, push, index, _loop_5, this_1, _i, attachments_1, attachment;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(attachments); // 入参不能为空
                        members = new Array();
                        if (!(attachments.length <= 0)) return [3 /*break*/, 3];
                        sql = "select * from gtd_fj where tb <> ?1 and ui = ?2";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, [__WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].synch, __WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */].account.id])];
                    case 1:
                        attachments = (_a.sent()) || attachments;
                        sqlmember = "select par.*,\n                        b.ran,\n                        b.ranpy,\n                        '' hiu,\n                        b.rn,\n                        b.rnpy,\n                        b.rc,\n                        b.rel,\n                      b.src\n                      from\n                      (select * from gtd_par where obi in\n                      (select obi from gtd_fj where ui = ?2 and (tb <> ?1 or tb is null))) par\n                      left join gtd_b b\n                      on b.pwi = par.pwi";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sqlmember, [__WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].synch, __WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */].account.id])];
                    case 2:
                        members = (_a.sent()) || members;
                        _a.label = 3;
                    case 3:
                        maxdata = 5;
                        if (!(attachments.length > 0)) return [3 /*break*/, 9];
                        push = new __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["c" /* PushInData */]();
                        index = 0;
                        _loop_5 = function (attachment) {
                            var sync, tos, membersTos, upload, data;
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        sync = new __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["d" /* SyncData */]();
                                        // 处理历史创建的附件数据 2019/10/31
                                        if (!attachment.ui) {
                                            attachment.ui = __WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */].account.id;
                                        }
                                        sync.src = attachment.ui;
                                        sync.id = attachment.fji;
                                        sync.type = "Attachment";
                                        sync.title = "[" + __WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */].account.name + "] 补充 " + attachment.fjn;
                                        sync.datetime = __WEBPACK_IMPORTED_MODULE_9_moment__["unix"](attachment.wtt).format("YYYY/MM/DD HH:mm");
                                        sync.main = true;
                                        sync.security = __WEBPACK_IMPORTED_MODULE_12__data_enum__["A" /* SyncDataSecurity */].None;
                                        sync.todostate = __WEBPACK_IMPORTED_MODULE_12__data_enum__["a" /* CompleteState */].None;
                                        // 设置删除状态
                                        if (attachment.del == __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del) {
                                            sync.status = __WEBPACK_IMPORTED_MODULE_12__data_enum__["B" /* SyncDataStatus */].Deleted;
                                        }
                                        else {
                                            sync.status = __WEBPACK_IMPORTED_MODULE_12__data_enum__["B" /* SyncDataStatus */].UnDeleted;
                                        }
                                        sync.invitestate = __WEBPACK_IMPORTED_MODULE_12__data_enum__["j" /* InviteState */].None;
                                        tos = "";
                                        if (attachment.members && attachment.members.length > 0) {
                                            tos = this_1.getMemberPhone(attachment.members);
                                        }
                                        else if (members.length > 0) {
                                            membersTos = members.filter(function (value, index, arr) {
                                                return attachment.obi == value.obi;
                                            });
                                            tos = this_1.getMemberPhone(membersTos);
                                        }
                                        sync.to = (!tos || tos == "" || tos == null) ? [] : tos.split(",");
                                        attachment.fpjson = generateCacheFilePathJson(attachment.fpjson, attachment.fj);
                                        if (!(attachment.fpjson && !attachment.fpjson.remote && attachment.ext && attachment.ext != "")) return [3 /*break*/, 2];
                                        if (!this_1.util.hasCordova()) return [3 /*break*/, 2];
                                        upload = new __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["e" /* UploadInData */]();
                                        upload.filepath = attachment.fpjson.getLocalFilePath(this_1.file.dataDirectory);
                                        return [4 /*yield*/, this_1.dataRestful.upload(upload)];
                                    case 1:
                                        data = _a.sent();
                                        console.log("upload <=> " + JSON.stringify(data));
                                        if (data && data.data) {
                                            attachment.fpjson.remote = String(data.data);
                                            attachment.fj = JSON.stringify(attachment.fpjson);
                                            if (callback)
                                                callback(attachment);
                                        }
                                        _a.label = 2;
                                    case 2:
                                        sync.payload = attachment;
                                        push.d.push(sync);
                                        index++;
                                        if (!(index % maxdata == 0)) return [3 /*break*/, 4];
                                        return [4 /*yield*/, this_1.dataRestful.push(push)];
                                    case 3:
                                        _a.sent();
                                        push = new __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["c" /* PushInData */]();
                                        _a.label = 4;
                                    case 4: return [2 /*return*/];
                                }
                            });
                        };
                        this_1 = this;
                        _i = 0, attachments_1 = attachments;
                        _a.label = 4;
                    case 4:
                        if (!(_i < attachments_1.length)) return [3 /*break*/, 7];
                        attachment = attachments_1[_i];
                        return [5 /*yield**/, _loop_5(attachment)];
                    case 5:
                        _a.sent();
                        _a.label = 6;
                    case 6:
                        _i++;
                        return [3 /*break*/, 4];
                    case 7:
                        if (!(index % maxdata != 0)) return [3 /*break*/, 9];
                        return [4 /*yield*/, this.dataRestful.push(push)];
                    case 8:
                        _a.sent();
                        _a.label = 9;
                    case 9: return [2 /*return*/];
                }
            });
        });
    };
    EventService.prototype.acceptSyncAttachments = function (ids) {
        return __awaiter(this, void 0, void 0, function () {
            var sqls, sql;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        sqls = new Array();
                        sql = "update gtd_fj set tb = ? where fji in ('" + ids.join(', ') + "')";
                        sqls.push([sql, [__WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].synch]]);
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    EventService.prototype.receivedAttachment = function (fji) {
        return __awaiter(this, void 0, void 0, function () {
            var pull, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.assertEmpty(fji); // 入参不能为空
                        pull = new __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["b" /* PullInData */]();
                        if (fji instanceof Array) {
                            pull.type = "Attachment";
                            (_a = pull.d).splice.apply(_a, [0, 0].concat(fji));
                        }
                        else {
                            pull.type = "Attachment";
                            pull.d.push(fji);
                        }
                        // 发送下载附件请求
                        return [4 /*yield*/, this.dataRestful.pull(pull)];
                    case 1:
                        // 发送下载附件请求
                        _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    EventService.prototype.receivedAttachmentData = function (attachments, status) {
        return __awaiter(this, void 0, void 0, function () {
            var sqlparam, saved, nwfj, _i, attachments_2, attachment, single, fj;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(attachments); // 入参不能为空
                        this.assertEmpty(status); // 入参不能为空
                        sqlparam = new Array();
                        saved = new Array();
                        nwfj = new Array();
                        for (_i = 0, attachments_2 = attachments; _i < attachments_2.length; _i++) {
                            attachment = attachments_2[_i];
                            single = {};
                            Object.assign(single, attachment);
                            // 删除参与人时，通过这个字段传递删除数据
                            if (status == __WEBPACK_IMPORTED_MODULE_12__data_enum__["B" /* SyncDataStatus */].Deleted) {
                                single.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del;
                            }
                            else {
                                // 删除字段不共享, 如果不存在需要设置默认值
                                if (!single.del)
                                    single.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel;
                            }
                            single.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].synch;
                            fj = new __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_fj_tbl__["a" /* FjTbl */]();
                            Object.assign(fj, single);
                            sqlparam.push(fj.rpTParam());
                            attachment.fpjson = generateCacheFilePathJson(attachment.fpjson, attachment.fj);
                            // 下载文件到本地 默认不下载 用户手动下载
                            // if (attachment.fpjson && attachment.fpjson.remote && attachment.ext && attachment.ext != "") {
                            //   // 仅限手机设备上下载
                            //   if (this.util.hasCordova()) {
                            //     let download: DownloadInData = new DownloadInData();
                            //
                            //     let remote = Number(attachment.fpjson.remote);
                            //
                            //     if (!isNaN(remote)) {
                            //       download.id = attachment.fpjson.remote;
                            //       download.filepath = attachment.fpjson.getLocalFilePath(this.file.dataDirectory);
                            //
                            //       let data = await this.dataRestful.download(download);
                            //       console.log("download <=> " + JSON.stringify(data));
                            //     }
                            //   }
                            // }
                            saved.push(single);
                        }
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqlparam)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/, saved];
                }
            });
        });
    };
    /**
       * 发送日程进行共享
     *
       * @author leon_xi@163.com
       */
    EventService.prototype.sendAgenda = function (agendas) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(agendas); // 入参不能为空
                        return [4 /*yield*/, this.syncAgendas(agendas)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 同步全部的未同步的日程/指定日程到服务器
     *
     * @author leon_xi@163.com
     */
    EventService.prototype.syncAgendas = function (agendas) {
        if (agendas === void 0) { agendas = new Array(); }
        return __awaiter(this, void 0, void 0, function () {
            var members, attachments, sql, sqlattachments, sqlmember, evis, sqlattachments, maxdata, push, index, _loop_6, this_2, _i, agendas_1, agenda;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(agendas); // 入参不能为空
                        members = new Array();
                        attachments = new Array();
                        if (!(agendas.length <= 0)) return [3 /*break*/, 4];
                        sql = "select ev.*, ca.sd, ca.ed, ca.st, ca.et, ca.al, ca.ct\n                        from (select *,\n                        case when rfg = '2' then evi\n                             when ifnull(rtevi, '') = '' then evi\n                             else rtevi end forceevi\n                          from gtd_ev\n                          where ui <> '' and ui is not null and type = ?1 and tb = ?2) ev\n                        left join gtd_ca ca\n                        on ca.evi = ev.forceevi";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, [__WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Agenda, __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch])];
                    case 1:
                        agendas = (_a.sent()) || agendas;
                        sqlattachments = "select distinct fj.* from (\n                                    select\n                                          case when rfg = '2' then evi\n                                             when ifnull(rtevi, '') = '' then evi\n                                             else rtevi end forceevi\n                                          from gtd_ev\n                                          where ui <> '' and ui is not null and type = ?1 and tb = ?2\n                                  ) ev\n                                  inner join gtd_fj fj\n                                  on ev.forceevi = fj.obi and fj.obt = ?3";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sqlattachments, [__WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Agenda, __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch, __WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event])];
                    case 2:
                        attachments = (_a.sent()) || attachments;
                        sqlmember = " select distinct par.*  ,\n  \t\t                              b.ran,\n                                   b.ranpy,\n                                   '' hiu,\n                                   b.rn,\n                                   b.rnpy,\n                                   b.rc,\n                                   b.rel,\n                                   b.src\n  \t\t                        from (select\n                                    case when rfg = '2' then evi\n                                       when ifnull(rtevi, '') = '' then evi\n                                       else rtevi end forceevi\n                                    from gtd_ev\n                                    where ui <> '' and ui is not null and type = ?1 and tb = ?2) ev\n                              inner join gtd_par par\n                              on ev.forceevi = par.obi and par.obt = ?3\n                              inner join gtd_b b\n                              on par.pwi = b.pwi ";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sqlmember, [__WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Agenda, __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch, __WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event])];
                    case 3:
                        members = (_a.sent()) || members;
                        return [3 /*break*/, 6];
                    case 4:
                        evis = agendas.reduce(function (target, ele) {
                            target.push(ele.evi);
                            return target;
                        }, new Array());
                        sqlattachments = "select *\n                                    from gtd_fj\n                                    where obi in ('" + evis.join(', ') + "') and obt = ?1";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sqlattachments, [__WEBPACK_IMPORTED_MODULE_12__data_enum__["q" /* ObjectType */].Event])];
                    case 5:
                        attachments = (_a.sent()) || attachments;
                        _a.label = 6;
                    case 6:
                        maxdata = 5;
                        if (!(agendas.length > 0)) return [3 /*break*/, 12];
                        push = new __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["c" /* PushInData */]();
                        index = 0;
                        _loop_6 = function (agenda) {
                            var currentAttachments, sync, parEvi_1, membersTos_1, singlemembers_1;
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        currentAttachments = attachments.filter(function (ele) {
                                            return ele.obi == agenda.evi;
                                        }) || new Array();
                                        sync = new __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["d" /* SyncData */]();
                                        sync.fields.unshared.push("del"); // 删除状态为个人数据不共享给他人
                                        sync.fields.unshared.push("bz"); // 备注为个人数据不共享给他人
                                        sync.fields.unshared.push("ji"); // 计划为个人数据不共享给他人
                                        sync.fields.unshared.push("tx"); // 提醒为个人数据不共享给他人
                                        sync.fields.unshared.push("txs"); // 提醒为个人数据不共享给他人
                                        sync.fields.unshared.push("todolist"); // 待处理任务为个人数据不共享给他人
                                        sync.fields.unshared.push("wc"); // 完成状态为个人数据不共享给他人
                                        sync.fields.unshared.push("invitestatus"); // 接受拒绝状态为个人数据不共享给他人
                                        sync.src = agenda.ui;
                                        sync.id = agenda.evi;
                                        sync.type = "Agenda";
                                        sync.title = agenda.evn;
                                        sync.datetime = agenda.evd + " " + agenda.evt;
                                        // 非重复日程/重复日程的第一条需要通知
                                        if (!agenda.rtevi || agenda.rfg == __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].RepeatToOnly) {
                                            sync.main = true;
                                        }
                                        sync.security = __WEBPACK_IMPORTED_MODULE_12__data_enum__["A" /* SyncDataSecurity */].None;
                                        // 修改权限设定
                                        if (agenda.md == __WEBPACK_IMPORTED_MODULE_12__data_enum__["p" /* ModiPower */].disable) {
                                            sync.security = __WEBPACK_IMPORTED_MODULE_12__data_enum__["A" /* SyncDataSecurity */].SelfModify;
                                        }
                                        if (agenda.md == __WEBPACK_IMPORTED_MODULE_12__data_enum__["p" /* ModiPower */].enable) {
                                            sync.security = __WEBPACK_IMPORTED_MODULE_12__data_enum__["A" /* SyncDataSecurity */].ShareModify;
                                        }
                                        // 完成状态
                                        if (agenda.wc == __WEBPACK_IMPORTED_MODULE_12__data_enum__["f" /* EventFinishStatus */].Finished) {
                                            sync.todostate = __WEBPACK_IMPORTED_MODULE_12__data_enum__["a" /* CompleteState */].Completed;
                                        }
                                        else if (agenda.todolist == __WEBPACK_IMPORTED_MODULE_12__data_enum__["D" /* ToDoListStatus */].On && agenda.wc == __WEBPACK_IMPORTED_MODULE_12__data_enum__["f" /* EventFinishStatus */].NonFinish) {
                                            sync.todostate = __WEBPACK_IMPORTED_MODULE_12__data_enum__["a" /* CompleteState */].UnComplete;
                                        }
                                        else {
                                            sync.todostate = __WEBPACK_IMPORTED_MODULE_12__data_enum__["a" /* CompleteState */].None;
                                        }
                                        // 设置删除状态
                                        if (agenda.del == __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del) {
                                            sync.status = __WEBPACK_IMPORTED_MODULE_12__data_enum__["B" /* SyncDataStatus */].Deleted;
                                        }
                                        else {
                                            sync.status = __WEBPACK_IMPORTED_MODULE_12__data_enum__["B" /* SyncDataStatus */].UnDeleted;
                                        }
                                        // 设置受邀状态
                                        if (agenda.invitestatus == __WEBPACK_IMPORTED_MODULE_12__data_enum__["j" /* InviteState */].Accepted) {
                                            sync.invitestate = __WEBPACK_IMPORTED_MODULE_12__data_enum__["j" /* InviteState */].Accepted;
                                        }
                                        else if (agenda.invitestatus == __WEBPACK_IMPORTED_MODULE_12__data_enum__["j" /* InviteState */].Rejected) {
                                            sync.invitestate = __WEBPACK_IMPORTED_MODULE_12__data_enum__["j" /* InviteState */].Rejected;
                                        }
                                        else {
                                            sync.invitestate = __WEBPACK_IMPORTED_MODULE_12__data_enum__["j" /* InviteState */].None;
                                        }
                                        if (members.length > 0) {
                                            if (agenda.rtevi == "") {
                                                //非重复数据或重复数据的父记录
                                                parEvi_1 = agenda.evi;
                                            }
                                            else {
                                                //重复数据
                                                parEvi_1 = agenda.rtevi;
                                            }
                                            membersTos_1 = members.filter(function (value, index, arr) {
                                                return parEvi_1 == value.obi;
                                            });
                                            agenda.tos = this_2.getMemberPhone(membersTos_1);
                                            // 把参与人添加到附件数据上
                                            currentAttachments = currentAttachments.reduce(function (target, ele) {
                                                ele.members = membersTos_1;
                                                target.push(ele);
                                                return target;
                                            }, new Array());
                                        }
                                        else {
                                            singlemembers_1 = new Array();
                                            //取得相关参与人
                                            if (agenda.members && agenda.members.length > 0) {
                                                singlemembers_1 = agenda.members;
                                            }
                                            if (singlemembers_1.length > 0) {
                                                agenda.tos = this_2.getMemberPhone(singlemembers_1);
                                                // 把参与人添加到附件数据上
                                                currentAttachments = currentAttachments.reduce(function (target, ele) {
                                                    ele.members = singlemembers_1;
                                                    target.push(ele);
                                                    return target;
                                                }, new Array());
                                            }
                                        }
                                        sync.to = (!agenda.tos || agenda.tos == "" || agenda.tos == null) ? [] : agenda.tos.split(",");
                                        this_2.assertNotEqual(agenda.pn, sync.to.length); // 参与人数量和参与人数组必须相同
                                        sync.payload = this_2.cleanAgendaPayload(agenda);
                                        push.d.push(sync);
                                        if (!(currentAttachments && currentAttachments.length > 0)) return [3 /*break*/, 2];
                                        return [4 /*yield*/, this_2.syncAttachments(currentAttachments)];
                                    case 1:
                                        _a.sent();
                                        _a.label = 2;
                                    case 2:
                                        index++;
                                        if (!(index % maxdata == 0)) return [3 /*break*/, 4];
                                        return [4 /*yield*/, this_2.dataRestful.push(push)];
                                    case 3:
                                        _a.sent();
                                        push = new __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["c" /* PushInData */]();
                                        _a.label = 4;
                                    case 4: return [2 /*return*/];
                                }
                            });
                        };
                        this_2 = this;
                        _i = 0, agendas_1 = agendas;
                        _a.label = 7;
                    case 7:
                        if (!(_i < agendas_1.length)) return [3 /*break*/, 10];
                        agenda = agendas_1[_i];
                        return [5 /*yield**/, _loop_6(agenda)];
                    case 8:
                        _a.sent();
                        _a.label = 9;
                    case 9:
                        _i++;
                        return [3 /*break*/, 7];
                    case 10:
                        if (!(index % maxdata != 0)) return [3 /*break*/, 12];
                        return [4 /*yield*/, this.dataRestful.push(push)];
                    case 11:
                        _a.sent();
                        _a.label = 12;
                    case 12: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 清除同步到云服务日程数据内容
     *
     * @author leon_xi@163.com
     */
    EventService.prototype.cleanAgendaPayload = function (payload) {
        Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["a" /* assertEmpty */])(payload); // 入参不能为空
        var cleaned = {};
        Object.assign(cleaned, payload);
        // 重复临时属性置空
        cleaned.rtjson = null;
        // 提醒临时属性置空
        cleaned.txjson = null;
        cleaned.attachments = [];
        // 清除参与人设备关联字段
        if (cleaned.members) {
            var members = new Array();
            for (var _i = 0, _a = cleaned.members; _i < _a.length; _i++) {
                var member = _a[_i];
                member.bhiu = "";
                members.push(member);
            }
            cleaned.members = members;
        }
        return cleaned;
    };
    /**
     * 重建从云服务拉取的日程数据内容
     *
     * @author leon_xi@163.com
     */
    EventService.prototype.buildAgendaPayload = function (payload) {
        Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["a" /* assertEmpty */])(payload); // 入参不能为空
        var built = {};
        Object.assign(built, payload);
        return built;
    };
    /**
     * 完成日程同步,更新日程同步状态
     *
     * @author leon_xi@163.com
     */
    EventService.prototype.acceptSyncAgendas = function (ids) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var sqls, sql, _i, ids_1, id;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        sqls = new Array();
                        sql = "update gtd_ev set tb = ? where evi in ('" + ids.join(', ') + "')";
                        sqls.push([sql, [__WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].synch]]);
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls)];
                    case 1:
                        _a.sent();
                        // 同步完成后刷新缓存
                        for (_i = 0, ids_1 = ids; _i < ids_1.length; _i++) {
                            id = ids_1[_i];
                            this.getAgenda(id).then(function (agenda) {
                                if (agenda) {
                                    _this.emitService.emit("mwxing.calendar.activities.changed", agenda);
                                }
                            });
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 发送任务进行共享
     * @author ying<343253410@qq.com>
     */
    EventService.prototype.sendTask = function (tt) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(tt);
                        this.assertNotEqual(tt.type, __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Task); //不是任务不能发送共享
                        return [4 /*yield*/, this.syncTask(tt)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 发送小任务进行共享
     * @author ying<343253410@qq.com>
     */
    EventService.prototype.sendMiniTask = function (tt) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(tt);
                        this.assertNotEqual(tt.type, __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].MiniTask); //不是任务不能发送共享
                        return [4 /*yield*/, this.syncMiniTask(tt)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 接收任务
     * @author ying<343253410@qq.com>
     */
    EventService.prototype.receivedTask = function (evi) {
        return __awaiter(this, void 0, void 0, function () {
            var pull;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(evi); // 入参不能为空
                        pull = new __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["b" /* PullInData */]();
                        pull.type = "Task";
                        pull.d.push(evi);
                        return [4 /*yield*/, this.dataRestful.pull(pull)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 接受邀请
     *
     * @author leon_xi@163.com
     */
    EventService.prototype.acceptReceivedAgenda = function (evi) {
        return __awaiter(this, void 0, void 0, function () {
            var origin, current, saved;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(evi); // 入参不能为空
                        return [4 /*yield*/, this.getAgenda(evi)];
                    case 1:
                        origin = _a.sent();
                        current = {};
                        Object.assign(current, origin);
                        current.invitestatus = __WEBPACK_IMPORTED_MODULE_12__data_enum__["j" /* InviteState */].Accepted;
                        return [4 /*yield*/, this.saveAgenda(current, origin)];
                    case 2:
                        saved = _a.sent();
                        return [2 /*return*/, current];
                }
            });
        });
    };
    /**
     * 拒绝邀请
     *
     * @author leon_xi@163.com
     */
    EventService.prototype.rejectReceivedAgenda = function (evi) {
        return __awaiter(this, void 0, void 0, function () {
            var origin, current, saved;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(evi); // 入参不能为空
                        return [4 /*yield*/, this.getAgenda(evi)];
                    case 1:
                        origin = _a.sent();
                        current = {};
                        Object.assign(current, origin);
                        current.invitestatus = __WEBPACK_IMPORTED_MODULE_12__data_enum__["j" /* InviteState */].Rejected;
                        current.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del; // 拒绝的日程设置为删除, 从用户日历显示中删除
                        return [4 /*yield*/, this.saveAgenda(current, origin)];
                    case 2:
                        saved = _a.sent();
                        return [2 /*return*/, current];
                }
            });
        });
    };
    /**
     * 接收任务保存到本地
     * @author ying<343253410@qq.com>
     */
    EventService.prototype.acceptReceivedTask = function (task, status) {
        return __awaiter(this, void 0, void 0, function () {
            var sqls, evdb, tdb;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(task); // 入参不能为空
                        this.assertEmpty(task.evi); // ID不能为空
                        this.assertNotEqual(task.type, __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Task); //不是任务不能发送共享
                        this.assertEmpty(status); // 入参不能为空
                        task.del = status;
                        task.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].synch;
                        sqls = new Array();
                        evdb = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
                        Object.assign(evdb, task);
                        sqls.push(evdb.rpTParam());
                        tdb = new __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_t_tbl__["a" /* TTbl */]();
                        Object.assign(tdb, task);
                        sqls.push(tdb.rpTParam());
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls)];
                    case 1:
                        _a.sent();
                        this.emitService.emit("mwxing.calendar.activities.changed", task);
                        return [2 /*return*/, task];
                }
            });
        });
    };
    /**
     * 接收小任务保存到本地
     * @author ying<343253410@qq.com>
     */
    EventService.prototype.acceptReceivedMiniTask = function (tt, status) {
        return __awaiter(this, void 0, void 0, function () {
            var evdb, backMEvent;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(tt); // 入参不能为空
                        this.assertEmpty(tt.evi); // ID不能为空
                        this.assertNotEqual(tt.type, __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].MiniTask); //不是任务不能发送共享
                        this.assertEmpty(status); // 入参不能为空
                        evdb = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
                        Object.assign(evdb, tt);
                        evdb.del = status;
                        evdb.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].synch;
                        return [4 /*yield*/, this.sqlExce.repTByParam(evdb)];
                    case 1:
                        _a.sent();
                        backMEvent = {};
                        Object.assign(backMEvent, evdb);
                        return [2 /*return*/, backMEvent];
                }
            });
        });
    };
    EventService.prototype.rejectReceivedEvent = function () { };
    /**
     * 同步任务到服务器
     * @author ying<343253410@qq.com>
     */
    EventService.prototype.syncTask = function (task) {
        return __awaiter(this, void 0, void 0, function () {
            var push, sync;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(task); // 入参不能为空
                        this.assertEmpty(task.evi); // ID不能为空
                        this.assertEmpty(task.del); // 删除标记不能为空
                        push = new __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["c" /* PushInData */]();
                        sync = new __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["d" /* SyncData */]();
                        sync.id = task.evi;
                        sync.type = "Task";
                        //修改权限设定
                        if (task.md == __WEBPACK_IMPORTED_MODULE_12__data_enum__["p" /* ModiPower */].disable) {
                            sync.security = __WEBPACK_IMPORTED_MODULE_12__data_enum__["A" /* SyncDataSecurity */].SelfModify;
                        }
                        if (task.md == __WEBPACK_IMPORTED_MODULE_12__data_enum__["p" /* ModiPower */].enable) {
                            sync.security = __WEBPACK_IMPORTED_MODULE_12__data_enum__["A" /* SyncDataSecurity */].ShareModify;
                        }
                        //删除设定
                        if (task.del == __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del) {
                            sync.status = __WEBPACK_IMPORTED_MODULE_12__data_enum__["B" /* SyncDataStatus */].Deleted;
                        }
                        else {
                            sync.status = __WEBPACK_IMPORTED_MODULE_12__data_enum__["B" /* SyncDataStatus */].UnDeleted;
                        }
                        sync.payload = task;
                        push.d.push(sync);
                        return [4 /*yield*/, this.dataRestful.push(push)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 同步小任务到服务器
     * @author ying<343253410@qq.com>
     */
    EventService.prototype.syncMiniTask = function (tt) {
        return __awaiter(this, void 0, void 0, function () {
            var push, sync;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(tt); // 入参不能为空
                        this.assertEmpty(tt.evi); // ID不能为空
                        this.assertEmpty(tt.del); // 删除标记不能为空
                        push = new __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["c" /* PushInData */]();
                        sync = new __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["d" /* SyncData */]();
                        sync.id = tt.evi;
                        sync.type = "MiniTask";
                        sync.security = __WEBPACK_IMPORTED_MODULE_12__data_enum__["A" /* SyncDataSecurity */].None;
                        sync.status = __WEBPACK_IMPORTED_MODULE_12__data_enum__["B" /* SyncDataStatus */][tt.del];
                        sync.payload = tt;
                        push.d.push(sync);
                        return [4 /*yield*/, this.dataRestful.push(push)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /***
    * 新增附件
    **@author ying<343253410@qq.com>
    */
    EventService.prototype.saveAttachment = function (att) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var fjdb;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(att); // 入参不能为空
                        this.assertEmpty(att.fjn); // 附件名称
                        this.assertEmpty(att.obt);
                        this.assertEmpty(att.obi);
                        //创建主键
                        att.fji = this.util.getUuid();
                        fjdb = new __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_fj_tbl__["a" /* FjTbl */]();
                        Object.assign(fjdb, att);
                        //新增数据
                        return [4 /*yield*/, this.sqlExce.saveByParam(fjdb)];
                    case 1:
                        //新增数据
                        _a.sent();
                        //同步数据
                        this.emitService.emit("mwxing.event.fj.add", att);
                        return [4 /*yield*/, this.syncAttachments([att], function (updated) { return __awaiter(_this, void 0, void 0, function () {
                                var fjdb;
                                return __generator(this, function (_a) {
                                    switch (_a.label) {
                                        case 0:
                                            fjdb = new __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_fj_tbl__["a" /* FjTbl */]();
                                            Object.assign(fjdb, updated);
                                            //更新数据
                                            return [4 /*yield*/, this.sqlExce.saveByParam(fjdb)];
                                        case 1:
                                            //更新数据
                                            _a.sent();
                                            att = updated;
                                            return [2 /*return*/];
                                    }
                                });
                            }); })];
                    case 2:
                        _a.sent();
                        return [2 /*return*/, att];
                }
            });
        });
    };
    /***
    * 删除附件
    **@author ying<343253410@qq.com>
    */
    EventService.prototype.removeAttachment = function (att) {
        return __awaiter(this, void 0, void 0, function () {
            var fjdb;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(att);
                        this.assertEmpty(att.fji);
                        att.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del;
                        att.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
                        fjdb = new __WEBPACK_IMPORTED_MODULE_18__sqlite_tbl_fj_tbl__["a" /* FjTbl */]();
                        Object.assign(fjdb, att);
                        //更新本地数据库
                        return [4 /*yield*/, this.sqlExce.updateByParam(fjdb)];
                    case 1:
                        //更新本地数据库
                        _a.sent();
                        //同步数据
                        this.emitService.emit("mwxing.event.fj.changed", att);
                        this.syncAttachments([att]);
                        return [2 /*return*/, att];
                }
            });
        });
    };
    /**
     * 查询全部的附件信息
     * @author ying<343253410@qq.com>
     */
    EventService.prototype.selectAttachments = function () {
        return __awaiter(this, void 0, void 0, function () {
            var attachments, sql, fjs, _i, fjs_1, fj, at, cacheFilePathJson;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        attachments = new Array();
                        sql = "select * from gtd_fj  where del = ? order by wtt asc";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, [__WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel])];
                    case 1:
                        fjs = _a.sent();
                        if (fjs && fjs.length > 0) {
                            for (_i = 0, fjs_1 = fjs; _i < fjs_1.length; _i++) {
                                fj = fjs_1[_i];
                                at = {};
                                Object.assign(at, fj);
                                cacheFilePathJson = new CacheFilePathJson();
                                cacheFilePathJson.local = "/" + fj.fjn;
                                at.fpjson = cacheFilePathJson;
                                attachments.push(at);
                            }
                        }
                        return [2 /*return*/, attachments];
                }
            });
        });
    };
    /**
     * 同步全部的未同步的任务到服务器
     * @author ying<343253410@qq.com>
     */
    EventService.prototype.syncTasks = function () {
        return __awaiter(this, void 0, void 0, function () {
            var sql, unsyncedtasks, push, _i, unsyncedtasks_1, tt, sync;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        sql = "select * from gtd_ev where type = ? and   tb = ?";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, [__WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Task, __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch])];
                    case 1:
                        unsyncedtasks = _a.sent();
                        if (!(unsyncedtasks && unsyncedtasks.length > 0)) return [3 /*break*/, 3];
                        push = new __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["c" /* PushInData */]();
                        for (_i = 0, unsyncedtasks_1 = unsyncedtasks; _i < unsyncedtasks_1.length; _i++) {
                            tt = unsyncedtasks_1[_i];
                            sync = new __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["d" /* SyncData */]();
                            sync.id = tt.evi;
                            sync.type = "Task";
                            sync.security = __WEBPACK_IMPORTED_MODULE_12__data_enum__["A" /* SyncDataSecurity */].None;
                            sync.status = __WEBPACK_IMPORTED_MODULE_12__data_enum__["B" /* SyncDataStatus */][tt.del];
                            sync.payload = tt;
                            push.d.push(sync);
                        }
                        return [4 /*yield*/, this.dataRestful.push(push)];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 同步全部的未同步的小任务到服务器
     * @author ying<343253410@qq.com>
     */
    EventService.prototype.syncMiniTasks = function () {
        return __awaiter(this, void 0, void 0, function () {
            var sql, unsyncedminitasks, push, _i, unsyncedminitasks_1, tt, sync;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        sql = "select * from gtd_ev where type = ? and   tb = ?";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, [__WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].MiniTask, __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch])];
                    case 1:
                        unsyncedminitasks = _a.sent();
                        if (!(unsyncedminitasks && unsyncedminitasks.length > 0)) return [3 /*break*/, 3];
                        push = new __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["c" /* PushInData */]();
                        for (_i = 0, unsyncedminitasks_1 = unsyncedminitasks; _i < unsyncedminitasks_1.length; _i++) {
                            tt = unsyncedminitasks_1[_i];
                            sync = new __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["d" /* SyncData */]();
                            sync.id = tt.evi;
                            sync.type = "MiniTask";
                            sync.security = __WEBPACK_IMPORTED_MODULE_12__data_enum__["A" /* SyncDataSecurity */].None;
                            sync.status = __WEBPACK_IMPORTED_MODULE_12__data_enum__["B" /* SyncDataStatus */][tt.del];
                            sync.payload = tt;
                            push.d.push(sync);
                        }
                        return [4 /*yield*/, this.dataRestful.push(push)];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    /**
       * 根据年月日检索任务  只检索任务,不检索小任务
       * @author ying<343253410@qq.com>
       */
    EventService.prototype.fetchPagedTasks = function (day, direction) {
        if (day === void 0) { day = __WEBPACK_IMPORTED_MODULE_9_moment__().format('YYYY/MM/DD'); }
        if (direction === void 0) { direction = __WEBPACK_IMPORTED_MODULE_12__data_enum__["t" /* PageDirection */].PageInit; }
        return __awaiter(this, void 0, void 0, function () {
            var pagetasks, today, top, bottom, sql, data, sql, data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(day); // 验证日期是否为空
                        this.assertEmpty(direction); // 入参不能为空
                        pagetasks = new Array();
                        today = __WEBPACK_IMPORTED_MODULE_9_moment__().format('YYYY/MM/DD');
                        top = day;
                        bottom = __WEBPACK_IMPORTED_MODULE_9_moment__(day).add(1, "days").format('YYYY/MM/DD');
                        // 下拉刷新时需要减一天
                        if (direction == __WEBPACK_IMPORTED_MODULE_12__data_enum__["t" /* PageDirection */].PageDown) {
                            top = __WEBPACK_IMPORTED_MODULE_9_moment__(day).subtract(1, "days").format('YYYY/MM/DD');
                        }
                        if (!(direction == __WEBPACK_IMPORTED_MODULE_12__data_enum__["t" /* PageDirection */].PageInit || direction == __WEBPACK_IMPORTED_MODULE_12__data_enum__["t" /* PageDirection */].PageDown)) return [3 /*break*/, 2];
                        sql = "select distinct task.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                        from (\n                          select evpage.day evd, ev.*\n                          from (\n                            select evnext.day day, julianday(replace(?1, '/', '-'), '+1 days') - julianday(replace(evnext.day, '/', '-')) sortid\n                            from (\n                              select distinct page1.evd day, page1.type, page1.del\n                              from (\n                                select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                                from gtd_ev ev\n                                left join gtd_t tt\n                                on tt.evi = ev.evi\n                                where ev.type = ?2\n                              ) page1\n                              where page1.cs = '1' or (page1.cs = '0' and date(replace(page1.evd, '/', '-')) > date(replace(?4, '/', '-')))\n                              union all\n                              select distinct ?4 day, page0.type, page0.del\n                              from (\n                                select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                                from gtd_ev ev\n                                left join gtd_t tt\n                                on tt.evi = ev.evi\n                                where ev.type = ?2\n                              ) page0\n                              where page0.cs = '0' and date(replace(page0.evd, '/', '-')) <= date(replace(?4, '/', '-'))\n                            ) evnext\n                            where evnext.type = ?2 and evnext.del = ?3 and julianday(replace(evnext.day, '/', '-')) < julianday(replace(?1, '/', '-'), '+1 days')\n                            order by sortid\n                            limit 5\n                          ) evpage\n                          left join (\n                            select page1.evd day, page1.*\n                            from (\n                              select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                              from gtd_ev ev\n                              left join gtd_t tt\n                              on tt.evi = ev.evi\n                              where ev.type = ?2\n                            ) page1\n                            where page1.cs = '1' or (page1.cs = '0' and date(replace(page1.evd, '/', '-')) > date(replace(?4, '/', '-')))\n                            union all\n                            select ?4 day, page0.*\n                            from (\n                              select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                              from gtd_ev ev\n                              left join gtd_t tt\n                              on tt.evi = ev.evi\n                              where ev.type = ?2\n                            ) page0\n                            where page0.cs = '0' and date(replace(page0.evd, '/', '-')) <= date(replace(?4, '/', '-'))\n                          ) ev\n                          on ev.day = evpage.day\n                        ) task\n                        left join gtd_t tt\n                        on tt.evi = task.evi\n                        order by task.evd asc";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, [top, __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Task, __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel, today])];
                    case 1:
                        data = _a.sent();
                        if (data && data.length > 0) {
                            pagetasks = data;
                        }
                        _a.label = 2;
                    case 2:
                        if (!(direction == __WEBPACK_IMPORTED_MODULE_12__data_enum__["t" /* PageDirection */].PageInit || direction == __WEBPACK_IMPORTED_MODULE_12__data_enum__["t" /* PageDirection */].PageUp)) return [3 /*break*/, 4];
                        sql = "select distinct task.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                        from (\n                          select evpage.day evd, ev.*\n                          from (\n                            select evnext.day day, julianday(replace(evnext.day, '/', '-')) - julianday(replace(?1, '/', '-'), '+1 days') sortid\n                            from (\n                              select distinct page1.evd day, page1.type, page1.del\n                              from (\n                                select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                                from gtd_ev ev\n                                left join gtd_t tt\n                                on tt.evi = ev.evi\n                                where ev.type = ?2\n                              ) page1\n                              where page1.cs = '1' or (page1.cs = '0' and date(replace(page1.evd, '/', '-')) > date(replace(?4, '/', '-')))\n                              union all\n                              select distinct ?4 day, page0.type, page0.del\n                              from (\n                                select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                                from gtd_ev ev\n                                left join gtd_t tt\n                                on tt.evi = ev.evi\n                                where ev.type = ?2\n                              ) page0\n                              where page0.cs = '0' and date(replace(page0.evd, '/', '-')) <= date(replace(?4, '/', '-'))\n                            ) evnext\n                            where evnext.type = ?2 and evnext.del = ?3 and julianday(replace(evnext.day, '/', '-')) > julianday(replace(?1, '/', '-'), '+1 days')\n                            order by sortid\n                            limit 5\n                          ) evpage\n                          left join (\n                            select page1.evd day, page1.*\n                            from (\n                              select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                              from gtd_ev ev\n                              left join gtd_t tt\n                              on tt.evi = ev.evi\n                              where ev.type = ?2\n                            ) page1\n                            where page1.cs = '1' or (page1.cs = '0' and date(replace(page1.evd, '/', '-')) > date(replace(?4, '/', '-')))\n                            union all\n                            select ?4 day, page0.*\n                            from (\n                              select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                              from gtd_ev ev\n                              left join gtd_t tt\n                              on tt.evi = ev.evi\n                              where ev.type = ?2\n                            ) page0\n                            where page0.cs = '0' and date(replace(page0.evd, '/', '-')) <= date(replace(?4, '/', '-'))\n                          ) ev\n                          on ev.day = evpage.day\n                        ) task\n                        left join gtd_t tt\n                        on tt.evi = task.evi\n                        order by task.evd asc";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, [bottom, __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Task, __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel, today])];
                    case 3:
                        data = _a.sent();
                        if (data && data.length > 0) {
                            pagetasks = pagetasks.concat(data);
                        }
                        _a.label = 4;
                    case 4: return [2 /*return*/, pagetasks];
                }
            });
        });
    };
    /**
       * 检索完成任务
       * @author ying<343253410@qq.com>
       */
    EventService.prototype.fetchPagedCompletedTasks = function (day, direction) {
        if (day === void 0) { day = __WEBPACK_IMPORTED_MODULE_9_moment__().format('YYYY/MM/DD'); }
        if (direction === void 0) { direction = __WEBPACK_IMPORTED_MODULE_12__data_enum__["t" /* PageDirection */].PageInit; }
        return __awaiter(this, void 0, void 0, function () {
            var pagetasks, top, bottom, sql, data, sql, data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(day); // 验证日期是否为空
                        this.assertEmpty(direction); // 入参不能为空
                        pagetasks = new Array();
                        top = day;
                        bottom = __WEBPACK_IMPORTED_MODULE_9_moment__(day).add(1, "days").format('YYYY/MM/DD');
                        // 下拉刷新时需要减一天
                        if (direction == __WEBPACK_IMPORTED_MODULE_12__data_enum__["t" /* PageDirection */].PageDown) {
                            top = __WEBPACK_IMPORTED_MODULE_9_moment__(day).subtract(1, "days").format('YYYY/MM/DD');
                        }
                        if (!(direction == __WEBPACK_IMPORTED_MODULE_12__data_enum__["t" /* PageDirection */].PageInit || direction == __WEBPACK_IMPORTED_MODULE_12__data_enum__["t" /* PageDirection */].PageDown)) return [3 /*break*/, 2];
                        sql = "select distinct task.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                        from (\n                          select evpage.day evd, ev.*\n                          from (\n                            select evnext.day day, julianday(replace(?1, '/', '-'), '+1 days') - julianday(replace(evnext.day, '/', '-')) sortid\n                            from (\n                              select distinct page1.evd day, page1.type, page1.del\n                              from (\n                                select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                                from gtd_ev ev\n                                left join gtd_t tt\n                                on tt.evi = ev.evi\n                                where ev.type = ?2\n                              ) page1\n                              where page1.cs = '1'\n                            ) evnext\n                            where evnext.type = ?2 and evnext.del = ?3 and julianday(replace(evnext.day, '/', '-')) < julianday(replace(?1, '/', '-'), '+1 days')\n                            order by sortid\n                            limit 5\n                          ) evpage\n                          left join (\n                            select page1.evd day, page1.*\n                            from (\n                              select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                              from gtd_ev ev\n                              left join gtd_t tt\n                              on tt.evi = ev.evi\n                              where ev.type = ?2\n                            ) page1\n                            where page1.cs = '1'\n                          ) ev\n                          on ev.day = evpage.day\n                        ) task\n                        left join gtd_t tt\n                        on tt.evi = task.evi\n                        order by task.evd asc";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, [top, __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Task, __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel])];
                    case 1:
                        data = _a.sent();
                        if (data && data.length > 0) {
                            pagetasks = data;
                        }
                        _a.label = 2;
                    case 2:
                        if (!(direction == __WEBPACK_IMPORTED_MODULE_12__data_enum__["t" /* PageDirection */].PageInit || direction == __WEBPACK_IMPORTED_MODULE_12__data_enum__["t" /* PageDirection */].PageUp)) return [3 /*break*/, 4];
                        sql = "select distinct task.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                        from (\n                          select evpage.day evd, ev.*\n                          from (\n                            select evnext.day day, julianday(replace(evnext.day, '/', '-')) - julianday(replace(?1, '/', '-'), '+1 days') sortid\n                            from (\n                              select distinct page1.evd day, page1.type, page1.del\n                              from (\n                                select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                                from gtd_ev ev\n                                left join gtd_t tt\n                                on tt.evi = ev.evi\n                                where ev.type = ?2\n                              ) page1\n                              where page1.cs = '1'\n                            ) evnext\n                            where evnext.type = ?2 and evnext.del = ?3 and julianday(replace(evnext.day, '/', '-')) > julianday(replace(?1, '/', '-'), '+1 days')\n                            order by sortid\n                            limit 5\n                          ) evpage\n                          left join (\n                            select page1.evd day, page1.*\n                            from (\n                              select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                              from gtd_ev ev\n                              left join gtd_t tt\n                              on tt.evi = ev.evi\n                              where ev.type = ?2\n                            ) page1\n                            where page1.cs = '1'\n                          ) ev\n                          on ev.day = evpage.day\n                        ) task\n                        left join gtd_t tt\n                        on tt.evi = task.evi\n                        order by task.evd asc";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, [bottom, __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Task, __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel])];
                    case 3:
                        data = _a.sent();
                        if (data && data.length > 0) {
                            pagetasks = pagetasks.concat(data);
                        }
                        _a.label = 4;
                    case 4: return [2 /*return*/, pagetasks];
                }
            });
        });
    };
    /**
       * 检索未完成的任务
       * @author ying<343253410@qq.com>
       */
    EventService.prototype.fetchPagedUncompletedTasks = function (day, direction) {
        if (day === void 0) { day = __WEBPACK_IMPORTED_MODULE_9_moment__().format('YYYY/MM/DD'); }
        if (direction === void 0) { direction = __WEBPACK_IMPORTED_MODULE_12__data_enum__["t" /* PageDirection */].PageInit; }
        return __awaiter(this, void 0, void 0, function () {
            var pagetasks, today, top, bottom, sql, data, sql, data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(day); // 验证日期是否为空
                        this.assertEmpty(direction); // 入参不能为空
                        pagetasks = new Array();
                        today = __WEBPACK_IMPORTED_MODULE_9_moment__().format('YYYY/MM/DD');
                        top = day;
                        bottom = __WEBPACK_IMPORTED_MODULE_9_moment__(day).add(1, "days").format('YYYY/MM/DD');
                        // 下拉刷新时需要减一天
                        if (direction == __WEBPACK_IMPORTED_MODULE_12__data_enum__["t" /* PageDirection */].PageDown) {
                            top = __WEBPACK_IMPORTED_MODULE_9_moment__(day).subtract(1, "days").format('YYYY/MM/DD');
                        }
                        if (!(direction == __WEBPACK_IMPORTED_MODULE_12__data_enum__["t" /* PageDirection */].PageInit || direction == __WEBPACK_IMPORTED_MODULE_12__data_enum__["t" /* PageDirection */].PageDown)) return [3 /*break*/, 2];
                        sql = "select distinct task.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                        from (\n                          select evpage.day evd, ev.*\n                          from (\n                            select evnext.day day, julianday(replace(?1, '/', '-'), '+1 days') - julianday(replace(evnext.day, '/', '-')) sortid\n                            from (\n                              select distinct page1.evd day, page1.type, page1.del\n                              from (\n                                select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                                from gtd_ev ev\n                                left join gtd_t tt\n                                on tt.evi = ev.evi\n                                where ev.type = ?2\n                              ) page1\n                              where page1.cs = '0' and date(replace(page1.evd, '/', '-')) > date(replace(?4, '/', '-'))\n                              union all\n                              select distinct ?4 day, page0.type, page0.del\n                              from (\n                                select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                                from gtd_ev ev\n                                left join gtd_t tt\n                                on tt.evi = ev.evi\n                                where ev.type = ?2\n                              ) page0\n                              where page0.cs = '0' and date(replace(page0.evd, '/', '-')) <= date(replace(?4, '/', '-'))\n                            ) evnext\n                            where evnext.type = ?2 and evnext.del = ?3 and julianday(replace(evnext.day, '/', '-')) < julianday(replace(?1, '/', '-'), '+1 days')\n                            order by sortid\n                            limit 5\n                          ) evpage\n                          left join (\n                            select page1.evd day, page1.*\n                            from (\n                              select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                              from gtd_ev ev\n                              left join gtd_t tt\n                              on tt.evi = ev.evi\n                              where ev.type = ?2\n                            ) page1\n                            where page1.cs = '0' and date(replace(page1.evd, '/', '-')) > date(replace(?4, '/', '-'))\n                            union all\n                            select ?4 day, page0.*\n                            from (\n                              select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                              from gtd_ev ev\n                              left join gtd_t tt\n                              on tt.evi = ev.evi\n                              where ev.type = ?2\n                            ) page0\n                            where page0.cs = '0' and date(replace(page0.evd, '/', '-')) <= date(replace(?4, '/', '-'))\n                          ) ev\n                          on ev.day = evpage.day\n                        ) task\n                        left join gtd_t tt\n                        on tt.evi = task.evi\n                        order by task.evd asc";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, [top, __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Task, __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel, today])];
                    case 1:
                        data = _a.sent();
                        if (data && data.length > 0) {
                            pagetasks = data;
                        }
                        _a.label = 2;
                    case 2:
                        if (!(direction == __WEBPACK_IMPORTED_MODULE_12__data_enum__["t" /* PageDirection */].PageInit || direction == __WEBPACK_IMPORTED_MODULE_12__data_enum__["t" /* PageDirection */].PageUp)) return [3 /*break*/, 4];
                        sql = "select distinct task.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                        from (\n                          select evpage.day evd, ev.*\n                          from (\n                            select evnext.day day, julianday(replace(evnext.day, '/', '-')) - julianday(replace(?1, '/', '-'), '+1 days') sortid\n                            from (\n                              select distinct page1.evd day, page1.type, page1.del\n                              from (\n                                select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                                from gtd_ev ev\n                                left join gtd_t tt\n                                on tt.evi = ev.evi\n                                where ev.type = ?2\n                              ) page1\n                              where page1.cs = '0' and date(replace(page1.evd, '/', '-')) > date(replace(?4, '/', '-'))\n                              union all\n                              select distinct ?4 day, page0.type, page0.del\n                              from (\n                                select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                                from gtd_ev ev\n                                left join gtd_t tt\n                                on tt.evi = ev.evi\n                                where ev.type = ?2\n                              ) page0\n                              where page0.cs = '0' and date(replace(page0.evd, '/', '-')) <= date(replace(?4, '/', '-'))\n                            ) evnext\n                            where evnext.type = ?2 and evnext.del = ?3 and julianday(replace(evnext.day, '/', '-')) > julianday(replace(?1, '/', '-'), '+1 days')\n                            order by sortid\n                            limit 5\n                          ) evpage\n                          left join (\n                            select page1.evd day, page1.*\n                            from (\n                              select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                              from gtd_ev ev\n                              left join gtd_t tt\n                              on tt.evi = ev.evi\n                              where ev.type = ?2\n                            ) page1\n                            where page1.cs = '0' and date(replace(page1.evd, '/', '-')) > date(replace(?4, '/', '-'))\n                            union all\n                            select ?4 day, page0.*\n                            from (\n                              select ev.*, tt.cs, tt.isrt, tt.cd, tt.fd\n                              from gtd_ev ev\n                              left join gtd_t tt\n                              on tt.evi = ev.evi\n                              where ev.type = ?2\n                            ) page0\n                            where page0.cs = '0' and date(replace(page0.evd, '/', '-')) <= date(replace(?4, '/', '-'))\n                          ) ev\n                          on ev.day = evpage.day\n                        ) task\n                        left join gtd_t tt\n                        on tt.evi = task.evi\n                        order by task.evd asc";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, [bottom, __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Task, __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel, today])];
                    case 3:
                        data = _a.sent();
                        if (data && data.length > 0) {
                            pagetasks = pagetasks.concat(data);
                        }
                        _a.label = 4;
                    case 4: return [2 /*return*/, pagetasks];
                }
            });
        });
    };
    /**
       * 检索所有未完成的任务
     *
       * @author leon_xi@163.com
       */
    EventService.prototype.fetchUncompletedTasks = function () {
        return __awaiter(this, void 0, void 0, function () {
            var sql, tasks;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        sql = "select ev.*, t.cs, t.isrt, t.cd, t.fd\n                      from gtd_ev ev\n                      left join gtd_t t\n                      on t.evi = ev.evi\n                      where ev.del = ?1 and ev.type = ?2 and t.cs = ?3\n                      order by ev.evd asc, ev.evt asc";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, [__WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel, __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Task, __WEBPACK_IMPORTED_MODULE_12__data_enum__["l" /* IsSuccess */].wait])];
                    case 1:
                        tasks = (_a.sent()) || new Array();
                        return [2 /*return*/, tasks];
                }
            });
        });
    };
    /**
     * 合并待处理任务列表
     *
     * 返回原待处理任务列表数组对象，控制页面刷新
     *
     * @author leon_xi@163.com
     **/
    EventService.prototype.mergeUncompletedTasks = function (tasks, changed) {
        var activityType = this.getEventType(changed);
        if (activityType != "TaskData") {
            return tasks;
        }
        var taskids = new Array();
        tasks.reduce(function (taskids, value) {
            taskids.push(value.evi);
            return taskids;
        }, taskids);
        // 更新原有任务信息
        var index = taskids.indexOf(changed.evi);
        if (index >= 0) {
            if (changed.cs != __WEBPACK_IMPORTED_MODULE_12__data_enum__["l" /* IsSuccess */].success) {
                tasks[index] = changed;
            }
            else {
                tasks.splice(index, 1);
            }
        }
        else {
            if (changed.cs != __WEBPACK_IMPORTED_MODULE_12__data_enum__["l" /* IsSuccess */].success) {
                var newIndex = tasks.findIndex(function (val, index, arr) {
                    return __WEBPACK_IMPORTED_MODULE_9_moment__(val.evd + ' ' + val.evt).diff(changed.evd + ' ' + changed.evt) >= 0;
                });
                if (newIndex > 0) {
                    tasks.splice(newIndex - 1, 0, changed);
                }
                else if (newIndex == 0) {
                    tasks.unshift(changed);
                }
                else {
                    tasks.push(changed);
                }
            }
        }
        return tasks;
    };
    /**
     * 查询获取todolist的数据
     * 内容  时间 年月日
     * @author ying<343253410@qq.com>
     */
    EventService.prototype.todolist = function () {
        return __awaiter(this, void 0, void 0, function () {
            var sql, agendaArray;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        sql = "\n                        select\n                        eex.evi,\n                        eex.evn,\n                        eex.ui,\n                        eex.mi,\n                        eex.evd,\n                        eex.evt,\n                        eex.newrtevi as rtevi,\n                        eex.ji,\n                        eex.bz,\n                        eex.type,\n                        eex.tx,\n                        eex.txs,\n                        eex.rt,\n                        eex.rts,\n                        eex.fj,\n                        eex.pn,\n                        eex.md,\n                        eex.iv,\n                        eex.sr,\n                        eex.wtt,\n                        eex.utt,\n                        eex.gs,\n                        eex.tb,\n                        eex.wc,\n                        eex.todolist,\n                        eex.del,\n                        eex.rfg,\n                        eex.invitestatus,\n                        eex.adr,\n                        eex.adrx,\n                        eex.adry,\n                        ca.sd,\n                        ca.ed,\n                        ca.st,\n                        ca.et,\n                        ca.al,\n                        ca.ct\n                        from (\n                         select * from (\n                                select * from (\n                                      select evnext.* ,MIN(evnext.day) as minDay from (\n                                              select  evv.*,\n                                              ABS(julianday(datetime(replace(evv.evd, '/', '-'),evv.evt)) - julianday(datetime('now'))) day\n                                              from (\n                                                     select ev.*,\n                                                     case when ifnull(ev.rtevi,'') <> ''  then  ev.rtevi  else ev.evi end newrtevi\n                                                    from gtd_ev ev\n                                                    where ev.todolist = ?1 and ev.del = ?2 and ev.type = ?3 and ev.wc = ?4\n                                              ) evv\n                                      ) evnext\n                                      group by evnext.newrtevi\n                                ) evnext2 where  julianday(datetime(replace(evnext2.evd, '/', '-'),evnext2.evt))<julianday(datetime('now'))\n                                and evnext2.newrtevi not in (\n                                  select\n                                  case when ifnull(evk.rtevi,'') <> ''  then  evk.rtevi  else evk.evi end newrtevi\n                                  from gtd_ev evk\n                                  where evk.todolist = ?1  and evk.type = ?3 and evk.wc = ?5\n                                )\n                              order by  evnext2.minDay desc\n                     )\n                    union all\n                    select *  from (\n                            select * from (\n                                    select evnext.* ,MIN(evnext.day) as minDay from (\n                                          select  evv.*,\n                                          ABS(julianday(datetime(replace(evv.evd, '/', '-'),evv.evt)) - julianday(datetime('now'))) day\n                                          from (\n                                                  select ev.*,\n                                                  case when ifnull(ev.rtevi,'') <> ''  then  ev.rtevi  else ev.evi end newrtevi\n                                                  from gtd_ev ev\n                                                  where ev.todolist = ?1 and ev.del = ?2 and ev.type = ?3 and ev.wc = ?4\n                                          ) evv\n                                    ) evnext\n                                    group by evnext.newrtevi\n                            ) evnext2 where   julianday(datetime(replace(evnext2.evd, '/', '-'),evnext2.evt))>=julianday(datetime('now'))\n                            order by  evnext2.minDay asc\n                    )) eex left join gtd_ca ca on ca.evi = eex.newrtevi\n                       \t";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, [__WEBPACK_IMPORTED_MODULE_12__data_enum__["D" /* ToDoListStatus */].On, __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel, __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Agenda, __WEBPACK_IMPORTED_MODULE_12__data_enum__["f" /* EventFinishStatus */].NonFinish, __WEBPACK_IMPORTED_MODULE_12__data_enum__["f" /* EventFinishStatus */].Finished])];
                    case 1:
                        agendaArray = (_a.sent()) || new Array();
                        return [2 /*return*/, agendaArray];
                }
            });
        });
    };
    /**
    *有数据更新或者新增，自动刷新页面
    * 当有新的数据加入时，则对原有的数据进行从新排列
    * @author ying<343253410@qq.com>
    */
    EventService.prototype.mergeTodolist = function (todolist, changedNew) {
        return __awaiter(this, void 0, void 0, function () {
            var changed, agendaArray, flag, j, _i, todolist_1, td, newsql, rtevi, ag1, jfk, _a, todolist_2, td, i, _b, todolist_3, td;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        //传入数据不能为空
                        this.assertEmpty(changedNew);
                        changed = {};
                        Object.assign(changed, changedNew);
                        agendaArray = new Array();
                        flag = true;
                        //当数据retevi为空的情况下
                        if (!changed.rtevi) {
                            changed.rtevi = changed.evi;
                        }
                        if (!(todolist.length == 0)) return [3 /*break*/, 1];
                        //当缓存时间为空的情况下，新加入todoList
                        if ((changed.todolist == __WEBPACK_IMPORTED_MODULE_12__data_enum__["D" /* ToDoListStatus */].On) && (changed.del == __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel) && (changed.wc == __WEBPACK_IMPORTED_MODULE_12__data_enum__["f" /* EventFinishStatus */].NonFinish)) {
                            //将数据加入到todolist缓存
                            todolist.push(changed);
                        }
                        flag = false;
                        return [3 /*break*/, 5];
                    case 1:
                        if (!((changed.todolist == __WEBPACK_IMPORTED_MODULE_12__data_enum__["D" /* ToDoListStatus */].Off) || (changed.del == __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del) || (changed.wc == __WEBPACK_IMPORTED_MODULE_12__data_enum__["f" /* EventFinishStatus */].Finished))) return [3 /*break*/, 4];
                        j = 0;
                        for (_i = 0, todolist_1 = todolist; _i < todolist_1.length; _i++) {
                            td = todolist_1[_i];
                            if ((td.evi == changed.evi) || (td.rtevi == changed.evi)) {
                                todolist.splice(j, 1);
                            }
                            j++;
                        }
                        if (!((changed.todolist != __WEBPACK_IMPORTED_MODULE_12__data_enum__["D" /* ToDoListStatus */].Off) && ((changed.rfg == __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].Repeat) || (changed.rfg == __WEBPACK_IMPORTED_MODULE_12__data_enum__["x" /* RepeatFlag */].RepeatToOnly)))) return [3 /*break*/, 3];
                        newsql = " select ev.*,\n                  ca.sd,ca.st,ca.ed,ca.et,ca.ct\n                   from\n                      gtd_ev ev left join gtd_ca ca on ca.evi = ev.rtevi\n                        where\n                        ev.rtevi =?1\n                        and ev.del = ?2\n                        and ev.type = ?3\n                        and ev.wc = ?4\n                        and (julianday(datetime(replace(ev.evd, '/', '-'),ev.evt)) > julianday(datetime(replace(?5, '/', '-'),?6)))\n                        order by ev.evd asc ";
                        rtevi = changed.rtevi;
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(newsql, [rtevi, __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel, __WEBPACK_IMPORTED_MODULE_12__data_enum__["g" /* EventType */].Agenda, __WEBPACK_IMPORTED_MODULE_12__data_enum__["f" /* EventFinishStatus */].NonFinish, changed.evd, changed.evt])];
                    case 2:
                        ag1 = (_c.sent()) || new Array();
                        if (ag1 && ag1.length > 0) {
                            changed = ag1[0];
                            if (todolist.length == 0) {
                                todolist.push(changed);
                                flag = false;
                            }
                        }
                        else {
                            flag = false;
                        }
                        return [3 /*break*/, 4];
                    case 3:
                        flag = false;
                        _c.label = 4;
                    case 4:
                        if (flag) {
                            jfk = 0;
                            for (_a = 0, todolist_2 = todolist; _a < todolist_2.length; _a++) {
                                td = todolist_2[_a];
                                if ((changed.evi == td.evi) || (changed.rtevi == td.rtevi) || (changed.rtevi == td.evi)) {
                                    todolist.splice(jfk, 1);
                                    break;
                                }
                                jfk++;
                            }
                            //将数据加到新的排序中去
                            //todolist已经进行过排序，按照日期排列 ,快速排序算法，还是太慢，
                            //1.新加入的事件的日期，比todolist第一个日期还小,缩短循环排序时间
                            if ((__WEBPACK_IMPORTED_MODULE_9_moment__(changed.evd + ' ' + changed.evt).diff(todolist[0].evd + ' ' + todolist[0].evt) <= 0)) {
                                todolist.unshift(changed);
                                return [2 /*return*/, todolist];
                            }
                            //2.新加入的事件的日期，比todolist的最后一个日期还小
                            if (__WEBPACK_IMPORTED_MODULE_9_moment__(changed.evd + ' ' + changed.evt).diff(todolist[todolist.length - 1].evd + ' ' + todolist[todolist.length - 1].evt) >= 0) {
                                todolist.push(changed);
                                return [2 /*return*/, todolist];
                            }
                            i = 0;
                            for (_b = 0, todolist_3 = todolist; _b < todolist_3.length; _b++) {
                                td = todolist_3[_b];
                                //todolist 已经是按照日期顺序排列好的，然后根据日期大小进行排序，当change的日期比todolist的小的时候插入进去
                                if (((__WEBPACK_IMPORTED_MODULE_9_moment__(changed.evd + ' ' + changed.evt).diff(td.evd + ' ' + td.evt) < 0))) {
                                    todolist.splice(i, 0, changed);
                                    return [2 /*return*/, todolist];
                                }
                                i++;
                            }
                        }
                        _c.label = 5;
                    case 5: 
                    //更新相关实体数据内容
                    //this.saveAgenda(changed);
                    return [2 /*return*/, todolist];
                }
            });
        });
    };
    /**
     * 取得事件类型
     *
     * @author leon_xi@163.com
     **/
    EventService.prototype.getEventType = function (source) {
        this.assertEmpty(source);
        var src = source;
        if (src.evi && src.ed) {
            return "AgendaData";
        }
        if (src.evi && src.cs) {
            return "TaskData";
        }
        if (src.evi && !src.cs && !src.ed) {
            return "MiniTaskData";
        }
        this.assertFail();
    };
    /**
     * 备份,三张表备份
       * @author ying<343253410@qq.com>
     */
    EventService.prototype.backup = function (bts) {
        return __awaiter(this, void 0, void 0, function () {
            var backupPro, ev, _a, ca, _b, tt, _c;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        backupPro = new __WEBPACK_IMPORTED_MODULE_13__restful_bacsev__["b" /* BackupPro */]();
                        //操作账户ID
                        backupPro.oai = __WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */].account.id;
                        //操作手机号码
                        backupPro.ompn = __WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */].account.phone;
                        //时间戳
                        backupPro.d.bts = bts;
                        ev = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
                        _a = backupPro.d;
                        return [4 /*yield*/, this.sqlExce.getLstByParam(ev)];
                    case 1:
                        _a.ev = _d.sent();
                        ca = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_ca_tbl__["a" /* CaTbl */]();
                        _b = backupPro.d;
                        return [4 /*yield*/, this.sqlExce.getLstByParam(ca)];
                    case 2:
                        _b.ca = _d.sent();
                        tt = new __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_t_tbl__["a" /* TTbl */]();
                        _c = backupPro.d;
                        return [4 /*yield*/, this.sqlExce.getLstByParam(tt)];
                    case 3:
                        _c.tt = _d.sent();
                        return [4 /*yield*/, this.bacRestful.backup(backupPro)];
                    case 4:
                        _d.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 恢复事件
     *
       * @author leon_xi@163.com
     */
    EventService.prototype.recovery = function (recoveries) {
        this.assertNull(recoveries);
        var sqls = new Array();
        //恢复事件表
        var events = recoveries.ev;
        // 删除事件
        sqls.push(["delete from gtd_ev;", []]);
        // 恢复备份事件
        for (var _i = 0, events_1 = events; _i < events_1.length; _i++) {
            var event_1 = events_1[_i];
            var eventdb = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_ev_tbl__["a" /* EvTbl */]();
            Object.assign(eventdb, event_1);
            sqls.push(eventdb.inTParam());
        }
        //恢复日程表
        var agendas = recoveries.ca;
        // 删除日程
        sqls.push(["delete from gtd_ca;", []]);
        // 恢复备份日程
        for (var _a = 0, agendas_2 = agendas; _a < agendas_2.length; _a++) {
            var agenda = agendas_2[_a];
            var agendadb = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_ca_tbl__["a" /* CaTbl */]();
            Object.assign(agendadb, agenda);
            sqls.push(agendadb.inTParam());
        }
        //恢复任务表
        var tasks = recoveries.tt;
        // 删除任务
        sqls.push(["delete from gtd_t;", []]);
        // 恢复备份任务
        for (var _b = 0, tasks_1 = tasks; _b < tasks_1.length; _b++) {
            var task = tasks_1[_b];
            var taskdb = new __WEBPACK_IMPORTED_MODULE_5__sqlite_tbl_t_tbl__["a" /* TTbl */]();
            Object.assign(taskdb, task);
            sqls.push(taskdb.inTParam());
        }
        return sqls;
    };
    EventService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__util_service_sqlite_exec__["a" /* SqliteExec */], __WEBPACK_IMPORTED_MODULE_3__util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_8__restful_agdsev__["b" /* AgdRestful */], __WEBPACK_IMPORTED_MODULE_10__util_service_emit_service__["a" /* EmitService */],
            __WEBPACK_IMPORTED_MODULE_21__ionic_native_file__["a" /* File */],
            __WEBPACK_IMPORTED_MODULE_13__restful_bacsev__["a" /* BacRestful */], __WEBPACK_IMPORTED_MODULE_7__config_user_config__["b" /* UserConfig */],
            __WEBPACK_IMPORTED_MODULE_19__restful_datasev__["a" /* DataRestful */]])
    ], EventService);
    return EventService;
}(__WEBPACK_IMPORTED_MODULE_1__base_service__["a" /* BaseService */]));

var CacheFilePathJson = (function () {
    function CacheFilePathJson() {
        this.cachedir = "/cached";
    }
    CacheFilePathJson.prototype.getLocalFilePath = function (datadir) {
        return datadir + this.cachedir + this.local;
    };
    CacheFilePathJson.prototype.getCacheDir = function () {
        return this.cachedir;
    };
    return CacheFilePathJson;
}());

var RetParamEv = (function () {
    function RetParamEv() {
        this.rtevi = "";
        this.sqlparam = new Array();
        this.outAgdatas = new Array();
    }
    return RetParamEv;
}());

var RetParamTaskData = (function () {
    function RetParamTaskData() {
        this.rtevi = "";
        this.sqlparam = new Array();
        this.outTasks = new Array();
    }
    return RetParamTaskData;
}());

var RetParamMiniTaskData = (function () {
    function RetParamMiniTaskData() {
        this.rtevi = "";
        this.sqlparam = new Array();
        this.outTasks = new Array();
    }
    return RetParamMiniTaskData;
}());

var RtOver = (function () {
    function RtOver() {
        this.type = __WEBPACK_IMPORTED_MODULE_12__data_enum__["s" /* OverType */].fornever;
    }
    RtOver.prototype.sameWith = function (another) {
        if (!another)
            return false;
        if (this.type != another.type)
            return false;
        if (this.type != __WEBPACK_IMPORTED_MODULE_12__data_enum__["s" /* OverType */].fornever && this.value != another.value)
            return false;
        return true;
    };
    RtOver.prototype.text = function () {
        var text = "";
        switch (this.type) {
            case __WEBPACK_IMPORTED_MODULE_12__data_enum__["s" /* OverType */].times:
                Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["a" /* assertEmpty */])(this.value); // 结束条件不能为空
                Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["h" /* assertNotNumber */])(this.value); // 结束条件不能为数字字符串以外的值
                text = this.value + "次";
                break;
            case __WEBPACK_IMPORTED_MODULE_12__data_enum__["s" /* OverType */].limitdate:
                Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["a" /* assertEmpty */])(this.value); // 结束条件不能为空
                text = __WEBPACK_IMPORTED_MODULE_9_moment__(this.value).format("YYYY年M月D日");
                break;
            case __WEBPACK_IMPORTED_MODULE_12__data_enum__["s" /* OverType */].fornever:
                text = "永远";
                break;
            default:
                Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["c" /* assertFail */])(); // 预期外值, 程序异常
        }
        return text;
    };
    return RtOver;
}());

var RtJson = (function () {
    function RtJson() {
        //重复类型
        this.cycletype = __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].close;
        //重复周期（n天、n周、n月、n年）
        this.cyclenum = 1; //重复周期默认1, 不得小于1
        //开启方式：.一、二、三、四、五、六、日[0 - 6]
        this.openway = new Array();
        //重复结束设定
        this.over = new RtOver();
    }
    RtJson.prototype.sameWith = function (another) {
        if (!another)
            return false;
        if (this.cycletype != another.cycletype)
            return false;
        if (this.cyclenum != another.cyclenum)
            return false;
        var compare = this.openway.concat(another.openway);
        compare.sort(function (a, b) { return a - b; });
        if (compare.length % 2 != 0)
            return false;
        var last = compare.reduce(function (target, val) {
            if (target == -1) {
                target = val;
            }
            else {
                if (target == val) {
                    target = -1;
                }
                else {
                    target = -99;
                }
            }
            return target;
        }, -1);
        if (last != -1)
            return false;
        if (this.over && another.over) {
            var oneover = new RtOver();
            Object.assign(oneover, this.over);
            var anotherover = new RtOver();
            Object.assign(anotherover, another.over);
            if (!(oneover.sameWith(anotherover)))
                return false;
        }
        if ((!this.over || !another.over) && (this.over || another.over))
            return false;
        return true;
    };
    //重复设置文字说明
    RtJson.prototype.text = function () {
        var text = "";
        var freqtitle = function (cyclenum, title) {
            return (cyclenum > 1 ? cyclenum : "") + title;
        };
        var optiontitle = function (openway, type, comma) {
            var text = "";
            // 选项不存在
            if (!openway || openway.length < 1) {
                return text;
            }
            switch (type) {
                case "周":
                    var weekdays = openway.map(function (val) {
                        switch (val) {
                            case 0:
                                return "星期日";
                            case 1:
                                return "星期一";
                            case 2:
                                return "星期二";
                            case 3:
                                return "星期三";
                            case 4:
                                return "星期四";
                            case 5:
                                return "星期五";
                            case 6:
                                return "星期六";
                            default:
                                Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["c" /* assertFail */])(); // 预期外值, 程序异常
                        }
                    });
                    text = weekdays.join(", ") + comma;
                    break;
                case "月":
                    var monthdays = openway.map(function (val) {
                        return (val + 1) + "日";
                    });
                    text = monthdays.join(", ") + comma;
                    break;
                default:
                    Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["c" /* assertFail */])(); // 预期外值, 程序异常
            }
            return text;
        };
        var overclass = new RtOver();
        Object.assign(overclass, this.over);
        switch (this.cycletype) {
            case __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].day:
                text = "重复周期 " + freqtitle(this.cyclenum, "天") + ", " + overclass.text();
                break;
            case __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].week:
                text = "重复周期 " + freqtitle(this.cyclenum, "周") + ", " + optiontitle(this.openway, "周", ", ") + overclass.text();
                break;
            case __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].month:
                text = "重复周期 " + freqtitle(this.cyclenum, "月") + ", " + optiontitle(this.openway, "月", ", ") + overclass.text();
                break;
            case __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].year:
                text = "重复周期 " + freqtitle(this.cyclenum, "年") + ", " + overclass.text();
                break;
            case __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].close:// 不重复日程
                text = "重复关闭。";
                break;
            default:
                Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["c" /* assertFail */])(); // 预期外值, 程序异常
        }
        return text;
    };
    //遍历重复日期
    RtJson.prototype.each = function (from, callback, withFrom) {
        if (withFrom === void 0) { withFrom = false; }
        // 开始日期
        var repeatStartDay = from;
        // 重复类型（天/周/月/年）
        var repeatType = "days";
        // 重复周期（n天/n周/n月/n年重复一次）
        var repeatStep = this.cyclenum || 1;
        // 开启方式（天（无）,周多选（一、二、三、四、五、六、日[0 - 6]）,月多选（1、2、...、31[0 - 30]）,年（无））
        var options = new Array();
        // 结束条件（n次后结束、到某天结束、永远不结束（天（设置1年）、周（设置2年）、月（设置3年）、年（设置20年）））
        var repeatTimes;
        // 结束日期（指定结束日期时使用指定结束日期，否则使用计算出来的结束日期）
        var repeatEndDay = "";
        // 根据结束类型设置重复次数/结束日期
        switch (this.over.type) {
            case __WEBPACK_IMPORTED_MODULE_12__data_enum__["s" /* OverType */].times:
                Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["a" /* assertEmpty */])(this.over.value); // 结束条件不能为空
                Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["h" /* assertNotNumber */])(this.over.value); // 结束条件不能为数字字符串以外的值
                repeatTimes = (Number(this.over.value) > 0) ? Number(this.over.value) : 1;
                break;
            case __WEBPACK_IMPORTED_MODULE_12__data_enum__["s" /* OverType */].limitdate:
                Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["a" /* assertEmpty */])(this.over.value); // 结束条件不能为空
                repeatEndDay = __WEBPACK_IMPORTED_MODULE_9_moment__(this.over.value).add(1, 'days').format("YYYY/MM/DD");
                break;
            case __WEBPACK_IMPORTED_MODULE_12__data_enum__["s" /* OverType */].fornever:
                break;
            default:
                Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["c" /* assertFail */])(); // 预期外值, 程序异常
        }
        // 根据重复类型设置 重复类型/开启方式/重复次数/结束日期
        switch (this.cycletype) {
            case __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].day:
                repeatType = "days";
                repeatTimes = repeatTimes || __WEBPACK_IMPORTED_MODULE_9_moment__(repeatStartDay).add(1, "years").diff(repeatStartDay, "days");
                repeatEndDay = repeatEndDay || __WEBPACK_IMPORTED_MODULE_9_moment__(repeatStartDay).add(repeatTimes * repeatStep, "days").format("YYYY/MM/DD");
                break;
            case __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].week:
                repeatType = "weeks";
                options = this.openway || options;
                repeatTimes = repeatTimes || __WEBPACK_IMPORTED_MODULE_9_moment__(repeatStartDay).add(2, "years").diff(repeatStartDay, "weeks");
                repeatEndDay = repeatEndDay || __WEBPACK_IMPORTED_MODULE_9_moment__(repeatStartDay).add(repeatTimes * repeatStep, "weeks").format("YYYY/MM/DD");
                break;
            case __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].month:
                repeatType = "months";
                options = this.openway || options;
                repeatTimes = repeatTimes || __WEBPACK_IMPORTED_MODULE_9_moment__(repeatStartDay).add(3, "years").diff(repeatStartDay, "months");
                repeatEndDay = repeatEndDay || __WEBPACK_IMPORTED_MODULE_9_moment__(repeatStartDay).add(repeatTimes * repeatStep, "months").format("YYYY/MM/DD");
                break;
            case __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].year:
                repeatType = "years";
                repeatTimes = repeatTimes || 20;
                repeatEndDay = repeatEndDay || __WEBPACK_IMPORTED_MODULE_9_moment__(repeatStartDay).add(repeatTimes * repeatStep, "years").format("YYYY/MM/DD");
                break;
            case __WEBPACK_IMPORTED_MODULE_12__data_enum__["c" /* CycleType */].close:// 不重复日程
                repeatType = "days";
                repeatTimes = 1;
                repeatEndDay = __WEBPACK_IMPORTED_MODULE_9_moment__(repeatStartDay).add(1, "days").format("YYYY/MM/DD");
                break;
            default:
                Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["c" /* assertFail */])(); // 预期外值, 程序异常
        }
        var stepDay = repeatStartDay;
        // 循环开始日期 ~ 结束日期
        while (__WEBPACK_IMPORTED_MODULE_9_moment__(stepDay).isBefore(repeatEndDay)) {
            var days = new Array();
            if (options.length > 0) {
                // 星期多选/每月日期多选
                if (repeatType == "weeks") {
                    var dayOfWeek = Number(__WEBPACK_IMPORTED_MODULE_9_moment__(stepDay).format("d"));
                    for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {
                        var option = options_1[_i];
                        var duration = option - dayOfWeek;
                        if (duration == 0) {
                            days.push(stepDay); // 当前日期为重复日期
                        }
                        else if (duration > 0) {
                            //当周日期
                            days.push(__WEBPACK_IMPORTED_MODULE_9_moment__(stepDay).add(duration, "days").format("YYYY/MM/DD"));
                        }
                        else {
                            //下周日期（跨周）
                            days.push(__WEBPACK_IMPORTED_MODULE_9_moment__(stepDay).add(7, "days").subtract(Math.abs(duration), "days").format("YYYY/MM/DD"));
                        }
                    }
                }
                else if (repeatType == "months") {
                    var dayOfMonth = Number(__WEBPACK_IMPORTED_MODULE_9_moment__(stepDay).format("D")) - 1; // 0 - 30 和options设置日期匹配
                    var maxDayOfMonth = __WEBPACK_IMPORTED_MODULE_9_moment__().daysInMonth();
                    for (var _a = 0, options_2 = options; _a < options_2.length; _a++) {
                        var option = options_2[_a];
                        // 当月没有这一天
                        if (option > maxDayOfMonth) {
                            continue;
                        }
                        var duration = option - dayOfMonth;
                        if (duration == 0) {
                            days.push(stepDay); // 当前日期为重复日期
                        }
                        else if (duration > 0) {
                            //当月日期
                            days.push(__WEBPACK_IMPORTED_MODULE_9_moment__(stepDay).add(duration, "days").format("YYYY/MM/DD"));
                        }
                        else {
                            //下月日期（跨月）
                            days.push(__WEBPACK_IMPORTED_MODULE_9_moment__(stepDay).add(1, "months").dates(option + 1).format("YYYY/MM/DD"));
                        }
                    }
                }
                else {
                    Object(__WEBPACK_IMPORTED_MODULE_20__util_util__["c" /* assertFail */])(); // 预期外值, 程序异常
                }
            }
            else {
                // 普通重复
                days.push(stepDay);
            }
            // 增加创建当天是否需要添加此事件
            if (withFrom && stepDay == repeatStartDay) {
                if (days.length > 0 && days.indexOf(from) < 0) {
                    days.unshift(from);
                }
            }
            days.sort(function (a, b) {
                return __WEBPACK_IMPORTED_MODULE_9_moment__(a).valueOf() - __WEBPACK_IMPORTED_MODULE_9_moment__(b).valueOf();
            });
            for (var _b = 0, days_1 = days; _b < days_1.length; _b++) {
                var day = days_1[_b];
                if (__WEBPACK_IMPORTED_MODULE_9_moment__(day).isBefore(repeatEndDay)) {
                    callback(day);
                }
            }
            stepDay = __WEBPACK_IMPORTED_MODULE_9_moment__(stepDay).add(repeatStep, repeatType).format("YYYY/MM/DD");
        }
    };
    return RtJson;
}());

var TxJson = (function () {
    function TxJson() {
        this.close = false; // 2019/10/22 增加提醒关闭属性，用于保留提醒设置内容，但是不提醒
        this.reminds = new Array();
    }
    TxJson.caption = function (minutes) {
        var humanremind = __WEBPACK_IMPORTED_MODULE_9_moment__["duration"](minutes, "minutes").humanize();
        if (minutes > 0) {
            return "\u63D0\u524D" + humanremind + "\u63D0\u9192";
        }
        else if (minutes < 0) {
            return "\u5EF6\u540E" + humanremind + "\u63D0\u9192";
        }
        else {
            return "\u4E8B\u4EF6\u5F00\u59CB\u65F6\u63D0\u9192";
        }
    };
    TxJson.prototype.text = function (first) {
        if (first === void 0) { first = true; }
        this.reminds.sort(function (a, b) {
            if (a > b)
                return -1;
            if (a < b)
                return 1;
            return 0;
        });
        if (this.reminds && this.reminds.length > 0) {
            var humanremind = __WEBPACK_IMPORTED_MODULE_9_moment__["duration"](this.reminds[0], "minutes").humanize();
            if (first && this.reminds[0] > 0)
                return "\u63D0\u524D" + humanremind + "\u63D0\u9192";
            if (first && this.reminds[0] < 0)
                return "\u5EF6\u540E" + humanremind + "\u63D0\u9192";
            if (first && this.reminds[0] == 0)
                return "\u4E8B\u4EF6\u5F00\u59CB\u65F6\u63D0\u9192";
        }
        else {
            return "";
        }
    };
    TxJson.prototype.sameWith = function (another) {
        if (!another)
            return false;
        var compare = this.reminds.concat(another.reminds);
        compare.sort(function (a, b) { return a - b; });
        if (compare.length % 2 != 0)
            return false;
        var last = compare.reduce(function (target, val) {
            if (target == -1) {
                target = val;
            }
            else {
                if (target == val) {
                    target = -1;
                }
                else {
                    target = -99;
                }
            }
            return target;
        }, -1);
        if (last == -1) {
            return true;
        }
        else {
            return false;
        }
    };
    // 遍历计算每个提醒的实际时间
    TxJson.prototype.each = function (sd, st, callback) {
        // 如果提醒关闭或者没有提醒数据，直接返回
        if (this.close || !this.reminds || this.reminds.length <= 0) {
            return;
        }
        for (var _i = 0, _a = this.reminds; _i < _a.length; _i++) {
            var remind = _a[_i];
            var baseline = __WEBPACK_IMPORTED_MODULE_9_moment__(sd + " " + st, "YYYY/MM/DD HH:mm");
            baseline.subtract(remind, "m");
            callback(baseline.valueOf());
        }
    };
    return TxJson;
}());

//处理类型
var DoType;
(function (DoType) {
    DoType["Local"] = "Local";
    DoType["Current"] = "Current";
    DoType["FutureAll"] = "FutureAll";
    DoType["All"] = "All";
    DoType["Invite"] = "Invite";
})(DoType || (DoType = {}));
var FieldChanged;
(function (FieldChanged) {
    FieldChanged["Ji"] = "Ji";
    FieldChanged["Member"] = "Member";
    FieldChanged["Invite"] = "Invite";
    FieldChanged["Todolist"] = "Todolist";
})(FieldChanged || (FieldChanged = {}));
var DUflag;
(function (DUflag) {
    DUflag["del"] = "del";
    DUflag["update"] = "update";
})(DUflag || (DUflag = {}));
function isJsonString(str) {
    try {
        JSON.parse(str);
    }
    catch (e) {
        return false;
    }
    return true;
}
function generateCacheFilePathJson(fpjson, fj) {
    if (!fpjson) {
        if (fj && isJsonString(fj)) {
            fpjson = new CacheFilePathJson();
            Object.assign(fpjson, JSON.parse(fj));
        }
        else {
            return null;
        }
    }
    else {
        var newfpjson = new CacheFilePathJson();
        Object.assign(newfpjson, fpjson);
        fpjson = newfpjson;
    }
    return fpjson;
}
function generateRtJson(rtjson, rt) {
    if (!rtjson) {
        if (rt) {
            rtjson = new RtJson();
            Object.assign(rtjson, JSON.parse(rt));
        }
        else {
            rtjson = new RtJson();
        }
    }
    else {
        var newrtjson = new RtJson();
        Object.assign(newrtjson, rtjson);
        rtjson = newrtjson;
    }
    return rtjson;
}
function generateTxJson(txjson, tx) {
    if (!txjson) {
        if (tx) {
            txjson = new TxJson();
            Object.assign(txjson, JSON.parse(tx));
        }
        else {
            txjson = new TxJson();
        }
    }
    else {
        var newtxjson = new TxJson();
        Object.assign(newtxjson, txjson);
        txjson = newtxjson;
    }
    return txjson;
}
//# sourceMappingURL=event.service.js.map

/***/ }),
/* 32 */,
/* 33 */,
/* 34 */,
/* 35 */,
/* 36 */,
/* 37 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DirectivesModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ng_autosize_autosize_directive__ = __webpack_require__(1239);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__scrollheight_directive__ = __webpack_require__(1240);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var DirectivesModule = (function () {
    function DirectivesModule() {
    }
    DirectivesModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [__WEBPACK_IMPORTED_MODULE_1__ng_autosize_autosize_directive__["a" /* AutosizeDirective */], __WEBPACK_IMPORTED_MODULE_2__scrollheight_directive__["a" /* ScrollheightDirective */]],
            imports: [],
            exports: [__WEBPACK_IMPORTED_MODULE_1__ng_autosize_autosize_directive__["a" /* AutosizeDirective */], __WEBPACK_IMPORTED_MODULE_2__scrollheight_directive__["a" /* ScrollheightDirective */]]
        })
    ], DirectivesModule);
    return DirectivesModule;
}());

//# sourceMappingURL=directives.module.js.map

/***/ }),
/* 38 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ModalBoxComponentModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__modal_box__ = __webpack_require__(166);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pipes_pipes_module__ = __webpack_require__(23);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var ModalBoxComponentModule = (function () {
    function ModalBoxComponentModule() {
    }
    ModalBoxComponentModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__modal_box__["a" /* ModalBoxComponent */]
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_2__modal_box__["a" /* ModalBoxComponent */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_3__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__modal_box__["a" /* ModalBoxComponent */])
            ],
            providers: [],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__modal_box__["a" /* ModalBoxComponent */]
            ],
            schemas: [__WEBPACK_IMPORTED_MODULE_0__angular_core__["CUSTOM_ELEMENTS_SCHEMA"]]
        })
    ], ModalBoxComponentModule);
    return ModalBoxComponentModule;
}());

//# sourceMappingURL=modal-box.module.js.map

/***/ }),
/* 39 */,
/* 40 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RestFulConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return RestFulHeader; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return UrlEntity; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__sqlite_tbl_s_tbl__ = __webpack_require__(491);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__util_service_emit_service__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var RestFulConfig = (function () {
    function RestFulConfig(sqlitexec, emitService, util) {
        this.sqlitexec = sqlitexec;
        this.emitService = emitService;
        this.util = util;
        //this.init();
    }
    RestFulConfig.prototype.createHeader = function () {
        var header = new RestFulHeader();
        // // apro = await this.sqlitexec.getOne(apro);
        // //帐户ID
        header.ai = __WEBPACK_IMPORTED_MODULE_3__user_config__["b" /* UserConfig */].account.phone;
        //设备ID
        header.di = __WEBPACK_IMPORTED_MODULE_3__user_config__["b" /* UserConfig */].getDeviceId();
        // //设别类型
        header.dt = this.util.deviceType();
        // //登录码
        header.lt = __WEBPACK_IMPORTED_MODULE_3__user_config__["b" /* UserConfig */].account.token;
        // GPS
        // header.latitude = RestFulConfig.geo.latitude.toString();
        // header.longitude = RestFulConfig.geo.longitude.toString();
        return header;
    };
    //初始化全局 restful Url 信息
    RestFulConfig.prototype.init = function () {
        var _this = this;
        this.urlLs = new Map();
        var sPro = new __WEBPACK_IMPORTED_MODULE_0__sqlite_tbl_s_tbl__["a" /* STbl */]();
        sPro.st = "URL";
        return this.sqlitexec.getList(sPro).then(function (sPros) {
            for (var i = 0; i < sPros.length; i++) {
                var data = sPros[i];
                var urlentity = new UrlEntity();
                urlentity.key = data.yk;
                urlentity.url = data.yv;
                urlentity.desc = data.sn;
                _this.urlLs.set(data.yk, urlentity);
            }
            _this.emitService.emit("on.mwxing.global.restful.flashed");
        });
    };
    //获取url
    RestFulConfig.prototype.getRestFulUrl = function (key) {
        return this.urlLs.get(key);
    };
    RestFulConfig.geo = {
        latitude: 0,
        longitude: 0
    };
    /* 环境URL 头部 */
    // private static REQUEST_URL: string = "https://www.guobaa.com/gtd";
    // private static REQUEST_URL: string = "http://192.168.0.176:8080/gtd";//连接本地数据库
    // private static REQUEST_URL: string = "http://192.168.99.31:8080/gtd";//连接本地数据库
    // private static REQUEST_URL: UrlEntity = new UrlEntity("http://192.168.0.176:8080/gtd",false);//连接本地数据库
    // private static REQUEST_URL: UrlEntity = new UrlEntity("http://192.168.99.21:8080/gtd",false);//连接本地数据库
    // private static REQUEST_URL: UrlEntity = new UrlEntity("https://www.guobaa.com/gtd",false);
    // 预览版
    //public static INIT_DATA_URL: string = "https://www.guobaa.com/ini/parameters";
    // 内网测试版
    //public static INIT_DATA_URL: string = "https://www.guobaa.com/ini/parameters?debug=true";
    // 开发版
    RestFulConfig.INIT_DATA_URL = "https://www.guobaa.com/ini/parameters?tag=mwxing";
    /* 短应用服务APPID,SECRET for www.guobaa.com */
    RestFulConfig.MWXING_SERVICE_WWW_SITE = "www.guobaa.com";
    RestFulConfig.MWXING_SERVICE_WWW_APPID = "d3d3Lmd1b2JhYS5jb20";
    RestFulConfig.MWXING_SERVICE_WWW_SECRET = "c2VjcmV0QHd3dy5ndW9iYWEuY29t";
    /* 短应用服务APPID,SECRET for pluto.guobaa.com */
    RestFulConfig.MWXING_SERVICE_PLUTO_SITE = "pluto.guobaa.com";
    RestFulConfig.MWXING_SERVICE_PLUTO_APPID = "cGx1dG8uZ3VvYmFhLmNvbQ";
    RestFulConfig.MWXING_SERVICE_PLUTO_SECRET = "c2VjcmV0QHBsdXRvLmd1b2JhYS5jb20";
    /* RabbitMq WebSocket */
    RestFulConfig.RABBITMQ_WS_URL = "wss://www.guobaa.com/ws";
    RestFulConfig = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_5__util_service_emit_service__["a" /* EmitService */],
            __WEBPACK_IMPORTED_MODULE_4__util_service_util_service__["a" /* UtilService */]])
    ], RestFulConfig);
    return RestFulConfig;
}());

var RestFulHeader = (function () {
    function RestFulHeader() {
        this["Content-Type"] = "application/json";
        this.lt = ""; //登录码
        this.ai = ""; //帐户ID
        this.pi = "cn.sh.com.xj.timeApp"; //产品ID
        this.pv = "v3"; //产品版本
        this.di = ""; //设备ID
        this.dt = ""; //设别类型
        //  latitude: string = "0";//GPS定位
        //  longitude: string = "0";//GPS定位
    }
    return RestFulHeader;
}());

var UrlEntity = (function () {
    function UrlEntity() {
    }
    Object.defineProperty(UrlEntity.prototype, "desc", {
        get: function () {
            return this._desc;
        },
        set: function (value) {
            this._desc = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UrlEntity.prototype, "url", {
        get: function () {
            return this._url;
        },
        set: function (value) {
            this._url = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UrlEntity.prototype, "key", {
        get: function () {
            return this._key;
        },
        set: function (value) {
            this._key = value;
        },
        enumerable: true,
        configurable: true
    });
    return UrlEntity;
}());

//# sourceMappingURL=restful.config.js.map

/***/ }),
/* 41 */,
/* 42 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PageBoxComponentModule", function() { return PageBoxComponentModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__page_box__ = __webpack_require__(261);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pipes_pipes_module__ = __webpack_require__(23);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var PageBoxComponentModule = (function () {
    function PageBoxComponentModule() {
    }
    PageBoxComponentModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__page_box__["a" /* PageBoxComponent */]
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_2__page_box__["a" /* PageBoxComponent */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_3__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__page_box__["a" /* PageBoxComponent */])
            ],
            providers: [],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__page_box__["a" /* PageBoxComponent */]
            ],
            schemas: [__WEBPACK_IMPORTED_MODULE_0__angular_core__["CUSTOM_ELEMENTS_SCHEMA"]]
        })
    ], PageBoxComponentModule);
    return PageBoxComponentModule;
}());

//# sourceMappingURL=page-box.module.js.map

/***/ }),
/* 43 */,
/* 44 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RestfulClient; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__(489);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_http__ = __webpack_require__(490);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config_restful_config__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_log_tbl__ = __webpack_require__(104);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__cordova_network_service__ = __webpack_require__(161);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








/**
 * 基础resful请求
 */
var RestfulClient = (function () {
    function RestfulClient(http, httpClient, networkService, restConfig, util, sqlitExc) {
        this.http = http;
        this.httpClient = httpClient;
        this.networkService = networkService;
        this.restConfig = restConfig;
        this.util = util;
        this.sqlitExc = sqlitExc;
        this.init();
    }
    RestfulClient.prototype.init = function () {
        if (this.util.hasCordova()) {
            this.http.setDataSerializer("json");
            this.http.setSSLCertMode("nocheck").then(function (data) {
            });
        }
    };
    RestfulClient.prototype.upload = function (url, body, filePath, name) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            // 没有网络的时候，直接返回
            if (!_this.networkService.isConnected()) {
                resolve();
                return;
            }
            var header = _this.restConfig.createHeader();
            if (_this.util.hasCordova()) {
                return _this.http.uploadFile(url.url, body, header, filePath, name).then(function (data) {
                    console.log("upload >=< " + JSON.stringify(data));
                    var jsonData = JSON.parse(data.data);
                    resolve(jsonData);
                });
            }
            else {
                //浏览器测试使用
                var warHeader = {};
                warHeader.headers = header;
                _this.httpClient.post(url.url, body, warHeader).subscribe(function (data) {
                    console.log("upload >=< " + JSON.stringify(data));
                    resolve(data);
                });
            }
        });
    };
    RestfulClient.prototype.download = function (url, body, filePath) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            // 没有网络的时候，直接返回
            if (!_this.networkService.isConnected()) {
                resolve();
                return;
            }
            var header = _this.restConfig.createHeader();
            if (_this.util.hasCordova()) {
                return _this.http.downloadFile(url.url, body, header, filePath).then(function (data) {
                    console.log("download >=< " + JSON.stringify(data));
                    var jsonData = JSON.parse(data.data);
                    resolve(jsonData);
                });
            }
            else {
                resolve({});
                //浏览器使用 测试通过，暂时不用
                // let warHeader: any = {};
                // header["Content-Type"] = "application/x-www-form-urlencoded;charset=utf-8";
                // warHeader.headers = header;
                // warHeader.params = body;
                // this.httpClient.post(url.url, {}, warHeader).subscribe(data => {
                //   //console.log("download >=< " + JSON.stringify(data));
                //   resolve({});
                // });
            }
        });
    };
    RestfulClient.prototype.post = function (url, body) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            // 没有网络的时候，直接返回
            if (!_this.networkService.isConnected()) {
                resolve();
                return;
            }
            var log = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_log_tbl__["a" /* LogTbl */]();
            log.id = _this.util.getUuid();
            log.su = url.key;
            log.ss = new Date().valueOf();
            log.t = 1;
            var header = _this.restConfig.createHeader();
            if (_this.util.hasCordova()) {
                return _this.http.post(url.url, body, header).then(function (data) {
                    // console.log(data.status);
                    // console.log(data.data); // data received by server
                    // console.log(data.headers);
                    var jsonData = JSON.parse(data.data);
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = true;
                    _this.sqlitExc.noteLog(log);
                    resolve(jsonData);
                }).catch(function (err) {
                    _this.util.toastStart("冥王星" + url.desc + "服务访问失败", 2000);
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = false;
                    log.er = err;
                    _this.sqlitExc.noteLog(log);
                    reject(err);
                });
            }
            else {
                //浏览器测试使用
                var warHeader = {};
                warHeader.headers = header;
                _this.httpClient.post(url.url, body, warHeader).subscribe(function (data) {
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = true;
                    _this.sqlitExc.noteLog(log);
                    resolve(data);
                }, function (err) {
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = false;
                    log.er = err;
                    _this.sqlitExc.noteLog(log);
                    _this.util.toastStart("冥王星" + url.desc + "服务访问失败", 2000);
                    reject(err);
                });
            }
        });
    };
    RestfulClient.prototype.get = function (url) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            // 没有网络的时候，直接返回
            if (!_this.networkService.isConnected()) {
                resolve();
                return;
            }
            var log = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_log_tbl__["a" /* LogTbl */]();
            log.id = _this.util.getUuid();
            log.su = url.key;
            log.ss = new Date().valueOf();
            log.t = 1;
            var header = _this.restConfig.createHeader();
            if (_this.util.hasCordova()) {
                return _this.http.get(url.url, {}, header).then(function (data) {
                    var jsonData = JSON.parse(data.data);
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = true;
                    _this.sqlitExc.noteLog(log);
                    resolve(jsonData);
                }).catch(function (err) {
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = false;
                    log.er = err;
                    _this.sqlitExc.noteLog(log);
                    _this.util.toastStart("冥王星" + url.desc + "服务访问失败", 2000);
                    reject(err);
                });
            }
            else {
                //浏览器测试使用
                var warHeader = {};
                warHeader.headers = header;
                _this.httpClient.get(url.url, warHeader).subscribe(function (data) {
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = true;
                    _this.sqlitExc.noteLog(log);
                    resolve(data);
                }, function (err) {
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = false;
                    log.er = err;
                    _this.sqlitExc.noteLog(log);
                    _this.util.toastStart("冥王星" + url.desc + "服务访问失败", 2000);
                    reject(err);
                });
            }
        });
    };
    RestfulClient.prototype.put = function (url, body) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            // 没有网络的时候，直接返回
            if (!_this.networkService.isConnected()) {
                resolve();
                return;
            }
            var log = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_log_tbl__["a" /* LogTbl */]();
            log.id = _this.util.getUuid();
            log.su = url.key;
            log.ss = new Date().valueOf();
            log.t = 1;
            var header = _this.restConfig.createHeader();
            if (_this.util.hasCordova()) {
                return _this.http.put(url.url, body, header).then(function (data) {
                    var jsonData = JSON.parse(data.data);
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = true;
                    _this.sqlitExc.noteLog(log);
                    resolve(jsonData);
                }).catch(function (err) {
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = false;
                    log.er = err;
                    _this.sqlitExc.noteLog(log);
                    _this.util.toastStart("冥王星" + url.desc + "服务访问失败", 2000);
                    reject(err);
                });
            }
            else {
                //浏览器测试使用
                var warHeader = {};
                warHeader.headers = header;
                _this.httpClient.put(url.url, body, warHeader).subscribe(function (data) {
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = true;
                    _this.sqlitExc.noteLog(log);
                    log.t = 1;
                    resolve(data);
                }, function (err) {
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = false;
                    log.er = err;
                    _this.sqlitExc.noteLog(log);
                    _this.util.toastStart("冥王星" + url.desc + "服务访问失败", 2000);
                    reject(err);
                });
            }
        });
    };
    /**
     * http请求
     * @param url
     * @param header
     * @param body
     */
    RestfulClient.prototype.specPost = function (url, header, body) {
        var _this = this;
        var log = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_log_tbl__["a" /* LogTbl */]();
        log.id = this.util.getUuid();
        log.su = url;
        log.ss = new Date().valueOf();
        log.t = 1;
        return new Promise(function (resolve, reject) {
            // 没有网络的时候，直接返回
            if (!_this.networkService.isConnected()) {
                resolve();
                return;
            }
            if (_this.util.hasCordova()) {
                return _this.http.post(url, body, header).then(function (data) {
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = true;
                    _this.sqlitExc.noteLog(log);
                    resolve(JSON.parse(data.data));
                }).catch(function (err) {
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = false;
                    log.er = err;
                    _this.sqlitExc.noteLog(log);
                    _this.util.toastStart("初始化数据获取失败", 2000);
                    resolve();
                    //reject(e);
                });
            }
            else {
                //浏览器测试使用
                var warHeader = {};
                warHeader.headers = header;
                _this.httpClient.post(url, body, warHeader).subscribe(function (data) {
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = true;
                    _this.sqlitExc.noteLog(log);
                    resolve(data);
                }, function (err) {
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = false;
                    log.er = err;
                    _this.sqlitExc.noteLog(log);
                    _this.util.toastStart("初始化数据获取失败", 2000);
                    resolve();
                });
            }
        });
    };
    /**
     * http请求
     * @param url
     * @param header
     * @param body
     */
    RestfulClient.prototype.get4Text = function (url, header, body) {
        var _this = this;
        var log = new __WEBPACK_IMPORTED_MODULE_6__sqlite_tbl_log_tbl__["a" /* LogTbl */]();
        log.id = this.util.getUuid();
        log.su = url;
        log.ss = new Date().valueOf();
        log.t = 1;
        return new Promise(function (resolve, reject) {
            // 没有网络的时候，直接返回
            if (!_this.networkService.isConnected()) {
                resolve();
                return;
            }
            header["Content-Type"] = "text/plain";
            if (_this.util.hasCordova()) {
                return _this.http.get(url, body, header).then(function (data) {
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = true;
                    _this.sqlitExc.noteLog(log);
                    resolve(data.data);
                }).catch(function (err) {
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = false;
                    log.er = err;
                    _this.sqlitExc.noteLog(log);
                    _this.util.toastStart("初始化数据获取失败", 2000);
                    reject(err);
                });
            }
            else {
                //浏览器测试使用
                var warHeader = {};
                warHeader.headers = header;
                _this.httpClient.get(url, warHeader).subscribe(function (data) {
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = true;
                    _this.sqlitExc.noteLog(log);
                    resolve(data);
                }, function (err) {
                    log.ss = new Date().valueOf() - log.ss;
                    log.st = false;
                    log.er = err;
                    _this.sqlitExc.noteLog(log);
                    _this.util.toastStart("初始化数据获取失败", 2000);
                    reject(err);
                });
            }
        });
    };
    /**
     * http请求
     * @param url
     * @param header
     * @param body
     */
    RestfulClient.prototype.get4thridAPIJSONP = function (url) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (_this.util.hasCordova()) {
                _this.http.get(url, {}, {}).then(function (data) {
                    resolve(JSON.parse(data.data));
                }).catch(function (err) {
                });
            }
            else {
                _this.httpClient.jsonp(url, "callback").subscribe(function (data) {
                    resolve(data);
                });
            }
        });
    };
    /**
     * http请求
     * @param url
     * @param header
     * @param body
     */
    RestfulClient.prototype.get4thridAPIGET = function (url) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (_this.util.hasCordova()) {
                _this.http.get(url, {}, {}).then(function (data) {
                    resolve(data);
                }).catch(function (err) {
                });
            }
            else {
                _this.httpClient.get(url).subscribe(function (data) {
                    resolve(data);
                });
            }
        });
    };
    RestfulClient = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__ionic_native_http__["a" /* HTTP */],
            __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_7__cordova_network_service__["a" /* NetworkService */],
            __WEBPACK_IMPORTED_MODULE_3__config_restful_config__["a" /* RestFulConfig */],
            __WEBPACK_IMPORTED_MODULE_4__util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_5__sqlite_exec__["a" /* SqliteExec */]])
    ], RestfulClient);
    return RestfulClient;
}());

//# sourceMappingURL=restful.client.js.map

/***/ }),
/* 45 */,
/* 46 */,
/* 47 */,
/* 48 */,
/* 49 */,
/* 50 */,
/* 51 */,
/* 52 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FeedbackService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ionic_native_vibration__ = __webpack_require__(244);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_native_audio__ = __webpack_require__(245);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config_data_config__ = __webpack_require__(9);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





/**
 * 界面操作回馈
 *
 * create by wzy on 2018/10/28.
 */
var FeedbackService = (function () {
    function FeedbackService(vibration, audio) {
        this.vibration = vibration;
        this.audio = audio;
    }
    FeedbackService.prototype.initAudio = function () {
        return __awaiter(this, void 0, void 0, function () {
            var items, i, asset;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        items = ['click', 'delete', 'press', 'save', 'send', 'trans', 'warning', 'option'];
                        i = 0;
                        _a.label = 1;
                    case 1:
                        if (!(i < items.length)) return [3 /*break*/, 4];
                        asset = 'assets/feedback/' + items[i] + '.mp3';
                        return [4 /*yield*/, this.audio.preloadSimple(items[i], asset)];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3:
                        i++;
                        return [3 /*break*/, 1];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    // public audioRemind() {
    //   return this.audio.play('remind').then(d => {
    //     if (UserConfig.getSetting(DataConfig.SYS_Z)) return;
    //     this.vibration.vibrate(200);
    //   });
    // }
    //
    // public audioSms() {
    //   if (UserConfig.settins.get(DataConfig.SYS_T).value == "0") return;
    //   return this.audio.play('sms').then(d => {
    //
    //     if (UserConfig.getSetting(DataConfig.SYS_Z)) return;
    //     this.vibration.vibrate(200);
    //   });
    // }
    FeedbackService.prototype.audioWarning = function () {
        if (__WEBPACK_IMPORTED_MODULE_3__config_user_config__["b" /* UserConfig */].getSetting(__WEBPACK_IMPORTED_MODULE_4__config_data_config__["a" /* DataConfig */].SYS_Z)) {
            this.audio.play('warning');
            this.vibration.vibrate(600);
        }
        return;
    };
    FeedbackService.prototype.audioOption = function () {
        if (__WEBPACK_IMPORTED_MODULE_3__config_user_config__["b" /* UserConfig */].getSetting(__WEBPACK_IMPORTED_MODULE_4__config_data_config__["a" /* DataConfig */].SYS_Z)) {
            this.audio.play('option');
            //this.vibration.vibrate(600);
        }
        return;
    };
    FeedbackService.prototype.audioTrans = function () {
        if (__WEBPACK_IMPORTED_MODULE_3__config_user_config__["b" /* UserConfig */].getSetting(__WEBPACK_IMPORTED_MODULE_4__config_data_config__["a" /* DataConfig */].SYS_Z)) {
            this.audio.play('trans');
            this.vibration.vibrate(100);
        }
        return;
    };
    FeedbackService.prototype.audioSend = function () {
        if (__WEBPACK_IMPORTED_MODULE_3__config_user_config__["b" /* UserConfig */].getSetting(__WEBPACK_IMPORTED_MODULE_4__config_data_config__["a" /* DataConfig */].SYS_Z)) {
            this.audio.play('send');
            this.vibration.vibrate(200);
        }
        return;
    };
    FeedbackService.prototype.audioSave = function () {
        if (__WEBPACK_IMPORTED_MODULE_3__config_user_config__["b" /* UserConfig */].getSetting(__WEBPACK_IMPORTED_MODULE_4__config_data_config__["a" /* DataConfig */].SYS_Z)) {
            this.audio.play('save');
            this.vibration.vibrate(300);
        }
        return;
    };
    FeedbackService.prototype.audioPress = function () {
        if (__WEBPACK_IMPORTED_MODULE_3__config_user_config__["b" /* UserConfig */].getSetting(__WEBPACK_IMPORTED_MODULE_4__config_data_config__["a" /* DataConfig */].SYS_Z)) {
            this.audio.play('press');
            this.vibration.vibrate(400);
        }
        return;
    };
    FeedbackService.prototype.audioDelete = function () {
        if (__WEBPACK_IMPORTED_MODULE_3__config_user_config__["b" /* UserConfig */].getSetting(__WEBPACK_IMPORTED_MODULE_4__config_data_config__["a" /* DataConfig */].SYS_Z)) {
            this.audio.play('delete');
            this.vibration.vibrate(300);
        }
        return;
    };
    FeedbackService.prototype.audioClick = function () {
        if (__WEBPACK_IMPORTED_MODULE_3__config_user_config__["b" /* UserConfig */].getSetting(__WEBPACK_IMPORTED_MODULE_4__config_data_config__["a" /* DataConfig */].SYS_Z)) {
            this.audio.play('click');
            this.vibration.vibrate(200);
        }
        return;
    };
    FeedbackService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__ionic_native_vibration__["a" /* Vibration */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_native_audio__["a" /* NativeAudio */]])
    ], FeedbackService);
    return FeedbackService;
}());

//# sourceMappingURL=feedback.service.js.map

/***/ }),
/* 53 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_restful_agdsev__ = __webpack_require__(111);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_sqlite_tbl_d_tbl__ = __webpack_require__(152);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_restful_personsev__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_cordova_contacts_service__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__data_mapping__ = __webpack_require__(20);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var FsService = (function () {
    function FsService(sqlite, agdRest, perRest, contacts, util) {
        this.sqlite = sqlite;
        this.agdRest = agdRest;
        this.perRest = perRest;
        this.contacts = contacts;
        this.util = util;
    }
    //根据条件查询参与人
    FsService.prototype.getfriend = function (key) {
        if (key)
            return __WEBPACK_IMPORTED_MODULE_8__service_config_user_config__["b" /* UserConfig */].friends.filter(function (value) {
                return value.ran.indexOf(key) > -1
                    || value.rc.indexOf(key) > -1
                    || value.rn.indexOf(key) > -1
                    || value.rc.indexOf(key) > -1
                    || value.rnpy.indexOf(key) > -1
                    || value.ranpy.indexOf(key) > -1;
            });
        else
            return __WEBPACK_IMPORTED_MODULE_8__service_config_user_config__["b" /* UserConfig */].friends;
    };
    //查询群组中的参与人
    FsService.prototype.getfriendgroup = function (groupId) {
        return __WEBPACK_IMPORTED_MODULE_8__service_config_user_config__["b" /* UserConfig */].groups.find(function (value) { return value.gi == groupId; }).fsl;
    };
    /**
     * 获取分享日程的参与人
     * @param {string} calId 日程ID
     * @returns {Promise<Array<FsData>>}
     */
    FsService.prototype.getCalfriend = function (calId) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var sql = 'select gd.pi,gd.si,gb.*,bh.hiu bhiu from gtd_d gd inner join gtd_b gb on gb.pwi = gd.ai left join gtd_bh bh on gb.pwi = bh.pwi where si="' + calId + '"';
            var fsList = new Array();
            console.log('---------- getCalfriend 获取分享日程的参与人 sql:' + sql);
            _this.sqlite.execSql(sql).then(function (data) {
                if (data && data.rows && data.rows.length > 0) {
                    for (var i = 0, len = data.rows.length; i < len; i++) {
                        var fs = new __WEBPACK_IMPORTED_MODULE_9__data_mapping__["c" /* FsData */]();
                        Object.assign(fs, data.rows.item(i));
                        if (!fs.bhiu || fs.bhiu == null || fs.bhiu == '') {
                            fs.bhiu = __WEBPACK_IMPORTED_MODULE_6__service_config_data_config__["a" /* DataConfig */].HUIBASE64;
                        }
                        fsList.push(fs);
                    }
                }
                console.log('---------- getCalfriend 获取分享日程的参与人结果:' + fsList.length /*JSON.stringify(fsList)*/);
                resolve(fsList);
            }).catch(function (e) {
                console.error('---------- getCalfriend 获取分享日程的参与人出错:' + e.message);
                resolve(fsList);
            });
        });
    };
    /**
     * 分享给参与人操作
     * @param {string} si 日程ID
     * @param {Array<FsData>} fsList 日程参与人列表
     * @returns {Promise<Array<FsData>>}
     */
    FsService.prototype.sharefriend = function (si, fsList) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            //restFul 通知参与人
            var adgPro = new __WEBPACK_IMPORTED_MODULE_2__service_restful_agdsev__["a" /* AgdPro */]();
            adgPro.ai = si;
            var ac = new Array();
            for (var _i = 0, fsList_1 = fsList; _i < fsList_1.length; _i++) {
                var fs = fsList_1[_i];
                if (fs.rc != __WEBPACK_IMPORTED_MODULE_8__service_config_user_config__["b" /* UserConfig */].account.phone) {
                    var con = new __WEBPACK_IMPORTED_MODULE_2__service_restful_agdsev__["c" /* ContactPerPro */]();
                    con.ai = fs.ui;
                    con.mpn = fs.rc;
                    //con.a = fs.hiu;
                    con.n = fs.rn;
                    ac.push(con);
                }
            }
            adgPro.ac = ac;
            if (ac.length == 0) {
                resolve(true);
                return;
            }
            console.log('---------- sharefriend 分享给参与人操作 参数:' + JSON.stringify(adgPro));
            _this.agdRest.contactssave(adgPro).then(function (data) {
                console.log('---------- sharefriend 分享给参与人操作 结果:' + JSON.stringify(data));
                return _this.getCalfriend(si);
            }).then(function (data) {
                var dtList = new Array();
                for (var _i = 0, fsList_2 = fsList; _i < fsList_2.length; _i++) {
                    var fs = fsList_2[_i];
                    //去除重复的参与人
                    var is = false;
                    for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {
                        var ofs = data_1[_a];
                        if (ofs.pwi == fs.pwi) {
                            is = true;
                            break;
                        }
                    }
                    if (!is && fs.rc != __WEBPACK_IMPORTED_MODULE_8__service_config_user_config__["b" /* UserConfig */].account.phone) {
                        var dt = new __WEBPACK_IMPORTED_MODULE_3__service_sqlite_tbl_d_tbl__["a" /* DTbl */]();
                        dt.pi = _this.util.getUuid();
                        dt.ai = fs.pwi;
                        dt.si = si;
                        dtList.push(dt.inT());
                    }
                }
                console.log('---------- sharefriend 分享给参与人操作 保存参与人 ---------' + JSON.stringify(data));
                return _this.sqlite.batExecSql(dtList);
            }).then(function (data) {
                console.log('---------- sharefriend 分享给参与人操作 保存参与人结束 ---------' + JSON.stringify(data));
                resolve(true);
            }).catch(function (e) {
                console.error('---------- sharefriend 分享给参与人操作 保存参与人错误 ---------' + e.message);
                resolve(false);
            });
        });
    };
    FsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_2__service_restful_agdsev__["b" /* AgdRestful */],
            __WEBPACK_IMPORTED_MODULE_5__service_restful_personsev__["a" /* PersonRestful */],
            __WEBPACK_IMPORTED_MODULE_7__service_cordova_contacts_service__["a" /* ContactsService */],
            __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__["a" /* UtilService */]])
    ], FsService);
    return FsService;
}());

//# sourceMappingURL=fs.service.js.map

/***/ }),
/* 54 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BaseProcess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

/**
 * process基类
 *
 * create by wzy on 2018/11/30.
 */
var BaseProcess = (function () {
    function BaseProcess() {
    }
    BaseProcess.prototype.output = function (content, contextRetMap, field, defaultname, value) {
        if (content.output && (content.output[field] || content.output[field] == "")) {
            if (content.output[field] != "") {
                if (typeof content.output[field] == "string") {
                    contextRetMap.set(content.output[field], value);
                }
                else {
                    // 使用过滤器对值进行转换
                    if (content.output[field].name && content.output[field].filter) {
                        try {
                            var filter = eval("(" + content.output[field].filter + ")");
                            contextRetMap.set(content.output[field].name, filter(value));
                        }
                        catch (e) {
                            contextRetMap.set(content.output[field].name, value);
                        }
                    }
                }
            }
        }
        else {
            contextRetMap.set(defaultname, value);
        }
    };
    BaseProcess.prototype.input = function (content, contextRetMap, field, defaultname, fieldobject) {
        if (content.input && (content.input[field] || content.input[field] == "")) {
            if (content.input[field] != "")
                fieldobject = contextRetMap.get(content.input[field]);
        }
        else {
            fieldobject = contextRetMap.get(defaultname);
        }
        return fieldobject;
    };
    BaseProcess = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], BaseProcess);
    return BaseProcess;
}());

//# sourceMappingURL=base.process.js.map

/***/ }),
/* 55 */,
/* 56 */,
/* 57 */,
/* 58 */,
/* 59 */,
/* 60 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AssistantService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ionic_native_file__ = __webpack_require__(102);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__restful_aibutlersev__ = __webpack_require__(488);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_su_tbl__ = __webpack_require__(253);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__util_service_emit_service__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};










/**
 * 小吉语音助手
 *
 * create by wzy on 2018/08/07.
 */
var AssistantService = (function () {
    function AssistantService(file, aibutlerRestful, sqliteExec, utilService, emitService) {
        this.file = file;
        this.aibutlerRestful = aibutlerRestful;
        this.sqliteExec = sqliteExec;
        this.utilService = utilService;
        this.emitService = emitService;
        this.mp3Path = this.file.cacheDirectory;
        this.mp3Name = "iat.pcm";
        this.wakeuping = false;
        this.listening = false;
    }
    /**
     * 启动监听WakeUp
     */
    AssistantService.prototype.startWakeUp = function () {
        var _this = this;
        if (!__WEBPACK_IMPORTED_MODULE_8__config_user_config__["b" /* UserConfig */].getSetting(__WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].SYS_H))
            return;
        if (!this.utilService.isMobile())
            return;
        if (this.wakeuping)
            return;
        this.wakeuping = true;
        cordova.plugins.XjBaiduWakeUp.wakeUpStart(function (result) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.listenAudio();
                return [2 /*return*/];
            });
        }); }, function (error) {
            console.log("问题：" + error);
        });
    };
    /**
     * 停止监听WakeUp
     */
    AssistantService.prototype.stopWakeUp = function () {
        this.wakeuping = false;
        if (!this.utilService.isMobile())
            return;
        if (!__WEBPACK_IMPORTED_MODULE_8__config_user_config__["b" /* UserConfig */].getSetting(__WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].SYS_H))
            return;
        cordova.plugins.XjBaiduWakeUp.wakeUpStop();
    };
    /**
     * 停止语音播报
     */
    AssistantService.prototype.stopSpeak = function (emit, open) {
        if (open === void 0) { open = false; }
        if (!this.utilService.isMobile())
            return;
        cordova.plugins.XjBaiduTts.speakStop();
        if (emit) {
            this.emitService.emitSpeak(false);
        }
        if (open)
            this.listenAudio();
        //增加通用事件响应
        this.emitService.emit("on.speak.finished", "");
    };
    AssistantService.prototype.getSpeakText = function (t, type) {
        if (type === void 0) { type = ''; }
        return __awaiter(this, void 0, void 0, function () {
            var sutbl, datas, len, rand, an;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        sutbl = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_su_tbl__["a" /* SuTbl */]();
                        //sutbl.st = DataConfig.SPEECH;
                        sutbl.subt = t;
                        if (type)
                            sutbl.sust = type;
                        else
                            sutbl.sust = 'NONE';
                        return [4 /*yield*/, this.sqliteExec.getList(sutbl)];
                    case 1:
                        datas = _a.sent();
                        len = datas.length;
                        rand = this.utilService.randInt(0, len - 1);
                        an = datas[rand];
                        return [2 /*return*/, an.suc];
                }
            });
        });
    };
    AssistantService.prototype.getSpeakTextObject = function (t, type) {
        if (type === void 0) { type = ''; }
        return __awaiter(this, void 0, void 0, function () {
            var sutbl, datas, len, an_1, rand, an;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        sutbl = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_su_tbl__["a" /* SuTbl */]();
                        //sutbl.st = DataConfig.SPEECH;
                        sutbl.subt = t;
                        if (type)
                            sutbl.sust = type;
                        else
                            sutbl.sust = 'NONE';
                        return [4 /*yield*/, this.sqliteExec.getList(sutbl)];
                    case 1:
                        datas = _a.sent();
                        len = datas.length;
                        console.log("播报内容参数*******************t=" + sutbl.subt + ";type=" + sutbl.sust);
                        if (len == 0) {
                            an_1 = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_su_tbl__["a" /* SuTbl */]();
                            an_1.suc = "您交代的事情已经办好了, 我正在学习怎么更准确的告诉您";
                            an_1.sus = "false";
                            return [2 /*return*/, an_1];
                        }
                        rand = this.utilService.randInt(0, len - 1);
                        an = datas[rand];
                        return [2 /*return*/, an];
                }
            });
        });
    };
    /**
     * 返回语音播报
     */
    AssistantService.prototype.speakText = function (speechText) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (!_this.utilService.isMobile()) {
                resolve();
                return;
            }
            if (speechText == null || speechText == "") {
                resolve();
                return;
            }
            if (!__WEBPACK_IMPORTED_MODULE_8__config_user_config__["b" /* UserConfig */].getSetting(__WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].SYS_B)) {
                resolve();
                return;
            }
            _this.stopListenAudio();
            _this.emitService.emitSpeak(true);
            setTimeout(function () {
                cordova.plugins.XjBaiduTts.startSpeak(function (result) {
                    _this.stopSpeak(true);
                    resolve();
                }, function (error) {
                    _this.stopSpeak(true);
                    resolve(error);
                }, speechText);
            }, 100);
        });
    };
    /**
     * 返回纯语音播报
     */
    AssistantService.prototype.pureSpeakText = function (speechText) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (!_this.utilService.isMobile()) {
                resolve();
                return;
            }
            if (speechText == null || speechText == "") {
                resolve();
                return;
            }
            setTimeout(function () {
                cordova.plugins.XjBaiduTts.startSpeak(function (result) {
                    _this.stopSpeak(false);
                    resolve();
                }, function (error) {
                    _this.stopSpeak(false);
                    resolve(error);
                }, speechText);
            }, 100);
        });
    };
    /**
     * 语音助手手动输入 TEXT
     */
    AssistantService.prototype.putText = function (text) {
        return __awaiter(this, void 0, void 0, function () {
            var textPro;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        textPro = new __WEBPACK_IMPORTED_MODULE_2__restful_aibutlersev__["c" /* TextPro */]();
                        textPro.d.text = text;
                        textPro.c.client.time = __WEBPACK_IMPORTED_MODULE_3_moment__().valueOf();
                        textPro.c.client.cxt = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].wsContext;
                        textPro.c.server = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].wsServerContext;
                        textPro.c.client.option = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].wsWsOpt;
                        textPro.c.client.processor = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].wsWsProcessor;
                        return [4 /*yield*/, this.aibutlerRestful.posttext(textPro)
                                .then(function (data) {
                                console.log("data code：" + data.code);
                                //接收Object JSON数据
                                return text;
                            })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 停止监听
     */
    AssistantService.prototype.stopListenAudio = function () {
        var _this = this;
        this.listening = false;
        if (!this.utilService.isMobile())
            return;
        cordova.plugins.XjBaiduSpeech.stopListen();
        this.startWakeUp();
        this.emitService.emitListener(false);
        setTimeout(function () {
            _this.emitService.emitImmediately("");
        }, 2000);
    };
    /**
     * 语音助手录音录入 AUDIO
     */
    AssistantService.prototype.listenAudio = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this.listening)
                            return [2 /*return*/];
                        if (!this.utilService.isMobile()) {
                            return [2 /*return*/];
                        }
                        this.listening = true;
                        this.stopSpeak(false);
                        this.stopWakeUp();
                        this.emitService.emitListener(true);
                        return [4 /*yield*/, cordova.plugins.XjBaiduSpeech.startListen(function (result) { return __awaiter(_this, void 0, void 0, function () {
                                var base64File, audioPro;
                                return __generator(this, function (_a) {
                                    switch (_a.label) {
                                        case 0:
                                            this.emitService.emitImmediately(result.text);
                                            if (!result.finish) {
                                                return [2 /*return*/];
                                            }
                                            this.stopListenAudio();
                                            return [4 /*yield*/, this.file.readAsDataURL(this.mp3Path, this.mp3Name)];
                                        case 1:
                                            base64File = _a.sent();
                                            audioPro = new __WEBPACK_IMPORTED_MODULE_2__restful_aibutlersev__["b" /* AudioPro */]();
                                            audioPro.d.vb64 = base64File;
                                            audioPro.c.client.time = __WEBPACK_IMPORTED_MODULE_3_moment__().valueOf();
                                            audioPro.c.client.cxt = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].wsContext;
                                            audioPro.c.client.option = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].wsWsOpt;
                                            audioPro.c.client.processor = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].wsWsProcessor;
                                            audioPro.c.server = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].wsServerContext;
                                            return [4 /*yield*/, this.aibutlerRestful.postaudio(audioPro)];
                                        case 2:
                                            _a.sent();
                                            return [2 /*return*/, result];
                                    }
                                });
                            }); }, function (error) { return __awaiter(_this, void 0, void 0, function () {
                                var _this = this;
                                return __generator(this, function (_a) {
                                    this.stopListenAudio();
                                    setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {
                                        var text;
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0: return [4 /*yield*/, this.getSpeakText(__WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].FF)];
                                                case 1:
                                                    text = _a.sent();
                                                    this.speakText(text);
                                                    return [2 /*return*/, text];
                                            }
                                        });
                                    }); }, 100);
                                    return [2 /*return*/];
                                });
                            }); })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 语音助手录音录入 AUDIO
     */
    AssistantService.prototype.audio2Text = function (callback, success, error) {
        var _this = this;
        if (this.listening)
            return;
        if (!this.utilService.isMobile()) {
            success();
            return;
        }
        this.listening = true;
        this.stopSpeak(false);
        this.stopWakeUp();
        cordova.plugins.XjBaiduSpeech.startListen(function (result) {
            callback(result.text);
            if (result.finish) {
                _this.stopListenAudio();
                success();
                return;
            }
        }, function (err) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                this.stopListenAudio();
                setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {
                    var text;
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0: return [4 /*yield*/, this.getSpeakText(__WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].FF)];
                            case 1:
                                text = _a.sent();
                                this.speakText(text);
                                error();
                                return [2 /*return*/];
                        }
                    });
                }); }, 100);
                return [2 /*return*/];
            });
        }); });
    };
    AssistantService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__ionic_native_file__["a" /* File */],
            __WEBPACK_IMPORTED_MODULE_2__restful_aibutlersev__["a" /* AibutlerRestful */],
            __WEBPACK_IMPORTED_MODULE_6__util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_7__util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_9__util_service_emit_service__["a" /* EmitService */]])
    ], AssistantService);
    return AssistantService;
}());

//# sourceMappingURL=assistant.service.js.map

/***/ }),
/* 61 */,
/* 62 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContactsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ionic_native_contacts__ = __webpack_require__(544);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__sqlite_tbl_b_tbl__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__restful_personsev__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__sqlite_tbl_bh_tbl__ = __webpack_require__(145);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__data_mapping__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};











/**
 * 本地联系人读取
 * 2019/1/16
 */
var ContactsService = (function () {
    function ContactsService(contacts, utilService, userConfig, sqlExce, personRestful) {
        this.contacts = contacts;
        this.utilService = utilService;
        this.userConfig = userConfig;
        this.sqlExce = sqlExce;
        this.personRestful = personRestful;
    }
    /**
     * 所有联系人 未使用
     * @returns {Promise<any>}
     */
    ContactsService.prototype.getContacts = function () {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            var contacts;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        contacts = new Array();
                        return [4 /*yield*/, this.contacts.find(['*'], {
                                filter: '',
                                multiple: true,
                                desiredFields: ["displayName", "phoneNumbers", 'name']
                            }).then(function (data) {
                                for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {
                                    var contact = data_1[_i];
                                    for (var i = 0; contact.phoneNumbers != null && i < contact.phoneNumbers.length; i++) {
                                        //去除手机号中的空格
                                        contact.phoneNumbers[i].value = contact.phoneNumbers[i].value.replace(/\s/g, '')
                                            .replace('-', '').replace('+86', '').replace('0086', '');
                                        if (!_this.utilService.checkPhone(contact.phoneNumbers[i].value)) {
                                            break;
                                        }
                                    }
                                }
                                return data;
                            })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        }); });
    };
    /**
     * 所有联系人 联系人导入使用
     * @returns {Promise<any>}
     */
    ContactsService.prototype.getContacts4Btbl = function () {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            var btbls;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        btbls = new Array();
                        if (!this.utilService.isMobile()) {
                            resolve(btbls);
                        }
                        return [4 /*yield*/, this.contacts.find(['*'], {
                                filter: '',
                                multiple: true,
                                desiredFields: ["displayName", "phoneNumbers", 'name']
                            }).then(function (data) {
                                console.log("===== 获取本地联系人：" + JSON.stringify(data));
                                var contactPhones = new Array();
                                var contact;
                                for (var _i = 0, data_2 = data; _i < data_2.length; _i++) {
                                    contact = data_2[_i];
                                    console.log("===== 本地联系人：" + JSON.stringify(contact));
                                    // XiaoMI 6X补丁
                                    if (contact._objectInstance)
                                        contact = contact._objectInstance;
                                    if (!contact.phoneNumbers)
                                        continue;
                                    // 可能存在没有姓名的联系人
                                    if (!contact.name)
                                        continue;
                                    var _loop_1 = function (phone) {
                                        //去除手机号中的空格
                                        var phonenumber = phone.value;
                                        var number = "";
                                        phonenumber.match(/\d+/g).forEach(function (v) {
                                            number = number + v;
                                        });
                                        number = number.replace(/\+86/g, '')
                                            .replace('0086', '')
                                            .replace(/\s/g, "");
                                        console.log("===== 电话号码：" + number);
                                        if (!_this.utilService.checkPhone(number)) {
                                            return "continue";
                                        }
                                        else {
                                            if (contactPhones.indexOf(number) > -1)
                                                return "continue";
                                            // 增加人名显示逻辑
                                            var displayname = _this.getLocalContactsName(contact.displayName, contact.name.familyName, contact.name.givenName, contact.name.formatted);
                                            var btbl = new __WEBPACK_IMPORTED_MODULE_3__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                                            //联系人别称
                                            btbl.ran = displayname;
                                            //名称
                                            btbl.rn = displayname;
                                            btbl.rc = number;
                                            contactPhones.push(number);
                                            btbls.push(btbl);
                                            console.log("===== 加入联系人清单：" + JSON.stringify(btbl));
                                        }
                                    };
                                    for (var _a = 0, _b = contact.phoneNumbers; _a < _b.length; _a++) {
                                        var phone = _b[_a];
                                        _loop_1(phone);
                                    }
                                }
                                console.log("===== 本地联系人处理结束 =====");
                                resolve(btbls);
                            }).catch(function (err) {
                                resolve(btbls);
                            })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        }); });
    };
    ContactsService.prototype.getLocalContactsName = function (displayName, familyName, givenName, formatted) {
        if (displayName)
            return displayName;
        if (familyName && givenName)
            return familyName + ' ' + givenName;
        if (familyName && !givenName)
            return familyName;
        if (!familyName && givenName)
            return givenName;
        if (formatted)
            return formatted;
        return "";
    };
    ContactsService.prototype.asyncPhoneContacts = function () {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            var lastlaunch, thislaunch;
            return __generator(this, function (_a) {
                console.log('异步获取联系人函数开始...');
                lastlaunch = __WEBPACK_IMPORTED_MODULE_7__service_config_user_config__["b" /* UserConfig */].getTroubleStop('contactsservice.asyncphonecontacts.lastlaunch');
                thislaunch = __WEBPACK_IMPORTED_MODULE_10_moment__().unix();
                if (lastlaunch && ((thislaunch - lastlaunch) > (60 * 30))) {
                    console.log('异步获取联系人30分钟以内调用, 忽略...');
                    // 30分钟以内调用, 忽略
                    resolve(true);
                }
                else {
                    console.log('异步获取联系人非30分钟以内调用, 开始...');
                    __WEBPACK_IMPORTED_MODULE_7__service_config_user_config__["b" /* UserConfig */].setTroubleStop('contactsservice.asyncphonecontacts.lastlaunch', thislaunch);
                    //异步获取联系人信息入库等操作
                    this.getContacts4Btbl().then(function (data) { return __awaiter(_this, void 0, void 0, function () {
                        var bsqls, _i, data_3, b, bt;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    bsqls = new Array();
                                    _i = 0, data_3 = data;
                                    _a.label = 1;
                                case 1:
                                    if (!(_i < data_3.length)) return [3 /*break*/, 4];
                                    b = data_3[_i];
                                    console.log("===== 本地联系人入参：" + JSON.stringify(b));
                                    if (!b.rn)
                                        return [3 /*break*/, 3];
                                    return [4 /*yield*/, this.sqlExce.getOne(b)];
                                case 2:
                                    bt = _a.sent();
                                    if (bt == null) {
                                        bt = new __WEBPACK_IMPORTED_MODULE_3__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                                        bt.pwi = this.utilService.getUuid();
                                        bt.ran = b.ran;
                                        bt.ranpy = this.utilService.chineseToPinYin(bt.ran);
                                        bt.hiu = "";
                                        bt.rn = b.rn;
                                        bt.rnpy = this.utilService.chineseToPinYin(bt.rn);
                                        bt.rc = b.rc;
                                        bt.rel = '0';
                                        bt.ui = '';
                                        bsqls.push(bt.inT());
                                        console.log("===== 本地联系人入库：" + JSON.stringify(bt));
                                    }
                                    _a.label = 3;
                                case 3:
                                    _i++;
                                    return [3 /*break*/, 1];
                                case 4: return [4 /*yield*/, this.sqlExce.batExecSql(bsqls)];
                                case 5: return [2 /*return*/, _a.sent()];
                            }
                        });
                    }); }).then(function (data) {
                        // 在同步服务器联系人之前先全部更新完成后刷新
                        // 同步时间较长，会导致用户使用的时候选不到联系人
                        _this.userConfig.RefreshFriend();
                        resolve(true);
                    }).catch(function (error) {
                        resolve(false);
                    });
                }
                return [2 /*return*/];
            });
        }); });
    };
    // getByDisplayName(name:string){
    //   return new Promise((resolve, reject)=>{
    //     // let bs = new BsModel();
    //     // this.contacts.find(['displayName'],{
    //     //   filter:name,
    //     //   multiple:true,
    //     //   desiredFields:["displayName","phoneNumbers","name"]
    //     // }).then(data=>{
    //     //   console.log("contacts data :: " + JSON.stringify(data));
    //     //   for(let contact of data){
    //     //     for(let i = 0;contact.phoneNumbers != null && i<contact.phoneNumbers.length;i++){
    //     //       //去除手机号中的空格
    //     //       contact.phoneNumbers[i].value = contact.phoneNumbers[i].value.replace(/\s/g,'');
    //     //
    //     //       // if(this.utilService.checkPhone(contact.phoneNumbers[i].value) != 3){
    //     //       //   break;
    //     //       // }
    //     //       // let ru = new RuModel();
    //     //       // ru.sdt = 3;
    //     //       // ru.ran = contact.displayName;
    //     //       // ru.rC = contact.phoneNumbers[i].value;
    //     //       // ru.rel = '0';
    //     //       // ContactsService.contactList.push(ru);
    //     //       // ContactsService.contactTel.push(contact.phoneNumbers[i].value);
    //     //     }
    //     //   }
    //     //   this.dddd();
    //     //   resolve(bs)
    //     // }).catch(reason => {
    //     //   reject(reason);
    //     // });
    //   })
    //
    // }
    // dddd(){
    //   //手机号排序
    //   for(let i = 0;i<ContactsService.contactTel.length;i++){
    //     for(let j = 0;j<ContactsService.contactTel.length-i;j++){
    //       if(ContactsService.contactTel[j] > ContactsService.contactTel[j+1]){
    //         let tmp = ContactsService.contactTel[j];
    //         ContactsService.contactTel[j] = ContactsService.contactTel[j+1];
    //         ContactsService.contactTel[j+1] = tmp;
    //         // let tmp2 = ContactsService.contactList[j];
    //         // ContactsService.contactList[j] = ContactsService.contactList[j+1];
    //         // ContactsService.contactList[j+1] = tmp2;
    //       }
    //     }
    //   }
    //
    //   let tellist = ContactsService.contactTel;
    //   console.log("手机号集 :: " + JSON.stringify(tellist));
    //   // this.pnRes.sus(tellist).then(data=>{
    //   //   console.log("查询结果 :: " + JSON.stringify(data));
    //   //   let list = data.data.playerList;
    //   //   for(let li of list){
    //   //     let tel = li.userName.substr(5,11);
    //   //     console.log(JSON.stringify(tel));
    //   //     for(let i = 0;i<ContactsService.contactList.length;i++){
    //   //       let tmp = ContactsService.contactList[i];
    //   //       if(li.accountMobile == tmp.rC){
    //   //         ContactsService.contactList[i].hiu = li.headImg;
    //   //         ContactsService.contactList[i].rN = li.userName;
    //   //         ContactsService.contactList[i].id = li.userId;
    //   //         ContactsService.contactList[i].rNpy = li.pyOfUserName;
    //   //         ContactsService.contactList[i].sdt = 0;
    //   //       }
    //   //     }
    //   //   }
    //   //   console.log("处理结果::" + JSON.stringify(ContactsService.contactList));
    //   // }).catch(reason => {
    //   //   console.log("查询结果 :: " + JSON.stringify(reason));
    //   // })
    //
    // }
    /**
     *
     * 更新单个联系人信息和头像
     * id: OpenId或者手机号
     *
     * @returns {Promise<FsData>}
     */
    ContactsService.prototype.updateOneFs = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            var bsqls, bt, bh, userinfo, hasAvatar, exists, sql, data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        bsqls = new Array();
                        bt = new __WEBPACK_IMPORTED_MODULE_3__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        bh = new __WEBPACK_IMPORTED_MODULE_8__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        return [4 /*yield*/, this.personRestful.get(id)];
                    case 1:
                        userinfo = _a.sent();
                        hasAvatar = false;
                        exists = null;
                        sql = 'select gb.*, bh.bhi bhi, bh.hiu bhiu '
                            + ' from gtd_b gb '
                            + '       left join gtd_bh bh on bh.pwi = gb.pwi '
                            + ' where gb.ui = "' + id + '"'
                            + ' or gb.rc = "' + id + '";';
                        return [4 /*yield*/, this.sqlExce.getExtList(sql)];
                    case 2:
                        data = _a.sent();
                        if (data && data.length > 0) {
                            exists = data[0];
                        }
                        if (exists) {
                            Object.assign(bt, exists);
                        }
                        else {
                            // 不存在联系人，本地联系人中不存在共享日程的发送人
                            bt.pwi = this.utilService.getUuid();
                            bt.hiu = "";
                            bt.rel = '0';
                        }
                        if (userinfo) {
                            if (exists)
                                bh.pwi = exists.pwi;
                            else
                                bh.pwi = bt.pwi;
                            // 用户OpenId
                            if (userinfo.openid && userinfo.openid != '') {
                                bt.ui = userinfo.openid;
                            }
                            // 用户头像
                            if (userinfo.avatarbase64 && userinfo.avatarbase64 != '') {
                                bh.hiu = userinfo.avatarbase64;
                                hasAvatar = true;
                                bt.rel = '1'; // 注册用户
                            }
                            else {
                                bh.hiu = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].HUIBASE64;
                            }
                            // 用户姓名
                            if (userinfo.nickname && userinfo.nickname != '') {
                                // 不存在本地联系人
                                if (!exists) {
                                    bt.ran = userinfo.nickname;
                                    bt.ranpy = this.utilService.chineseToPinYin(userinfo.nickname);
                                }
                                bt.rn = userinfo.nickname;
                                bt.rnpy = this.utilService.chineseToPinYin(userinfo.nickname);
                            }
                            // 用户手机号
                            if (userinfo.phoneno && userinfo.phoneno != '') {
                                bt.rc = userinfo.phoneno;
                            }
                            if (exists) {
                                bsqls.push(bt.upT());
                            }
                            else {
                                bsqls.push(bt.inT());
                            }
                            if (!exists || !exists.bhi || exists.bhi == '') {
                                // 注册用户需要加入头像表, 默认头像不入库
                                if (hasAvatar) {
                                    bh.bhi = this.utilService.getUuid();
                                    // 新增BH数据
                                    bsqls.push(bh.inT());
                                }
                            }
                            else {
                                bh.bhi = exists.bhi;
                                // 更新BH数据
                                bsqls.push(bh.upT());
                            }
                        }
                        return [4 /*yield*/, this.sqlExce.batExecSql(bsqls)];
                    case 3:
                        _a.sent();
                        // 返回更新后参数
                        if (!exists) {
                            exists = new __WEBPACK_IMPORTED_MODULE_9__data_mapping__["c" /* FsData */]();
                        }
                        exists.pwi = bt.pwi; //主键
                        exists.ran = bt.ran; //联系人别称
                        exists.ranpy = bt.ranpy; //联系人别称拼音
                        exists.hiu = bt.hiu; // 联系人头像
                        exists.rn = bt.rn; // 联系人名称
                        exists.rnpy = bt.rnpy; //联系人名称拼音
                        exists.rc = bt.rc; //联系人联系方式
                        exists.rel = bt.rel; //系类型 1是个人，2是群，0未注册用户
                        exists.ui = bt.ui; //数据归属人ID
                        exists.bhi = bh.bhi; //头像表ID 用于判断是否有头像记录
                        exists.bhiu = bh.hiu; //base64图片
                        // 全部更新完成后刷新
                        return [4 /*yield*/, this.userConfig.RefreshOneBTbl(exists)];
                    case 4:
                        // 全部更新完成后刷新
                        _a.sent();
                        return [2 /*return*/, exists];
                }
            });
        });
    };
    ContactsService.prototype.addSharedContact = function (id, shared) {
        if (shared === void 0) { shared = null; }
        return __awaiter(this, void 0, void 0, function () {
            var userinfo, sql, exists, sqls, bt, bh, sqls, bt, bh;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.personRestful.get(id)];
                    case 1:
                        userinfo = _a.sent();
                        sql = 'select gb.*, bh.bhi bhi, bh.hiu bhiu '
                            + ' from gtd_b gb '
                            + '       left join gtd_bh bh on bh.pwi = gb.pwi '
                            + ' where gb.ui = "' + id + '"'
                            + ' or gb.rc = "' + id + '";';
                        return [4 /*yield*/, this.sqlExce.getExtOne(sql)];
                    case 2:
                        exists = _a.sent();
                        if (!(!exists && userinfo && userinfo.openid)) return [3 /*break*/, 4];
                        exists = new __WEBPACK_IMPORTED_MODULE_9__data_mapping__["c" /* FsData */]();
                        exists.pwi = this.utilService.getUuid();
                        exists.rel = '0';
                        exists.ui = userinfo.openid;
                        exists.hiu = ""; //userinfo.avatarbase64;
                        exists.ran = userinfo.nickname;
                        exists.ranpy = this.utilService.chineseToPinYin(userinfo.nickname);
                        exists.rn = userinfo.nickname;
                        exists.rnpy = this.utilService.chineseToPinYin(userinfo.nickname);
                        exists.rc = userinfo.phoneno;
                        exists.bhi = this.utilService.getUuid();
                        sqls = new Array();
                        bt = new __WEBPACK_IMPORTED_MODULE_3__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        bh = new __WEBPACK_IMPORTED_MODULE_8__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        Object.assign(bt, exists);
                        sqls.push(bt.inT());
                        Object.assign(bh, exists);
                        sqls.push(bh.inT());
                        return [4 /*yield*/, this.sqlExce.batExecSql(sqls)];
                    case 3:
                        _a.sent();
                        return [3 /*break*/, 7];
                    case 4:
                        if (!(!exists && shared)) return [3 /*break*/, 6];
                        exists = new __WEBPACK_IMPORTED_MODULE_9__data_mapping__["c" /* FsData */]();
                        Object.assign(exists, shared);
                        exists.pwi = this.utilService.getUuid();
                        exists.rel = '0';
                        exists.bhi = this.utilService.getUuid();
                        exists.hiu = ""; //DataConfig.HUIBASE64;
                        sqls = new Array();
                        bt = new __WEBPACK_IMPORTED_MODULE_3__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        bh = new __WEBPACK_IMPORTED_MODULE_8__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        Object.assign(bt, exists);
                        sqls.push(bt.inT());
                        Object.assign(bh, exists);
                        sqls.push(bh.inT());
                        return [4 /*yield*/, this.sqlExce.batExecSql(sqls)];
                    case 5:
                        _a.sent();
                        return [3 /*break*/, 7];
                    case 6:
                        if (exists && userinfo && userinfo.openid) {
                            if (!exists.ui || exists.ui == "") {
                                exists.ui = userinfo.openid;
                            }
                        }
                        _a.label = 7;
                    case 7: 
                    // 全部更新完成后刷新
                    return [4 /*yield*/, this.userConfig.RefreshOneBTbl(exists)];
                    case 8:
                        // 全部更新完成后刷新
                        _a.sent();
                        return [2 /*return*/, exists];
                }
            });
        });
    };
    /**
     *
     * 更新联系人信息和头像
     *
     * @returns {Promise<void>}
     */
    ContactsService.prototype.updateFs = function () {
        return __awaiter(this, void 0, void 0, function () {
            var bsqls, sql, data, phonenos, _i, data_4, fs, condid, usersinfo, usersinforet, _a, _b, userinfo, _c, data_5, fs, bt, bh, hasAvatar, condid, userinfo;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        bsqls = new Array();
                        sql = "select gb.*, bh.bhi bhi, bh.hiu bhiu\n               from gtd_b gb\n                      left join gtd_bh bh on bh.pwi = gb.pwi;";
                        return [4 /*yield*/, this.sqlExce.getExtList(sql)];
                    case 1:
                        data = _d.sent();
                        phonenos = new Array();
                        for (_i = 0, data_4 = data; _i < data_4.length; _i++) {
                            fs = data_4[_i];
                            condid = fs.rc;
                            if (fs.ui && fs.ui != '') {
                                condid = fs.ui;
                            }
                            phonenos.push(condid);
                        }
                        usersinfo = new Map();
                        if (!(phonenos.length > 0)) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.personRestful.getMultis(phonenos)];
                    case 2:
                        usersinforet = _d.sent();
                        if (usersinforet && usersinforet.registusers) {
                            console.log(JSON.stringify(usersinforet));
                            for (_a = 0, _b = usersinforet.registusers; _a < _b.length; _a++) {
                                userinfo = _b[_a];
                                console.log('Get ' + userinfo.openid + "'s userinfo.");
                                usersinfo.set(userinfo.openid, userinfo);
                            }
                        }
                        _d.label = 3;
                    case 3:
                        for (_c = 0, data_5 = data; _c < data_5.length; _c++) {
                            fs = data_5[_c];
                            bt = new __WEBPACK_IMPORTED_MODULE_3__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                            Object.assign(bt, fs);
                            bh = new __WEBPACK_IMPORTED_MODULE_8__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                            bh.pwi = fs.pwi;
                            hasAvatar = false;
                            condid = fs.rc;
                            if (fs.ui && fs.ui != '') {
                                condid = fs.ui;
                            }
                            userinfo = usersinfo.get(condid);
                            if (userinfo) {
                                console.log('userinfo ' + userinfo.openid);
                                console.log('userinfo ' + userinfo.nickname);
                                console.log('userinfo ' + userinfo.phoneno);
                                bt.ui = userinfo.openid;
                                if (userinfo.avatarbase64 && userinfo.avatarbase64 != '') {
                                    bh.hiu = userinfo.avatarbase64;
                                    hasAvatar = true;
                                    bt.rel = '1'; // 注册用户
                                }
                                else {
                                    bh.hiu = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].HUIBASE64;
                                }
                                if (userinfo.nickname && userinfo.nickname != '') {
                                    bt.rn = userinfo.nickname;
                                    bt.rnpy = this.utilService.chineseToPinYin(userinfo.nickname);
                                }
                                if (userinfo.phoneno && userinfo.phoneno != '') {
                                    bt.rc = userinfo.phoneno;
                                }
                                bsqls.push(bt.upT());
                            }
                            if (!fs.bhi || fs.bhi == null || fs.bhi == '') {
                                // 注册用户需要加入头像表, 默认头像不入库
                                if (hasAvatar) {
                                    bh.bhi = this.utilService.getUuid();
                                    // 新增BH数据
                                    bsqls.push(bh.inT());
                                }
                            }
                            else {
                                bh.bhi = fs.bhi;
                                // 更新BH数据
                                bsqls.push(bh.upT());
                            }
                        }
                        return [4 /*yield*/, this.sqlExce.batExecSql(bsqls)];
                    case 4:
                        _d.sent();
                        // 全部更新完成后刷新
                        this.userConfig.RefreshFriend();
                        // 重新打开同步本地联系人
                        __WEBPACK_IMPORTED_MODULE_7__service_config_user_config__["b" /* UserConfig */].setTroubleStop('contactsservice.asyncphonecontacts.lastlaunch', 0);
                        return [2 /*return*/];
                }
            });
        });
    };
    ContactsService.contactTel = new Array();
    ContactsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__ionic_native_contacts__["a" /* Contacts */], __WEBPACK_IMPORTED_MODULE_2__util_service_util_service__["a" /* UtilService */], __WEBPACK_IMPORTED_MODULE_7__service_config_user_config__["b" /* UserConfig */],
            __WEBPACK_IMPORTED_MODULE_4__util_service_sqlite_exec__["a" /* SqliteExec */], __WEBPACK_IMPORTED_MODULE_6__restful_personsev__["a" /* PersonRestful */]])
    ], ContactsService);
    return ContactsService;
}());

//# sourceMappingURL=contacts.service.js.map

/***/ }),
/* 63 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GcService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_sqlite_tbl_g_tbl__ = __webpack_require__(153);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_sqlite_tbl_bx_tbl__ = __webpack_require__(154);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_config_user_config__ = __webpack_require__(8);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var GcService = (function () {
    function GcService(sqlExce, userConfig, util) {
        this.sqlExce = sqlExce;
        this.userConfig = userConfig;
        this.util = util;
    }
    //编辑群名称(添加群成员)
    GcService.prototype.save = function (dc) {
        return __awaiter(this, void 0, void 0, function () {
            var ret, bxL, sql, data, _i, _a, fs, bx, ie, _b, data_1, bt, bx_1, gc, data;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        ret = false;
                        console.log('---------- GcService save 添加/编辑群名称(添加群成员) ');
                        if (!(dc.gi != null && dc.gi != '' && dc.fsl.length > 0)) return [3 /*break*/, 3];
                        bxL = new Array();
                        sql = 'select gb.* from gtd_b gb inner join gtd_b_x bx on bx.bmi = gb.pwi where bx.bi = "' + dc.gi + '"';
                        return [4 /*yield*/, this.sqlExce.getExtList(sql)];
                    case 1:
                        data = _c.sent();
                        for (_i = 0, _a = dc.fsl; _i < _a.length; _i++) {
                            fs = _a[_i];
                            bx = new __WEBPACK_IMPORTED_MODULE_3__service_sqlite_tbl_bx_tbl__["a" /* BxTbl */]();
                            bx.bi = dc.gi;
                            bx.bmi = fs.pwi;
                            ie = false;
                            for (_b = 0, data_1 = data; _b < data_1.length; _b++) {
                                bt = data_1[_b];
                                if (bt.pwi == fs.pwi) {
                                    ie = true;
                                    break;
                                }
                            }
                            if (!ie) {
                                bx_1 = new __WEBPACK_IMPORTED_MODULE_3__service_sqlite_tbl_bx_tbl__["a" /* BxTbl */]();
                                bx_1.bi = dc.gi;
                                bx_1.bmi = fs.pwi;
                                bxL.push(bx_1.inT());
                            }
                        }
                        return [4 /*yield*/, this.sqlExce.batExecSql(bxL)];
                    case 2:
                        _c.sent();
                        ret = true;
                        return [3 /*break*/, 5];
                    case 3:
                        if (!(dc.gi == null || dc.gi == '')) return [3 /*break*/, 5];
                        gc = new __WEBPACK_IMPORTED_MODULE_1__service_sqlite_tbl_g_tbl__["a" /* GTbl */]();
                        Object.assign(gc, dc);
                        gc.gi = this.util.getUuid();
                        gc.gnpy = this.util.chineseToPinYin(gc.gn);
                        //gc.gm = DataConfig.QZ_HUIBASE64;
                        console.log('---------- GcService save 添加群名称(新建群)');
                        return [4 /*yield*/, this.sqlExce.save(gc)];
                    case 4:
                        data = _c.sent();
                        ret = true;
                        _c.label = 5;
                    case 5: return [4 /*yield*/, this.userConfig.RefreshFriend()];
                    case 6:
                        _c.sent();
                        return [2 /*return*/, ret];
                }
            });
        });
    };
    /**
     * 删除群成员
     * @param {string} gi 群组ID
     * @param {string} pwi 联系人ID
     * @returns {Promise<BsModel<any>>}
     */
    GcService.prototype.deleteBx = function (gi, pwi) {
        return __awaiter(this, void 0, void 0, function () {
            var bx;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(gi != null && gi != '' && pwi != null && pwi != '')) return [3 /*break*/, 2];
                        bx = new __WEBPACK_IMPORTED_MODULE_3__service_sqlite_tbl_bx_tbl__["a" /* BxTbl */]();
                        bx.bi = gi;
                        bx.bmi = pwi;
                        return [4 /*yield*/, this.sqlExce.delete(bx)];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2: 
                    //刷新群组表
                    return [4 /*yield*/, this.userConfig.RefreshFriend()];
                    case 3:
                        //刷新群组表
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    //删除群
    GcService.prototype.delete = function (gId) {
        return __awaiter(this, void 0, void 0, function () {
            var bx, gtbl;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        bx = new __WEBPACK_IMPORTED_MODULE_3__service_sqlite_tbl_bx_tbl__["a" /* BxTbl */]();
                        bx.bi = gId;
                        console.log('---------- GcService delete 删除群开始 ----------------');
                        return [4 /*yield*/, this.sqlExce.delete(bx)
                            //删除本地群
                        ];
                    case 1:
                        _a.sent();
                        gtbl = new __WEBPACK_IMPORTED_MODULE_1__service_sqlite_tbl_g_tbl__["a" /* GTbl */]();
                        gtbl.gi = gId;
                        return [4 /*yield*/, this.sqlExce.delete(gtbl)
                            //刷新群组表
                        ];
                    case 2:
                        _a.sent();
                        //刷新群组表
                        return [4 /*yield*/, this.userConfig.RefreshFriend()];
                    case 3:
                        //刷新群组表
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    GcService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__service_util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_5__service_config_user_config__["b" /* UserConfig */],
            __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__["a" /* UtilService */]])
    ], GcService);
    return GcService;
}());

//# sourceMappingURL=gc.service.js.map

/***/ }),
/* 64 */,
/* 65 */,
/* 66 */,
/* 67 */,
/* 68 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PgBusiService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__sqlite_tbl_c_tbl__ = __webpack_require__(247);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sqlite_tbl_e_tbl__ = __webpack_require__(119);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__sqlite_tbl_jh_tbl__ = __webpack_require__(248);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__restful_agdsev__ = __webpack_require__(111);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__sqlite_tbl_sp_tbl__ = __webpack_require__(249);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__sqlite_tbl_d_tbl__ = __webpack_require__(152);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__cordova_contacts_service__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__data_mapping__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__pages_fs_fs_service__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__sqlite_tbl_b_tbl__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__sqlite_tbl_jt_tbl__ = __webpack_require__(545);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__cordova_notifications_service__ = __webpack_require__(120);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__cordova_localcalendar_service__ = __webpack_require__(219);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__sqlite_tbl_mk_tbl__ = __webpack_require__(549);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
//获取日程





















var PgBusiService = (function () {
    function PgBusiService(sqlExce, util, agdRest, contactsServ, userConfig, fsService, emitService, notificationsService, readlocal) {
        this.sqlExce = sqlExce;
        this.util = util;
        this.agdRest = agdRest;
        this.contactsServ = contactsServ;
        this.userConfig = userConfig;
        this.fsService = fsService;
        this.emitService = emitService;
        this.notificationsService = notificationsService;
        this.readlocal = readlocal;
    }
    /**
     * 未读消息更新已读状态
     * @param {string} si
     */
    PgBusiService.prototype.updateMsg = function (si) {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var c, n, j, len, sql;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        c = new __WEBPACK_IMPORTED_MODULE_0__sqlite_tbl_c_tbl__["a" /* CTbl */]();
                        c.si = si;
                        return [4 /*yield*/, this.sqlExce.getOne(c)];
                    case 1:
                        c = _a.sent();
                        if (!(c.du != "")) return [3 /*break*/, 4];
                        n = parseInt(c.du);
                        for (j = 0, len = n; j < len; j++) {
                            this.notificationsService.badgeDecrease();
                        }
                        sql = 'update gtd_sp set itx = 0 where si="' + si + '"';
                        return [4 /*yield*/, this.sqlExce.execSql(sql)];
                    case 2:
                        _a.sent();
                        sql = 'update gtd_c set du = "0" where si="' + si + '"';
                        return [4 /*yield*/, this.sqlExce.execSql(sql)];
                    case 3:
                        _a.sent();
                        this.emitService.emitRef(si);
                        _a.label = 4;
                    case 4:
                        resolve();
                        return [2 /*return*/];
                }
            });
        }); });
    };
    /**
     * 日程保存或日程更新  dch
     */
    PgBusiService.prototype.saveOrUpdate = function (rc) {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var scd, sp;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        scd = new __WEBPACK_IMPORTED_MODULE_13__data_mapping__["q" /* ScdData */]();
                        if (!(rc.si != null && rc.si != "")) return [3 /*break*/, 2];
                        Object.assign(scd, rc);
                        sp = new __WEBPACK_IMPORTED_MODULE_13__data_mapping__["s" /* SpecScdData */]();
                        Object.assign(sp, rc.specScdUpd);
                        scd.specScds.set(sp.sd, sp);
                        scd.showSpSd = sp.sd;
                        return [4 /*yield*/, this.updateDetail(scd)];
                    case 1:
                        scd = _a.sent();
                        return [3 /*break*/, 4];
                    case 2:
                        rc.setParam();
                        rc.ui = __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.id;
                        Object.assign(scd, rc);
                        return [4 /*yield*/, this.save(scd)];
                    case 3:
                        scd = _a.sent();
                        _a.label = 4;
                    case 4:
                        if (!(rc.fss != null && rc.fss.length > 0)) return [3 /*break*/, 6];
                        return [4 /*yield*/, this.fsService.sharefriend(scd.si, rc.fss)];
                    case 5:
                        _a.sent();
                        _a.label = 6;
                    case 6:
                        resolve(scd);
                        return [2 /*return*/];
                }
            });
        }); });
    };
    /**
     * 批量保存日程更新  dch
     */
    PgBusiService.prototype.saveBatch = function (rcL) {
        return __awaiter(this, void 0, void 0, function () {
            var sqL, len, _i, rcL_1, rc, rcn, jt, jt, sp;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        sqL = new Array();
                        len = sqL.length;
                        if (!(rcL.length > 0)) return [3 /*break*/, 2];
                        for (_i = 0, rcL_1 = rcL; _i < rcL_1.length; _i++) {
                            rc = rcL_1[_i];
                            rcn = new __WEBPACK_IMPORTED_MODULE_0__sqlite_tbl_c_tbl__["a" /* CTbl */]();
                            rc.setParam();
                            Object.assign(rcn, rc);
                            rcn.si = this.util.getUuid();
                            rcn.ui = __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */].account.id;
                            if (rc.gs == '6') {
                                sqL.push("delete from gtd_c where gs = \"" + rcn.gs + "\" and sd = \"" + rcn.sd + "\"");
                                sqL.push(rcn.inT());
                            }
                            else {
                                sqL.push(rcn.inT());
                            }
                            if (rc.gs == '3') {
                                jt = new __WEBPACK_IMPORTED_MODULE_17__sqlite_tbl_jt_tbl__["a" /* JtTbl */]();
                                Object.assign(jt, rc);
                                jt.si = rcn.si;
                                jt.spn = rc.sn;
                                jt.jti = this.util.getUuid();
                                sqL.push(jt.inT());
                            }
                            else if (rc.gs == '6') {
                                jt = new __WEBPACK_IMPORTED_MODULE_17__sqlite_tbl_jt_tbl__["a" /* JtTbl */]();
                                Object.assign(jt, rc);
                                jt.si = rcn.si;
                                jt.spn = rc.sn;
                                jt.jti = this.util.getUuid();
                                jt.px = -1;
                                sqL.push("delete from gtd_jt where px = -1 and sd = \"" + jt.sd + "\" and fjt = \"" + jt.fjt + "\" and fjn = \"" + jt.fjn + "\"");
                                sqL.push(jt.inT());
                            }
                            else {
                                sp = new __WEBPACK_IMPORTED_MODULE_7__sqlite_tbl_sp_tbl__["a" /* SpTbl */]();
                                Object.assign(sp, rc);
                                sp.spn = rc.sn;
                                sp.spi = this.util.getUuid();
                                sp.si = rcn.si;
                                sqL.push(sp.inT());
                            }
                        }
                        if (!(sqL.length > 0)) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.sqlExce.batExecSql(sqL)];
                    case 1:
                        len = _a.sent();
                        _a.label = 2;
                    case 2: return [2 /*return*/, len];
                }
            });
        });
    };
    /**
     * 根据日程Id获取日程详情  dch
     * @param {string} si
     */
    PgBusiService.prototype.getRcBySi = function (si) {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var scdData, ctbl, jh, _a, _b, _c, _d;
            return __generator(this, function (_e) {
                switch (_e.label) {
                    case 0:
                        scdData = new __WEBPACK_IMPORTED_MODULE_13__data_mapping__["q" /* ScdData */]();
                        return [4 /*yield*/, this.getCtbl(si)];
                    case 1:
                        ctbl = _e.sent();
                        if (!(ctbl != null)) return [3 /*break*/, 11];
                        Object.assign(scdData, ctbl);
                        jh = new __WEBPACK_IMPORTED_MODULE_2__sqlite_tbl_jh_tbl__["a" /* JhTbl */]();
                        jh.ji = scdData.ji;
                        return [4 /*yield*/, this.sqlExce.getOne(jh)];
                    case 2:
                        jh = _e.sent();
                        Object.assign(scdData.p, jh);
                        if (!(scdData.gs != '3')) return [3 /*break*/, 4];
                        _a = scdData;
                        return [4 /*yield*/, this.getSpData('', scdData.si, '')];
                    case 3:
                        _a.specScds = _e.sent();
                        return [3 /*break*/, 6];
                    case 4:
                        _b = scdData;
                        return [4 /*yield*/, this.getJtData('', scdData.si, '')];
                    case 5:
                        _b.specScds = _e.sent();
                        _e.label = 6;
                    case 6:
                        if (!(scdData.gs == '0')) return [3 /*break*/, 8];
                        //共享人信息
                        _c = scdData;
                        return [4 /*yield*/, this.getFsDataBySi(ctbl.si)];
                    case 7:
                        //共享人信息
                        _c.fss = _e.sent();
                        _e.label = 8;
                    case 8:
                        if (!(scdData.gs == '1')) return [3 /*break*/, 10];
                        //发起人信息
                        _d = scdData;
                        return [4 /*yield*/, this.getFsDataByUi(ctbl.ui)];
                    case 9:
                        //发起人信息
                        _d.fs = _e.sent();
                        _e.label = 10;
                    case 10:
                        if (scdData.si == '') {
                            resolve(null);
                        }
                        else {
                            resolve(scdData);
                        }
                        _e.label = 11;
                    case 11: return [2 /*return*/];
                }
            });
        }); });
    };
    /**
     * 根据(日程Id和日期)获取日程详情  dch
     * @param {string} si  日程Id
     * @param {string} date 日期
     */
    PgBusiService.prototype.getRcBySiAndSd = function (si, sd) {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var scdData;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        scdData = new __WEBPACK_IMPORTED_MODULE_13__data_mapping__["q" /* ScdData */]();
                        return [4 /*yield*/, this.getRcBySi(si)];
                    case 1:
                        //传si和date
                        scdData = _a.sent();
                        if (scdData != null) {
                            scdData.baseData = scdData.specScd(sd);
                        }
                        if (scdData.si == '') {
                            resolve(null);
                        }
                        else {
                            resolve(scdData);
                        }
                        return [2 /*return*/];
                }
            });
        }); });
    };
    /**
     * 根据子表ID查询日程
     * @param {string} subSi 子表ID
     */
    PgBusiService.prototype.getRcBySubSi = function (subSi) {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var scdData, _a, _b;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        scdData = new __WEBPACK_IMPORTED_MODULE_13__data_mapping__["q" /* ScdData */]();
                        _a = scdData;
                        return [4 /*yield*/, this.getSpData(subSi, '', '')];
                    case 1:
                        _a.specScds = _c.sent();
                        if (!(scdData.specScds.size > 0)) return [3 /*break*/, 2];
                        scdData.specScds.forEach(function (value) {
                            var sp = new __WEBPACK_IMPORTED_MODULE_13__data_mapping__["s" /* SpecScdData */]();
                            Object.assign(sp, value);
                            scdData.si = sp.si;
                            scdData.showSpSd = sp.sd;
                        });
                        return [3 /*break*/, 4];
                    case 2:
                        _b = scdData;
                        return [4 /*yield*/, this.getJtData(subSi, '', '')];
                    case 3:
                        _b.specScds = _c.sent();
                        scdData.specScds.forEach(function (value) {
                            var sp = new __WEBPACK_IMPORTED_MODULE_13__data_mapping__["f" /* JtData */]();
                            Object.assign(sp, value);
                            scdData.si = sp.si;
                            scdData.showSpSd = sp.sd;
                        });
                        _c.label = 4;
                    case 4:
                        if (!(scdData.si != '')) return [3 /*break*/, 6];
                        return [4 /*yield*/, this.getRcBySi(scdData.si)];
                    case 5:
                        scdData = _c.sent();
                        scdData.baseData = scdData.specScd(scdData.showSpSd);
                        resolve(scdData);
                        return [3 /*break*/, 7];
                    case 6:
                        resolve(null);
                        _c.label = 7;
                    case 7: return [2 /*return*/];
                }
            });
        }); });
    };
    /**
     * 根据日程所属ID查询日程
     * @param {string} sr 日程所属ID
     * @returns {Promise<ScdData>}
     */
    PgBusiService.prototype.getRcBySr = function (sr) {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var scdData, ctbl;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        scdData = new __WEBPACK_IMPORTED_MODULE_13__data_mapping__["q" /* ScdData */]();
                        ctbl = new __WEBPACK_IMPORTED_MODULE_0__sqlite_tbl_c_tbl__["a" /* CTbl */]();
                        if (sr && sr != "") {
                            ctbl.sr = sr;
                        }
                        return [4 /*yield*/, this.sqlExce.getOne(ctbl)];
                    case 1:
                        ctbl = _a.sent();
                        if (!(ctbl != null)) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.getRcBySi(ctbl.si)];
                    case 2:
                        scdData = _a.sent();
                        _a.label = 3;
                    case 3:
                        if (scdData != null && scdData.si != '') {
                            resolve(scdData);
                        }
                        else {
                            resolve(null);
                        }
                        return [2 /*return*/];
                }
            });
        }); });
    };
    /**
     * 查询计划
     */
    PgBusiService.prototype.getPlanById = function (ji) {
        var _this = this;
        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {
            var sql, res;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        sql = "select * from gtd_j_h where ji = \"" + ji + "\"";
                        res = new __WEBPACK_IMPORTED_MODULE_13__data_mapping__["o" /* PlData */]();
                        return [4 /*yield*/, this.sqlExce.getExtOne(sql)];
                    case 1:
                        res = _a.sent();
                        resolve(res);
                        return [2 /*return*/];
                }
            });
        }); });
    };
    /**
     * 条件查询  dch
     * @param {RcInParam} rc
     */
    PgBusiService.prototype.getList = function (rc) {
        var _this = this;
        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {
            var res, sql, i, i, _i, res_1, scd, pl, _a, _b;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        console.log("============ mq查询日程scd：" + JSON.stringify(rc));
                        res = new Array();
                        if (!(rc.ed || rc.et || rc.sd || rc.st || rc.sn || rc.fss.length > 0)) return [3 /*break*/, 9];
                        sql = "select * from (\n                           select distinct c.si,c.sn,c.ui,sp.st,c.ed,c.et,c.rt,sp.ji,c.sr,c.tx,c.pni,c.du,c.gs,\n                           sp.spn,sp.sd,sp.st,sp.bz,'' fjt, '' fjn, '' fj\n                           from gtd_sp sp inner join gtd_c c on sp.si = c.si\n                                    left join gtd_d d on d.si = c.si\n                                    left join gtd_b b on b.pwi = d.ai";
                        if (rc.fss.length > 0) {
                            sql = sql + 'where b.ranpy in (';
                            for (i = 0; i < rc.fss.length; i++) {
                                if (i == rc.fss.length - 1) {
                                    sql = sql + '"' + rc.fss[i].ranpy + '"';
                                }
                                else {
                                    sql = sql + '"' + rc.fss[i].ranpy + '",';
                                }
                            }
                            sql = sql + ') ';
                            sql = sql + ' or b.rnpy in (';
                            for (i = 0; i < rc.fss.length; i++) {
                                if (i == rc.fss.length - 1) {
                                    sql = sql + '"' + rc.fss[i].rnpy + '"';
                                }
                                else {
                                    sql = sql + '"' + rc.fss[i].rnpy + '",';
                                }
                            }
                            sql = sql + ') ';
                        }
                        sql = sql + " union\n        select  c.si,c.sn,c.ui,c.st,c.ed,c.et,c.rt,c.ji,c.sr,c.tx,c.pni,c.du,c.gs,\n          jt.spn,jt.sd,jt.st,jt.bz,jt.fjt,jt.fjn,jt.fj\n        from gtd_jt jt inner join gtd_c c on jt.si = c.si)";
                        sql = sql + " where 1=1";
                        if (rc.sn) {
                            sql = sql + (" and (sn like \"% " + rc.sn + "%\" or bz like \"% " + rc.sn + "%\")");
                        }
                        if (rc.sd) {
                            sql = sql + (" and sd >= \"" + rc.sd + "\"");
                        }
                        else {
                            sql = sql + (" and sd >= \"" + __WEBPACK_IMPORTED_MODULE_9_moment__().subtract(30, 'd').format('YYYY/MM/DD') + "\"");
                        }
                        if (rc.ed) {
                            sql = sql + (" and sd <= \"" + rc.ed + "\"");
                        }
                        else {
                            sql = sql + (" and sd <= \"" + __WEBPACK_IMPORTED_MODULE_9_moment__().add(30, 'd').format('YYYY/MM/DD') + "\"");
                        }
                        if (rc.st) {
                            sql = sql + (" and st >= \"" + rc.st + "\"");
                        }
                        if (rc.et) {
                            sql = sql + (" and st <= \"" + rc.et + "\"");
                        }
                        console.log("============ mq查询日程：" + sql);
                        return [4 /*yield*/, this.sqlExce.getExtList(sql)];
                    case 1:
                        res = _c.sent();
                        if (!(res && res.length > 0)) return [3 /*break*/, 9];
                        _i = 0, res_1 = res;
                        _c.label = 2;
                    case 2:
                        if (!(_i < res_1.length)) return [3 /*break*/, 9];
                        scd = res_1[_i];
                        if (!scd.ji) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.getPlanById(scd.ji)];
                    case 3:
                        pl = _c.sent();
                        scd.p = pl;
                        _c.label = 4;
                    case 4:
                        if (!(scd.gs == '0')) return [3 /*break*/, 6];
                        //共享人信息
                        _a = scd;
                        return [4 /*yield*/, this.getFsDataBySi(scd.si)];
                    case 5:
                        //共享人信息
                        _a.fss = _c.sent();
                        _c.label = 6;
                    case 6:
                        if (!(scd.gs == '1')) return [3 /*break*/, 8];
                        //发起人信息
                        _b = scd;
                        return [4 /*yield*/, this.getFsDataByUi(scd.ui)];
                    case 7:
                        //发起人信息
                        _b.fs = _c.sent();
                        _c.label = 8;
                    case 8:
                        _i++;
                        return [3 /*break*/, 2];
                    case 9:
                        resolve(res);
                        return [2 /*return*/];
                }
            });
        }); });
    };
    /**
     * 首页月份查询  dch
     * @param {CalendarMonth} month
     */
    PgBusiService.prototype.getHomeMonthData = function (time) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var _start, _startMonth, _endMonth, list, sql;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    _start = new Date(time);
                                    _startMonth = __WEBPACK_IMPORTED_MODULE_9_moment__(__WEBPACK_IMPORTED_MODULE_9_moment__(_start).format("YYYY/MM/") + "1");
                                    _endMonth = __WEBPACK_IMPORTED_MODULE_9_moment__(__WEBPACK_IMPORTED_MODULE_9_moment__(_start).format("YYYY/MM/") + _startMonth.daysInMonth());
                                    list = [];
                                    sql = " select sum(scds) scds,sum(news) news, sd,max(csd) csd,max(spn) spn\n                          from (\n                                 select count(sp.si) scds,sum(sp.itx) news,sp.sd sd,max(gc.sd) csd,'' spn\n                                    from gtd_sp sp join gtd_c gc on gc.si = sp.si\n                                         where sp.sd>=\"" + __WEBPACK_IMPORTED_MODULE_9_moment__(_startMonth).format("YYYY/MM/DD") + "\"\n                                              and sp.sd<=\"" + __WEBPACK_IMPORTED_MODULE_9_moment__(_endMonth).format("YYYY/MM/DD") + "\"\n                                    group by sp.sd\n                          union all\n                                  select 0 scds,0 news,jt.sd sd ,'' csd, gc.sn spn\n                                      from gtd_c gc join (select si,min(px),sd from gtd_jt\n                                          where px > 0 and sd>=\"" + __WEBPACK_IMPORTED_MODULE_9_moment__(_startMonth).format("YYYY/MM/DD") + "\"\n                                              and sd<=\"" + __WEBPACK_IMPORTED_MODULE_9_moment__(_endMonth).format("YYYY/MM/DD") + "\" group by sd ) jt\n                              on jt.si = gc.si\n                               ) group by sd; ";
                                    return [4 /*yield*/, this.sqlExce.getExtList(sql)];
                                case 1:
                                    list = _a.sent();
                                    // //本地日历加入主页日历显示中
                                    // let local = await this.readlocal.findEventRc('',_startMonth,_endMonth);
                                    // for(let lo of local){
                                    //   let md:MonthData = list.find((n) => moment(lo.sd).isSame(moment(n.sd), 'day'));
                                    //   if (md){
                                    //     md.scds = md.scds + 1;
                                    //   }else{
                                    //     md = new MonthData();
                                    //     md.sd=lo.sd;
                                    //     md.scds=1;
                                    //     md.news=0;
                                    //     list.push(md);
                                    //   }
                                    // }
                                    resolve(list);
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    /**
     * 首页按天查询  dch
     * @param {CalendarMonth} month
     */
    PgBusiService.prototype.getHomDayData = function (start) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var starts, sqlOne, day, data, sqlJtL, jtL;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    starts = start.format("YYYY/MM/DD");
                                    sqlOne = "select sp.sd,count(*) scds,sum(itx) news from gtd_sp sp where sp.sd = \"" + starts + "\" group by sd";
                                    day = new __WEBPACK_IMPORTED_MODULE_13__data_mapping__["b" /* DayData */]();
                                    return [4 /*yield*/, this.sqlExce.getExtOne(sqlOne)];
                                case 1:
                                    data = _a.sent();
                                    day.sd = starts;
                                    if (data) {
                                        day.scds = data.scds;
                                        day.news = data.news;
                                    }
                                    sqlJtL = "select jt.* from gtd_jt jt where jt.px > 0 and jt.sd = \"" + starts + "\" order by jt.px asc";
                                    return [4 /*yield*/, this.sqlExce.getExtList(sqlJtL)];
                                case 2:
                                    jtL = _a.sent();
                                    day.jtL = jtL;
                                    // //本地日历加入主页日历显示中
                                    // let local = await this.readlocal.findEventRc('',start,start);
                                    // for(let lo of local){
                                    //   let md:MonthData = data.find((n) => moment(lo.sd).isSame(moment(n.sd), 'day'));
                                    //   if (md){
                                    //     md.scds = md.scds + 1;
                                    //   }else{
                                    //     md = new MonthData();
                                    //     md.sd=lo.sd;
                                    //     md.scds=1;
                                    //     md.news=0;
                                    //     data.push(md);
                                    //   }
                                    // }
                                    resolve(day);
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    /**
     * 一览查询  dch
     * @param {string} d 日期
     * @param {number} action 0:next , 1
     * @param {number} count
     */
    PgBusiService.prototype.getRcYL = function (d, action, count) {
    };
    /**
     * MQ删除日程
     */
    PgBusiService.prototype.pullDel = function (srId) {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var ctbl, n, j, len;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        ctbl = new __WEBPACK_IMPORTED_MODULE_0__sqlite_tbl_c_tbl__["a" /* CTbl */]();
                        //日程Id
                        ctbl.sr = srId;
                        return [4 /*yield*/, this.sqlExce.getOne(ctbl)];
                    case 1:
                        ctbl = _a.sent();
                        //提醒角标消减
                        if (ctbl && ctbl.du != "") {
                            n = parseInt(ctbl.du);
                            for (j = 0, len = n; j < len; j++) {
                                this.notificationsService.badgeDecrease();
                            }
                        }
                        if (!(ctbl && ctbl.si)) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.delRcBySi(ctbl.si)];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3:
                        this.emitService.emitRef(srId);
                        resolve(ctbl);
                        return [2 /*return*/];
                }
            });
        }); });
    };
    /**
     * 根据日程ID删除  dch
     * @param {string} si 日程ID删除
     */
    PgBusiService.prototype.delRcBySi = function (si) {
        return __awaiter(this, void 0, void 0, function () {
            var ctbl, etbl, dtbl, sptbl, a;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        ctbl = new __WEBPACK_IMPORTED_MODULE_0__sqlite_tbl_c_tbl__["a" /* CTbl */]();
                        //日程Id
                        ctbl.si = si;
                        etbl = new __WEBPACK_IMPORTED_MODULE_1__sqlite_tbl_e_tbl__["a" /* ETbl */]();
                        etbl.si = ctbl.si;
                        return [4 /*yield*/, this.sqlExce.delete(etbl)];
                    case 1:
                        _a.sent(); //本地删除提醒
                        dtbl = new __WEBPACK_IMPORTED_MODULE_8__sqlite_tbl_d_tbl__["a" /* DTbl */]();
                        dtbl.si = ctbl.si;
                        return [4 /*yield*/, this.sqlExce.delete(dtbl)];
                    case 2:
                        _a.sent(); //本地删除日程参与人
                        return [4 /*yield*/, this.sqlExce.delete(ctbl)];
                    case 3:
                        _a.sent(); //本地删除日程表
                        sptbl = new __WEBPACK_IMPORTED_MODULE_7__sqlite_tbl_sp_tbl__["a" /* SpTbl */]();
                        sptbl.si = si;
                        return [4 /*yield*/, this.sqlExce.delete(sptbl)];
                    case 4:
                        _a.sent(); //本地删除日程子表
                        a = new __WEBPACK_IMPORTED_MODULE_3__restful_agdsev__["a" /* AgdPro */]();
                        a.ai = ctbl.si; //日程ID
                        return [4 /*yield*/, this.agdRest.remove(a)];
                    case 5:
                        _a.sent();
                        this.emitService.emitRef(si);
                        return [2 /*return*/, true];
                }
            });
        });
    };
    /**
     *  删除开始时间以后的日程   dch
     * @param {string} si 日程ID
     * @param {string} sd 开始时间
     */
    PgBusiService.prototype.delRcBySiAndSd = function (si, sd) {
        return __awaiter(this, void 0, void 0, function () {
            var ctbl, sql1, sql, ed, a;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        ctbl = new __WEBPACK_IMPORTED_MODULE_0__sqlite_tbl_c_tbl__["a" /* CTbl */]();
                        //日程Id
                        ctbl.si = si;
                        sql1 = "delete from gtd_e where si = '" + si + "' and " +
                            " wi in (select spi from gtd_sp where si = '" + si + "' and sd>= '" + sd + "') ";
                        return [4 /*yield*/, this.sqlExce.execSql(sql1)];
                    case 1:
                        _a.sent(); //本地删除提醒表
                        sql = "delete from gtd_sp where si = '" + si + "' and sd>= '" + sd + "'";
                        return [4 /*yield*/, this.sqlExce.execSql(sql)];
                    case 2:
                        _a.sent(); //本地删除日程子表
                        ed = __WEBPACK_IMPORTED_MODULE_9_moment__(sd).subtract(1, 'd').format("YYYY/MM/DD");
                        ctbl.ed = ed;
                        ctbl.bz = null;
                        return [4 /*yield*/, this.sqlExce.update(ctbl)];
                    case 3:
                        _a.sent(); //更新日程表
                        a = new __WEBPACK_IMPORTED_MODULE_3__restful_agdsev__["a" /* AgdPro */]();
                        a.ai = ctbl.si; //日程ID
                        a.ed = ed;
                        return [4 /*yield*/, this.agdRest.save(a)];
                    case 4:
                        _a.sent();
                        this.emitService.emitRef(si);
                        return [2 /*return*/, true];
                }
            });
        });
    };
    /**
     *  语音删除
     * @param {string} si 日程ID
     * @param {string} sd 开始时间
     */
    PgBusiService.prototype.YuYinDelRc = function (si, sd) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.delRcBySi(si)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/, true];
                }
            });
        });
    };
    /**
     *  根据计划ID删除日程   dch
     * @param {string} ji 计划ID
     * @param {number} type 计划类型 0:自定义;1系统
     */
    PgBusiService.prototype.delRcByJi = function (ji) {
        return __awaiter(this, void 0, void 0, function () {
            var jh;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        jh = new __WEBPACK_IMPORTED_MODULE_2__sqlite_tbl_jh_tbl__["a" /* JhTbl */]();
                        jh.ji = ji;
                        return [4 /*yield*/, this.sqlExce.getOne(jh)];
                    case 1:
                        jh = _a.sent();
                        if (!(jh != null)) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.delRcBySiAndSd(ji, jh.jt)];
                    case 2:
                        _a.sent();
                        return [2 /*return*/, true];
                    case 3: return [2 /*return*/, false];
                }
            });
        });
    };
    /**
     *  根据计划ID和计划类型删除日程   dch
     * @param {string} ji 计划ID
     * @param {number} jt 计划类型
     */
    PgBusiService.prototype.delRcByJiAndJt = function (ji, jt) {
        return __awaiter(this, void 0, void 0, function () {
            var sqls;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        sqls = new Array();
                        if (!(jt == '2')) return [3 /*break*/, 2];
                        //删除自定义计划
                        console.log('---------- PdService delete 删除计划开始 ----------------');
                        // 本地计划日程关联
                        //修改日程表 计划 ji 去除
                        //TODO: 这个地方删除计划有问题,重复日程SP表可以定义多个归属计划，SP不会被干净的删除
                        sqls.push('update gtd_c set ji = null where ji = "' + ji + '";');
                        //修改日程表 计划 ji 去除
                        sqls.push('update gtd_sp set ji = null where ji = "' + ji + '";');
                        // 删除计划
                        sqls.push('delete from gtd_j_h where ji = "' + ji + '";');
                        return [4 /*yield*/, this.sqlExce.batExecSql(sqls)];
                    case 1:
                        _a.sent();
                        console.log('---------- PdService delete 删除计划结束 ----------------');
                        return [3 /*break*/, 4];
                    case 2:
                        //删除系统计划
                        console.log('---------- PlService delete 删除系统计划开始 ----------------');
                        if (jt == "1") {
                            // 删除日程附件表
                            sqls.push('delete from gtd_sp where ji = "' + ji + '";');
                        }
                        else if (jt == "0") {
                            //删除系统特殊计划日程数据
                            sqls.push('delete from gtd_jt where ji = "' + ji + '";');
                        }
                        //删除日程表
                        sqls.push('delete from gtd_c where ji = "' + ji + '";');
                        //计划 jtd 修改
                        sqls.push('update gtd_j_h set jtd = null where ji = "' + ji + '";');
                        return [4 /*yield*/, this.sqlExce.batExecSql(sqls)];
                    case 3:
                        _a.sent();
                        console.log('---------- PlService delete 删除系统计划结束 ----------------');
                        _a.label = 4;
                    case 4: return [2 /*return*/, true];
                }
            });
        });
    };
    /**
     * 获取系统计划3特殊表详情  dch
     * @param {string} jti
     * @param {string} si
     * @returns {Promise<Array<JtData>>}
     */
    PgBusiService.prototype.getJtData = function (jti, si, sd) {
        return __awaiter(this, void 0, void 0, function () {
            var baseL, jt, jtL, j, len;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        baseL = new Map();
                        jt = new __WEBPACK_IMPORTED_MODULE_17__sqlite_tbl_jt_tbl__["a" /* JtTbl */]();
                        jt.px = null;
                        if (jti != '') {
                            jt.jti = jti;
                        }
                        if (si != '') {
                            jt.si = si;
                        }
                        if (sd != '') {
                            jt.sd = sd;
                        }
                        return [4 /*yield*/, this.sqlExce.getList(jt)];
                    case 1:
                        jtL = _a.sent();
                        for (j = 0, len = jtL.length; j < len; j++) {
                            baseL.set(jtL[j].sd, jtL[j]);
                        }
                        return [2 /*return*/, baseL];
                }
            });
        });
    };
    /**
     * 获取日程特殊表详情  dch
     * @param {string} spi
     * @param {string} si
     * @param {string} sd
     * @returns {Promise<Array<JtData>>}
     */
    PgBusiService.prototype.getSpData = function (spi, si, sd) {
        return __awaiter(this, void 0, void 0, function () {
            var baseL, spsql, lst, j, len, sp;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        baseL = new Map();
                        spsql = "select sp.spi, " +
                            "sp.si," +
                            "sp.spn," +
                            "sp.sd," +
                            "sp.st," +
                            "sp.ed," +
                            "sp.et," +
                            "sp.ji," +
                            "sp.bz," +
                            "sp.sta," +
                            "sp.tx," +
                            "sp.wtt," +
                            "sp.itx ,e.wi ewi,e.si esi,e.st est ,e.wd ewd,e.wt ewt,e.wtt ewtt " +
                            " from gtd_sp sp left join gtd_e e on sp.spi = e.wi and " +
                            "sp.si = e.si  where 1=1 ";
                        if (si != '') {
                            spsql = spsql + "and sp.si = '" + si + "' ";
                        }
                        if (sd != '') {
                            spsql = spsql + "and sp.sd = '" + sd + "' ";
                        }
                        if (spi != '') {
                            spsql = spsql + "and sp.spi = '" + spi + "' ";
                        }
                        lst = new Array();
                        return [4 /*yield*/, this.sqlExce.getExtList(spsql)];
                    case 1:
                        lst = _a.sent();
                        for (j = 0, len = lst.length; j < len; j++) {
                            sp = new __WEBPACK_IMPORTED_MODULE_13__data_mapping__["s" /* SpecScdData */]();
                            Object.assign(sp, lst[j]);
                            sp.remindData.wi = lst[j].ewi;
                            sp.remindData.si = lst[j].esi;
                            sp.remindData.st = lst[j].est;
                            sp.remindData.wd = lst[j].ewd;
                            sp.remindData.wt = lst[j].ewt;
                            sp.remindData.wtt = lst[j].ewtt;
                            baseL.set(sp.sd, sp);
                        }
                        return [2 /*return*/, baseL];
                }
            });
        });
    };
    /**
     * 根据日程Id获取联系人信息  dch
     * @returns {Promise<Array<FsData>>}
     */
    PgBusiService.prototype.getFsDataBySi = function (si) {
        return __awaiter(this, void 0, void 0, function () {
            var fss, dlst, dlstsql, j, len, fs;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        fss = new Array();
                        dlst = new Array();
                        dlstsql = "select * from gtd_d where si = '" + si + "' ";
                        return [4 /*yield*/, this.sqlExce.getExtList(dlstsql)];
                    case 1:
                        dlst = _a.sent();
                        for (j = 0, len = dlst.length; j < len; j++) {
                            fs = new __WEBPACK_IMPORTED_MODULE_13__data_mapping__["c" /* FsData */]();
                            fs = this.userConfig.GetOneBTbl(dlst[j].ai);
                            if (fs && fs != null) {
                                fss.push(fs);
                            }
                        }
                        return [2 /*return*/, fss];
                }
            });
        });
    };
    /**
     * 根据用户Id获取联系人信息  dch
     * @returns {Promise<Array<FsData>>}
     */
    PgBusiService.prototype.getFsDataByUi = function (ui) {
        return __awaiter(this, void 0, void 0, function () {
            var fs, tmp, b;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        fs = new __WEBPACK_IMPORTED_MODULE_13__data_mapping__["c" /* FsData */]();
                        tmp = this.userConfig.GetOneBTbl(ui);
                        if (!tmp) return [3 /*break*/, 1];
                        fs = tmp;
                        return [3 /*break*/, 3];
                    case 1: return [4 /*yield*/, this.getBtcl(ui)];
                    case 2:
                        b = _a.sent();
                        if (b != null) {
                            Object.assign(fs, b);
                            fs.bhiu = __WEBPACK_IMPORTED_MODULE_10__config_data_config__["a" /* DataConfig */].HUIBASE64;
                        }
                        else {
                            console.error("=======PgbusiService 获取发起人失败 =======");
                        }
                        _a.label = 3;
                    case 3: return [2 /*return*/, fs];
                }
            });
        });
    };
    /**
     * 根据openId查询联系人信息  dch
     * @param ui
     * @returns {Promise<BTbl>}
     */
    PgBusiService.prototype.getBtcl = function (ui) {
        return __awaiter(this, void 0, void 0, function () {
            var b;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        b = new __WEBPACK_IMPORTED_MODULE_16__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        b.ui = ui;
                        return [4 /*yield*/, this.sqlExce.getExtOne(b.slT())];
                    case 1:
                        b = _a.sent();
                        return [2 /*return*/, b];
                }
            });
        });
    };
    /**
     * 获取ctbl表信息  dch
     * @param si
     */
    PgBusiService.prototype.getCtbl = function (si) {
        return __awaiter(this, void 0, void 0, function () {
            var c;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        c = new __WEBPACK_IMPORTED_MODULE_0__sqlite_tbl_c_tbl__["a" /* CTbl */]();
                        c.si = si;
                        return [4 /*yield*/, this.sqlExce.getOne(c)];
                    case 1:
                        c = _a.sent();
                        return [2 /*return*/, c];
                }
            });
        });
    };
    /**
     * 日程添加
     * @param {PageRcData} rc 日程信息
     * @returns {Promise<BsModel<any>>}
     */
    PgBusiService.prototype.save = function (rc) {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var str, ct, data, adgPro;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        str = this.checkRc(rc);
                        //TODO  返回错误信息
                        if (str != '') {
                            return [2 /*return*/, null];
                        }
                        ct = new __WEBPACK_IMPORTED_MODULE_0__sqlite_tbl_c_tbl__["a" /* CTbl */]();
                        Object.assign(ct, rc);
                        ct.si = this.util.getUuid();
                        return [4 /*yield*/, this.saveSp(ct)];
                    case 1:
                        data = _a.sent();
                        if (data && data != '') {
                            ct.ed = data;
                            ct.et = ct.st;
                        }
                        //保存本地日程
                        if (!ct.ui)
                            ct.ui = ct.si;
                        if (!ct.st)
                            ct.st = this.util.adToDb("");
                        return [4 /*yield*/, this.sqlExce.save(ct)];
                    case 2:
                        _a.sent();
                        adgPro = new __WEBPACK_IMPORTED_MODULE_3__restful_agdsev__["a" /* AgdPro */]();
                        //restFul保存日程
                        this.setAdgPro(adgPro, ct);
                        // 语音创建的时候，如果不同步，会导致服务器还没有保存完日程，保存联系人的请求就来了，导致查不到日程无法触发共享联系人动作
                        // 必须增加await，否则，页面创建和语音创建方法必须分开
                        return [4 /*yield*/, this.agdRest.save(adgPro)];
                    case 3:
                        // 语音创建的时候，如果不同步，会导致服务器还没有保存完日程，保存联系人的请求就来了，导致查不到日程无法触发共享联系人动作
                        // 必须增加await，否则，页面创建和语音创建方法必须分开
                        _a.sent();
                        Object.assign(rc, ct);
                        resolve(rc);
                        this.emitService.emitRef(ct.sd);
                        return [2 /*return*/];
                }
            });
        }); });
    };
    /**
     * 日程添加
     * @param {PageRcData} rc 日程信息
     * @returns {Promise<BsModel<any>>}
     */
    PgBusiService.prototype.save4ai = function (rc) {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var ct;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.save(rc)];
                    case 1:
                        ct = _a.sent();
                        rc.si = ct.si;
                        this.fsService.sharefriend(ct.si, rc.fss);
                        resolve(rc);
                        return [2 /*return*/];
                }
            });
        }); });
    };
    /**
     * 保存日程特殊表
     * @param {CTbl} rc 日程详情
     * @returns {Promise<Promise<any> | number>}
     */
    PgBusiService.prototype.saveSp = function (rc) {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var len, add, sql, ed, i, sp;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        len = 1;
                        add = 'd';
                        if (rc.rt == '1') {
                            len = 365;
                        }
                        else if (rc.rt == '2') {
                            len = 96;
                            add = 'w';
                        }
                        else if (rc.rt == '3') {
                            len = 24;
                            add = 'M';
                        }
                        else if (rc.rt == '4') {
                            len = 20;
                            add = 'y';
                        }
                        sql = new Array();
                        ed = '';
                        for (i = 0; i < len; i++) {
                            sp = new __WEBPACK_IMPORTED_MODULE_7__sqlite_tbl_sp_tbl__["a" /* SpTbl */]();
                            sp.spi = this.util.getUuid();
                            sp.si = rc.si;
                            // sp.sd = moment(rc.sd).add(i,'d').format("YYYY/MM/DD");
                            sp.sd = __WEBPACK_IMPORTED_MODULE_9_moment__(rc.sd).add(i, add).format("YYYY/MM/DD");
                            sp.st = rc.st;
                            sp.tx = rc.tx;
                            sp.ji = rc.ji;
                            sp.spn = rc.sn;
                            sp.bz = rc.bz;
                            sp.ed = sp.sd;
                            sp.et = sp.st;
                            ed = sp.sd;
                            //新消息提醒默认加到第一条上
                            if (i == 0 && rc.gs == '1') {
                                sp.itx = 1;
                            }
                            sql.push(sp.inT());
                            if (sp.tx > '0') {
                                sql.push(this.getTxEtbl(sp).rpT());
                            }
                        }
                        console.log('-------- 插入重复表 --------');
                        //保存特殊表
                        return [4 /*yield*/, this.sqlExce.batExecSql(sql)];
                    case 1:
                        //保存特殊表
                        _a.sent();
                        resolve(ed);
                        return [2 /*return*/];
                }
            });
        }); });
    };
    /**
     *获取提醒表sql
     * @param {CTbl} rc 日程详情
     * @param {string} tsId 特殊表Id
     * @returns {Promise<Promise<any> | number>}
     */
    PgBusiService.prototype.getTxEtbl = function (sp) {
        var et = new __WEBPACK_IMPORTED_MODULE_1__sqlite_tbl_e_tbl__["a" /* ETbl */](); //提醒表
        et.si = sp.si;
        et.wi = sp.spi;
        if (sp.tx != '0') {
            et.st = sp.spn;
            var time = 10; //分钟
            if (sp.tx == "2") {
                time = 30;
            }
            else if (sp.tx == "3") {
                time = 60;
            }
            else if (sp.tx == "4") {
                time = 240;
            }
            else if (sp.tx == "5") {
                time = 1440;
            }
            var date = void 0;
            if (!this.util.isAday(sp.st)) {
                date = __WEBPACK_IMPORTED_MODULE_9_moment__(sp.sd + " " + sp.st).subtract(time, 'm').format("YYYY/MM/DD HH:mm");
            }
            else {
                date = __WEBPACK_IMPORTED_MODULE_9_moment__(sp.sd + " " + "08:00").subtract(time, 'm').format("YYYY/MM/DD HH:mm");
            }
            et.wd = __WEBPACK_IMPORTED_MODULE_9_moment__(date).format("YYYY/MM/DD");
            et.wt = __WEBPACK_IMPORTED_MODULE_9_moment__(date).format("HH:mm");
            console.log('-------- 插入提醒表 --------');
        }
        return et;
    };
    /**
     * 日程校验
     * @param {PageRcData} rc
     * @returns {string}
     */
    PgBusiService.prototype.checkRc = function (rc) {
        var str = '';
        //check 日程必输项
        if (rc.sn == '') {
            str += '标题不能为空;/n';
        }
        if (rc.sn.length > 200) {
            str += '标题文本长度必须下于20;/n';
        }
        if (rc.sd == '') {
            str += '日期不能为空;/n';
        }
        return str;
    };
    //修改本地日程详情
    /**
     *
     * @param {ScdData} scd
     * @returns {Promise<void>}
     */
    PgBusiService.prototype.updateDetail = function (scd) {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var oldc, c, sptbl, sql, ed, sq, sp, sq2, agd;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        oldc = new __WEBPACK_IMPORTED_MODULE_0__sqlite_tbl_c_tbl__["a" /* CTbl */]();
                        oldc.si = scd.si;
                        return [4 /*yield*/, this.sqlExce.getOne(oldc)];
                    case 1:
                        oldc = _a.sent();
                        c = new __WEBPACK_IMPORTED_MODULE_0__sqlite_tbl_c_tbl__["a" /* CTbl */]();
                        Object.assign(c, scd);
                        if (!(oldc.sd != scd.sd || oldc.rt != scd.rt)) return [3 /*break*/, 5];
                        sptbl = new __WEBPACK_IMPORTED_MODULE_7__sqlite_tbl_sp_tbl__["a" /* SpTbl */]();
                        sptbl.si = c.si;
                        sql = 'delete from gtd_e  where si="' + c.si + '"';
                        return [4 /*yield*/, this.sqlExce.execSql(sql)];
                    case 2:
                        _a.sent();
                        //删除特殊表
                        return [4 /*yield*/, this.sqlExce.delete(sptbl)];
                    case 3:
                        //删除特殊表
                        _a.sent();
                        return [4 /*yield*/, this.saveSp(c)];
                    case 4:
                        ed = _a.sent();
                        //结束日期使用sp表最后日期
                        c.ed = ed;
                        return [3 /*break*/, 10];
                    case 5:
                        sq = "update gtd_sp set spn = '" + c.sn + "' where si = '" + c.si + "'";
                        return [4 /*yield*/, this.sqlExce.execSql(sq)];
                    case 6:
                        _a.sent();
                        //更新e表title
                        sq = "update gtd_e set st = '" + c.sn + "' where si = '" + c.si + "'";
                        return [4 /*yield*/, this.sqlExce.execSql(sq)];
                    case 7:
                        _a.sent();
                        if (!scd.specScd(scd.showSpSd)) return [3 /*break*/, 10];
                        sp = new __WEBPACK_IMPORTED_MODULE_7__sqlite_tbl_sp_tbl__["a" /* SpTbl */]();
                        Object.assign(sp, scd.specScd(scd.showSpSd));
                        return [4 /*yield*/, this.sqlExce.update(sp)];
                    case 8:
                        _a.sent();
                        sq2 = "";
                        if (sp.tx != "0") {
                            sq2 = this.getTxEtbl(sp).rpT();
                        }
                        else {
                            sq2 = this.getTxEtbl(sp).dT();
                        }
                        return [4 /*yield*/, this.sqlExce.execSql(sq2)];
                    case 9:
                        _a.sent();
                        _a.label = 10;
                    case 10: return [4 /*yield*/, this.sqlExce.update(c)];
                    case 11:
                        _a.sent();
                        if (!(c.rt == "0" || (c.rt != "0" && c.sn != oldc.sn))) return [3 /*break*/, 13];
                        agd = new __WEBPACK_IMPORTED_MODULE_3__restful_agdsev__["a" /* AgdPro */]();
                        this.setAdgPro(agd, c);
                        return [4 /*yield*/, this.agdRest.save(agd)];
                    case 12:
                        _a.sent();
                        _a.label = 13;
                    case 13:
                        this.emitService.emitRef(scd.sd);
                        resolve(scd);
                        return [2 /*return*/];
                }
            });
        }); });
    };
    // //获取计划列表
    // getPlans(): Promise<any> {
    //   return new Promise((resolve, reject) => {
    //     //获取本地计划列表
    //     let jhtbl: JhTbl = new JhTbl();
    //     jhtbl.jt = "2";
    //     this.sqlExce.getList<JhTbl>(jhtbl).then(data => {
    //       resolve(data)
    //     }).catch(error => {
    //       resolve(error)
    //     })
    //   });
    // }
    PgBusiService.prototype.setAdgPro = function (agd, c) {
        //关联日程ID
        agd.rai = c.sr;
        //日程发送人用户ID
        agd.fc = c.ui;
        //日程ID
        agd.ai = c.si;
        //主题
        agd.at = c.sn;
        //时间(YYYY/MM/DD)
        agd.adt = c.sd;
        agd.st = c.st;
        agd.ed = c.ed;
        agd.et = c.et;
        //计划
        agd.ap = c.ji;
        //重复
        agd.ar = c.rt;
        //提醒
        agd.aa = c.tx;
        //备注
        agd.am = c.bz;
    };
    //响应MQ消息，从服务器获取最新日程
    PgBusiService.prototype.pullAgd = function (sr) {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var agd, c, newc, ed, a, cm, scdData, ret, fs, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        agd = new __WEBPACK_IMPORTED_MODULE_3__restful_agdsev__["a" /* AgdPro */]();
                        agd.ai = sr;
                        return [4 /*yield*/, this.agdRest.get(agd)];
                    case 1:
                        agd = _b.sent();
                        if (!agd) {
                            resolve(null);
                            return [2 /*return*/, null];
                        }
                        c = new __WEBPACK_IMPORTED_MODULE_0__sqlite_tbl_c_tbl__["a" /* CTbl */]();
                        c.sr = sr;
                        return [4 /*yield*/, this.sqlExce.getOne(c)];
                    case 2:
                        c = _b.sent();
                        newc = new __WEBPACK_IMPORTED_MODULE_0__sqlite_tbl_c_tbl__["a" /* CTbl */]();
                        if (!(c == null)) return [3 /*break*/, 6];
                        //插入日程表
                        this.setCtbl(newc, agd);
                        //设置本地日程ID
                        newc.si = this.util.getUuid();
                        //设置关联日程ID
                        newc.sr = sr;
                        return [4 /*yield*/, this.saveSp(newc)];
                    case 3:
                        ed = _b.sent();
                        //结束日期使用sp表最后日期
                        newc.ed = ed;
                        //新消息+1
                        newc.du = "1";
                        return [4 /*yield*/, this.sqlExce.save(newc)];
                    case 4:
                        _b.sent();
                        a = new __WEBPACK_IMPORTED_MODULE_3__restful_agdsev__["a" /* AgdPro */]();
                        this.setAdgPro(a, newc);
                        return [4 /*yield*/, this.agdRest.save(a)];
                    case 5:
                        _b.sent();
                        return [3 /*break*/, 11];
                    case 6:
                        //更新日程表
                        this.setCtbl(newc, agd);
                        if (!(newc.rt == c.rt && c.rt != "0" && newc.ed < c.ed)) return [3 /*break*/, 9];
                        return [4 /*yield*/, this.delRcBySiAndSd(c.si, __WEBPACK_IMPORTED_MODULE_9_moment__(newc.ed).add(1, 'd').format("YYYY/MM/DD"))];
                    case 7:
                        _b.sent();
                        cm = new __WEBPACK_IMPORTED_MODULE_0__sqlite_tbl_c_tbl__["a" /* CTbl */]();
                        cm.si = c.si;
                        //新消息+1
                        if (c.du == "") {
                            cm.du = "1";
                        }
                        else {
                            cm.du = (parseInt(c.du) + 1).toString();
                        }
                        return [4 /*yield*/, this.sqlExce.save(cm)];
                    case 8:
                        _b.sent();
                        return [3 /*break*/, 11];
                    case 9:
                        //更新日程
                        //设置本地日程ID
                        newc.si = c.si;
                        //设置关联日程ID
                        newc.sr = sr;
                        //本地日程的备注和提醒不被更新
                        newc.bz = c.bz;
                        newc.tx = c.tx;
                        //新消息+1
                        if (c.du == "") {
                            newc.du = "1";
                        }
                        else {
                            newc.du = (parseInt(c.du) + 1).toString();
                        }
                        scdData = new __WEBPACK_IMPORTED_MODULE_13__data_mapping__["q" /* ScdData */]();
                        Object.assign(scdData, newc);
                        //修改特殊事件表
                        return [4 /*yield*/, this.updateDetail(scdData)];
                    case 10:
                        //修改特殊事件表
                        _b.sent();
                        _b.label = 11;
                    case 11:
                        ret = new __WEBPACK_IMPORTED_MODULE_13__data_mapping__["q" /* ScdData */]();
                        return [4 /*yield*/, this.getRcBySr(sr)];
                    case 12:
                        ret = _b.sent();
                        fs = new __WEBPACK_IMPORTED_MODULE_13__data_mapping__["c" /* FsData */]();
                        fs = this.userConfig.GetOneBTbl(newc.ui);
                        if (!fs) return [3 /*break*/, 13];
                        ret.fs = fs;
                        return [3 /*break*/, 15];
                    case 13:
                        //从服务器获取对象，放入本地库，刷新缓存
                        _a = ret;
                        return [4 /*yield*/, this.contactsServ.updateOneFs(newc.ui)];
                    case 14:
                        //从服务器获取对象，放入本地库，刷新缓存
                        _a.fs = _b.sent();
                        _b.label = 15;
                    case 15:
                        resolve(ret);
                        return [2 /*return*/, ret];
                }
            });
        }); });
    };
    PgBusiService.prototype.setCtbl = function (c, agd) {
        //关联日程ID
        c.sr = agd.rai ? agd.rai : "";
        //日程发送人用户ID
        c.ui = agd.fc;
        //日程ID
        c.si = agd.ai;
        //主题
        c.sn = agd.at;
        //计划
        if (agd.ap == null || !agd.ap) {
            c.ji = "";
        }
        else {
            c.ji = agd.ap;
        }
        //重复
        c.rt = agd.ar;
        //时间(YYYY/MM/DD)
        var adt = agd.adt.split(" ");
        c.sd = adt[0];
        c.ed = agd.ed;
        if (adt.length == 1) {
            //全天
            c.st = this.util.adToDb("");
            c.et = this.util.adToDb("");
        }
        else {
            c.st = adt[1];
            c.et = adt[1];
        }
        //提醒
        c.tx = agd.aa;
        //备注
        if (agd.am == null || !agd.am) {
            c.bz = "";
        }
        else {
            c.bz = agd.am;
        }
        //他人创建
        c.gs = "1";
        //新消息未读
        //c.du = "0";
    };
    /**
     * 获取分享日程的参与人
     * @param {string} calId 日程ID
     * @returns {Promise<Array<FsData>>}
     */
    PgBusiService.prototype.getCalfriend = function (calId) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var sql = 'select gd.pi,gd.si,gb.*,bh.hiu bhiu from gtd_d gd inner join gtd_b gb on gb.pwi = gd.ai left join gtd_bh bh on gb.pwi = bh.pwi where si="' + calId + '"';
            var fsList = new Array();
            console.log('---------- getCalfriend 获取分享日程的参与人 sql:' + sql);
            _this.sqlExce.execSql(sql).then(function (data) {
                if (data && data.rows && data.rows.length > 0) {
                    for (var i = 0, len = data.rows.length; i < len; i++) {
                        var fs = new __WEBPACK_IMPORTED_MODULE_13__data_mapping__["c" /* FsData */]();
                        Object.assign(fs, data.rows.item(i));
                        if (!fs.bhiu || fs.bhiu == null || fs.bhiu == '') {
                            fs.bhiu = __WEBPACK_IMPORTED_MODULE_10__config_data_config__["a" /* DataConfig */].HUIBASE64;
                        }
                        fsList.push(fs);
                    }
                }
                console.log('---------- getCalfriend 获取分享日程的参与人结果:' + fsList.length /*JSON.stringify(fsList)*/);
                resolve(fsList);
            }).catch(function (e) {
                console.error('---------- getCalfriend 获取分享日程的参与人出错:' + e.message);
                resolve(fsList);
            });
        });
    };
    /**
     * 日程创建人信息
     * @param {string} calId
     * @returns {Promise<FsData>}
     */
    PgBusiService.prototype.getCrMan = function (calId) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var sql = 'select c.si,gb.*,bh.hiu bhiu from gtd_c c ' +
                ' inner join gtd_b gb on gb.rc = c.ui ' +
                ' left join gtd_bh bh on gb.pwi = bh.pwi where c.si="' + calId + '"';
            var fs = new __WEBPACK_IMPORTED_MODULE_13__data_mapping__["c" /* FsData */]();
            _this.sqlExce.execSql(sql).then(function (data) {
                if (data && data.rows && data.rows.length > 0) {
                    Object.assign(fs, data.rows.item(0));
                    if (!fs.bhiu || fs.bhiu == null || fs.bhiu == '') {
                        fs.bhiu = __WEBPACK_IMPORTED_MODULE_10__config_data_config__["a" /* DataConfig */].HUIBASE64;
                    }
                }
                resolve(fs);
            }).catch(function (e) {
                resolve(fs);
            });
        });
    };
    /**
     * 标注日程语义标签
     *
     * @param {string} si
     * @param {string} mkl
     * @param {string} mkt
     * @returns {Promise<string>}
     */
    PgBusiService.prototype.markup = function (si, mkl, mkt) {
        var _this = this;
        if (mkt === void 0) { mkt = "default"; }
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var mk, emk, sql;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        mk = new __WEBPACK_IMPORTED_MODULE_20__sqlite_tbl_mk_tbl__["a" /* MkTbl */]();
                        mk.si = si;
                        mk.mkl = mkl;
                        mk.mkt = mkt;
                        return [4 /*yield*/, this.sqlExce.getExtOne(mk.slT())];
                    case 1:
                        emk = _a.sent();
                        if (emk) {
                            mk.mki = emk.mki;
                        }
                        else {
                            mk.mki = this.util.getUuid();
                        }
                        sql = new Array();
                        sql.push(mk.rpT());
                        return [4 /*yield*/, this.sqlExce.batExecSql(sql)];
                    case 2:
                        _a.sent();
                        resolve(mk.mki);
                        return [2 /*return*/];
                }
            });
        }); });
    };
    PgBusiService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_4__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__util_service_sqlite_exec__["a" /* SqliteExec */], __WEBPACK_IMPORTED_MODULE_6__util_service_util_service__["a" /* UtilService */], __WEBPACK_IMPORTED_MODULE_3__restful_agdsev__["b" /* AgdRestful */],
            __WEBPACK_IMPORTED_MODULE_12__cordova_contacts_service__["a" /* ContactsService */], __WEBPACK_IMPORTED_MODULE_11__config_user_config__["b" /* UserConfig */], __WEBPACK_IMPORTED_MODULE_14__pages_fs_fs_service__["a" /* FsService */], __WEBPACK_IMPORTED_MODULE_15__util_service_emit_service__["a" /* EmitService */],
            __WEBPACK_IMPORTED_MODULE_18__cordova_notifications_service__["a" /* NotificationsService */], __WEBPACK_IMPORTED_MODULE_19__cordova_localcalendar_service__["a" /* LocalcalendarService */]])
    ], PgBusiService);
    return PgBusiService;
}());

//# sourceMappingURL=pgbusi.service.js.map

/***/ }),
/* 69 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PersonRestful; });
/* unused harmony export SignData */
/* unused harmony export PersonInData */
/* unused harmony export PersonOutData */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_restful_config__ = __webpack_require__(40);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * 帐户 注册
 */
var PersonRestful = (function () {
    function PersonRestful(request, config) {
        this.request = request;
        this.config = config;
    }
    //token信息获取，头部登录码 get
    PersonRestful.prototype.getToken = function (code) {
        var _this = this;
        var personData = new PersonOutData();
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("AAT");
            var urlEntity = new __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["c" /* UrlEntity */]();
            urlEntity.url = url.url;
            urlEntity.key = url.key;
            urlEntity.desc = url.desc;
            // 根据请求URL判断使用不同的AppId和Secret
            if (url.url.indexOf(__WEBPACK_IMPORTED_MODULE_2__config_restful_config__["a" /* RestFulConfig */].MWXING_SERVICE_WWW_SITE) > 0) {
                urlEntity.url = urlEntity.url + '?appid=' + __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["a" /* RestFulConfig */].MWXING_SERVICE_WWW_APPID + '&secret=' + __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["a" /* RestFulConfig */].MWXING_SERVICE_WWW_SECRET + '&code=' + code + '&grant_type=any';
            }
            else {
                urlEntity.url = urlEntity.url + '?appid=' + __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["a" /* RestFulConfig */].MWXING_SERVICE_PLUTO_APPID + '&secret=' + __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["a" /* RestFulConfig */].MWXING_SERVICE_PLUTO_SECRET + '&code=' + code + '&grant_type=any';
            }
            return _this.request.get(urlEntity).then(function (data) {
                //处理返回结果
                personData = data;
                resolve(personData);
            }).catch(function (error) {
                //处理返回错误
                personData = error;
                resolve(personData);
            });
        });
    };
    //帐户信息获取	AIG get
    PersonRestful.prototype.get = function (phoneno) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("AIG");
            var urlEntity = new __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["c" /* UrlEntity */]();
            urlEntity.url = url.url;
            urlEntity.key = url.key;
            urlEntity.desc = url.desc;
            urlEntity.url = urlEntity.url.replace("{phoneno}", phoneno);
            _this.request.get(urlEntity).then(function (data) {
                //处理返回结果
                // bsModel.code = data.errcode;
                // bsModel.message = data.errmsg;
                // bsModel.data = data.data;
                resolve(data.data);
            }).catch(function (error) {
                //处理返回错误
                reject();
            });
        });
    };
    //批量帐户信息获取	AIGS post
    PersonRestful.prototype.getMultis = function (phonenos) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("AIGS");
            var urlEntity = new __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["c" /* UrlEntity */]();
            urlEntity.url = url.url;
            urlEntity.key = url.key;
            urlEntity.desc = url.desc;
            _this.request.post(urlEntity, { phonenos: phonenos }).then(function (data) {
                //处理返回结果
                resolve(data.data);
            }).catch(function (error) {
                //处理返回错误
                reject(error);
            });
        });
    };
    //帐户头像获取	AAG get
    PersonRestful.prototype.getavatar = function (phoneno) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("AAG");
            var urlEntity = new __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["c" /* UrlEntity */]();
            urlEntity.url = url.url;
            urlEntity.key = url.key;
            urlEntity.desc = url.desc;
            urlEntity.url = urlEntity.url.replace("{phoneno}", phoneno);
            _this.request.get(urlEntity).then(function (data) {
                //处理返回结果
                resolve(data.data);
            }).catch(function (error) {
                //处理返回错误
                reject(error);
            });
        });
    };
    //获取个人信息	AIU	获取个人信息 get
    PersonRestful.prototype.getself = function (unionid) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("AIU");
            var urlEntity = new __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["c" /* UrlEntity */]();
            urlEntity.url = url.url;
            urlEntity.key = url.key;
            urlEntity.desc = url.desc;
            urlEntity.url = urlEntity.url.replace("{unionid}", unionid);
            _this.request.get(urlEntity).then(function (data) {
                //处理返回结果
                resolve(data.data);
            }).catch(function (error) {
                //处理返回错误
                reject(error);
            });
        });
    };
    //帐户信息更新	AIU	更新用户信息(包括密码) put
    PersonRestful.prototype.updateself = function (personData, unionid) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("AIU");
            var urlEntity = new __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["c" /* UrlEntity */]();
            urlEntity.url = url.url;
            urlEntity.key = url.key;
            urlEntity.desc = url.desc;
            urlEntity.url = urlEntity.url.replace("{unionid}", unionid);
            _this.request.put(urlEntity, personData).then(function (data) {
                //处理返回结果
                resolve(data.data);
            }).catch(function (error) {
                //处理返回错误
                reject(error);
            });
        });
    };
    //修改密码 MP put
    PersonRestful.prototype.updatepass = function (personData, unionid) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("MP");
            var urlEntity = new __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["c" /* UrlEntity */]();
            urlEntity.url = url.url;
            urlEntity.key = url.key;
            urlEntity.desc = url.desc;
            urlEntity.url = urlEntity.url.replace("{unionid}", unionid);
            _this.request.put(urlEntity, personData).then(function (data) {
                //处理返回结果
                resolve(data.data);
            }).catch(function (error) {
                //处理返回错误
                reject(error);
            });
        });
    };
    PersonRestful = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__["a" /* RestfulClient */],
            __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["a" /* RestFulConfig */]])
    ], PersonRestful);
    return PersonRestful;
}());

var SignData = (function () {
    function SignData() {
        this.phoneno = ""; //手机号码
        this.verifykey = ""; //短信验证码KEY
        this.verifycode = ""; //短信验证码
        this.username = ""; //真实姓名
        this.userpassword = ""; //帐户密码
    }
    return SignData;
}());

var PersonInData = (function () {
    function PersonInData() {
        this.phoneno = "";
        this.unionid = "";
        this.nickname = ""; //姓名
        this.password = ""; //密码
        this.avatar = ""; //头像
        this.birthday = ""; //出生日期  2019-03-11
        this.province = ""; //省市/地区
        this.city = "";
        this.country = "";
    }
    return PersonInData;
}());

var PersonOutData = (function () {
    function PersonOutData() {
        this._id = "";
        this.phoneno = "";
        this.verifykey = "";
        this.verifycode = "";
        this.userpassword = "";
        this.openid = "";
        this.password = "";
        this.unionid = "";
        this.province = "";
        this.city = "";
        this.country = "";
        this.nickname = ""; //姓名
        this.name = ""; // 真实姓名
        this.avatarbase64 = ""; //头像64
        this.sex = ""; //性别
        this.birthday = ""; //出生日期
        this.ic = ""; //身份证
        this.contact = ""; //  联系方式
        this.code = "";
        this.state = "";
        this.appid = "";
        this.access_token = "";
        this.refresh_token = "";
        this.access_time = "";
        this.expires_in = "";
        this.cmq = "";
    }
    return PersonOutData;
}());

//# sourceMappingURL=personsev.js.map

/***/ }),
/* 70 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WsDataConfig; });
var WsDataConfig = (function () {
    function WsDataConfig() {
    }
    /*========== 设置上下文contextRetMap key =========*/
    //日程信息
    WsDataConfig.SCD = "scd";
    //人员信息
    WsDataConfig.FS = "fs";
    //前动作option服务器交互
    WsDataConfig.PRVOPTION = "prvoption";
    //前动作prvprocessor服务器交互
    WsDataConfig.PRVPROCESSOR = "prvprocessor";
    //前动作option本地
    WsDataConfig.OPTION4SPEECH = "option4Speech";
    //前动作process本地
    WsDataConfig.PROCESSOR4SPEECH = "processor4Speech";
    WsDataConfig.BRANCHCODE = "branchcode";
    WsDataConfig.BRANCHTYPE = "branchtype";
    /*========== 语音类型 =========*/
    WsDataConfig.TYPE_NONE = "NONE";
    WsDataConfig.TYPE_ONE = "ONE";
    WsDataConfig.TYPE_MULTI = "MULTI";
    WsDataConfig.TYPE_EMPTY = "EMPTY";
    /*========== 语音处理出错类型 =========*/
    WsDataConfig.BRANCHTYPE_FORBIDDEN = "FORBIDDEN";
    /*========== 语音处理出错代码 =========*/
    WsDataConfig.BRANCHCODE_E0001 = "E0001";
    return WsDataConfig;
}());

//# sourceMappingURL=wsdata.config.js.map

/***/ }),
/* 71 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return S; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return F; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return DS; });
/* unused harmony export SS */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AG; });
/* unused harmony export MO */
/* unused harmony export SC */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return SH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return PN; });
/* unused harmony export SD */
/* unused harmony export MK */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return SY; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return R; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return O; });
/* unused harmony export T */
/**
 * MQ接收业务数据类处理类型
 *
 * create by zhangjy on 2019/03/13
 */
//播报
var S;
(function (S) {
    S["AN"] = "S.AN";
    S["P"] = "S.P"; // 替换参数后播报（本地）
})(S || (S = {}));
//查询（日程，参与人）
var F;
(function (F) {
    F["F"] = "F.F";
    F["C"] = "F.C"; // 查询日程
})(F || (F = {}));
//数据同步
var DS;
(function (DS) {
    DS["SD"] = "DS.SD";
    DS["SA"] = "DS.SA";
    DS["OA"] = "DS.OA";
    DS["SP"] = "DS.SP";
    DS["DS"] = "DS.DS";
})(DS || (DS = {}));
//日程整理（保存上下文）
var SS;
(function (SS) {
    SS["C"] = "SS.C";
    SS["U"] = "SS.U";
    SS["D"] = "SS.D";
})(SS || (SS = {}));
//日程处理（保存上下文）
var AG;
(function (AG) {
    AG["C"] = "AG.C";
    AG["U"] = "AG.U";
    AG["D"] = "AG.D";
})(AG || (AG = {}));
//备忘处理（保存上下文）
var MO;
(function (MO) {
    MO["C"] = "MO.C";
})(MO || (MO = {}));
//日程修改（获取上下文中）
var SC;
(function (SC) {
    SC["T"] = "SC.T";
})(SC || (SC = {}));
//日程更新，新建，删除（被分享）
var SH;
(function (SH) {
    SH["U"] = "SH.U";
    SH["C"] = "SH.C";
    SH["D"] = "SH.D";
})(SH || (SH = {}));
//推送通知
var PN;
(function (PN) {
    PN["DR"] = "PN.DR";
    PN["FB"] = "PN.FB"; //中断反馈通知推送
})(PN || (PN = {}));
//特殊数据（例如：天气等）
var SD;
(function (SD) {
    SD["S"] = "SD.S"; //保存特殊数据
})(SD || (SD = {}));
//日程标签
var MK;
(function (MK) {
    MK["U"] = "MK.U"; //标注日程语义标签
})(MK || (MK = {}));
//设置
var SY;
(function (SY) {
    SY["S"] = "SY.S";
    SY["B"] = "SY.B";
    SY["FO"] = "SY.FO"; //项目跟进 实例设置
})(SY || (SY = {}));
//闹铃设置
var R;
(function (R) {
    R["N"] = "R.N";
    R["T"] = "R.T";
    R["C"] = "R.C";
})(R || (R = {}));
//操作
var O;
(function (O) {
    O["O"] = "O.O";
    O["C"] = "O.C";
    O["S"] = "O.S";
})(O || (O = {}));
//第三方接口或技能
var T;
(function (T) {
})(T || (T = {}));
//# sourceMappingURL=ws.enum.js.map

/***/ }),
/* 72 */,
/* 73 */,
/* 74 */,
/* 75 */,
/* 76 */,
/* 77 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

var BTbl = (function () {
    function BTbl() {
        this.pwi = "";
        this.ran = "";
        this.ranpy = "";
        this.hiu = "";
        this.rn = "";
        this.rnpy = "";
        this.rc = "";
        this.rel = "";
        this.ui = "";
        this.src = "";
        this.wtt = 0;
    }
    BTbl.prototype.cT = function () {
        var sq = ' create table if not exists gtd_b( pwi varchar(50) primary key ,ran varchar(50)  ,' +
            'ranpy varchar(20)  ,hiu varchar(200)  ,rn varchar(20)  ,' +
            'rnpy varchar(20)  ,rc varchar(20)    ,rel varchar(4)  ,' +
            'ui varchar(50),src varchar(4),wtt integer );';
        return sq;
    };
    BTbl.prototype.upT = function () {
        var sq = '';
        if (this.ran != null && this.ran != "") {
            sq = sq + ', ran="' + this.ran + '"';
        }
        if (this.ranpy != null && this.ranpy != "") {
            sq = sq + ', ranpy="' + this.ranpy + '"';
        }
        if (this.hiu != null && this.hiu != "") {
            sq = sq + ', hiu="' + this.hiu + '"';
        }
        if (this.rn != null && this.rn != "") {
            sq = sq + ', rn="' + this.rn + '"';
        }
        if (this.rnpy != null && this.rnpy != "") {
            sq = sq + ', rnpy="' + this.rnpy + '"';
        }
        if (this.rc != null && this.rc != "") {
            sq = sq + ', rc="' + this.rc + '"';
        }
        if (this.rel != null && this.rel != "") {
            sq = sq + ', rel="' + this.rel + '"';
        }
        if (this.ui != null && this.ui != "") {
            sq = sq + ', ui="' + this.ui + '"';
        }
        if (this.src != null && this.src != "") {
            sq = sq + ', src="' + this.src + '"';
        }
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = 'update gtd_b set ' + sq + ' where pwi = "' + this.pwi + '";';
        return sq;
    };
    BTbl.prototype.dT = function () {
        var sq = 'delete from gtd_b where 1=1 ';
        if (this.pwi != null && this.pwi != "") {
            sq = sq + ' and  pwi ="' + this.pwi + '"';
        }
        return sq;
    };
    BTbl.prototype.sloT = function () {
        var sq = 'select * from gtd_b where 1=1 ';
        if (this.pwi != null && this.pwi != "") {
            sq = sq + 'and  pwi ="' + this.pwi + '"';
        }
        if (this.rc != null && this.rc != "") {
            sq = sq + 'and  rc ="' + this.rc + '"';
        }
        sq = sq + ';';
        return sq;
    };
    BTbl.prototype.slT = function () {
        var sq = 'select * from  gtd_b where  1=1 ';
        if (this.ran != null && this.ran != "") {
            sq = sq + ' and ran="' + this.ran + '"';
        }
        if (this.ranpy != null && this.ranpy != "") {
            sq = sq + ' and ranpy="' + this.ranpy + '"';
        }
        if (this.hiu != null && this.hiu != "") {
            sq = sq + ' and hiu="' + this.hiu + '"';
        }
        if (this.rn != null && this.rn != "") {
            sq = sq + ' and rn="' + this.rn + '"';
        }
        if (this.rnpy != null && this.rnpy != "") {
            sq = sq + ' and rnpy="' + this.rnpy + '"';
        }
        if (this.rc != null && this.rc != "") {
            sq = sq + ' and rc like "' + this.rc + '%"';
        }
        if (this.rel != null && this.rel != "") {
            sq = sq + ' and rel="' + this.rel + '"';
        }
        if (this.ui != null && this.ui != "") {
            sq = sq + ' and ui="' + this.ui + '"';
        }
        if (this.src != null && this.src != "") {
            sq = sq + ' and src="' + this.src + '"';
        }
        sq = sq + ';';
        return sq;
    };
    BTbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_b;';
        return sq;
    };
    BTbl.prototype.inT = function () {
        var sq = 'insert into gtd_b ' +
            '(  pwi ,ran ,ranpy  ,hiu ,rn ,rnpy ,rc   ,rel ,ui,src,wtt) values("' + this.pwi + '",' +
            '"' + this.ran + '","' + this.ranpy + '"' +
            ',"' + this.hiu + '","' + this.rn + '","' + this.rnpy + '","' + this.rc + '",' +
            '"' + this.rel + '","' + this.ui + '","' + this.src + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    BTbl.prototype.rpT = function () {
        var sq = 'replace into gtd_b ' +
            '(  pwi ,ran ,ranpy  ,hiu ,rn ,rnpy ,rc   ,rel ,ui,wtt) values("' + this.pwi + '",' +
            '"' + this.ran + '","' + this.ranpy + '"' +
            ',"' + this.hiu + '","' + this.rn + '","' + this.rnpy + '","' + this.rc + '",' +
            '"' + this.rel + '","' + this.ui + '","' + this.src + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    BTbl.prototype.preT = function () {
        var sq = 'insert into gtd_b ' +
            '(  pwi ,ran ,ranpy  ,hiu ,rn ,rnpy ,rc   ,rel ,ui,src,wtt) values(?, ?, ?, ?, ?, ?, ?, ?, ?, ?,?, ' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    return BTbl;
}());

//# sourceMappingURL=b.tbl.js.map

/***/ }),
/* 78 */,
/* 79 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FdService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_restful_personsev__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_restful_blasev__ = __webpack_require__(256);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_cordova_contacts_service__ = __webpack_require__(62);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var FdService = (function () {
    function FdService(personRes, blasev, util, sqlite, userConfig, contact) {
        this.personRes = personRes;
        this.blasev = blasev;
        this.util = util;
        this.sqlite = sqlite;
        this.userConfig = userConfig;
        this.contact = contact;
    }
    /**
     * 获取个人详情
     * @param {String} id
     * @returns {Promise<FsData>}
     */
    FdService.prototype.get = function (fd) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.contact.updateOneFs(fd.rc).then(function (data) {
                resolve(data);
            });
        });
    };
    FdService.prototype.getBlack = function (phoneno) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var isBlack = false;
            //restFul查询是否是黑名单
            _this.blasev.list().then(function (data) {
                if (data && data.length > 0) {
                    for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {
                        var bla = data_1[_i];
                        if (bla.mpn == phoneno) {
                            isBlack = true; //是黑名单；
                            break;
                        }
                    }
                }
                resolve(isBlack);
            }).catch(function (error) {
                resolve(isBlack);
            });
        });
    };
    //restFul 加入黑名单
    FdService.prototype.putBlack = function (fd) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var bla = new __WEBPACK_IMPORTED_MODULE_4__service_restful_blasev__["a" /* BlaReq */]();
            if (fd && fd.rc) {
                bla.ai = fd.ui;
                bla.mpn = fd.rc;
                bla.n = fd.rn;
                //bla.a= fd.hiu;
                bla.s = '';
                bla.bd = '';
            }
            _this.blasev.add(bla).then(function (data) {
                resolve(true);
            }).catch(function (e) {
                resolve(false);
            });
        });
    };
    /**
     * restFul 移除入黑名单
     * @param {string} mpn 手机号
     * @returns {Promise<BsModel<BlaReq>>}
     */
    FdService.prototype.removeBlack = function (mpn) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var bla = new __WEBPACK_IMPORTED_MODULE_4__service_restful_blasev__["a" /* BlaReq */]();
            bla.mpn = mpn;
            _this.blasev.remove(bla).then(function (data) {
                resolve(true);
            }).catch(function (e) {
                resolve(false);
            });
        });
    };
    FdService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_restful_personsev__["a" /* PersonRestful */],
            __WEBPACK_IMPORTED_MODULE_4__service_restful_blasev__["b" /* BlaRestful */],
            __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_2__service_util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_5__service_config_user_config__["b" /* UserConfig */],
            __WEBPACK_IMPORTED_MODULE_6__service_cordova_contacts_service__["a" /* ContactsService */]])
    ], FdService);
    return FdService;
}());

//# sourceMappingURL=fd.service.js.map

/***/ }),
/* 80 */,
/* 81 */,
/* 82 */,
/* 83 */,
/* 84 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return YTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__itbl__ = __webpack_require__(850);

/**
 * create by on 2019/3/5
 */
var YTbl = (function () {
    function YTbl() {
        this.yi = "";
        this.yt = "";
        this.ytn = "";
        this.yn = "";
        this.yk = "";
        this.yv = "";
    }
    YTbl.prototype.cT = function () {
        var sq = 'create table if not exists gtd_y(  yi varchar(50) primary key ,yt varchar(20)  ,' +
            'ytn varchar(20)  ,yn varchar(20)  ,yk varchar(20)  ,yv varchar(400)   );';
        return sq;
    };
    YTbl.prototype.upT = function () {
        var sq = '';
        if (this.yt != null && this.yt != "") {
            sq = sq + ', yt="' + this.yt + '"';
        }
        if (this.ytn != null && this.ytn != "") {
            sq = sq + ', ytn="' + this.ytn + '"';
        }
        if (this.yn != null && this.yn != "") {
            sq = sq + ', yn="' + this.yn + '"';
        }
        if (this.yk != null && this.yk != "") {
            sq = sq + ', yk="' + this.yk + '"';
        }
        if (this.yv != null && this.yv != "") {
            sq = sq + ', yv="' + Object(__WEBPACK_IMPORTED_MODULE_0__itbl__["a" /* convertQuotes */])(this.yv) + '"';
        }
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = 'update gtd_y set  ' + sq + ' where yi = "' + this.yi + '";';
        return sq;
    };
    YTbl.prototype.dT = function () {
        var sq = 'delete from gtd_y where 1=1 ';
        if (this.yi != null && this.yi != "") {
            sq = sq + 'and  yi ="' + this.yi + '"';
        }
        sq = sq + ';';
        return sq;
    };
    YTbl.prototype.sloT = function () {
        var sq = 'select * from gtd_y where yi = "' + this.yi + '";';
        return sq;
    };
    YTbl.prototype.slT = function () {
        var sq = 'select * from  gtd_y where  1=1 ';
        if (this.yt != null && this.yt != "") {
            sq = sq + ' and yt="' + this.yt + '"';
        }
        if (this.ytn != null && this.ytn != "") {
            sq = sq + ' and ytn="' + this.ytn + '"';
        }
        if (this.yn != null && this.yn != "") {
            sq = sq + ' and yn="' + this.yn + '"';
        }
        if (this.yk != null && this.yk != "") {
            sq = sq + ' and yk="' + this.yk + '"';
        }
        if (this.yv != null && this.yv != "") {
            sq = sq + ' and yv="' + this.yv + '"';
        }
        sq = sq + ';';
        return sq;
    };
    YTbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_y;';
        return sq;
    };
    YTbl.prototype.inT = function () {
        var sq = 'insert into gtd_y ' +
            '(  yi ,yt ,ytn ,yn ,yk ,yv) values("' + this.yi + '","' + this.yt + '","' + this.ytn + '"' +
            ',"' + this.yn + '","' + this.yk + '","' + Object(__WEBPACK_IMPORTED_MODULE_0__itbl__["a" /* convertQuotes */])(this.yv) + '");';
        return sq;
    };
    YTbl.prototype.rpT = function () {
        var sq = 'replace into gtd_y ' +
            '(  yi ,yt ,ytn ,yn ,yk ,yv) values("' + this.yi + '","' + this.yt + '","' + this.ytn + '"' +
            ',"' + this.yn + '","' + this.yk + '","' + Object(__WEBPACK_IMPORTED_MODULE_0__itbl__["a" /* convertQuotes */])(this.yv) + '");';
        return sq;
    };
    YTbl.prototype.preT = function () {
        var sq = 'insert into gtd_y ' +
            '(  yi ,yt ,ytn ,yn ,yk ,yv) values(?, ?, ?, ?, ?, ?);';
        return sq;
    };
    return YTbl;
}());

//# sourceMappingURL=y.tbl.js.map

/***/ }),
/* 85 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MemoService; });
/* unused harmony export ObjectType */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_service__ = __webpack_require__(106);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_mom_tbl__ = __webpack_require__(225);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__restful_shaesev__ = __webpack_require__(107);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__restful_datasev__ = __webpack_require__(108);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__restful_bacsev__ = __webpack_require__(110);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__data_enum__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__util_service_emit_service__ = __webpack_require__(11);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};












var MemoService = (function (_super) {
    __extends(MemoService, _super);
    function MemoService(sqlExce, bacRestful, emitService, util, dataRestful, shareRestful) {
        var _this = _super.call(this) || this;
        _this.sqlExce = sqlExce;
        _this.bacRestful = bacRestful;
        _this.emitService = emitService;
        _this.util = util;
        _this.dataRestful = dataRestful;
        _this.shareRestful = shareRestful;
        return _this;
    }
    /**
     * 保存或者更新备忘
     * @author ying<343253410@qq.com>
     */
    MemoService.prototype.saveMemo = function (memo) {
        return __awaiter(this, void 0, void 0, function () {
            var memodb, memodb;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(memo); // 对象不能为空
                        this.assertEmpty(memo.mon); // 备忘内容不能为空
                        if (!memo.moi) return [3 /*break*/, 2];
                        memodb = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_mom_tbl__["a" /* MomTbl */]();
                        Object.assign(memodb, memo);
                        memodb.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                        return [4 /*yield*/, this.sqlExce.updateByParam(memodb)];
                    case 1:
                        _a.sent();
                        Object.assign(memo, memodb);
                        return [3 /*break*/, 4];
                    case 2:
                        //创建
                        memo.moi = this.util.getUuid();
                        memo.sd = memo.sd || __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD"); // 没有设置日期默认当天
                        memodb = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_mom_tbl__["a" /* MomTbl */]();
                        Object.assign(memodb, memo);
                        memodb.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].undel;
                        memodb.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch;
                        return [4 /*yield*/, this.sqlExce.saveByParam(memodb)];
                    case 3:
                        _a.sent();
                        Object.assign(memo, memodb);
                        _a.label = 4;
                    case 4:
                        this.emitService.emit("mwxing.calendar.activities.changed", memo);
                        this.syncMemos([memo]);
                        return [2 /*return*/, memo];
                }
            });
        });
    };
    /**
     *  更新备忘计划,只是更新计划ID
     * @author ying<343253410@qq.com>
     */
    MemoService.prototype.updateMemoPlan = function (ji, moi) {
        return __awaiter(this, void 0, void 0, function () {
            var memodb;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(ji); // 计划ID不能为空
                        this.assertEmpty(moi); // 备案ID不能为空
                        memodb = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_mom_tbl__["a" /* MomTbl */]();
                        memodb.moi = moi;
                        memodb.ji = ji;
                        return [4 /*yield*/, this.sqlExce.updateByParam(memodb)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 删除备忘
     * @author ying<343253410@qq.com>
     */
    MemoService.prototype.removeMemo = function (moi) {
        return __awaiter(this, void 0, void 0, function () {
            var memo, memodb, sqls;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(moi); // id不能为空
                        return [4 /*yield*/, this.getMemo(moi)];
                    case 1:
                        memo = _a.sent();
                        memo.del = __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del;
                        memodb = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_mom_tbl__["a" /* MomTbl */]();
                        Object.assign(memodb, memo);
                        sqls = new Array();
                        sqls.push(memodb.rpTParam());
                        //删除备忘相关的附件
                        sqls.push("delete from gtd_fj where obt = '" + ObjectType.Calendar + "' and obi ='" + moi + "';");
                        //删除备忘相关的标签
                        sqls.push("delete from gtd_mrk where obt = '" + ObjectType.Calendar + "' and obi ='" + moi + "';");
                        //删除参与人表
                        sqls.push("delete from gtd_par where obt = '" + ObjectType.Calendar + "' and obi ='" + moi + "';");
                        //删除消息表
                        sqls.push("delete from gtd_wa where obt = '" + ObjectType.Calendar + "' and obi ='" + moi + "';");
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls)];
                    case 2:
                        _a.sent();
                        this.emitService.emit("mwxing.calendar.activities.changed", memo);
                        this.syncMemos([memo]);
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 根据备忘ID获取备忘
     *
     * @author ying<343253410@qq.com>
     */
    MemoService.prototype.getMemo = function (moi) {
        return __awaiter(this, void 0, void 0, function () {
            var params, sqlparams, existMemo, memo;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(moi); // id不能为空
                        params = Array();
                        sqlparams = " select * from gtd_mom where moi = '" + moi + "' and del ='undel' ;";
                        console.info("执行的SQL" + sqlparams);
                        return [4 /*yield*/, this.sqlExce.getExtOneByParam(sqlparams, params)];
                    case 1:
                        existMemo = _a.sent();
                        if (existMemo && existMemo.moi) {
                            memo = {};
                            Object.assign(memo, existMemo);
                            return [2 /*return*/, memo];
                        }
                        else {
                            return [2 /*return*/, null];
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 发送备忘进行共享.
     * @author ying<343253410@qq.com>
     */
    MemoService.prototype.sendMemo = function (memo) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(memo); // 入参不能为空
                        return [4 /*yield*/, this.syncMemos([memo])];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 接收备忘数据同步
     * @author ying<343253410@qq.com>
     */
    MemoService.prototype.receivedMemo = function (moi) {
        return __awaiter(this, void 0, void 0, function () {
            var pull, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.assertEmpty(moi); // 入参不能为空
                        pull = new __WEBPACK_IMPORTED_MODULE_6__restful_datasev__["b" /* PullInData */]();
                        if (moi instanceof Array) {
                            pull.type = "Memo";
                            (_a = pull.d).splice.apply(_a, [0, 0].concat(moi));
                        }
                        else {
                            pull.type = "Memo";
                            pull.d.push(moi);
                        }
                        return [4 /*yield*/, this.dataRestful.pull(pull)];
                    case 1:
                        _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 接收备忘保存在本地
     * @author ying<343253410@qq.com>
     */
    MemoService.prototype.receivedMemoData = function (memo, status) {
        return __awaiter(this, void 0, void 0, function () {
            var memodb, backMemo;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(memo); // 入参不能为空
                        this.assertEmpty(memo.moi); // 备忘ID不能为空
                        this.assertEmpty(status); // 入参不能为空
                        memodb = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_mom_tbl__["a" /* MomTbl */]();
                        Object.assign(memodb, memo);
                        memodb.del = status;
                        memodb.tb = __WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].synch;
                        return [4 /*yield*/, this.sqlExce.repTByParam(memodb)];
                    case 1:
                        _a.sent();
                        backMemo = {};
                        Object.assign(backMemo, memodb);
                        this.emitService.emit("mwxing.calendar.activities.changed", backMemo);
                        return [2 /*return*/, backMemo];
                }
            });
        });
    };
    /**
     * 把指定或所有未同步备忘, 同步到服务器
     *
     * @author ying<343253410@qq.com>, leon_xi@163.com
     */
    MemoService.prototype.syncMemos = function (memos) {
        if (memos === void 0) { memos = new Array(); }
        return __awaiter(this, void 0, void 0, function () {
            var sql, push, _i, memos_1, memo, sync;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.assertEmpty(memos); // 入参不能为空
                        if (!(memos.length <= 0)) return [3 /*break*/, 2];
                        sql = "select * from gtd_mom where  tb = ?";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, [__WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].unsynch])];
                    case 1:
                        memos = (_a.sent()) || memos;
                        _a.label = 2;
                    case 2:
                        if (!(memos && memos.length > 0)) return [3 /*break*/, 4];
                        push = new __WEBPACK_IMPORTED_MODULE_6__restful_datasev__["c" /* PushInData */]();
                        for (_i = 0, memos_1 = memos; _i < memos_1.length; _i++) {
                            memo = memos_1[_i];
                            sync = new __WEBPACK_IMPORTED_MODULE_6__restful_datasev__["d" /* SyncData */]();
                            sync.src = __WEBPACK_IMPORTED_MODULE_8__config_user_config__["b" /* UserConfig */].account.id;
                            sync.id = memo.moi;
                            sync.type = "Memo";
                            sync.title = memo.mon;
                            sync.security = __WEBPACK_IMPORTED_MODULE_10__data_enum__["A" /* SyncDataSecurity */].None;
                            sync.datetime = __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY/MM/DD HH:mm");
                            sync.todostate = __WEBPACK_IMPORTED_MODULE_10__data_enum__["a" /* CompleteState */].None;
                            sync.invitestate = __WEBPACK_IMPORTED_MODULE_10__data_enum__["j" /* InviteState */].None;
                            sync.to = [];
                            // 设置删除状态
                            if (memo.del == __WEBPACK_IMPORTED_MODULE_10__data_enum__["d" /* DelType */].del) {
                                sync.status = __WEBPACK_IMPORTED_MODULE_10__data_enum__["B" /* SyncDataStatus */].Deleted;
                            }
                            else {
                                sync.status = __WEBPACK_IMPORTED_MODULE_10__data_enum__["B" /* SyncDataStatus */].UnDeleted;
                            }
                            sync.payload = memo;
                            push.d.push(sync);
                        }
                        return [4 /*yield*/, this.dataRestful.push(push)];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    /**
   * 更新已同步标志
   * 根据备忘ID和更新时间戳
   *
   * @author leon_xi@163.com
   **/
    MemoService.prototype.acceptSyncMemos = function (syncids) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var sqls, _i, syncids_1, syncid, _a, syncids_2, id;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.assertEmpty(syncids); // 入参不能为空
                        if (syncids.length < 1) {
                            return [2 /*return*/];
                        }
                        sqls = new Array();
                        for (_i = 0, syncids_1 = syncids; _i < syncids_1.length; _i++) {
                            syncid = syncids_1[_i];
                            sqls.push(["update gtd_mom set tb = ? where moi = ?", [__WEBPACK_IMPORTED_MODULE_10__data_enum__["C" /* SyncType */].synch, syncid]]);
                        }
                        return [4 /*yield*/, this.sqlExce.batExecSqlByParam(sqls)];
                    case 1:
                        _b.sent();
                        // 同步完成后刷新缓存
                        for (_a = 0, syncids_2 = syncids; _a < syncids_2.length; _a++) {
                            id = syncids_2[_a];
                            this.getMemo(id).then(function (memo) {
                                if (memo) {
                                    _this.emitService.emit("mwxing.calendar.activities.changed", memo);
                                }
                            });
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 服务器发送一个链接,然后客户端进行分享
     * @author ying<343253410@qq.com>
     */
    MemoService.prototype.shareMemo = function (memo) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.assertEmpty(memo); // 入参不能为空
                this.assertEmpty(memo.moi); // 备忘ID不能为空
                //  	let upplan: ShareData = new ShareData();
                //  	upplan.oai = "";
                //  	upplan.ompn = "";
                //  	upplan.c = "";
                //  	//upplan.d.p = memo;
                //  	let shared = await this.shareRestful.share(upplan);
                //  	if (shared)
                //	      return shared.psurl;
                //	    else
                //	      return "";
                return [2 /*return*/];
            });
        });
    };
    /**
     * 备份备忘到服务器
     * @author ying<343253410@qq.com>
     */
    MemoService.prototype.backup = function (bts) {
        return __awaiter(this, void 0, void 0, function () {
            var backupPro, mom, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        backupPro = new __WEBPACK_IMPORTED_MODULE_7__restful_bacsev__["b" /* BackupPro */]();
                        //操作账户ID
                        backupPro.oai = __WEBPACK_IMPORTED_MODULE_8__config_user_config__["b" /* UserConfig */].account.id;
                        //操作手机号码
                        backupPro.ompn = __WEBPACK_IMPORTED_MODULE_8__config_user_config__["b" /* UserConfig */].account.phone;
                        //时间戳
                        backupPro.d.bts = bts;
                        mom = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_mom_tbl__["a" /* MomTbl */]();
                        _a = backupPro.d;
                        return [4 /*yield*/, this.sqlExce.getLstByParam(mom)];
                    case 1:
                        _a.mom = _b.sent();
                        return [4 /*yield*/, this.bacRestful.backup(backupPro)];
                    case 2:
                        _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
   * 恢复备忘
   *
     * @author leon_xi@163.com
   */
    MemoService.prototype.recovery = function (recoveries) {
        this.assertNull(recoveries);
        var sqls = new Array();
        //恢复备忘表
        var memos = recoveries.mom;
        // 删除备忘
        sqls.push(["delete from gtd_mom;", []]);
        // 恢复备份备忘
        for (var _i = 0, memos_2 = memos; _i < memos_2.length; _i++) {
            var memo = memos_2[_i];
            var momdb = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_mom_tbl__["a" /* MomTbl */]();
            Object.assign(momdb, memo);
            sqls.push(momdb.inTParam());
        }
        return sqls;
    };
    MemoService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_7__restful_bacsev__["a" /* BacRestful */],
            __WEBPACK_IMPORTED_MODULE_11__util_service_emit_service__["a" /* EmitService */],
            __WEBPACK_IMPORTED_MODULE_3__util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_6__restful_datasev__["a" /* DataRestful */],
            __WEBPACK_IMPORTED_MODULE_5__restful_shaesev__["d" /* ShaeRestful */]])
    ], MemoService);
    return MemoService;
}(__WEBPACK_IMPORTED_MODULE_1__base_service__["a" /* BaseService */]));

var ObjectType;
(function (ObjectType) {
    ObjectType["Event"] = "event";
    ObjectType["Memo"] = "memo";
    ObjectType["Calendar"] = "calendar";
})(ObjectType || (ObjectType = {}));
//# sourceMappingURL=memo.service.js.map

/***/ }),
/* 86 */,
/* 87 */,
/* 88 */,
/* 89 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ATbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/3/5
 */
var ATbl = (function () {
    function ATbl() {
        this.ai = "";
        this.an = "";
        this.am = "";
        this.ae = "";
        this.at = "";
        this.aq = "";
        this.wtt = 0;
    }
    ATbl.prototype.cT = function () {
        var sq = 'create table if not exists gtd_a(ai varchar(50) primary key,' +
            'an varchar(10),am varchar(11),ae varchar(20) ,at varchar(50) ,aq varchar(100),wtt integer);';
        return sq;
    };
    ATbl.prototype.upT = function () {
        var sq = '';
        if (this.an != null && this.an != "") {
            sq = sq + ', an="' + this.an + '"';
        }
        if (this.am != null && this.am != "") {
            sq = sq + ', am="' + this.am + '"';
        }
        if (this.ae != null && this.ae != "") {
            sq = sq + ', ae="' + this.ae + '"';
        }
        if (this.aq != null && this.aq != "") {
            sq = sq + ', aq="' + this.aq + '"';
        }
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = 'update gtd_a set  ' + sq + ' where ai = "' + this.ai + '";';
        return sq;
    };
    ATbl.prototype.dT = function () {
        var sq = 'delete from gtd_a where 1=1 ';
        if (this.ai != null && this.ai != "") {
            sq = sq + 'and  ai ="' + this.ai + '"';
        }
        sq = sq + ';';
        return sq;
    };
    ATbl.prototype.sloT = function () {
        var sq = 'select * from gtd_a;';
        return sq;
    };
    ATbl.prototype.slT = function () {
        var sq = 'select * from  gtd_a where  1=1 ';
        if (this.ai != null && this.ai != "") {
            sq = sq + ' and ai="' + this.ai + '"';
        }
        if (this.an != null && this.an != "") {
            sq = sq + ' and an="' + this.an + '"';
        }
        if (this.am != null && this.am != "") {
            sq = sq + ' and am="' + this.am + '"';
        }
        if (this.ae != null && this.ae != "") {
            sq = sq + ' and ae="' + this.ae + '"';
        }
        if (this.aq != null && this.aq != "") {
            sq = sq + ' and aq="' + this.aq + '"';
        }
        sq = sq + ';';
        return sq;
    };
    ATbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_a;';
        return sq;
    };
    ATbl.prototype.inT = function () {
        var sq = 'insert into gtd_a ' +
            '(ai,an,am,ae,at,aq,wtt) values("' + this.ai + '","' + this.an + '","' + this.am + '"' +
            ',"' + this.ae + '","' + this.at + '","' + this.aq + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    ATbl.prototype.rpT = function () {
        var sq = 'replace into gtd_a ' +
            '(ai,an,am,ae,at,aq,wtt) values("' + this.ai + '","' + this.an + '","' + this.am + '"' +
            ',"' + this.ae + '","' + this.at + '","' + this.aq + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    ATbl.prototype.preT = function () {
        var sq = 'insert into gtd_a ' +
            '(ai,an,am,ae,at,aq,wtt) values(?, ?, ?, ?, ?, ?,' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    return ATbl;
}());

//# sourceMappingURL=a.tbl.js.map

/***/ }),
/* 90 */,
/* 91 */,
/* 92 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SettingsProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_BehaviorSubject__ = __webpack_require__(160);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_BehaviorSubject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_BehaviorSubject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__data_enum__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_config_data_config__ = __webpack_require__(9);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var SettingsProvider = (function () {
    function SettingsProvider() {
        this.statusbarcolors = new Array();
        //默认初始值
        this.theme = new __WEBPACK_IMPORTED_MODULE_1_rxjs_BehaviorSubject__["BehaviorSubject"]('white-theme');
        this.barColor = new __WEBPACK_IMPORTED_MODULE_1_rxjs_BehaviorSubject__["BehaviorSubject"](__WEBPACK_IMPORTED_MODULE_2__data_enum__["z" /* StatusType */].other);
        this.statusbarcolors.push(__WEBPACK_IMPORTED_MODULE_2__data_enum__["z" /* StatusType */].other);
    }
    SettingsProvider.prototype.setActiveTheme = function (val) {
        //新值
        this.theme.next(val);
    };
    SettingsProvider.prototype.getActiveTheme = function () {
        //观察
        return this.theme.asObservable();
    };
    SettingsProvider.prototype.setStatusBarColor = function (val) {
        //新值
        this.statusbarcolors.push(val);
        this.barColor.next(val);
    };
    SettingsProvider.prototype.getStatusColor = function (val) {
        var ct = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].settins.get(__WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].SYS_THEME).value;
        switch (val) {
            case __WEBPACK_IMPORTED_MODULE_2__data_enum__["z" /* StatusType */].home:
                if (ct == "white-theme") {
                    return "#003542";
                }
                else {
                    return "#003542";
                }
            case __WEBPACK_IMPORTED_MODULE_2__data_enum__["z" /* StatusType */].meun:
                if (ct == "white-theme") {
                    return "#f8f8f8";
                }
                else {
                    return "#0d182a";
                }
            case __WEBPACK_IMPORTED_MODULE_2__data_enum__["z" /* StatusType */].page:
                if (ct == "white-theme") {
                    return "#f8f8f8";
                }
                else {
                    return "#000c1f";
                }
            case __WEBPACK_IMPORTED_MODULE_2__data_enum__["z" /* StatusType */].model:
                if (ct == "white-theme") {
                    return "#000000";
                }
                else {
                    return "#000000";
                }
            case __WEBPACK_IMPORTED_MODULE_2__data_enum__["z" /* StatusType */].other:
                if (ct == "white-theme") {
                    return "#f8f8f8";
                }
                else {
                    return "#f8f8f8";
                }
        }
    };
    SettingsProvider.prototype.popStatusBarColor = function () {
        //新值
        this.statusbarcolors.pop();
        var val = this.statusbarcolors[this.statusbarcolors.length - 1];
        this.barColor.next(val);
    };
    SettingsProvider.prototype.getStatusBarColor = function () {
        //观察
        return this.barColor.asObservable();
    };
    SettingsProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], SettingsProvider);
    return SettingsProvider;
}());

//# sourceMappingURL=settings.js.map

/***/ }),
/* 93 */,
/* 94 */,
/* 95 */,
/* 96 */,
/* 97 */,
/* 98 */,
/* 99 */,
/* 100 */,
/* 101 */,
/* 102 */,
/* 103 */,
/* 104 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LogTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/4/29
 */
var LogTbl = (function () {
    function LogTbl() {
        //访问时间
        this.wtt = 0;
    }
    LogTbl.prototype.cT = function () {
        var sq = "create table if not exists gtd_log(id varchar(50) primary key,\n      su varchar(255) ,ss integer ,t integer, st boolean,er varchar(255), wtt integer);";
        return sq;
    };
    LogTbl.prototype.upT = function () {
        var sq = '';
        return sq;
    };
    LogTbl.prototype.dT = function () {
        var sq = "delete from gtd_log where 1=1 ";
        if (this.id != null && this.id != "") {
            sq = sq + 'and  id ="' + this.id + '"';
        }
        sq = sq + ';';
        return sq;
    };
    LogTbl.prototype.sloT = function () {
        var sq = 'select * from gtd_log;';
        return sq;
    };
    LogTbl.prototype.slT = function () {
        var sq = 'select * from  gtd_log ';
        if (this.su != null && this.su != "") {
            sq = sq + ' and su="' + this.su + '"';
        }
        sq = sq + ';';
        return sq;
    };
    LogTbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_log;';
        return sq;
    };
    LogTbl.prototype.inT = function () {
        var su = this.sqliteEscape(this.su);
        var er = this.sqliteEscape(this.er);
        var sq = "insert into gtd_log (id,su,ss,st,t,er,wtt) values(\"" + this.id + "\",\"" + su + "\"," + this.ss + "," + this.st + "," + this.t + ",\"" + (er ? er : "") + "\"," + __WEBPACK_IMPORTED_MODULE_0_moment__().valueOf() + ");";
        return sq;
    };
    LogTbl.prototype.rpT = function () {
        var sq = 'replace into gtd_log ' +
            '(id,su,ss,st,wtt) values("' + this.id + '","' + this.su + '","' + this.ss + '"' +
            ',"' + this.st + ',' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    LogTbl.prototype.preT = function () {
        var sq = "insert into gtd_log (id,su,ss,st,t,er,wtt) values(?, ?, ?, ?, ?, ?, " + __WEBPACK_IMPORTED_MODULE_0_moment__().valueOf() + ");";
        return sq;
    };
    LogTbl.prototype.sqliteEscape = function (keyword) {
        if (keyword)
            return keyword.replace(/"/g, '""').replace(/'/g, "''");
        else
            return keyword;
    };
    return LogTbl;
}());

//# sourceMappingURL=log.tbl.js.map

/***/ }),
/* 105 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return defaults; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return pickModes; });
var defaults = {
    DATE_FORMAT: 'YYYY-MM-DD',
    COLOR: 'cal-color',
    WEEKS_FORMAT: ["日", "一", "二", "三", "四", "五", "六"],
    MONTH_FORMAT: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月']
};
var pickModes = {
    SINGLE: 'single',
    RANGE: 'range',
    MULTI: 'multi'
};
//# sourceMappingURL=config.js.map

/***/ }),
/* 106 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BaseService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return SortType; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_util__ = __webpack_require__(220);

var BaseService = (function () {
    function BaseService() {
    }
    BaseService.prototype.assertNotEqual = function (src, dest, msg) {
        if (msg === void 0) { msg = "Assert Not Equal Error."; }
        Object(__WEBPACK_IMPORTED_MODULE_0__util_util__["f" /* assertNotEqual */])(src, dest, msg);
    };
    BaseService.prototype.assertEqual = function (src, dest, msg) {
        if (msg === void 0) { msg = "Assert Equal Error."; }
        Object(__WEBPACK_IMPORTED_MODULE_0__util_util__["b" /* assertEqual */])(src, dest, msg);
    };
    BaseService.prototype.assertTrue = function (src, msg) {
        if (msg === void 0) { msg = "Assert True Error."; }
        Object(__WEBPACK_IMPORTED_MODULE_0__util_util__["k" /* assertTrue */])(src, msg);
    };
    BaseService.prototype.assertFalse = function (src, msg) {
        if (msg === void 0) { msg = "Assert False Error."; }
        Object(__WEBPACK_IMPORTED_MODULE_0__util_util__["d" /* assertFalse */])(src, msg);
    };
    BaseService.prototype.assertNotNumber = function (src, msg) {
        if (msg === void 0) { msg = "Assert Not Number Error."; }
        Object(__WEBPACK_IMPORTED_MODULE_0__util_util__["h" /* assertNotNumber */])(src, msg);
    };
    BaseService.prototype.assertNumber = function (src, msg) {
        if (msg === void 0) { msg = "Assert Number Error."; }
        Object(__WEBPACK_IMPORTED_MODULE_0__util_util__["j" /* assertNumber */])(src, msg);
    };
    BaseService.prototype.assertEmpty = function (src, msg) {
        if (msg === void 0) { msg = "Assert Empty Error."; }
        Object(__WEBPACK_IMPORTED_MODULE_0__util_util__["a" /* assertEmpty */])(src, msg);
    };
    BaseService.prototype.assertNotEmpty = function (src, msg) {
        if (msg === void 0) { msg = "Assert Empty Error."; }
        Object(__WEBPACK_IMPORTED_MODULE_0__util_util__["e" /* assertNotEmpty */])(src, msg);
    };
    BaseService.prototype.assertNull = function (src, msg) {
        if (msg === void 0) { msg = "Assert Null Error."; }
        Object(__WEBPACK_IMPORTED_MODULE_0__util_util__["i" /* assertNull */])(src, msg);
    };
    BaseService.prototype.assertNotNull = function (src, msg) {
        if (msg === void 0) { msg = "Assert Null Error."; }
        Object(__WEBPACK_IMPORTED_MODULE_0__util_util__["g" /* assertNotNull */])(src, msg);
    };
    BaseService.prototype.assertFail = function (msg) {
        if (msg === void 0) { msg = "Assert Fail Error."; }
        Object(__WEBPACK_IMPORTED_MODULE_0__util_util__["c" /* assertFail */])(msg);
    };
    return BaseService;
}());

var SortType;
(function (SortType) {
    SortType["ASC"] = "asc";
    SortType["DESC"] = "desc";
})(SortType || (SortType = {}));
//# sourceMappingURL=base.service.js.map

/***/ }),
/* 107 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return ShaeRestful; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return ShareData; });
/* unused harmony export D */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return Plan; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return PlanPa; });
/* unused harmony export PSurl */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BipdshaeData; });
/* unused harmony export SharePro */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_restful_config__ = __webpack_require__(40);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * 计划
 */
var ShaeRestful = (function () {
    function ShaeRestful(request, config) {
        this.request = request;
        this.config = config;
    }
    //计划	计划上传	PU
    ShaeRestful.prototype.share = function (shaeData) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("PU");
            _this.request.post(url, shaeData).then(function (data) {
                //处理返回结果
                resolve(data.d);
            }).catch(function (error) {
                //处理返回错误
                resolve();
            });
        });
    };
    //内建计划下载	BIPD
    ShaeRestful.prototype.downsysname = function (shareData) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("BIPD");
            _this.request.post(url, shareData).then(function (data) {
                //处理返回结果
                resolve(data.d);
            }).catch(function (error) {
                //处理返回错误
                resolve();
            });
        });
    };
    ShaeRestful = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__["a" /* RestfulClient */],
            __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["a" /* RestFulConfig */]])
    ], ShaeRestful);
    return ShaeRestful;
}());

//计划上传入参
var ShareData = (function () {
    function ShareData() {
        //日程
        this.d = new D();
    }
    return ShareData;
}());

var D = (function () {
    function D() {
        this.p = new Plan();
    }
    return D;
}());

var Plan = (function () {
    function Plan() {
        // 计划内日程，复用日程分享实体
        this.pa = new Array();
    }
    return Plan;
}());

//日程
var PlanPa = (function () {
    function PlanPa() {
    }
    return PlanPa;
}());

//计划上传出参
var PSurl = (function () {
    function PSurl() {
        this.psurl = "";
    }
    return PSurl;
}());

//内建计划下载入参
var BipdshaeData = (function () {
    function BipdshaeData() {
        this.oai = ""; //操作帐户ID
        this.ompn = ""; //操作手机号码
        this.c = ""; //上下文（可以为空）
        this.d = new SharePro(); //日程
    }
    return BipdshaeData;
}());

var SharePro = (function () {
    function SharePro() {
        this.pi = ""; //计划ID
    }
    return SharePro;
}());

//# sourceMappingURL=shaesev.js.map

/***/ }),
/* 108 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DataRestful; });
/* unused harmony export SyncDataFields */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return SyncData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return PushInData; });
/* unused harmony export PushOutData */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return PullInData; });
/* unused harmony export PullOutData */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return UploadInData; });
/* unused harmony export UploadOutData */
/* unused harmony export DownloadInData */
/* unused harmony export DownloadOutData */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_restful_config__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__data_enum__ = __webpack_require__(18);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





/**
 * 数据同步操作
 */
var DataRestful = (function () {
    function DataRestful(request, config) {
        this.request = request;
        this.config = config;
    }
    /**
     * http://pluto.guobaa.com/abl/store/local/upload
     * formData: binary
     * username: group
     *
     * {"code":0,"msg":"success","data":9743}
     **/
    DataRestful.prototype.upload = function (upload) {
        return __awaiter(this, void 0, void 0, function () {
            var url, data, result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        url = this.config.getRestFulUrl("SUP");
                        return [4 /*yield*/, this.request.upload(url, upload, upload.filepath, upload.filename)];
                    case 1:
                        data = _a.sent();
                        result = new UploadOutData();
                        if (data) {
                            Object.assign(result, data);
                        }
                        return [2 /*return*/, result];
                }
            });
        });
    };
    /**
     * https://pluto.guobaa.com/abl/store/remote/download
     **/
    DataRestful.prototype.download = function (download) {
        return __awaiter(this, void 0, void 0, function () {
            var url, data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        url = this.config.getRestFulUrl("SDL");
                        return [4 /*yield*/, this.request.download(url, download, download.filepath)];
                    case 1:
                        data = _a.sent();
                        return [2 /*return*/, new DownloadOutData()];
                }
            });
        });
    };
    /**
     * 上传同步数据
     * 同步成功通过MQ返回
     *
     * @author leon_xi@163.com
     **/
    DataRestful.prototype.push = function (params) {
        return __awaiter(this, void 0, void 0, function () {
            var url, data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        url = this.config.getRestFulUrl("SPH");
                        params.mpn = __WEBPACK_IMPORTED_MODULE_3__config_user_config__["b" /* UserConfig */].account.phone;
                        params.name = __WEBPACK_IMPORTED_MODULE_3__config_user_config__["b" /* UserConfig */].account.name;
                        return [4 /*yield*/, this.request.post(url, params)];
                    case 1:
                        data = _a.sent();
                        if (data) {
                            return [2 /*return*/, data.d];
                        }
                        else {
                            return [2 /*return*/, null];
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 拉取同步数据请求
     * 数据通过MQ返回
     *
     * @author leon_xi@163.com
     **/
    DataRestful.prototype.pull = function (params) {
        return __awaiter(this, void 0, void 0, function () {
            var url, data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        url = this.config.getRestFulUrl("SPL");
                        params.mpn = __WEBPACK_IMPORTED_MODULE_3__config_user_config__["b" /* UserConfig */].account.phone;
                        return [4 /*yield*/, this.request.post(url, params)];
                    case 1:
                        data = _a.sent();
                        if (data) {
                            return [2 /*return*/, data.d];
                        }
                        else {
                            return [2 /*return*/, null];
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    DataRestful = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__["a" /* RestfulClient */], __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["a" /* RestFulConfig */]])
    ], DataRestful);
    return DataRestful;
}());

var SyncDataFields = (function () {
    function SyncDataFields() {
        this.unshared = new Array();
    }
    return SyncDataFields;
}());

var SyncData = (function () {
    function SyncData() {
        this.src = ""; // 元数据唯一标识符(修改他人共享给自己的数据进行同步时使用)
        this.main = false; // 是否主数据, 用于判断是否需要通知(重复数据只需要第一条主数据进行通知)
        this.to = new Array(); // 被共享人手机号(可以为空, 表示非共享数据)
        this.security = __WEBPACK_IMPORTED_MODULE_4__data_enum__["A" /* SyncDataSecurity */].None; // None(非共享/多设备间同步), SelfModify(只有发起人可以修改), ShareModify(所有人都可以修改), ShareModifyWithoutSender(共享后发起人本地删除)
        this.todostate = __WEBPACK_IMPORTED_MODULE_4__data_enum__["a" /* CompleteState */].None; // 完成状态
        this.fields = new SyncDataFields();
    }
    return SyncData;
}());

var PushInData = (function () {
    function PushInData() {
        this.d = new Array(); // 需要同步的数据负载
    }
    return PushInData;
}());

var PushOutData = (function () {
    function PushOutData() {
    }
    return PushOutData;
}());

var PullInData = (function () {
    function PullInData() {
        this.d = new Array(); // 需要拉取得数据唯一标识符数组, 可以为空(表示拉取所有未拉取的数据)
    }
    return PullInData;
}());

var PullOutData = (function () {
    function PullOutData() {
    }
    return PullOutData;
}());

var UploadInData = (function () {
    function UploadInData() {
        this.saPrefix = "sas";
        this.username = __WEBPACK_IMPORTED_MODULE_3__config_user_config__["b" /* UserConfig */].account.id;
        this.group = "group";
        this.filename = "file";
    }
    return UploadInData;
}());

var UploadOutData = (function () {
    function UploadOutData() {
    }
    return UploadOutData;
}());

var DownloadInData = (function () {
    function DownloadInData() {
        this.group = "group";
        this.username = __WEBPACK_IMPORTED_MODULE_3__config_user_config__["b" /* UserConfig */].account.id;
    }
    return DownloadInData;
}());

var DownloadOutData = (function () {
    function DownloadOutData() {
    }
    return DownloadOutData;
}());

//# sourceMappingURL=datasev.js.map

/***/ }),
/* 109 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/3/5
 */
var UTbl = (function () {
    function UTbl() {
        this.ui = "";
        this.ai = "";
        this.un = "";
        this.hiu = "";
        this.biy = "";
        this.rn = "";
        this.ic = "";
        this.us = "";
        this.uct = "";
        this.wtt = 0;
    }
    UTbl.prototype.cT = function () {
        var sq = 'create table if not exists gtd_u( ui varchar(50) primary key ,ai varchar(50)  ,' +
            'un varchar(10)  ,hiu varchar(200)  ,biy varchar(10)  ,rn varchar(10)  ,ic varchar(20)  ,' +
            'us varchar(4)  ,uct varchar(11),wtt integer);';
        return sq;
    };
    UTbl.prototype.upT = function () {
        var sq = '';
        if (this.un != null && this.un != "") {
            sq = sq + ', un="' + this.un + '"';
        }
        if (this.hiu != null && this.hiu != "") {
            sq = sq + ', hiu="' + this.hiu + '"';
        }
        if (this.biy != null && this.biy != "") {
            sq = sq + ', biy="' + this.biy + '"';
        }
        if (this.rn != null && this.rn != "") {
            sq = sq + ', rn="' + this.rn + '"';
        }
        if (this.ic != null) {
            sq = sq + ', ic="' + this.ic + '"';
        }
        if (this.us != null && this.us != "") {
            sq = sq + ', us="' + this.us + '"';
        }
        if (this.uct != null) {
            sq = sq + ', uct="' + this.uct + '"';
        }
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = 'update gtd_u set  ' + sq + ' where ui = "' + this.ui + '";';
        return sq;
    };
    UTbl.prototype.dT = function () {
        var sq = 'delete from gtd_u where 1=1 ';
        if (this.ui != null && this.ui != "") {
            sq = sq + 'and  ui ="' + this.ui + '"';
        }
        sq = sq + ';';
        return sq;
    };
    UTbl.prototype.sloT = function () {
        var sq = 'select * from gtd_u where ui = "' + this.ui + '";';
        return sq;
    };
    UTbl.prototype.slT = function () {
        var sq = 'select * from  gtd_u where  1=1 ';
        if (this.hiu != null && this.hiu != "") {
            sq = sq + ' and hiu="' + this.hiu + '"';
        }
        if (this.biy != null && this.biy != "") {
            sq = sq + ' and biy="' + this.biy + '"';
        }
        if (this.rn != null && this.rn != "") {
            sq = sq + ' and rn="' + this.rn + '"';
        }
        if (this.ic != null && this.ic != "") {
            sq = sq + ' and ic="' + this.ic + '"';
        }
        if (this.us != null && this.us != "") {
            sq = sq + ', us="' + this.us + '"';
        }
        if (this.uct != null && this.uct != "") {
            sq = sq + ' and uct="' + this.uct + '"';
        }
        sq = sq + ';';
        return sq;
    };
    UTbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_u;';
        return sq;
    };
    UTbl.prototype.inT = function () {
        var sq = 'insert into gtd_u ' +
            '( ui ,ai ,un ,hiu ,biy ,rn ,ic ,us ,uct,wtt) values("' + this.ui + '","' + this.ai + '","' + this.un + '"' +
            ',"' + this.hiu + '","' + this.biy + '","' + this.rn + '","' + this.ic + '","' + this.us + '","' + this.uct + '"' +
            ',' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    UTbl.prototype.rpT = function () {
        var sq = 'replace into gtd_u ' +
            '( ui ,ai ,un ,hiu ,biy ,rn ,ic ,us ,uct,wtt) values("' + this.ui + '","' + this.ai + '","' + this.un + '"' +
            ',"' + this.hiu + '","' + this.biy + '","' + this.rn + '","' + this.ic + '","' + this.us + '","' + this.uct + '"' +
            ',' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    UTbl.prototype.preT = function () {
        var sq = 'insert into gtd_u ' +
            '( ui ,ai ,un ,hiu ,biy ,rn ,ic ,us ,uct,wtt) values(?, ?, ?, ?, ?, ?, ?, ?, ?, ' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    return UTbl;
}());

//# sourceMappingURL=u.tbl.js.map

/***/ }),
/* 110 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BacRestful; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return BackupPro; });
/* unused harmony export BackupProSub */
/* unused harmony export OutBackupPro */
/* unused harmony export OutTimestampPro */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return RecoverPro; });
/* unused harmony export RecoverProSub */
/* unused harmony export OutRecoverPro */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_restful_config__ = __webpack_require__(40);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * 备份
 */
var BacRestful = (function () {
    function BacRestful(request, config) {
        this.request = request;
        this.config = config;
    }
    // 备份 B
    BacRestful.prototype.backup = function (backupPro) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("B");
            _this.request.post(url, backupPro).then(function (data) {
                //处理返回结果
                resolve(data.d);
            }).catch(function (error) {
                //处理返回错误
                resolve();
            });
        });
    };
    // 恢复 R
    BacRestful.prototype.recover = function (recoverPro) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("R");
            _this.request.post(url, recoverPro).then(function (data) {
                //处理返回结果
                resolve(data.d);
            }).catch(function (error) {
                //处理返回错误
                resolve();
            });
        });
    };
    // 获取日历备份时间戳 BS
    BacRestful.prototype.getlastest = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("BS");
            _this.request.get(url).then(function (data) {
                //处理返回结果
                resolve(data.d);
            }).catch(function (error) {
                //处理返回错误
                resolve();
            });
        });
    };
    BacRestful = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__["a" /* RestfulClient */], __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["a" /* RestFulConfig */]])
    ], BacRestful);
    return BacRestful;
}());

//备份入参
var BackupPro = (function () {
    function BackupPro() {
        //操作帐户ID
        this.oai = "";
        //操作手机号码
        this.ompn = "";
        //上下文
        this.c = "";
        this.d = new BackupProSub();
    }
    return BackupPro;
}());

var BackupProSub = (function () {
    function BackupProSub() {
        //备份时间戳
        this.bts = 0;
        //本地日历数据
        this.c = new Array();
        //获取特殊日历
        this.sp = new Array();
        //获取提醒数据
        this.e = new Array();
        //获取备忘表数据
        this.mo = new Array();
        //获取日程参与人信息
        this.d = new Array();
        //本地联系人数据
        this.b = new Array();
        //获取群组信息
        this.g = new Array();
        //获取群组人员信息
        this.bx = new Array();
        //获取本地计划
        this.jh = new Array();
        //获取本地计划(三期新)
        this.jha = new Array();
        //获取本地日历项(三期新)
        this.jta = new Array();
        //获取用户偏好
        this.y = new Array();
        //新版备忘表数据
        this.mom = new Array();
        //事件表数据
        this.ev = new Array();
        //日程表数据
        this.ca = new Array();
        //任务表数据
        this.tt = new Array();
        //参与人表数据
        this.par = new Array();
        //附件表数据
        this.fj = new Array();
        //分批备份最后一次设为true
        this.commit = false;
    }
    return BackupProSub;
}());

//备份出参
var OutBackupPro = (function () {
    function OutBackupPro() {
        this.bts = "";
    }
    return OutBackupPro;
}());

//获取日历备份时间戳出参
var OutTimestampPro = (function () {
    function OutTimestampPro() {
        this.bts = "";
    }
    return OutTimestampPro;
}());

//还原入参
var RecoverPro = (function () {
    function RecoverPro() {
        //操作帐户ID
        this.oai = "";
        //操作手机号码
        this.ompn = "";
        //上下文
        this.c = "";
        this.d = new RecoverProSub();
    }
    return RecoverPro;
}());

var RecoverProSub = (function () {
    function RecoverProSub() {
        this.bts = 0;
        //恢复表的名称
        this.rdn = ["c", "sp", "e", "mo", "d", "b", "g", "bx", "jh", "y", "mom", "ev", "ca", "tt"];
    }
    return RecoverProSub;
}());

//恢复出参
var OutRecoverPro = (function () {
    function OutRecoverPro() {
        //本地日历数据
        this.c = new Array();
        //获取特殊日历
        this.sp = new Array();
        //获取提醒数据
        this.e = new Array();
        //获取备忘数据
        this.mo = new Array();
        //获取日程参与人信息
        this.d = new Array();
        //本地联系人数据
        this.b = new Array();
        //获取群组信息
        this.g = new Array();
        //获取群组人员信息
        this.bx = new Array();
        //获取本地计划
        this.jh = new Array();
        //获取本地计划(三期新)
        this.jha = new Array();
        //获取本地日历项(三期新)
        this.jta = new Array();
        //用户偏好
        this.y = new Array();
        //新版备忘表数据
        this.mom = new Array();
        //事件表数据
        this.ev = new Array();
        //日程表数据
        this.ca = new Array();
        //任务表数据
        this.tt = new Array();
        //参与人表数据
        this.par = new Array();
        //附件表数据
        this.fj = new Array();
    }
    return OutRecoverPro;
}());

//# sourceMappingURL=bacsev.js.map

/***/ }),
/* 111 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return AgdRestful; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AgdPro; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return ContactPerPro; });
/* unused harmony export SharePro */
/* unused harmony export ShareProSub */
/* unused harmony export OutSharePro */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_restful_config__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__data_enum__ = __webpack_require__(18);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/**
 * 日程操作
 */
var AgdRestful = (function () {
    function AgdRestful(request, config) {
        this.request = request;
        this.config = config;
    }
    //日程保存 AS
    AgdRestful.prototype.save = function (adgPro) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("AS");
            _this.request.post(url, adgPro).then(function (data) {
                //处理返回结果
                resolve(data.d);
            }).catch(function (error) {
                //处理返回错误
                resolve(__WEBPACK_IMPORTED_MODULE_3__data_enum__["e" /* Err */].netbroken);
            });
        });
    };
    //日程参与人保存 ACS
    AgdRestful.prototype.contactssave = function (adgPro) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("ACS");
            _this.request.post(url, adgPro).then(function (data) {
                //处理返回结果
                resolve(data.d);
            }).catch(function (error) {
                resolve();
            });
        });
    };
    //日程获取 AG
    AgdRestful.prototype.get = function (adgPro) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("AG");
            _this.request.post(url, adgPro).then(function (data) {
                //处理返回结果
                resolve(data.d);
            }).catch(function (error) {
                //处理返回错误
                resolve();
            });
        });
    };
    //日程删除 AR
    AgdRestful.prototype.remove = function (adgPro) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("AR");
            _this.request.post(url, adgPro).then(function (data) {
                //处理返回结果
                resolve(data.d);
            }).catch(function (error) {
                //处理返回错误
                resolve();
            });
        });
    };
    //日程转发(分享)上传 ASU
    AgdRestful.prototype.share = function (sharePro) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("ASU");
            _this.request.post(url, sharePro).then(function (data) {
                //处理返回结果
                // bsModel.code = data.rc;
                // bsModel.message = data.rm;
                // bsModel.data = data.d;
                resolve(data.d);
            }).catch(function (error) {
                //处理返回错误
                resolve();
            });
        });
    };
    //测试缓存
    //日程转发(分享)上传 ASU
    AgdRestful.prototype.cachefromserver = function (ctbl) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("CC");
            var ag = {};
            ag.d = ctbl;
            _this.request.post(url, ag).then(function (data) {
                //处理返回结果
                resolve(data.d);
            }).catch(function (error) {
                //处理返回错误
                resolve();
            });
        });
    };
    AgdRestful = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__["a" /* RestfulClient */], __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["a" /* RestFulConfig */]])
    ], AgdRestful);
    return AgdRestful;
}());

//日程
var AgdPro = (function () {
    function AgdPro() {
        //参与人
        this.ac = new Array();
    }
    return AgdPro;
}());

//参与人
var ContactPerPro = (function () {
    function ContactPerPro() {
        //帐户ID
        this.ai = "";
        //手机号码
        this.mpn = "";
        //姓名
        this.n = "";
        //头像
        this.a = "";
        //性别
        this.s = "";
        //生日
        this.bd = "";
    }
    return ContactPerPro;
}());

//日程分享
var SharePro = (function () {
    function SharePro() {
        //操作帐户ID
        this.oai = "";
        //操作手机号码
        this.ompn = "";
        //上下文（可以为空）
        this.c = "";
        //日程
        this.d = new ShareProSub();
    }
    return SharePro;
}());

var ShareProSub = (function () {
    function ShareProSub() {
        this.a = new AgdPro();
    }
    return ShareProSub;
}());

var OutSharePro = (function () {
    function OutSharePro() {
        this.asurl = "";
    }
    return OutSharePro;
}());

//# sourceMappingURL=agdsev.js.map

/***/ }),
/* 112 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SyncRestful; });
/* unused harmony export TriggerTask */
/* unused harmony export SybcData */
/* unused harmony export Apil */
/* unused harmony export Bipl */
/* unused harmony export Dpfu */
/* unused harmony export Vrs */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_restful_config__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__util_crypto_util__ = __webpack_require__(852);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






/**
 * 系统
 */
var SyncRestful = (function () {
    // 内网测试版
    //private initDataUrl: string = "https://www.guobaa.com/ini/parameters?debug=true";
    // 开发版
    //private initDataUrl: string = "https://www.guobaa.com/ini/parameters?tag=mwxing";
    function SyncRestful(request, config, uitl) {
        this.request = request;
        this.config = config;
        this.uitl = uitl;
        // 预览版
        this.initDataUrl = "https://www.guobaa.com/ini/parameters";
    }
    //天气服务 每小时天气预报
    SyncRestful.prototype.putHourlyWeather = function (userId) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var task = new TriggerTask();
            task.saName = "任务调度触发器";
            task.saPrefix = "cdc";
            task.taskId = "pluto_" + userId + "_hourly_weather_notification";
            task.taskType = "QUARTZ";
            task.taskName = "每小时天气预报";
            var taskRunAt = {
                eventId: "QUARTZ_CRON_1H",
                filters: []
            };
            task.taskRunAt = JSON.stringify(taskRunAt);
            var triggerurl = _this.config.getRestFulUrl("HWT");
            var taskRunWith = {
                url: triggerurl.url,
                payload: {
                    userId: userId
                }
            };
            task.taskRunWith = JSON.stringify(taskRunWith);
            var url = _this.config.getRestFulUrl("EDTTS");
            _this.request.post(url, task).then(function (data) {
                //处理返回结果
                resolve(data.data);
            }).catch(function (error) {
                //处理返回错误
                reject(error);
            });
        });
    };
    //事件提醒
    // data {
    //   datatype: "Plan | PlanItem | Agenda | Task | MiniTask | Memo"
    //   datas: [
    //     {
    //        phoneno: "当前用户的手机号码",
    //        id: "数据唯一识别符"
    //     }
    //   ]
    // }
    SyncRestful.prototype.putScheduledRemind = function (userId, id, wd, wt, data, active) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            // 事件提醒任务注册
            var task = new TriggerTask();
            task.saName = "任务调度触发器";
            task.saPrefix = "cdc";
            task.taskId = "pluto_" + userId + "_remind_" + id;
            task.taskType = "QUARTZ";
            task.taskName = "计划事件提醒";
            var choosetime = __WEBPACK_IMPORTED_MODULE_4_moment__(wd + " " + wt, "YYYY/MM/DD HH:mm");
            var taskRunAt = {
                eventId: "QUARTZ_CRON_5M",
                filters: [
                    { name: "yyyy", value: choosetime.format("YYYY") },
                    { name: "MM", value: choosetime.format("MM") },
                    { name: "dd", value: choosetime.format("DD") },
                    { name: "HH", value: choosetime.format("HH") },
                    { name: "mm", value: choosetime.format("mm") }
                ]
            };
            if (!active) {
                taskRunAt.filters.push({
                    name: "active", value: "false"
                });
            }
            task.taskRunAt = JSON.stringify(taskRunAt);
            var triggerurl = _this.config.getRestFulUrl("SRT");
            var taskRunWith = {
                url: triggerurl.url,
                payload: {
                    userId: userId,
                    remind: data
                }
            };
            task.taskRunWith = JSON.stringify(taskRunWith);
            var url = _this.config.getRestFulUrl("EDTTS");
            _this.request.post(url, task).then(function (data) {
                //处理返回结果
                resolve(data.data);
            }).catch(function (error) {
                //处理返回错误
                reject(error);
            });
        });
    };
    //智能提醒 每日简报
    SyncRestful.prototype.putDailySummary = function (userId, timestamp, active) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            //每日简报任务注册
            var task = new TriggerTask();
            task.saName = "任务调度触发器";
            task.saPrefix = "cdc";
            task.taskId = "pluto_" + userId + "_daily_summary_notification";
            task.taskType = "QUARTZ";
            task.taskName = "每日简报";
            var choosetime = __WEBPACK_IMPORTED_MODULE_4_moment__(timestamp);
            var taskRunAt = {
                eventId: "QUARTZ_CRON_5M",
                filters: [
                    { name: "HH", value: choosetime.format("HH") },
                    { name: "mm", value: choosetime.format("mm") }
                ]
            };
            if (!active) {
                taskRunAt.filters.push({
                    name: "active", value: "false"
                });
            }
            task.taskRunAt = JSON.stringify(taskRunAt);
            var triggerurl = _this.config.getRestFulUrl("DRT");
            var taskRunWith = {
                url: triggerurl.url,
                payload: {
                    userId: userId
                }
            };
            task.taskRunWith = JSON.stringify(taskRunWith);
            var url = _this.config.getRestFulUrl("EDTTS");
            _this.request.post(url, task).then(function (data) {
                //处理返回结果
                resolve(data.data);
            }).catch(function (error) {
                //处理返回错误
                reject(error);
            });
        });
    };
    //智能提醒 项目跟进 - GitHub
    SyncRestful.prototype.putFollowGitHub = function (userId, secret, timestamp, active) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            //每日简报任务注册
            var task = new TriggerTask();
            var observer = Object(__WEBPACK_IMPORTED_MODULE_5__util_crypto_util__["a" /* getSha1SafeforBrowser */])(userId);
            task.saName = "任务调度触发器";
            task.saPrefix = "cdc";
            task.taskId = "pluto_" + userId + "_follow_webhook_github_notification";
            task.taskType = "WEBHOOK";
            task.taskName = "github webhook";
            var choosetime = __WEBPACK_IMPORTED_MODULE_4_moment__(timestamp);
            var taskRunAt = {
                eventId: "WEBHOOK_GITHUB",
                filters: [
                    { name: "webhook", value: "github" },
                    { name: "observer", value: observer },
                    { name: "secret", value: secret }
                ]
            };
            if (!active) {
                taskRunAt.filters.push({
                    name: "active", value: "false"
                });
            }
            task.taskRunAt = JSON.stringify(taskRunAt);
            var triggerurl = _this.config.getRestFulUrl("WHK");
            var taskRunWith = {
                url: triggerurl.url,
                payload: {
                    userId: userId,
                    webhook: 'github',
                    observer: observer,
                    secret: secret
                }
            };
            task.taskRunWith = JSON.stringify(taskRunWith);
            var url = _this.config.getRestFulUrl("EDTTS");
            _this.request.post(url, task).then(function (data) {
                //处理返回结果
                resolve(data.data);
            }).catch(function (error) {
                //处理返回错误
                reject(error);
            });
        });
    };
    //智能提醒 项目跟进共享 - GitHub
    SyncRestful.prototype.putFollowGitHubShare = function (shareTo, identify, userId, secret, timestamp, active) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            //每日简报任务注册
            var task = new TriggerTask();
            var observer = Object(__WEBPACK_IMPORTED_MODULE_5__util_crypto_util__["a" /* getSha1SafeforBrowser */])(userId);
            task.saName = "任务调度触发器";
            task.saPrefix = "cdc";
            task.taskId = "pluto_" + userId + "_shareto_" + shareTo + "_follow_webhook_github_notification";
            task.taskType = "WEBHOOK_FORWARD";
            task.taskName = "github webhook";
            var choosetime = __WEBPACK_IMPORTED_MODULE_4_moment__(timestamp);
            var taskRunAt = {
                eventId: "WEBHOOK_GITHUB",
                filters: [
                    { name: "webhook", value: "github" },
                    { name: "observer", value: observer },
                    { name: "secret", value: secret },
                    { name: "repository", value: identify }
                ]
            };
            if (!active) {
                taskRunAt.filters.push({
                    name: "active", value: "false"
                });
            }
            task.taskRunAt = JSON.stringify(taskRunAt);
            var triggerurl = _this.config.getRestFulUrl("WHK");
            var taskRunWith = {
                url: triggerurl.url,
                payload: {
                    from: userId,
                    userId: shareTo,
                    webhook: 'github',
                    observer: observer,
                    secret: secret
                }
            };
            task.taskRunWith = JSON.stringify(taskRunWith);
            var url = _this.config.getRestFulUrl("EDTTS");
            _this.request.post(url, task).then(function (data) {
                //处理返回结果
                resolve(data.data);
            }).catch(function (error) {
                //处理返回错误
                reject(error);
            });
        });
    };
    //智能提醒 项目跟进 - Travis CI
    SyncRestful.prototype.putFollowTravisCI = function (userId, timestamp, active) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            //每日简报任务注册
            var task = new TriggerTask();
            var observer = Object(__WEBPACK_IMPORTED_MODULE_5__util_crypto_util__["a" /* getSha1SafeforBrowser */])(userId);
            task.saName = "任务调度触发器";
            task.saPrefix = "cdc";
            task.taskId = "pluto_" + userId + "_follow_webhook_travisci_notification";
            task.taskType = "WEBHOOK";
            task.taskName = "travis-ci webhook";
            var choosetime = __WEBPACK_IMPORTED_MODULE_4_moment__(timestamp);
            var taskRunAt = {
                eventId: "WEBHOOK_TRAVIS-CI",
                filters: [
                    { name: "webhook", value: "travis-ci" },
                    { name: "observer", value: observer }
                ]
            };
            if (!active) {
                taskRunAt.filters.push({
                    name: "active", value: "false"
                });
            }
            task.taskRunAt = JSON.stringify(taskRunAt);
            var triggerurl = _this.config.getRestFulUrl("WHK");
            var taskRunWith = {
                url: triggerurl.url,
                payload: {
                    userId: userId,
                    webhook: 'travis-ci',
                    observer: observer
                }
            };
            task.taskRunWith = JSON.stringify(taskRunWith);
            var url = _this.config.getRestFulUrl("EDTTS");
            _this.request.post(url, task).then(function (data) {
                //处理返回结果
                resolve(data.data);
            }).catch(function (error) {
                //处理返回错误
                reject(error);
            });
        });
    };
    //智能提醒 项目跟进 - fir.im
    SyncRestful.prototype.putFollowFirIM = function (userId, timestamp, active) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            //每日简报任务注册
            var task = new TriggerTask();
            var observer = Object(__WEBPACK_IMPORTED_MODULE_5__util_crypto_util__["a" /* getSha1SafeforBrowser */])(userId);
            task.saName = "任务调度触发器";
            task.saPrefix = "cdc";
            task.taskId = "pluto_" + userId + "_follow_webhook_fir.im_notification";
            task.taskType = "WEBHOOK";
            task.taskName = "fir.im webhook";
            var choosetime = __WEBPACK_IMPORTED_MODULE_4_moment__(timestamp);
            var taskRunAt = {
                eventId: "WEBHOOK_FIR.IM",
                filters: [
                    { name: "webhook", value: "fir.im" },
                    { name: "observer", value: observer }
                ]
            };
            if (!active) {
                taskRunAt.filters.push({
                    name: "active", value: "false"
                });
            }
            task.taskRunAt = JSON.stringify(taskRunAt);
            var triggerurl = _this.config.getRestFulUrl("WHK");
            var taskRunWith = {
                url: triggerurl.url,
                payload: {
                    userId: userId,
                    webhook: 'fir.im',
                    observer: observer
                }
            };
            task.taskRunWith = JSON.stringify(taskRunWith);
            var url = _this.config.getRestFulUrl("EDTTS");
            _this.request.post(url, task).then(function (data) {
                //处理返回结果
                resolve(data.data);
            }).catch(function (error) {
                //处理返回错误
                reject(error);
            });
        });
    };
    //智能提醒 项目跟进 - fir.im
    SyncRestful.prototype.putFollowFirIMShare = function (shareTo, identify, userId, timestamp, active) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            //每日简报任务注册
            var task = new TriggerTask();
            var observer = Object(__WEBPACK_IMPORTED_MODULE_5__util_crypto_util__["a" /* getSha1SafeforBrowser */])(userId);
            task.saName = "任务调度触发器";
            task.saPrefix = "cdc";
            task.taskId = "pluto_" + userId + "_shareto_" + shareTo + "_follow_webhook_fir.im_notification";
            task.taskType = "WEBHOOK_FORWARD";
            task.taskName = "fir.im webhook";
            var choosetime = __WEBPACK_IMPORTED_MODULE_4_moment__(timestamp);
            var taskRunAt = {
                eventId: "WEBHOOK_FIR.IM",
                filters: [
                    { name: "webhook", value: "fir.im" },
                    { name: "observer", value: observer },
                    { name: "link", value: identify }
                ]
            };
            if (!active) {
                taskRunAt.filters.push({
                    name: "active", value: "false"
                });
            }
            task.taskRunAt = JSON.stringify(taskRunAt);
            var triggerurl = _this.config.getRestFulUrl("WHK");
            var taskRunWith = {
                url: triggerurl.url,
                payload: {
                    from: userId,
                    userId: shareTo,
                    webhook: 'fir.im',
                    observer: observer
                }
            };
            task.taskRunWith = JSON.stringify(taskRunWith);
            var url = _this.config.getRestFulUrl("EDTTS");
            _this.request.post(url, task).then(function (data) {
                //处理返回结果
                resolve(data.data);
            }).catch(function (error) {
                //处理返回错误
                reject(error);
            });
        });
    };
    //初始化数据 ID
    SyncRestful.prototype.initData = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var header = new __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["b" /* RestFulHeader */]();
            header.di = _this.uitl.deviceId();
            header.dt = _this.uitl.deviceType();
            //设别类型
            _this.request.specPost(__WEBPACK_IMPORTED_MODULE_2__config_restful_config__["a" /* RestFulConfig */].INIT_DATA_URL, header, {}).then(function (reps) {
                var data = reps.d;
                resolve(data);
            });
        });
    };
    SyncRestful = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__["a" /* RestfulClient */],
            __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["a" /* RestFulConfig */],
            __WEBPACK_IMPORTED_MODULE_3__util_service_util_service__["a" /* UtilService */]])
    ], SyncRestful);
    return SyncRestful;
}());

var TriggerTask = (function () {
    function TriggerTask() {
        this.saName = ""; //应用名称
        this.saPrefix = ""; //应用前缀   主键
        this.taskId = ""; //任务ID     主键
        this.taskType = ""; //任务类型
        this.taskName = ""; //任务名称
        this.taskRunAt = "{}"; //任务运行条件 json string
        this.taskRunWith = "{}"; //任务运行变量 json string
    }
    return TriggerTask;
}());

var SybcData = (function () {
    function SybcData() {
    }
    return SybcData;
}());

var Apil = (function () {
    function Apil() {
    }
    return Apil;
}());

var Bipl = (function () {
    function Bipl() {
    }
    return Bipl;
}());

var Dpfu = (function () {
    function Dpfu() {
    }
    return Dpfu;
}());

var Vrs = (function () {
    function Vrs() {
    }
    return Vrs;
}());

//# sourceMappingURL=syncsev.js.map

/***/ }),
/* 113 */,
/* 114 */,
/* 115 */,
/* 116 */,
/* 117 */,
/* 118 */,
/* 119 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ETbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/3/5
 */
var ETbl = (function () {
    function ETbl() {
        this.wi = "";
        this.si = "";
        this.st = "";
        this.wd = "";
        this.wt = "";
    }
    ETbl.prototype.cT = function () {
        var sq = 'create table if not exists gtd_e(  wi varchar(50) primary key ,si varchar(50)  ,' +
            'st varchar(50)  ,wd varchar(20)  ,wt varchar(20) ,wtt integer);';
        return sq;
    };
    ETbl.prototype.upT = function () {
        var sq = '';
        if (this.si != null && this.si != "") {
            sq = sq + ', si="' + this.si + '"';
        }
        if (this.st != null && this.st != "") {
            sq = sq + ', st="' + this.st + '"';
        }
        if (this.wd != null && this.wd != "") {
            sq = sq + ', wd="' + this.wd + '"';
        }
        if (this.wt != null && this.wt != "") {
            sq = sq + ', wt="' + this.wt + '"';
        }
        sq = sq + ', wtt=' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix();
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = 'update gtd_e set  ' + sq + ' where wi = "' + this.wi + '";';
        return sq;
    };
    ETbl.prototype.dT = function () {
        var sq = 'delete from gtd_e where 1=1 ';
        if (this.wi != null && this.wi != "") {
            sq = sq + 'and  wi ="' + this.wi + '"';
        }
        if (this.si != null && this.si != "") {
            sq = sq + 'and  si ="' + this.si + '"';
        }
        sq = sq + ';';
        return sq;
    };
    ETbl.prototype.sloT = function () {
        var sq = 'select * from gtd_e where wi = "' + this.wi + '";';
        return sq;
    };
    ETbl.prototype.slT = function () {
        var sq = 'select * from  gtd_e where  1=1 ';
        if (this.si != null && this.si != "") {
            sq = sq + ' and si="' + this.si + '"';
        }
        if (this.st != null && this.st != "") {
            sq = sq + ' and st="' + this.st + '"';
        }
        if (this.wd != null && this.wd != "") {
            sq = sq + ' and wd="' + this.wd + '"';
        }
        if (this.wt != null && this.wt != "") {
            sq = sq + ' and wt="' + this.wt + '"';
        }
        sq = sq + ';';
        return sq;
    };
    ETbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_e;';
        return sq;
    };
    ETbl.prototype.inT = function () {
        var sq = 'insert into gtd_e ' +
            '(  wi ,si ,st ,wd ,wt,wtt) values("' + this.wi + '","' + this.si + '","' + this.st + '"' +
            ',"' + this.wd + '","' + this.wt + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    ETbl.prototype.rpT = function () {
        var sq = 'replace into gtd_e ' +
            '(  wi ,si ,st ,wd ,wt,wtt) values("' + this.wi + '","' + this.si + '","' + this.st + '"' +
            ',"' + this.wd + '","' + this.wt + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    ETbl.prototype.preT = function () {
        var sq = 'insert into gtd_e ' +
            '(  wi ,si ,st ,wd ,wt,wtt) values(?, ?, ?, ?, ?,' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    return ETbl;
}());

//# sourceMappingURL=e.tbl.js.map

/***/ }),
/* 120 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotificationsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ionic_native_local_notifications__ = __webpack_require__(546);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_badge__ = __webpack_require__(547);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__util_service_remind_service__ = __webpack_require__(548);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__data_mapping__ = __webpack_require__(20);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









/**
 * 系统设置方法类
 *
 * create by wzy on 2019/01/29
 */
var NotificationsService = (function () {
    function NotificationsService(localNotifications, badge, util, remindService, emitService) {
        var _this = this;
        this.localNotifications = localNotifications;
        this.badge = badge;
        this.util = util;
        this.remindService = remindService;
        this.emitService = emitService;
        this.index = 0;
        if (this.util.isMobile()) {
            //提醒回馈处理 5分钟
            this.localNotifications.on('five').subscribe(function (next) {
                _this.localNotifications.get(next.id).then(function (notifi) {
                    var reDate = __WEBPACK_IMPORTED_MODULE_3_moment__().add(5, "m");
                    notifi.trigger = { at: reDate.toDate() };
                    _this.localNotifications.schedule(notifi);
                });
                //this.localNotifications.clear(next.id);
                //this.localNotifications.cancel(next.id);
            });
            //提醒回馈处理 10分钟
            this.localNotifications.on('ten').subscribe(function (next) {
                _this.localNotifications.get(next.id).then(function (notifi) {
                    var reDate = __WEBPACK_IMPORTED_MODULE_3_moment__().add(10, "m");
                    notifi.trigger = { at: reDate.toDate() };
                    _this.localNotifications.schedule(notifi);
                });
            });
            //提醒回馈处理 15分钟
            this.localNotifications.on('tenfive').subscribe(function (next) {
                _this.localNotifications.get(next.id).then(function (notifi) {
                    var reDate = __WEBPACK_IMPORTED_MODULE_3_moment__().add(15, "m");
                    notifi.trigger = { at: reDate.toDate() };
                    _this.localNotifications.schedule(notifi);
                });
            });
            //提醒回馈处理 关闭
            this.localNotifications.on('close').subscribe(function (next) {
                _this.localNotifications.clear(next.id);
            });
            //提醒回馈处理 关闭
            this.localNotifications.on('schedule').subscribe(function (next) {
            });
            //提醒回馈处理 关闭
            this.localNotifications.on('update').subscribe(function (next) {
            });
            //提醒回馈处理 关闭
            this.localNotifications.on('cancel').subscribe(function (next) {
            });
            //提醒回馈处理 关闭
            this.localNotifications.on('cancelall').subscribe(function (next) {
            });
            this.localNotifications.on('click').subscribe(function (next) {
                //跳转到界面处理
                _this.emitPage(next);
            });
            this.localNotifications.on('clear').subscribe(function (next) {
                _this.localNotifications.clear(next.id);
            });
            this.localNotifications.on('clearAll').subscribe(function (next) {
            });
            this.localNotifications.on('trigger').subscribe(function (next) {
                if (next.data.type == "schedule") {
                    _this.schedule();
                    _this.remindService.getRemindLs().then(function (data) {
                        if (data.length == 0)
                            return;
                        _this.remind(data);
                        _this.remindService.delRemin(data);
                    });
                }
                //自定定时启动防止后台js不执行
                if (next.data.type == "keeplive") {
                    _this.keeplive();
                }
                if (_this.index > 99999)
                    _this.index = 0;
            });
        }
    }
    NotificationsService.prototype.emitPage = function (next) {
        if (next.data.type == "newSms") {
            var scd = new __WEBPACK_IMPORTED_MODULE_8__data_mapping__["q" /* ScdData */]();
            scd = next.data.val;
            var emMessage = new __WEBPACK_IMPORTED_MODULE_7__util_service_emit_service__["c" /* ScdEmData */]();
            emMessage.id = scd.si;
            emMessage.d = scd.sd;
            this.emitService.emitNewMessageClick(emMessage);
            this.localNotifications.clear(next.id);
        }
        if (next.data.type == "newMessage") {
            var data = next.data.val;
            var eventhandler = data ? data.eventhandler : "";
            if (eventhandler) {
                this.emitService.emit(eventhandler, data);
            }
            this.localNotifications.clear(next.id);
        }
    };
    NotificationsService.prototype.badgeDecrease = function () {
        if (this.util.isMobile())
            this.badge.increase(-1);
    };
    NotificationsService.prototype.badgeClear = function () {
        if (this.util.isMobile()) {
            this.badge.clear();
            this.localNotifications.clearAll();
        }
    };
    NotificationsService.prototype.newSms = function (scd) {
        //通知栏消息
        var notif = new MwxNewMessage();
        notif.id = this.index++;
        notif.title = __WEBPACK_IMPORTED_MODULE_3_moment__(scd.sd).format("YYYY-MM-DD ") + " " + this.util.adStrShow(scd.st);
        notif.text = (scd.fs ? scd.fs.ran + ":" : "") + scd.sn;
        notif.data = { type: "newSms", val: scd };
        //notif.trigger = {at:new Date()}
        if (this.util.isMobile()) {
            this.badge.increase(1);
            this.localNotifications.schedule(notif);
            this.emitService.emitRef(scd.sd);
        }
    };
    NotificationsService.prototype.newMessage = function (title, text, data) {
        //非日程通知栏消息
        var notif = new MwxNewMessage();
        notif.id = this.index++;
        notif.title = title;
        notif.text = text;
        notif.data = { type: "newMessage", val: data };
        if (this.util.isMobile()) {
            this.badge.increase(1);
            this.localNotifications.schedule(notif);
        }
    };
    NotificationsService.prototype.schedule = function () {
        var notif = new MwxSchedule();
        notif.id = this.index++;
        notif.trigger = { in: __WEBPACK_IMPORTED_MODULE_6__config_data_config__["a" /* DataConfig */].REINTERVAL, unit: __WEBPACK_IMPORTED_MODULE_1__ionic_native_local_notifications__["a" /* ELocalNotificationTriggerUnit */].SECOND };
        notif.data = { type: "schedule" };
        this.localNotifications.schedule(notif);
    };
    NotificationsService.prototype.keeplive = function () {
        var notif = new MwxSchedule();
        notif.id = this.index++;
        notif.trigger = { in: 60, unit: __WEBPACK_IMPORTED_MODULE_1__ionic_native_local_notifications__["a" /* ELocalNotificationTriggerUnit */].SECOND };
        notif.data = { type: "keeplive" };
        this.localNotifications.schedule(notif);
    };
    NotificationsService.prototype.remind = function (reData) {
        var notif = new MwxRemind();
        notif.id = this.index++;
        notif.data = { type: "remind", val: reData };
        var text = "";
        for (var _i = 0, reData_1 = reData; _i < reData_1.length; _i++) {
            var e = reData_1[_i];
            text = text + e.st + "\r\n";
        }
        notif.text = text;
        notif.title = "【冥王星】活动提醒";
        notif.actions = [
            { id: 'close', title: '知道了' },
            { id: 'five', title: '5分钟后' },
            { id: 'ten', title: '10分钟后' },
            { id: 'tenfive', title: '15分钟后' }
        ];
        if (this.util.isMobile())
            this.localNotifications.schedule(notif);
    };
    NotificationsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__ionic_native_local_notifications__["b" /* LocalNotifications */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_badge__["a" /* Badge */],
            __WEBPACK_IMPORTED_MODULE_4__util_service_util_service__["a" /* UtilService */], __WEBPACK_IMPORTED_MODULE_5__util_service_remind_service__["a" /* RemindService */],
            __WEBPACK_IMPORTED_MODULE_7__util_service_emit_service__["a" /* EmitService */]])
    ], NotificationsService);
    return NotificationsService;
}());

var MwxNewMessage = (function () {
    function MwxNewMessage() {
        this.autoClear = true;
        this.channel = "cn.sh.com.xj.timeApp";
        this.clock = true;
        this.foreground = true;
        this.group = "【冥王星】收到活动";
        this.groupSummary = true;
        this.icon = "file://assets/icon/drawable-icon.png";
        this.launch = true;
        this.lockscreen = true;
        this.vibrate = true;
        this.wakeup = true;
    }
    return MwxNewMessage;
}());
var MwxRemind = (function () {
    function MwxRemind() {
        this.autoClear = true;
        this.channel = "cn.sh.com.xj.timeApp.remind";
        this.foreground = true;
        this.group = "【冥王星】活动提醒";
        this.groupSummary = true;
        this.launch = true;
        this.lockscreen = true;
        this.sound = "file://assets/feedback/remind.mp3";
        this.sticky = true;
        this.vibrate = true;
        this.wakeup = true;
    }
    return MwxRemind;
}());
var MwxSchedule = (function () {
    function MwxSchedule() {
        this.autoClear = true;
        this.channel = "cn.sh.com.xj.timeApp";
        this.foreground = true;
        this.groupSummary = false;
        this.icon = "file://assets/icon/drawable-icon.png";
        this.launch = true;
        this.lockscreen = false;
        this.silent = true;
        this.vibrate = false;
        this.wakeup = false;
    }
    return MwxSchedule;
}());
//# sourceMappingURL=notifications.service.js.map

/***/ }),
/* 121 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GlService; });
/* unused harmony export PageGlData */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_config_user_config__ = __webpack_require__(8);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var GlService = (function () {
    function GlService() {
    }
    //获取本地群列表
    GlService.prototype.getGroups = function (name) {
        if (name)
            return __WEBPACK_IMPORTED_MODULE_1__service_config_user_config__["b" /* UserConfig */].groups.filter(function (value) {
                return value.gn.indexOf(name) > -1 || value.gnpy.indexOf(name) > -1;
            });
        else
            return __WEBPACK_IMPORTED_MODULE_1__service_config_user_config__["b" /* UserConfig */].groups;
    };
    GlService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], GlService);
    return GlService;
}());

var PageGlData = (function () {
    function PageGlData() {
        this.gl = new Array(); //群组成员
    }
    return PageGlData;
}());

//# sourceMappingURL=gl.service.js.map

/***/ }),
/* 122 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_restful_personsev__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_sqlite_tbl_u_tbl__ = __webpack_require__(109);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_sqlite_tbl_a_tbl__ = __webpack_require__(89);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var PsService = (function () {
    function PsService(personRestful, sqlExec, userConfig) {
        this.personRestful = personRestful;
        this.sqlExec = sqlExec;
        this.userConfig = userConfig;
    }
    PsService.prototype.findPerson = function (uid) {
        return __awaiter(this, void 0, void 0, function () {
            var data, uTbl;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.personRestful.getself(uid)];
                    case 1:
                        data = _a.sent();
                        uTbl = new __WEBPACK_IMPORTED_MODULE_3__service_sqlite_tbl_u_tbl__["a" /* UTbl */]();
                        uTbl.ai = data.openid; //openid
                        uTbl.ui = data.unionid; //unionid
                        uTbl.un = data.nickname; //用户名（昵称）
                        uTbl.rn = data.name == undefined || data.name == "" ? data.nickname : data.name; //真实姓名
                        uTbl.us = data.sex == undefined || data.sex == "" ? "0" : data.sex; //性别
                        uTbl.biy = data.birthday == undefined || data.birthday == "" ? "" : data.birthday; //出生日期
                        uTbl.ic = data.ic == undefined || data.ic == "" ? "" : data.ic; //身份证
                        uTbl.uct = data.contact == undefined || data.contact == "" ? "" : data.contact; //  联系方式
                        uTbl.hiu = data.avatarbase64; //头像
                        return [4 /*yield*/, this.sqlExec.update(uTbl)];
                    case 2:
                        _a.sent();
                        //刷新用户静态变量设置
                        return [4 /*yield*/, this.userConfig.RefreshUTbl()];
                    case 3:
                        //刷新用户静态变量设置
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    //保存用户信息
    PsService.prototype.saveUser = function (id, inData) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.personRestful.updateself(inData, id).then(function (data) {
                resolve(data);
            }).catch(function (error) {
                resolve(error);
            });
        });
    };
    //修改密码
    PsService.prototype.editPass = function (pw, unionid) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            //restFul更新用户密码（服务器更新token并返回，清空该用户服务其他token）
            var per = { password: "" };
            per.password = pw;
            _this.personRestful.updatepass(per, unionid).then(function (data) {
                //刷新系统全局用户静态变量
                resolve(data);
            }).catch(function (error) {
                reject(error);
            });
        });
    };
    // 清除账户信息和用户信息
    PsService.prototype.deleteUser = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            //清除账户表
            _this.sqlExec.delete(new __WEBPACK_IMPORTED_MODULE_5__service_sqlite_tbl_a_tbl__["a" /* ATbl */]()).then(function (data) {
                return _this.sqlExec.delete(new __WEBPACK_IMPORTED_MODULE_3__service_sqlite_tbl_u_tbl__["a" /* UTbl */]()); //清除用户表
            }).then(function (data) {
                resolve(data);
            }).catch(function (error) {
                resolve(error);
            });
        });
    };
    PsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_restful_personsev__["a" /* PersonRestful */],
            __WEBPACK_IMPORTED_MODULE_2__service_util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_4__service_config_user_config__["b" /* UserConfig */]])
    ], PsService);
    return PsService;
}());

//# sourceMappingURL=ps.service.js.map

/***/ }),
/* 123 */,
/* 124 */,
/* 125 */,
/* 126 */,
/* 127 */,
/* 128 */,
/* 129 */,
/* 130 */,
/* 131 */,
/* 132 */,
/* 133 */,
/* 134 */,
/* 135 */,
/* 136 */,
/* 137 */,
/* 138 */,
/* 139 */,
/* 140 */,
/* 141 */,
/* 142 */,
/* 143 */,
/* 144 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return IonCalendarService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular_util_util__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config__ = __webpack_require__(105);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_cordova_localcalendar_service__ = __webpack_require__(219);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_business_calendar_service__ = __webpack_require__(30);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








var IonCalendarService = (function () {
    function IonCalendarService(readlocal, util, emitService, calendarService) {
        this.readlocal = readlocal;
        this.util = util;
        this.emitService = emitService;
        this.calendarService = calendarService;
        this.currentMonthChangeEvent = null;
        IonCalendarService_1.selecttime = __WEBPACK_IMPORTED_MODULE_2_moment__().valueOf();
    }
    IonCalendarService_1 = IonCalendarService;
    IonCalendarService.prototype.safeOpt = function (calendarOptions) {
        var _disableWeeks = [];
        var _daysConfig = [];
        var _dayMapConfig = new Map();
        var _a = calendarOptions || {}, _b = _a.from, from = _b === void 0 ? new Date() : _b, _c = _a.to, to = _c === void 0 ? 0 : _c, _d = _a.weekStart, weekStart = _d === void 0 ? 0 : _d, _e = _a.step, step = _e === void 0 ? 3 : _e, _f = _a.id, id = _f === void 0 ? '' : _f, _g = _a.cssClass, cssClass = _g === void 0 ? '' : _g, _h = _a.closeLabel, closeLabel = _h === void 0 ? 'CANCEL' : _h, _j = _a.doneLabel, doneLabel = _j === void 0 ? 'DONE' : _j, _k = _a.monthFormat, monthFormat = _k === void 0 ? 'MMM YYYY' : _k, _l = _a.title, title = _l === void 0 ? 'CALENDAR' : _l, _m = _a.defaultTitle, defaultTitle = _m === void 0 ? '' : _m, _o = _a.defaultSubtitle, defaultSubtitle = _o === void 0 ? '' : _o, _p = _a.autoDone, autoDone = _p === void 0 ? false : _p, _q = _a.canBackwardsSelected, canBackwardsSelected = _q === void 0 ? false : _q, _r = _a.closeIcon, closeIcon = _r === void 0 ? false : _r, _s = _a.doneIcon, doneIcon = _s === void 0 ? false : _s, _t = _a.showYearPicker, showYearPicker = _t === void 0 ? false : _t, _u = _a.isSaveHistory, isSaveHistory = _u === void 0 ? false : _u, _v = _a.pickMode, pickMode = _v === void 0 ? __WEBPACK_IMPORTED_MODULE_3__config__["b" /* pickModes */].SINGLE : _v, _w = _a.color, color = _w === void 0 ? __WEBPACK_IMPORTED_MODULE_3__config__["a" /* defaults */].COLOR : _w, _x = _a.weekdays, weekdays = _x === void 0 ? __WEBPACK_IMPORTED_MODULE_3__config__["a" /* defaults */].WEEKS_FORMAT : _x, _y = _a.daysConfig, daysConfig = _y === void 0 ? _daysConfig : _y, _z = _a.daysConfigCopy, daysConfigCopy = _z === void 0 ? _dayMapConfig : _z, _0 = _a.disableWeeks, disableWeeks = _0 === void 0 ? _disableWeeks : _0, _1 = _a.showAdjacentMonthDay, showAdjacentMonthDay = _1 === void 0 ? true : _1;
        return {
            id: id,
            from: from,
            to: to,
            pickMode: pickMode,
            autoDone: autoDone,
            color: color,
            cssClass: cssClass,
            weekStart: weekStart,
            closeLabel: closeLabel,
            closeIcon: closeIcon,
            doneLabel: doneLabel,
            doneIcon: doneIcon,
            canBackwardsSelected: canBackwardsSelected,
            isSaveHistory: isSaveHistory,
            disableWeeks: disableWeeks,
            monthFormat: monthFormat,
            title: title,
            weekdays: weekdays,
            daysConfig: daysConfig,
            step: step,
            showYearPicker: showYearPicker,
            defaultTitle: defaultTitle,
            defaultSubtitle: defaultSubtitle,
            defaultScrollTo: calendarOptions.defaultScrollTo || from,
            defaultDate: calendarOptions.defaultDate || null,
            defaultDates: calendarOptions.defaultDates || null,
            defaultDateRange: calendarOptions.defaultDateRange || null,
            showAdjacentMonthDay: showAdjacentMonthDay
        };
    };
    IonCalendarService.prototype.createOriginalCalendar = function (time) {
        var date = new Date(time);
        var year = date.getFullYear();
        var month = date.getMonth();
        var firstWeek = new Date(year, month, 1).getDay();
        var howManyDays = __WEBPACK_IMPORTED_MODULE_2_moment__(time).daysInMonth();
        return {
            year: year,
            month: month,
            firstWeek: firstWeek,
            howManyDays: howManyDays,
            time: new Date(year, month, 1).getTime(),
            date: new Date(time)
        };
    };
    IonCalendarService.prototype.findDayConfig = function (day, opt) {
        if (opt.daysConfig.length <= 0)
            return null;
        return opt.daysConfig.find(function (n) { return day.isSame(n.date, 'day'); });
    };
    IonCalendarService.prototype.createCalendarDay = function (time, opt, month) {
        var _time = __WEBPACK_IMPORTED_MODULE_2_moment__(time);
        var date = __WEBPACK_IMPORTED_MODULE_2_moment__(time);
        //let isToday = moment().isSame(_time, 'days');
        var isToday = false;
        var dayConfig = this.findDayConfig(_time, opt);
        var _rangeBeg = __WEBPACK_IMPORTED_MODULE_2_moment__(opt.from).valueOf();
        var _rangeEnd = __WEBPACK_IMPORTED_MODULE_2_moment__(opt.to).valueOf();
        var isBetween = false;
        var disableWee = opt.disableWeeks.indexOf(_time.toDate().getDay()) !== -1;
        if (_rangeBeg > 0 && _rangeEnd > 0) {
            if (!opt.canBackwardsSelected) {
                isBetween = !_time.isBetween(_rangeBeg, _rangeEnd, 'days', '[]');
            }
            else {
                isBetween = __WEBPACK_IMPORTED_MODULE_2_moment__(_time).isBefore(_rangeBeg) ? false : isBetween;
            }
        }
        else if (_rangeBeg > 0 && _rangeEnd === 0) {
            if (!opt.canBackwardsSelected) {
                var _addTime = _time.add(1, 'day');
                isBetween = !_addTime.isAfter(_rangeBeg);
            }
            else {
                isBetween = false;
            }
        }
        var _disable = false;
        if (dayConfig && Object(__WEBPACK_IMPORTED_MODULE_1_ionic_angular_util_util__["h" /* isBoolean */])(dayConfig.disable)) {
            _disable = dayConfig.disable;
        }
        else {
            _disable = disableWee || isBetween;
        }
        var title = new Date(time).getDate().toString();
        if (dayConfig && dayConfig.title) {
            title = dayConfig.title;
        }
        else if (opt.defaultTitle) {
            title = opt.defaultTitle;
        }
        var subTitle = '';
        //被农历替换 2019/04/17 zhangjy
        // if (dayConfig && dayConfig.subTitle) {
        //   subTitle = dayConfig.subTitle
        // } else if (opt.defaultSubtitle) {
        //   subTitle = opt.defaultSubtitle
        // }
        subTitle = this.util.lunar(__WEBPACK_IMPORTED_MODULE_2_moment__(time), "D");
        return {
            time: time,
            isToday: isToday,
            title: title,
            subTitle: subTitle,
            selected: false,
            isLastMonth: date.month() < month,
            isNextMonth: date.month() > month,
            marked: dayConfig ? dayConfig.marked || false : false,
            cssClass: dayConfig ? dayConfig.cssClass || '' : '',
            disable: _disable,
            isFirst: date.date() === 1,
            isLast: date.date() === date.daysInMonth(),
            hasevent: false,
            hasrepeat: false,
            hasmessage: false,
            hasMemo: false,
        };
    };
    IonCalendarService.prototype.createCalendarMonth = function (original, opt) {
        var days = new Array(6).fill(null);
        var len = original.howManyDays;
        for (var i = original.firstWeek; i < len + original.firstWeek; i++) {
            var itemTime = new Date(original.year, original.month, i - original.firstWeek + 1).getTime();
            days[i] = this.createCalendarDay(itemTime, opt);
        }
        var weekStart = opt.weekStart;
        if (weekStart === 1) {
            if (days[0] === null) {
                days.shift();
            }
            else {
                days.unshift.apply(days, new Array(6).fill(null));
            }
        }
        if (opt.showAdjacentMonthDay) {
            var _booleanMap = days.map(function (e) { return !!e; });
            var thisMonth = __WEBPACK_IMPORTED_MODULE_2_moment__(original.time).month();
            var startOffsetIndex = _booleanMap.indexOf(true) - 1;
            var endOffsetIndex = _booleanMap.lastIndexOf(true) + 1;
            for (startOffsetIndex; startOffsetIndex >= 0; startOffsetIndex--) {
                var dayBefore = __WEBPACK_IMPORTED_MODULE_2_moment__(days[startOffsetIndex + 1].time).clone().subtract(1, 'd');
                days[startOffsetIndex] = this.createCalendarDay(dayBefore.valueOf(), opt, thisMonth);
            }
            if (!(_booleanMap.length % 7 === 0 && _booleanMap[_booleanMap.length - 1])) {
                for (endOffsetIndex; endOffsetIndex < days.length + (endOffsetIndex % 7); endOffsetIndex++) {
                    var dayAfter = __WEBPACK_IMPORTED_MODULE_2_moment__(days[endOffsetIndex - 1].time).clone().add(1, 'd');
                    days[endOffsetIndex] = this.createCalendarDay(dayAfter.valueOf(), opt, thisMonth);
                }
            }
            //补齐6行 by zhangjy
            if (days.length == 35) {
                for (endOffsetIndex; endOffsetIndex < 35 + 7; endOffsetIndex++) {
                    var dayAfter = __WEBPACK_IMPORTED_MODULE_2_moment__(days[endOffsetIndex - 1].time).clone().add(1, 'd');
                    days[endOffsetIndex] = this.createCalendarDay(dayAfter.valueOf(), opt, thisMonth);
                }
            }
        }
        return {
            days: days,
            original: original
        };
    };
    IonCalendarService.prototype.createMonthsByPeriod = function (startTime, monthsNum, opt) {
        var _array = [];
        var _start = new Date(startTime);
        var _startMonth = new Date(_start.getFullYear(), _start.getMonth(), 1).getTime();
        for (var i = 0; i < monthsNum; i++) {
            var time = __WEBPACK_IMPORTED_MODULE_2_moment__(_startMonth).add(i, 'M').valueOf();
            var originalCalendar = this.createOriginalCalendar(time);
            _array.push(this.createCalendarMonth(originalCalendar, opt));
        }
        return _array;
    };
    IonCalendarService.prototype.wrapResult = function (original, pickMode) {
        var _this = this;
        var result;
        switch (pickMode) {
            case __WEBPACK_IMPORTED_MODULE_3__config__["b" /* pickModes */].SINGLE:
                result = this.multiFormat(original[0].time);
                break;
            case __WEBPACK_IMPORTED_MODULE_3__config__["b" /* pickModes */].RANGE:
                result = {
                    from: this.multiFormat(original[0].time),
                    to: this.multiFormat(original[1].time)
                };
                break;
            case __WEBPACK_IMPORTED_MODULE_3__config__["b" /* pickModes */].MULTI:
                result = original.map(function (e) { return _this.multiFormat(e.time); });
                break;
            default:
                result = original;
        }
        return result;
    };
    IonCalendarService.prototype.multiFormat = function (time) {
        var _moment = __WEBPACK_IMPORTED_MODULE_2_moment__(time);
        return {
            time: _moment.valueOf(),
            unix: _moment.unix(),
            dateObj: _moment.toDate(),
            string: _moment.format(__WEBPACK_IMPORTED_MODULE_3__config__["a" /* defaults */].DATE_FORMAT),
            years: _moment.year(),
            months: _moment.month() + 1,
            date: _moment.date()
        };
    };
    IonCalendarService.prototype.getMonthData = function (month) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var originmonth, data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        originmonth = __WEBPACK_IMPORTED_MODULE_2_moment__(month.original.date).format("YYYY/MM");
                        console.log(originmonth);
                        this.calendarService.refreshCalendarActivitiesToMonth(originmonth);
                        console.log(originmonth);
                        return [4 /*yield*/, this.calendarService.fetchMonthActivitiesSummary(originmonth)];
                    case 1:
                        data = _a.sent();
                        // 订阅活动变动, 用于更新
                        if (this.currentMonthChangeEvent)
                            this.currentMonthChangeEvent.unsubscribe();
                        this.currentMonthChangeEvent = this.emitService.register("mwxing.calendar." + originmonth + ".changed", function (changed) {
                            if (changed) {
                                _this.calendarService.refreshMonthActivitiesSummary(data, changed);
                                data.days.forEach(function (v, k, m) {
                                    var calendarDay = month.days.find(function (n) { return __WEBPACK_IMPORTED_MODULE_2_moment__(v.day).isSame(__WEBPACK_IMPORTED_MODULE_2_moment__(n.time), 'day'); });
                                    calendarDay.hasevent = v.agendascount > 0 || v.taskscount > 0;
                                    calendarDay.hasrepeat = v.repeateventscount > 0;
                                    calendarDay.accept = v.acceptableeventscount;
                                    calendarDay.hasMemo = v.memoscount > 0;
                                    calendarDay.subTitle = v.daycalendaritem ? v.daycalendaritem : calendarDay.subTitle;
                                    calendarDay.isToday = __WEBPACK_IMPORTED_MODULE_2_moment__().isSame(calendarDay.time, 'days');
                                });
                            }
                        });
                        data.days.forEach(function (v, k, m) {
                            var calendarDay = month.days.find(function (n) { return __WEBPACK_IMPORTED_MODULE_2_moment__(v.day).isSame(__WEBPACK_IMPORTED_MODULE_2_moment__(n.time), 'day'); });
                            calendarDay.hasevent = v.agendascount > 0 || v.taskscount > 0;
                            calendarDay.hasrepeat = v.repeateventscount > 0;
                            calendarDay.accept = v.acceptableeventscount;
                            calendarDay.hasMemo = v.memoscount > 0;
                            calendarDay.subTitle = v.daycalendaritem ? v.daycalendaritem : calendarDay.subTitle;
                            calendarDay.isToday = __WEBPACK_IMPORTED_MODULE_2_moment__().isSame(calendarDay.time, 'days');
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    IonCalendarService = IonCalendarService_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__service_cordova_localcalendar_service__["a" /* LocalcalendarService */],
            __WEBPACK_IMPORTED_MODULE_5__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_6__service_util_service_emit_service__["a" /* EmitService */],
            __WEBPACK_IMPORTED_MODULE_7__service_business_calendar_service__["a" /* CalendarService */]])
    ], IonCalendarService);
    return IonCalendarService;
    var IonCalendarService_1;
}());

// class MonthData{
//  sd:string;
//  scds:number;
//  news:number;
//  minrt:string; //最小重复类型：0:无1:天2:周3:月4:年
//  csd : string;//日程开始时间
// }
//# sourceMappingURL=calendar.service.js.map

/***/ }),
/* 145 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BhTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

var BhTbl = (function () {
    function BhTbl() {
        this.bhi = "";
        this.pwi = "";
        this.hiu = "";
        this.wtt = 0;
    }
    BhTbl.prototype.cT = function () {
        var sq = " create table if not exists gtd_bh( bhi varchar(50) primary key ,pwi varchar(50)  ,hiu TEXT  ,wtt integer );";
        return sq;
    };
    BhTbl.prototype.upT = function () {
        var sq = '';
        if (this.hiu != null && this.hiu != "") {
            sq = sq + ', hiu="' + this.hiu + '"';
        }
        if (this.pwi != null && this.pwi != "") {
            sq = sq + ', pwi="' + this.pwi + '"';
        }
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = 'update gtd_bh set ' + sq + ' where bhi = "' + this.bhi + '";';
        return sq;
    };
    BhTbl.prototype.dT = function () {
        var sq = 'delete from gtd_bh where bhi = "' + this.bhi + '";';
        return sq;
    };
    BhTbl.prototype.sloT = function () {
        var sq = 'select * from gtd_bh where 1=1 ';
        if (this.bhi != null && this.bhi != "") {
            sq = sq + 'and  bhi ="' + this.bhi + '"';
        }
        if (this.pwi != null && this.pwi != "") {
            sq = sq + 'and  pwi ="' + this.pwi + '"';
        }
        sq = sq + ';';
        return sq;
    };
    BhTbl.prototype.slT = function () {
        var sq = 'select * from  gtd_bh where  1=1 ';
        if (this.pwi != null && this.pwi != "") {
            sq = sq + ' and pwi="' + this.pwi + '"';
        }
        if (this.bhi != null && this.bhi != "") {
            sq = sq + ' and bhi="' + this.bhi + '"';
        }
        sq = sq + ';';
        return sq;
    };
    BhTbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_bh;';
        return sq;
    };
    BhTbl.prototype.inT = function () {
        var sq = "insert into gtd_bh (bhi ,pwi ,hiu,  wtt) values( \"" + this.bhi + "\",\"" + this.pwi + "\",\"" + this.hiu + "\", " + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ");";
        return sq;
    };
    BhTbl.prototype.rpT = function () {
        var sq = "replace into gtd_bh (bhi ,pwi ,hiu,  wtt) values( \"" + this.bhi + "\",\"" + this.pwi + "\",\"" + this.hiu + "\", " + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ");";
        return sq;
    };
    BhTbl.prototype.preT = function () {
        var sq = "insert into gtd_bh (bhi ,pwi ,hiu,  wtt) values( ?, ?, ?, " + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ");";
        return sq;
    };
    return BhTbl;
}());

//# sourceMappingURL=bh.tbl.js.map

/***/ }),
/* 146 */,
/* 147 */,
/* 148 */,
/* 149 */,
/* 150 */,
/* 151 */,
/* 152 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

var DTbl = (function () {
    function DTbl() {
        this.pi = "";
        this.si = "";
        this.ai = "";
        this.wtt = 0;
    }
    DTbl.prototype.cT = function () {
        var sq = 'create table if not exists gtd_d( pi varchar(50) primary key ,si varchar(50)  ,ai varchar(50) ,wtt integer);';
        return sq;
    };
    DTbl.prototype.upT = function () {
        var sq = '';
        if (this.si != null && this.si != "") {
            sq = sq + ', si="' + this.si + '"';
        }
        if (this.ai != null && this.ai != "") {
            sq = sq + ', ai="' + this.ai + '"';
        }
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = 'update gtd_d set  ' + sq + ' where pi = "' + this.pi + '";';
        return sq;
    };
    DTbl.prototype.dT = function () {
        var sq = 'delete from gtd_d where 1=1 ';
        if (this.pi != null && this.pi != "") {
            sq = sq + 'and  pi ="' + this.pi + '"';
        }
        if (this.si != null && this.si != "") {
            sq = sq + 'and  si ="' + this.si + '"';
        }
        sq = sq + ';';
        return sq;
    };
    DTbl.prototype.sloT = function () {
        var sq = 'select * from gtd_d where pi = "' + this.pi + '";';
        return sq;
    };
    DTbl.prototype.slT = function () {
        var sq = 'select * from  gtd_d where  1=1 ';
        if (this.pi != null && this.pi != "") {
            sq = sq + ' and pi="' + this.pi + '"';
        }
        if (this.si != null && this.si != "") {
            sq = sq + ' and si="' + this.si + '"';
        }
        if (this.ai != null && this.ai != "") {
            sq = sq + ' and ai="' + this.ai + '"';
        }
        sq = sq + ';';
        return sq;
    };
    DTbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_d;';
        return sq;
    };
    DTbl.prototype.inT = function () {
        var sq = 'insert into gtd_d ' +
            '( pi ,si ,ai ,wtt) values("' + this.pi + '","' + this.si + '","' + this.ai + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    DTbl.prototype.rpT = function () {
        var sq = 'replace into gtd_d ' +
            '( pi ,si   ,ai   ,wtt) values("' + this.pi + '","' + this.ai + '","' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    DTbl.prototype.preT = function () {
        var sq = 'insert into gtd_d ' +
            '( pi ,si ,ai ,wtt) values(?, ?, ?, ' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    return DTbl;
}());

//# sourceMappingURL=d.tbl.js.map

/***/ }),
/* 153 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/3/5
 */
var GTbl = (function () {
    function GTbl() {
        this.gi = "";
        this.gn = "";
        this.gm = "";
        this.gnpy = "";
        this.wtt = 0;
    }
    GTbl.prototype.cT = function () {
        var sq = 'create table if not exists gtd_g(  gi varchar(50) primary key ,gn varchar(50)  ,' +
            'gm varchar(50),gnpy varchar(50),wtt integer);';
        return sq;
    };
    GTbl.prototype.upT = function () {
        var sq = '';
        if (this.gn != null && this.gn != "") {
            sq = sq + ', gn="' + this.gn + '"';
        }
        if (this.gnpy != null && this.gnpy != "") {
            sq = sq + ', gnpy="' + this.gnpy + '"';
        }
        if (this.gm != null && this.gm != "") {
            sq = sq + ', gm="' + this.gm + '"';
        }
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = 'update gtd_g set  ' + sq + ' where gi = "' + this.gi + '";';
        return sq;
    };
    GTbl.prototype.dT = function () {
        var sq = 'delete from gtd_g where 1=1 ';
        if (this.gi != null && this.gi != "") {
            sq = sq + 'and  gi ="' + this.gi + '"';
        }
        sq = sq + ';';
        return sq;
    };
    GTbl.prototype.sloT = function () {
        var sq = 'select * from gtd_g where gi = "' + this.gi + '";';
        return sq;
    };
    GTbl.prototype.slT = function () {
        var sq = 'select * from  gtd_g where  1=1 ';
        if (this.gn != null && this.gn != "") {
            sq = sq + ' and gn="' + this.gn + '"';
        }
        if (this.gm != null && this.gm != "") {
            sq = sq + ' and gm="' + this.gm + '"';
        }
        if (this.gnpy != null && this.gnpy != "") {
            sq = sq + ' and gnpy="' + this.gnpy + '"';
        }
        sq = sq + ';';
        return sq;
    };
    GTbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_g;';
        return sq;
    };
    GTbl.prototype.inT = function () {
        var sq = 'insert into gtd_g ' +
            '( gi ,gn ,gm,gnpy,wtt) values("' + this.gi + '","' + this.gn + '","' + this.gm + '","' + this.gnpy + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    GTbl.prototype.rpT = function () {
        var sq = 'replace into gtd_g ' +
            '( gi ,gn ,gm,gnpy,wtt) values("' + this.gi + '","' + this.gn + '","' + this.gm + '","' + this.gnpy + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    GTbl.prototype.preT = function () {
        var sq = 'insert into gtd_g ' +
            '( gi ,gn ,gm,gnpy,wtt) values(?, ?, ?, ?,' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    return GTbl;
}());

//# sourceMappingURL=g.tbl.js.map

/***/ }),
/* 154 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BxTbl; });
var BxTbl = (function () {
    function BxTbl() {
        this.bi = "";
        this.bmi = "";
    }
    BxTbl.prototype.cT = function () {
        var sq = 'create table if not exists gtd_b_x( bi varchar(50) ,bmi varchar(50));';
        return sq;
    };
    BxTbl.prototype.upT = function () {
        var sq = '';
        if (this.bmi != null && this.bmi != "") {
            sq = sq + ', bmi="' + this.bmi + '"';
        }
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = 'update gtd_b_x set  ' + sq + ' where bi = "' + this.bi + '";';
        return sq;
    };
    BxTbl.prototype.dT = function () {
        var sq = 'delete from gtd_b_x where 1=1 ';
        if (this.bi != null && this.bi != "") {
            sq = sq + 'and  bi ="' + this.bi + '"';
        }
        if (this.bmi != null && this.bmi != "") {
            sq = sq + 'and  bmi ="' + this.bmi + '"';
        }
        sq = sq + ';';
        return sq;
    };
    BxTbl.prototype.sloT = function () {
        var sq = 'select * from gtd_b_x where bi = "' + this.bi + '";';
        return sq;
    };
    BxTbl.prototype.slT = function () {
        var sq = 'select * from gtd_b_x where  1=1 ';
        if (this.bmi != null && this.bmi != "") {
            sq = sq + ' and bmi="' + this.bmi + '"';
        }
        if (this.bi != null && this.bi != "") {
            sq = sq + ' and bi="' + this.bi + '"';
        }
        sq = sq + ';';
        return sq;
    };
    BxTbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_b_x;';
        return sq;
    };
    BxTbl.prototype.inT = function () {
        var sq = 'insert into gtd_b_x ' +
            '(  bi ,bmi) values("' + this.bi + '","' + this.bmi + '");';
        return sq;
    };
    BxTbl.prototype.rpT = function () {
        var sq = 'replace into gtd_b_x ' +
            '(  bi ,bmi) values("' + this.bi + '","' + this.bmi + '");';
        return sq;
    };
    BxTbl.prototype.preT = function () {
        var sq = 'insert into gtd_b_x ' +
            '(  bi ,bmi) values(?, ?);';
        return sq;
    };
    return BxTbl;
}());

//# sourceMappingURL=bx.tbl.js.map

/***/ }),
/* 155 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AuthRestful; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return LoginData; });
/* unused harmony export Out */
/* unused harmony export OutData */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_restful_config__ = __webpack_require__(40);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * 登录
 */
var AuthRestful = (function () {
    function AuthRestful(request, config) {
        this.request = request;
        this.config = config;
    }
    // 短信登录 SML
    AuthRestful.prototype.loginbycode = function (loginData) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("SML");
            _this.request.post(url, loginData).then(function (data) {
                //处理返回结果
                // bsModel.code = data.errcode;
                // bsModel.message = data.errmsg;
                // bsModel.data = data.data;
                resolve(data.data);
            }).catch(function (error) {
                //处理返回错误
                reject();
            });
        });
    };
    AuthRestful.prototype.loginbypass = function (loginData) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("PL");
            _this.request.post(url, loginData).then(function (data) {
                var out = new Out();
                out.code = data.errcode;
                out.message = data.errmsg;
                out.data = data.data;
                resolve(out);
                //处理返回结果
                resolve(out);
            }).catch(function (error) {
                //处理返回错误
                reject();
            });
        });
    };
    //注册帐户	RA post
    AuthRestful.prototype.signup = function (signData) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("RA");
            _this.request.post(url, signData).then(function (data) {
                var out = new Out();
                out.code = data.errcode;
                out.message = data.errmsg;
                out.data = data.data;
                resolve(out);
                //处理返回结果
                resolve(out);
            }).catch(function (error) {
                //处理返回错误
                reject();
            });
        });
    };
    AuthRestful = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__["a" /* RestfulClient */],
            __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["a" /* RestFulConfig */]])
    ], AuthRestful);
    return AuthRestful;
}());

var LoginData = (function () {
    function LoginData() {
        this.phoneno = ""; //手机号码
        this.verifykey = ""; //短信验证码KEY
        this.verifycode = ""; //短信验证码
        this.username = ""; //真实姓名
        this.userpassword = ""; //帐户密码
    }
    return LoginData;
}());

var Out = (function () {
    function Out() {
        this.code = 0;
        this.message = "";
        this.data = new OutData();
    }
    return Out;
}());

var OutData = (function () {
    function OutData() {
        this.code = "";
        this.openid = "";
        this.unionid = "";
        this.state = "";
    }
    return OutData;
}());

//# sourceMappingURL=authsev.js.map

/***/ }),
/* 156 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WebsocketService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__stomp_stompjs__ = __webpack_require__(942);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__stomp_stompjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stomp_stompjs__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__dispatch_service__ = __webpack_require__(555);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_async_dist_async_js__ = __webpack_require__(226);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_async_dist_async_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_async_dist_async_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_config_restful_config__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_util_service_util_service__ = __webpack_require__(4);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









/**
 * WebSocket连接Rabbitmq服务器
 *
 * create by wzy on 2018/07/22.
 */
var WebsocketService = (function () {
    function WebsocketService(dispatchService, util, emitService, config) {
        var _this = this;
        this.dispatchService = dispatchService;
        this.util = util;
        this.emitService = emitService;
        this.config = config;
        // RABBITMQ_WS_URL: string = "wss://www.guobaa.com/ws";
        this.RABBITMQ_WS_URL = "";
        this.failedtimes = 0;
        this.connections = 0;
        this.disconnecttime = 0;
        this.messages = 0;
        this.speeches = 0;
        this.workqueue = __WEBPACK_IMPORTED_MODULE_4_async_dist_async_js__["queue"](function (_a, callback) {
            var message = _a.message, index = _a.index;
            console.log("******************ws  queue:");
            _this.dispatchService.dispatch(message).then(function (data) {
                callback();
            }).catch(function (data) {
                console.log(data);
                callback();
            });
        });
        this.messages = 0;
        this.emitService.emit("on.websocket.workqueue.init");
        this.speechqueue = __WEBPACK_IMPORTED_MODULE_4_async_dist_async_js__["queue"](function (_a, callback) {
            var message = _a.message, index = _a.index;
            console.log("******************speech  queue:");
            _this.dispatchService.dispatch(message).then(function (data) {
                callback();
            }).catch(function (data) {
                console.log(data);
                callback();
            });
        });
        this.speeches = 0;
        this.emitService.emit("on.websocket.speechqueue.init");
    }
    WebsocketService.prototype.settingWs = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.login = "gtd_mq";
            _this.password = "gtd_mq";
            //获取webSocket连接地址
            _this.RABBITMQ_WS_URL = _this.config.getRestFulUrl("WSA").url;
            //获取websocte 链接
            _this.client = __WEBPACK_IMPORTED_MODULE_0__stomp_stompjs___default.a.client(_this.RABBITMQ_WS_URL);
            _this.client.reconnect_delay = 1000;
            //获取websocte  queue
            _this.queue = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].account.mq;
            //呼吸
            _this.client.heartbeat.outgoing = 1000 * 30;
            _this.client.heartbeat.incoming = 1000 * 60 * 5;
            resolve();
        });
    };
    /**
     * 监听消息队列
     */
    WebsocketService.prototype.connect = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var delay = 1000 * Math.pow(2, _this.failedtimes);
            // 最长等待5分钟再连接
            delay = (delay > 1000 * 60 * 5) ? (1000 * 60 * 5) : delay;
            if (_this.timer)
                clearTimeout(_this.timer);
            // 延迟重连动作,防止重连死循环
            if (_this.util.isMobile()) {
                _this.emitService.register('rabbitmq.message.received', function (event) {
                    try {
                        if (event && event.body) {
                            var preload = JSON.parse(event.body);
                            var header = preload.header || {};
                            var sender = header.sender || "";
                            if (sender == "xunfei/aiui") {
                                _this.speechqueue.push({ message: event.body, index: _this.speeches++ }, function (err) {
                                    if (err) {
                                        console.log("speech queue process error happenned. ", err, '\r\n', err.stack);
                                        _this.workqueue.kill();
                                        _this.speeches = 0;
                                    }
                                    else {
                                        if (_this.speeches > 9999)
                                            _this.speeches = 0;
                                    }
                                });
                            }
                            else {
                                _this.workqueue.push({ message: event.body, index: _this.messages++ }, function (err) {
                                    if (err) {
                                        console.log("work queue process error happenned. ", err, '\r\n', err.stack);
                                        _this.workqueue.kill();
                                        _this.messages = 0;
                                    }
                                    else {
                                        if (_this.messages > 9999)
                                            _this.messages = 0;
                                    }
                                });
                            }
                        }
                    }
                    catch (e) {
                        // message异常时捕获并不让程序崩溃
                        console.log("work queue push error : ", e, '\r\n', e.stack);
                    }
                });
                setTimeout(function () {
                    _this.emitService.emit("on.websocket.connected");
                }, 5000);
                resolve();
            }
            else {
                // 真机使用cordova.rabbitmq替代
                _this.timer = setTimeout(function () {
                    _this.settingWs().then(function (data) {
                        // 连接消息服务器
                        _this.client.connect(_this.login, _this.password, function (frame) {
                            // 连接成功,取消所有重连请求
                            if (_this.timer)
                                clearTimeout(_this.timer);
                            _this.connections++;
                            _this.failedtimes = 0;
                            resolve();
                            _this.subscription = _this.client.subscribe("/queue/" + _this.queue, function (message) {
                                //message.ack(message.headers);
                                console.log('Received a message from ' + _this.queue);
                                try {
                                    if (message && message.body) {
                                        var preload = JSON.parse(message.body);
                                        var header = preload.header || {};
                                        var sender = header.sender || "";
                                        if (sender == "xunfei/aiui") {
                                            _this.speechqueue.push({ message: message.body, index: _this.speeches++ }, function (err) {
                                                if (err) {
                                                    console.log("speech queue process error happenned. ", err, '\r\n', err.stack);
                                                    _this.speechqueue.kill();
                                                    _this.speeches = 0;
                                                }
                                                else {
                                                    if (_this.speeches > 9999)
                                                        _this.speeches = 0;
                                                }
                                            });
                                        }
                                        else {
                                            _this.workqueue.push({ message: message.body, index: _this.messages++ }, function (err) {
                                                if (err) {
                                                    console.log("work queue process error happenned. ", err, '\r\n', err.stack);
                                                    _this.workqueue.kill();
                                                    _this.messages = 0;
                                                }
                                                else {
                                                    if (_this.messages > 9999)
                                                        _this.messages = 0;
                                                }
                                            });
                                        }
                                    }
                                }
                                catch (e) {
                                    // message异常时捕获并不让程序崩溃
                                    console.log("work queue push error : ", e, '\r\n', e.stack);
                                }
                            });
                            //解决RabbitMQ同一个Queue队列在前一个断开的连接没有检测到断开信号时仍然保持着连接，
                            //导致推送的消息被前一个连接接收，无法分配到最新的连接，导致客户端接收不到消息
                            //解决方案，在新的连接创建之后，等待服务器心跳时间之后，发送通知WebSocket连接成功消息
                            var waittime = 0;
                            if (_this.disconnecttime) {
                                var passedtime = (__WEBPACK_IMPORTED_MODULE_5_moment__().unix() - _this.disconnecttime) * 1000;
                                if (passedtime < _this.client.heartbeat.outgoing) {
                                    waittime = _this.client.heartbeat.outgoing - passedtime;
                                }
                            }
                            setTimeout(function () {
                                _this.emitService.emit("on.websocket.connected");
                            }, waittime);
                        }, function (error) {
                            _this.connections--;
                            _this.failedtimes++;
                            _this.disconnecttime = __WEBPACK_IMPORTED_MODULE_5_moment__().unix();
                            _this.close();
                        }, function (event) {
                            console.log('Stomp websocket closed with code ' + event.code + ', reason ' + event.reason);
                            _this.connections--;
                            _this.disconnecttime = __WEBPACK_IMPORTED_MODULE_5_moment__().unix();
                            _this.close();
                        }, '/');
                    });
                }, delay);
            }
        });
    };
    WebsocketService.prototype.close = function () {
        var _this = this;
        // 连接消息服务器
        if (this.client.connected) {
            this.client.disconnect(function () {
                _this.emitService.emit("on.websocket.closed");
                _this.connect();
            }, {
                login: this.login,
                passcode: this.password
            });
        }
        else {
            this.emitService.emit("on.websocket.closed");
            this.connect();
        }
    };
    WebsocketService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["Injectable"])(),
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["NgModule"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__dispatch_service__["a" /* DispatchService */], __WEBPACK_IMPORTED_MODULE_8__service_util_service_util_service__["a" /* UtilService */], __WEBPACK_IMPORTED_MODULE_7__service_util_service_emit_service__["a" /* EmitService */], __WEBPACK_IMPORTED_MODULE_6__service_config_restful_config__["a" /* RestFulConfig */]])
    ], WebsocketService);
    return WebsocketService;
}());

//# sourceMappingURL=websocket.service.js.map

/***/ }),
/* 157 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_sqlite_tbl_y_tbl__ = __webpack_require__(84);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_cordova_contacts_service__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_restful_syncsev__ = __webpack_require__(112);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__pl_pl_service__ = __webpack_require__(158);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_util_service_util_service__ = __webpack_require__(4);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};









var SsService = (function () {
    function SsService(sqlExce, syncRestful, util, userConfig, plService, contactsService) {
        this.sqlExce = sqlExce;
        this.syncRestful = syncRestful;
        this.util = util;
        this.userConfig = userConfig;
        this.plService = plService;
        this.contactsService = contactsService;
    }
    //设置每日简报时间/事件
    SsService.prototype.putDailySummary = function (userId, timestamp, active) {
        // this.syncRestful.putDailySummary(userId, timestamp, active);
        // this.syncRestful.putHourlyWeather(userId);
    };
    //设置 Fir.IM WebHook事件
    SsService.prototype.putFollowFirIM = function (userId, timestamp, active) {
        this.syncRestful.putFollowFirIM(userId, timestamp, active);
    };
    //设置 Fir.IM WebHook事件
    SsService.prototype.putFollowFirIMShare = function (shareTo, identify, userId, timestamp, active) {
        this.syncRestful.putFollowFirIMShare(shareTo, identify, userId, timestamp, active);
    };
    //设置 Travis CI WebHook事件
    SsService.prototype.putFollowTravisCI = function (userId, timestamp, active) {
        this.syncRestful.putFollowTravisCI(userId, timestamp, active);
    };
    //设置 GitHub WebHook事件
    SsService.prototype.putFollowGitHub = function (userId, secret, timestamp, active) {
        this.syncRestful.putFollowGitHub(userId, secret, timestamp, active);
    };
    //设置 GitHub WebHook事件
    SsService.prototype.putFollowGitHubShare = function (shareTo, identify, userId, secret, timestamp, active) {
        this.syncRestful.putFollowGitHubShare(shareTo, identify, userId, secret, timestamp, active);
    };
    //保存设置
    SsService.prototype.save = function (py) {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var y;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        y = new __WEBPACK_IMPORTED_MODULE_4__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        Object.assign(y, py);
                        if (!y.yi) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.sqlExce.update(y)];
                    case 1:
                        _a.sent();
                        return [3 /*break*/, 4];
                    case 2:
                        y.yi = this.util.getUuid();
                        return [4 /*yield*/, this.sqlExce.prepareSave(y)];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4: 
                    //刷新本地用户偏好设置
                    return [4 /*yield*/, this.userConfig.RefreshYTbl()];
                    case 5:
                        //刷新本地用户偏好设置
                        _a.sent();
                        resolve();
                        return [2 /*return*/];
                }
            });
        }); });
    };
    SsService.prototype.getDefaultJh = function () {
        return __awaiter(this, void 0, void 0, function () {
            var djh;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        djh = __WEBPACK_IMPORTED_MODULE_2__service_config_user_config__["b" /* UserConfig */].settins.get(__WEBPACK_IMPORTED_MODULE_3__service_config_data_config__["a" /* DataConfig */].SYS_DJH);
                        return [4 /*yield*/, this.plService.getJh(djh.value)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    //TODO 刷新联系人功能
    SsService.prototype.resfriend = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.contactsService.asyncPhoneContacts()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/, this.contactsService.updateFs()];
                }
            });
        });
    };
    SsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_6__service_restful_syncsev__["a" /* SyncRestful */],
            __WEBPACK_IMPORTED_MODULE_8__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_2__service_config_user_config__["b" /* UserConfig */],
            __WEBPACK_IMPORTED_MODULE_7__pl_pl_service__["a" /* PlService */],
            __WEBPACK_IMPORTED_MODULE_5__service_cordova_contacts_service__["a" /* ContactsService */]])
    ], SsService);
    return SsService;
}());

//# sourceMappingURL=ss.service.js.map

/***/ }),
/* 158 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_restful_shaesev__ = __webpack_require__(107);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__data_mapping__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_business_calendar_service__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__data_enum__ = __webpack_require__(18);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







var PlService = (function () {
    function PlService(sqlExec, shareRestful, calendarService, emitService) {
        this.sqlExec = sqlExec;
        this.shareRestful = shareRestful;
        this.calendarService = calendarService;
        this.emitService = emitService;
    }
    //下载系统计划
    PlService.prototype.downloadPlan = function (jh) {
        return __awaiter(this, void 0, void 0, function () {
            var count, plandata;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        count = 0;
                        return [4 /*yield*/, this.calendarService.downloadPublicPlan(jh.ji, jh.jt)];
                    case 1:
                        plandata = _a.sent();
                        if (plandata && plandata.items) {
                            count = plandata.items.length;
                        }
                        return [2 /*return*/, count];
                }
            });
        });
    };
    //删除系统计划
    PlService.prototype.delete = function (jh) {
        return __awaiter(this, void 0, void 0, function () {
            var plan;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.calendarService.getPlan(jh.ji)];
                    case 1:
                        plan = _a.sent();
                        if (plan.jt == __WEBPACK_IMPORTED_MODULE_6__data_enum__["w" /* PlanType */].PrivatePlan) {
                            return [2 /*return*/, this.calendarService.removePlan(plan, false)];
                        }
                        else {
                            return [2 /*return*/, this.calendarService.removePlan(plan)];
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    //获取计划
    PlService.prototype.getPlan = function () {
        return __awaiter(this, void 0, void 0, function () {
            var pld, plans, xtJh, zdyJh, _i, plans_1, plan, jhc;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log('---------- PlService getPlan 获取计划开始 ----------------');
                        pld = new __WEBPACK_IMPORTED_MODULE_3__data_mapping__["l" /* PagePlData */]();
                        return [4 /*yield*/, this.calendarService.fetchAllPlansSummary([__WEBPACK_IMPORTED_MODULE_6__data_enum__["w" /* PlanType */].PrivatePlan, __WEBPACK_IMPORTED_MODULE_6__data_enum__["w" /* PlanType */].CalendarPlan, __WEBPACK_IMPORTED_MODULE_6__data_enum__["w" /* PlanType */].ActivityPlan])];
                    case 1:
                        plans = _a.sent();
                        xtJh = new Array();
                        zdyJh = new Array();
                        for (_i = 0, plans_1 = plans; _i < plans_1.length; _i++) {
                            plan = plans_1[_i];
                            jhc = new __WEBPACK_IMPORTED_MODULE_3__data_mapping__["j" /* PagePDPro */]();
                            Object.assign(jhc, plan);
                            jhc.js = plan.itemscount + plan.eventscount + plan.memoscount;
                            if (plan.jt == __WEBPACK_IMPORTED_MODULE_6__data_enum__["w" /* PlanType */].PrivatePlan) {
                                zdyJh.push(jhc);
                            }
                            else {
                                xtJh.push(jhc);
                                if (jhc.jtd == null || jhc.jtd == "" || jhc.jtd == '0') {
                                    jhc.jtd = '0';
                                    jhc.js = '?';
                                }
                            }
                        }
                        pld.xtJh = xtJh;
                        pld.zdyJh = zdyJh;
                        console.log('---------- PlService getPlan 获取计划结束 ----------------');
                        return [2 /*return*/, pld];
                }
            });
        });
    };
    PlService.prototype.getJh = function (ji, prop) {
        if (prop === void 0) { prop = 'all'; }
        return __awaiter(this, void 0, void 0, function () {
            var plandata;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.calendarService.getPlan(ji, prop == 'all')];
                    case 1:
                        plandata = _a.sent();
                        return [2 /*return*/, plandata];
                }
            });
        });
    };
    //获取计划
    PlService.prototype.getPlanCus = function () {
        return __awaiter(this, void 0, void 0, function () {
            var plans;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.calendarService.fetchPrivatePlans()];
                    case 1:
                        plans = _a.sent();
                        return [2 /*return*/, plans];
                }
            });
        });
    };
    PlService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_2__service_restful_shaesev__["d" /* ShaeRestful */],
            __WEBPACK_IMPORTED_MODULE_5__service_business_calendar_service__["a" /* CalendarService */],
            __WEBPACK_IMPORTED_MODULE_4__service_util_service_emit_service__["a" /* EmitService */]])
    ], PlService);
    return PlService;
}());

//# sourceMappingURL=pl.service.js.map

/***/ }),
/* 159 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AlService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_cordova_permissions_service__ = __webpack_require__(572);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_config_sqlite_config__ = __webpack_require__(217);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_sqlite_sqlite_init__ = __webpack_require__(574);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_sqlite_tbl_a_tbl__ = __webpack_require__(89);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_config_restful_config__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ws_websocket_service__ = __webpack_require__(156);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_sqlite_tbl_y_tbl__ = __webpack_require__(84);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__service_cordova_contacts_service__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__service_cordova_notifications_service__ = __webpack_require__(120);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__data_mapping__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__service_business_calendar_service__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__providers_settings_settings__ = __webpack_require__(92);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__service_cordova_network_service__ = __webpack_require__(161);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__ionic_native_geolocation__ = __webpack_require__(577);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__service_cordova_feedback_service__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__service_cordova_jpush_service__ = __webpack_require__(257);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__service_cordova_rabbitmq_service__ = __webpack_require__(162);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__service_business_effect_service__ = __webpack_require__(163);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__ionic_native_status_bar__ = __webpack_require__(579);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};



























var AlService = (function () {
    function AlService(permissionsService, sqlLiteConfig, sqlLiteInit, sqlExce, util, emitService, restfulConfig, wsserivce, userConfig, contactsService, notificationsService, calendarService, settings, networkService, geolocation, feekback, jpush, rabbitmq, effectService, modalCtr, app, statusBar) {
        this.permissionsService = permissionsService;
        this.sqlLiteConfig = sqlLiteConfig;
        this.sqlLiteInit = sqlLiteInit;
        this.sqlExce = sqlExce;
        this.util = util;
        this.emitService = emitService;
        this.restfulConfig = restfulConfig;
        this.wsserivce = wsserivce;
        this.userConfig = userConfig;
        this.contactsService = contactsService;
        this.notificationsService = notificationsService;
        this.calendarService = calendarService;
        this.settings = settings;
        this.networkService = networkService;
        this.geolocation = geolocation;
        this.feekback = feekback;
        this.jpush = jpush;
        this.rabbitmq = rabbitmq;
        this.effectService = effectService;
        this.modalCtr = modalCtr;
        this.app = app;
        this.statusBar = statusBar;
        this.version = -1;
        this.statusBar.overlaysWebView(true);
        this.statusBar.hide();
    }
    //权限申请
    AlService.prototype.checkAllPermissions = function () {
        var _this = this;
        var alData = new __WEBPACK_IMPORTED_MODULE_15__data_mapping__["a" /* AlData */]();
        return new Promise(function (resolve, reject) {
            _this.permissionsService.checkAllPermissions().then(function (data) {
                alData.text = "权限申请完成";
                resolve(alData);
            }).catch(function (err) {
                alData.text = "权限申请失败";
                resolve(alData);
            });
        });
    };
    //创建或连接数据库
    AlService.prototype.createDB = function () {
        var _this = this;
        console.log(__WEBPACK_IMPORTED_MODULE_10_moment__().add(__WEBPACK_IMPORTED_MODULE_13__service_config_data_config__["a" /* DataConfig */].REINTERVAL, "s").format("YYYY/MM/DD HH:mm"));
        var alData = new __WEBPACK_IMPORTED_MODULE_15__data_mapping__["a" /* AlData */]();
        return new Promise(function (resolve, reject) {
            _this.sqlLiteConfig.generateDb().then(function (data) {
                alData.text = "数据库初始化完成";
                resolve(alData);
            }).catch(function (err) {
                alData.text = "数据库初始化失败";
                resolve(alData);
            });
        });
    };
    //判断是否初始化完成
    AlService.prototype.checkSystem = function () {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            var alData, yTbl;
            return __generator(this, function (_a) {
                alData = new __WEBPACK_IMPORTED_MODULE_15__data_mapping__["a" /* AlData */]();
                yTbl = new __WEBPACK_IMPORTED_MODULE_9__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                yTbl.yt = "FI";
                this.sqlExce.getList(yTbl).then(function (data) {
                    var stbls = data;
                    if (stbls.length > 0) {
                        _this.version = Number(stbls[0].yv);
                        alData.text = "系统完成初始化";
                        resolve(alData);
                    }
                    else {
                        alData.text = "系统开始初始化";
                        resolve(alData);
                    }
                }).catch(function (err) {
                    alData.text = "系统开始初始化";
                    resolve(alData);
                });
                return [2 /*return*/];
            });
        }); });
    };
    //创建数据库表,初始化系统数据,初始化数据完成写入
    AlService.prototype.createSystemData = function () {
        var _this = this;
        var alData = new __WEBPACK_IMPORTED_MODULE_15__data_mapping__["a" /* AlData */]();
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var verTbl, fromversion, yTbl, stbls, e_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 12, , 13]);
                        if (!(this.version == -1)) return [3 /*break*/, 6];
                        return [4 /*yield*/, this.sqlLiteInit.createTables()];
                    case 1:
                        _a.sent();
                        if (!this.util.isMobile()) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.contactsService.asyncPhoneContacts()];
                    case 2:
                        _a.sent();
                        //异步获取联系人信息
                        this.contactsService.updateFs();
                        _a.label = 3;
                    case 3:
                        verTbl = new __WEBPACK_IMPORTED_MODULE_9__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        verTbl.yi = this.util.getUuid();
                        verTbl.yt = "FI";
                        verTbl.yk = "FI";
                        verTbl.yv = "0";
                        return [4 /*yield*/, this.sqlExce.save(verTbl)];
                    case 4:
                        _a.sent();
                        this.version = 0;
                        return [4 /*yield*/, this.sqlLiteInit.initData()];
                    case 5:
                        _a.sent();
                        this.notificationsService.badgeClear();
                        _a.label = 6;
                    case 6:
                        fromversion = this.version;
                        _a.label = 7;
                    case 7:
                        if (!(__WEBPACK_IMPORTED_MODULE_13__service_config_data_config__["a" /* DataConfig */].version > this.version)) return [3 /*break*/, 11];
                        return [4 /*yield*/, this.sqlLiteInit.createTablespath(this.version + 1, fromversion)];
                    case 8:
                        _a.sent();
                        yTbl = new __WEBPACK_IMPORTED_MODULE_9__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        yTbl.yt = "FI";
                        yTbl.yk = "FI";
                        return [4 /*yield*/, this.sqlExce.getList(yTbl)];
                    case 9:
                        stbls = _a.sent();
                        if (stbls.length > 0)
                            yTbl.yi = stbls[0].yi;
                        else
                            yTbl.yi = this.util.getUuid();
                        yTbl.yv = (++this.version).toString();
                        return [4 /*yield*/, this.sqlExce.replaceT(yTbl)];
                    case 10:
                        _a.sent();
                        return [3 /*break*/, 7];
                    case 11:
                        alData.text = "系统数据初始化完成";
                        resolve(alData);
                        return [3 /*break*/, 13];
                    case 12:
                        e_1 = _a.sent();
                        alData.text = "系统数据初始化失败";
                        resolve(alData);
                        return [3 /*break*/, 13];
                    case 13: return [2 /*return*/];
                }
            });
        }); });
    };
    //连接webSocket
    AlService.prototype.connWebSocket = function () {
        var _this = this;
        var alData = new __WEBPACK_IMPORTED_MODULE_15__data_mapping__["a" /* AlData */]();
        return new Promise(function (resolve, reject) {
            // 连接webSocket成功
            _this.wsserivce.connect().then(function (data) {
                alData.text = "连接webSocket成功";
                resolve(alData);
            });
        });
    };
    //系统设置
    AlService.prototype.setSetting = function () {
        var _this = this;
        var alData = new __WEBPACK_IMPORTED_MODULE_15__data_mapping__["a" /* AlData */]();
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            var watch, e_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 4, , 5]);
                        //重新获取服务器数据
                        return [4 /*yield*/, this.sqlLiteInit.initDataSub()];
                    case 1:
                        //重新获取服务器数据
                        _a.sent();
                        return [4 /*yield*/, this.restfulConfig.init()];
                    case 2:
                        _a.sent();
                        //提醒定时
                        this.notificationsService.schedule();
                        //保持后台运行
                        //this.notificationsService.keeplive();
                        //用户设置信息初始化
                        return [4 /*yield*/, this.userConfig.init()];
                    case 3:
                        //保持后台运行
                        //this.notificationsService.keeplive();
                        //用户设置信息初始化
                        _a.sent();
                        this.settings.getActiveTheme().subscribe(function (val) {
                            var blackTheme = "black-theme";
                            var whiteTheme = "white-theme";
                            _this.app.setElementClass(whiteTheme, false);
                            _this.app.setElementClass(blackTheme, false);
                            _this.app.setElementClass(val, true);
                        });
                        //设置主题
                        this.theme = __WEBPACK_IMPORTED_MODULE_11__service_config_user_config__["b" /* UserConfig */].settins.get(__WEBPACK_IMPORTED_MODULE_13__service_config_data_config__["a" /* DataConfig */].SYS_THEME);
                        if (this.theme) {
                            this.settings.setActiveTheme(this.theme.value);
                        }
                        //显示状态栏
                        this.statusBar.show();
                        //监听statusbar颜色变化
                        this.settings.getStatusBarColor().subscribe(function (val) {
                            var color = _this.settings.getStatusColor(val);
                            _this.statusBar.backgroundColorByHexString(color);
                        });
                        // this.app.viewDidLoad.subscribe((event) => {
                        //   if (event && event.instance && DataConfig.isPage(event.instance)) {
                        //     this.settings.popStatusBarColor();
                        //   }
                        // });
                        //模态框退出时还原状态栏颜色
                        this.app.viewWillUnload.subscribe(function (event) {
                            if (event && event.instance && __WEBPACK_IMPORTED_MODULE_13__service_config_data_config__["a" /* DataConfig */].isPage(event.instance)) {
                                _this.settings.popStatusBarColor();
                            }
                        });
                        //允许进入后台模式
                        if (this.util.hasCordova()) {
                            //全局网络监控
                            this.networkService.monitorNetwork();
                            this.feekback.initAudio();
                            this.jpush.init();
                            watch = this.geolocation.watchPosition();
                            watch.subscribe(function (data) {
                                // data can be a set of coordinates, or an error (if an error occurred).
                                if (data && data.coords) {
                                    __WEBPACK_IMPORTED_MODULE_7__service_config_restful_config__["a" /* RestFulConfig */].geo.latitude = data.coords.latitude;
                                    __WEBPACK_IMPORTED_MODULE_7__service_config_restful_config__["a" /* RestFulConfig */].geo.longitude = data.coords.longitude;
                                }
                                else {
                                    console.log('Error getting location', data);
                                }
                            });
                        }
                        // websocket连接成功消息回调
                        // 初始化同步
                        this.effectService.syncStart();
                        this.effectService.registerSyncEvents();
                        this.emitService.register("on.websocket.connected", function () {
                            __WEBPACK_IMPORTED_MODULE_13__service_config_data_config__["a" /* DataConfig */].RABBITMQ_STATUS = "connected";
                        });
                        // websocket断开连接消息回调
                        this.emitService.register("on.websocket.closed", function () {
                            __WEBPACK_IMPORTED_MODULE_13__service_config_data_config__["a" /* DataConfig */].RABBITMQ_STATUS = "";
                        });
                        //本地通知跳转共享日程页面
                        this.emitService.registerNewMessageClick(function (data) {
                            var p = new __WEBPACK_IMPORTED_MODULE_15__data_mapping__["r" /* ScdPageParamter */]();
                            p.si = data.id;
                            p.d = __WEBPACK_IMPORTED_MODULE_10_moment__(data.d);
                            _this.modalCtr.create(__WEBPACK_IMPORTED_MODULE_13__service_config_data_config__["a" /* DataConfig */].PAGE._AGENDA_PAGE, p).present();
                        });
                        // this.emitService.registerRef(data => {
                        //   //this.calendar.createMonth(this.calendar.monthOpt.original.time);
                        // });
                        //极光推送跳转打开外部网页
                        // this.emitService.register('on.urlopen.message.click', (data) => {
                        //   console.log("Open extend url message to show " + JSON.stringify(data));
                        //
                        //   if (data && data.eventdata && data.eventdata.url) {
                        //     console.log("Open href " + data.eventdata.url);
                        //     let browser = this.iab.create(data.eventdata.url, "_system");
                        //     //browser.show();
                        //   }
                        // });
                        //极光推送跳转共享日程页面
                        // {type: type, id: id}
                        this.emitService.register('on.agendashare.message.click', function (data) {
                            console.log("Share agenda message to show " + JSON.stringify(data));
                            if (data && data.type == "Agenda") {
                                var p = new __WEBPACK_IMPORTED_MODULE_15__data_mapping__["r" /* ScdPageParamter */]();
                                p.si = data.id;
                                _this.modalCtr.create(__WEBPACK_IMPORTED_MODULE_13__service_config_data_config__["a" /* DataConfig */].PAGE._AGENDA_PAGE, p).present();
                            }
                        });
                        // this.emitService.register('on.agenda.shareevents.message.click', (data) => {
                        //   console.log("Agenda share events message to show " + JSON.stringify(data));
                        //
                        //   let p: ScdPageParamter = new ScdPageParamter();
                        //   p.si = data.si;
                        //   p.d = moment(data.sd);
                        //   this.modalCtr.create(DataConfig.PAGE._AGENDA_PAGE, p).present();
                        // });
                        //冥王星远程服务地址刷新完成
                        //更新每小时天气服务任务
                        // this.emitService.register('on.mwxing.global.restful.flashed', () => {
                        //   this.hService.putHourlyWeather(UserConfig.account.id);
                        // });
                        // //初始化时自动触发一次
                        // this.hService.putHourlyWeather(UserConfig.account.id);
                        //每日简报消息回调
                        this.emitService.register('on.dailyreport.message.click', function (data) {
                            console.log("Daily report message clicked.");
                            var timestamp = data.eventdata ? data.eventdata['timestamp'] : (__WEBPACK_IMPORTED_MODULE_10_moment__().unix() * 1000);
                            if (!timestamp) {
                                timestamp = __WEBPACK_IMPORTED_MODULE_10_moment__().unix() * 1000;
                            }
                            // this.todoList({
                            //   time: timestamp,
                            //   isToday: false,
                            //   selected: false,
                            //   disable: false,
                            //   cssClass: ''
                            // });
                        });
                        //操作反馈消息回调
                        this.emitService.register('on.feedback.message.click', function (data) {
                            var scd = data.eventdata ? data.eventdata['scd'] : null;
                            if (scd && scd.si) {
                                var p = new __WEBPACK_IMPORTED_MODULE_15__data_mapping__["r" /* ScdPageParamter */]();
                                p.si = scd.si;
                                p.d = __WEBPACK_IMPORTED_MODULE_10_moment__(scd.sd);
                                p.gs = scd.gs;
                                if (scd.gs == "0") {
                                    //本人画面
                                    _this.modalCtr.create(__WEBPACK_IMPORTED_MODULE_13__service_config_data_config__["a" /* DataConfig */].PAGE._AGENDA_PAGE, p).present();
                                }
                                else if (scd.gs == "1") {
                                    //受邀人画面
                                    _this.modalCtr.create(__WEBPACK_IMPORTED_MODULE_13__service_config_data_config__["a" /* DataConfig */].PAGE._AGENDA_PAGE, p).present();
                                }
                                else {
                                    //系统画面
                                    _this.modalCtr.create(__WEBPACK_IMPORTED_MODULE_13__service_config_data_config__["a" /* DataConfig */].PAGE._AGENDA_PAGE, p).present();
                                }
                            }
                        });
                        alData.text = "系统设置完成";
                        resolve(alData);
                        return [3 /*break*/, 5];
                    case 4:
                        e_2 = _a.sent();
                        alData.text = "系统设置失败";
                        resolve(alData);
                        return [3 /*break*/, 5];
                    case 5: return [2 /*return*/];
                }
            });
        }); });
    };
    //判断用户是否登陆
    AlService.prototype.checkUserInfo = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            // TODO 判断用户是否登陆
            var aTbl = new __WEBPACK_IMPORTED_MODULE_6__service_sqlite_tbl_a_tbl__["a" /* ATbl */]();
            var alData = new __WEBPACK_IMPORTED_MODULE_15__data_mapping__["a" /* AlData */]();
            _this.sqlExce.getList(aTbl).then(function (data) { return __awaiter(_this, void 0, void 0, function () {
                var _this = this;
                var _a, _b;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0:
                            _a = __WEBPACK_IMPORTED_MODULE_11__service_config_user_config__["b" /* UserConfig */];
                            return [4 /*yield*/, this.calendarService.fetchPublicPlans()];
                        case 1:
                            _a.publicplans = _c.sent();
                            _b = __WEBPACK_IMPORTED_MODULE_11__service_config_user_config__["b" /* UserConfig */];
                            return [4 /*yield*/, this.calendarService.fetchPrivatePlans()];
                        case 2:
                            _b.privateplans = _c.sent();
                            this.emitService.destroy("mwxing.calendar.plans.changed");
                            this.emitService.register("mwxing.calendar.plans.changed", function (data) {
                                if (!data) {
                                    return;
                                }
                                // 多条数据同时更新/单条数据更新
                                if (data instanceof Array) {
                                    for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {
                                        var single = data_1[_i];
                                        __WEBPACK_IMPORTED_MODULE_11__service_config_user_config__["b" /* UserConfig */].privateplans = _this.calendarService.mergePlans(__WEBPACK_IMPORTED_MODULE_11__service_config_user_config__["b" /* UserConfig */].privateplans, single);
                                    }
                                }
                                else {
                                    __WEBPACK_IMPORTED_MODULE_11__service_config_user_config__["b" /* UserConfig */].privateplans = _this.calendarService.mergePlans(__WEBPACK_IMPORTED_MODULE_11__service_config_user_config__["b" /* UserConfig */].privateplans, data);
                                }
                            });
                            if (data.length > 0) {
                                alData.text = "用户已登录";
                                alData.islogin = true;
                            }
                            else {
                                alData.text = "用户未登录";
                                alData.islogin = false;
                                resolve(alData);
                            }
                            resolve(alData);
                            return [2 /*return*/];
                    }
                });
            }); }).catch(function (err) {
                alData.text = "用户未登录";
                alData.islogin = false;
                resolve(alData);
            });
        });
    };
    AlService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_cordova_permissions_service__["a" /* PermissionsService */],
            __WEBPACK_IMPORTED_MODULE_2__service_config_sqlite_config__["a" /* SqliteConfig */],
            __WEBPACK_IMPORTED_MODULE_3__service_sqlite_sqlite_init__["a" /* SqliteInit */],
            __WEBPACK_IMPORTED_MODULE_4__service_util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_5__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_17__service_util_service_emit_service__["a" /* EmitService */],
            __WEBPACK_IMPORTED_MODULE_7__service_config_restful_config__["a" /* RestFulConfig */],
            __WEBPACK_IMPORTED_MODULE_8__ws_websocket_service__["a" /* WebsocketService */],
            __WEBPACK_IMPORTED_MODULE_11__service_config_user_config__["b" /* UserConfig */],
            __WEBPACK_IMPORTED_MODULE_12__service_cordova_contacts_service__["a" /* ContactsService */],
            __WEBPACK_IMPORTED_MODULE_14__service_cordova_notifications_service__["a" /* NotificationsService */],
            __WEBPACK_IMPORTED_MODULE_16__service_business_calendar_service__["a" /* CalendarService */],
            __WEBPACK_IMPORTED_MODULE_18__providers_settings_settings__["a" /* SettingsProvider */],
            __WEBPACK_IMPORTED_MODULE_19__service_cordova_network_service__["a" /* NetworkService */],
            __WEBPACK_IMPORTED_MODULE_20__ionic_native_geolocation__["a" /* Geolocation */], __WEBPACK_IMPORTED_MODULE_21__service_cordova_feedback_service__["a" /* FeedbackService */],
            __WEBPACK_IMPORTED_MODULE_22__service_cordova_jpush_service__["a" /* JPushService */],
            __WEBPACK_IMPORTED_MODULE_23__service_cordova_rabbitmq_service__["a" /* RabbitMQService */],
            __WEBPACK_IMPORTED_MODULE_24__service_business_effect_service__["a" /* EffectService */],
            __WEBPACK_IMPORTED_MODULE_25_ionic_angular__["ModalController"],
            __WEBPACK_IMPORTED_MODULE_25_ionic_angular__["App"],
            __WEBPACK_IMPORTED_MODULE_26__ionic_native_status_bar__["a" /* StatusBar */]])
    ], AlService);
    return AlService;
}());

//# sourceMappingURL=al.service.js.map

/***/ }),
/* 160 */,
/* 161 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NetworkService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ionic_native_network__ = __webpack_require__(576);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__util_service_emit_service__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





/**
 * 网络监控工具类
 *
 * create by wzy on 2019/01/15
 */
var NetworkService = (function () {
    function NetworkService(network, util, emitService) {
        this.network = network;
        this.util = util;
        this.emitService = emitService;
        this.NetworkType = new Map();
        this.NetworkType.set("unknown", "未知网络");
        this.NetworkType.set("ethernet", "有线网络");
        this.NetworkType.set("eth", "有线网络");
        this.NetworkType.set("wifi", "无线网络");
        this.NetworkType.set("2g", "2G网络");
        this.NetworkType.set("3g", "3G网络");
        this.NetworkType.set("4g", "4G网络");
        this.NetworkType.set("none", "");
    }
    /**
     * 返回当前网络连接类型
     */
    NetworkService.prototype.getNetworkType = function () {
        if (this.network.type === 'unknown') {
            console.log('这是一个未知的网络连接，可能不安全，请小心！');
        }
        else if (this.network.type === 'none') {
            console.log('没有连接网络');
        }
        else {
            console.log('we got a ' + this.network.type + ' connection, woohoo!');
        }
        return this.network.type;
    };
    NetworkService.prototype.getNetworkTypeName = function () {
        return this.NetworkType.get(this.network.type ? this.network.type : "");
    };
    NetworkService.prototype.isConnected = function () {
        return ((this.getNetworkType() === "none") ? (__WEBPACK_IMPORTED_MODULE_2__config_data_config__["a" /* DataConfig */].RABBITMQ_STATUS ? true : false) : true);
    };
    /**
     * 网络状态监控
     */
    NetworkService.prototype.monitorNetwork = function () {
        var _this = this;
        // watch network for a disconnection
        var disconnectSubscription = this.network.onDisconnect().subscribe(function () {
            console.log('network was disconnected :-(');
            console.log('没有连接网络');
            _this.emitService.emit("on.network.disconnected");
            _this.util.toastEnd(); //后台期间重复提示去除
            _this.util.toastStart("当前无网络，请检查网络连接", 1500);
        });
        // watch network for a connection
        var connectSubscription = this.network.onConnect().subscribe(function () {
            console.log('network connected!');
            console.log('网络成功连接');
            _this.emitService.emit("on.network.connected");
            //this.util.toastStart("网络成功连接",1500);
        });
    };
    NetworkService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__ionic_native_network__["a" /* Network */],
            __WEBPACK_IMPORTED_MODULE_3__util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_4__util_service_emit_service__["a" /* EmitService */]])
    ], NetworkService);
    return NetworkService;
}());

//# sourceMappingURL=network.service.js.map

/***/ }),
/* 162 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RabbitMQService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_device__ = __webpack_require__(103);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/**
 * RabbitMQ推送服务
 *
 * create by xilj on 2019/06/19.
 */
var RabbitMQService = (function () {
    function RabbitMQService(util, device, emitService) {
        var _this = this;
        this.util = util;
        this.device = device;
        this.emitService = emitService;
        this.wins = window; //window对象
        if (this.util.isMobile()) {
            console.log("RabbitMQ service created@" + this.device.platform + ".");
            if (this.device.platform == "Android") {
                document.addEventListener("rabbitmq.receivedMessage", function (event) {
                    console.log("RabbitMQ Received Message with event listener.");
                    _this.messageReceived(event);
                }, false);
            }
            else {
                console.log("RabbitMQ running outside android.");
                document.addEventListener("rabbitmq.receivedMessage", function (event) {
                    console.log("RabbitMQ Received Message with event listener.");
                    _this.messageReceived(event);
                }, false);
            }
        }
        else {
            console.log("RabbitMQ service not created.");
        }
    }
    //Native Call Function
    RabbitMQService.prototype.messageReceived = function (event) {
        console.log("RabbitMQ received message: " + JSON.stringify(event));
        this.emitService.emit('rabbitmq.message.received', event);
    };
    RabbitMQService.prototype.init = function (uid, deviceid, queuename) {
        if (uid && deviceid && queuename) {
            this.wins.cordova.plugins.RabbitMQPlugin.init(uid, deviceid, queuename, "pluto.guobaa.com", "5672", "gtd_mq", "gtd_mq");
        }
        else {
            console.log("Not enough parameters for RabbitMQ initializing.");
        }
    };
    RabbitMQService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_3__ionic_native_device__["a" /* Device */],
            __WEBPACK_IMPORTED_MODULE_1__util_service_emit_service__["a" /* EmitService */]])
    ], RabbitMQService);
    return RabbitMQService;
}());

//# sourceMappingURL=rabbitmq.service.js.map

/***/ }),
/* 163 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EffectService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_service__ = __webpack_require__(106);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__event_service__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__calendar_service__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__memo_service__ = __webpack_require__(85);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__remind_service__ = __webpack_require__(227);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







var EffectService = (function (_super) {
    __extends(EffectService, _super);
    function EffectService(eventService, memoService, remindService, emitService, calendarService) {
        var _this = _super.call(this) || this;
        _this.eventService = eventService;
        _this.memoService = memoService;
        _this.remindService = remindService;
        _this.emitService = emitService;
        _this.calendarService = calendarService;
        return _this;
    }
    EffectService.prototype.syncStart = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.calendarService.syncPrivatePlans()];
                    case 1:
                        _a.sent(); // 同步自定义日历
                        return [4 /*yield*/, this.eventService.syncAttachments()];
                    case 2:
                        _a.sent(); // 同步附件
                        return [4 /*yield*/, this.calendarService.syncPlanItems()];
                    case 3:
                        _a.sent(); // 同步日历项
                        return [4 /*yield*/, this.eventService.syncAgendas()];
                    case 4:
                        _a.sent(); // 同步日程
                        return [4 /*yield*/, this.memoService.syncMemos()];
                    case 5:
                        _a.sent(); // 同步备忘
                        return [4 /*yield*/, this.remindService.syncScheduledReminds()];
                    case 6:
                        _a.sent(); // 同步未来48小时的提醒
                        return [2 /*return*/];
                }
            });
        });
    };
    EffectService.prototype.syncInitial = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.calendarService.requestInitialData()];
                    case 1:
                        _a.sent(); // 请求拉取服务器最新日历相关数据
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 注册同步数据事件
     **/
    EffectService.prototype.registerSyncEvents = function () {
        var _this = this;
        var online = this.emitService.register("on.network.connected", function () {
            online.unsubscribe();
            _this.syncStart().then(function () {
                _this.registerSyncEvents();
            });
        });
    };
    EffectService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__event_service__["b" /* EventService */],
            __WEBPACK_IMPORTED_MODULE_5__memo_service__["a" /* MemoService */],
            __WEBPACK_IMPORTED_MODULE_6__remind_service__["a" /* ScheduleRemindService */],
            __WEBPACK_IMPORTED_MODULE_2__util_service_emit_service__["a" /* EmitService */],
            __WEBPACK_IMPORTED_MODULE_4__calendar_service__["a" /* CalendarService */]])
    ], EffectService);
    return EffectService;
}(__WEBPACK_IMPORTED_MODULE_1__base_service__["a" /* BaseService */]));

//# sourceMappingURL=effect.service.js.map

/***/ }),
/* 164 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_restful_personsev__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_restful_smssev__ = __webpack_require__(258);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_restful_authsev__ = __webpack_require__(155);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_sqlite_tbl_u_tbl__ = __webpack_require__(109);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_sqlite_tbl_a_tbl__ = __webpack_require__(89);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__service_sqlite_tbl_y_tbl__ = __webpack_require__(84);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__ws_websocket_service__ = __webpack_require__(156);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__al_al_service__ = __webpack_require__(159);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var LsService = (function () {
    function LsService(personRestful, smsRestful, sqlExec, util, authRestful, userConfig, 
        //private brService: BrService,
        webSocketService, alService) {
        this.personRestful = personRestful;
        this.smsRestful = smsRestful;
        this.sqlExec = sqlExec;
        this.util = util;
        this.authRestful = authRestful;
        this.userConfig = userConfig;
        this.webSocketService = webSocketService;
        this.alService = alService;
    }
    //获取验证码
    LsService.prototype.getSMSCode = function (mobile) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.smsRestful.getcode(mobile).then(function (data) {
                resolve(data);
            }).catch(function (err) {
                reject(err);
            });
        });
    };
    //登陆
    LsService.prototype.login = function (lsData) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            //参考lp登陆方法 忘记密码会调用
            var loginData = new __WEBPACK_IMPORTED_MODULE_7__service_restful_authsev__["b" /* LoginData */]();
            loginData.phoneno = lsData.phoneno;
            loginData.verifycode = lsData.verifycode;
            loginData.verifykey = lsData.verifykey;
            // 验证手机号及验证码
            _this.authRestful.loginbypass(loginData).then(function (data) {
                if (!data || data.code != 0)
                    throw data;
                resolve(data);
            }).catch(function (error) {
                reject(error);
            });
        });
    };
    //账户用户信息
    LsService.prototype.getPersonMessage = function (data) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var aTbl = new __WEBPACK_IMPORTED_MODULE_9__service_sqlite_tbl_a_tbl__["a" /* ATbl */]();
            var uTbl = new __WEBPACK_IMPORTED_MODULE_8__service_sqlite_tbl_u_tbl__["a" /* UTbl */]();
            var yTbl = new __WEBPACK_IMPORTED_MODULE_10__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
            //获得token，放入头部header登录
            _this.personRestful.getToken(data.data.code).then(function (data) {
                if (data && data.unionid != undefined && data.unionid != null && data.unionid != "") {
                    //账户表赋值
                    aTbl.ai = data.openid; //openid
                    aTbl.an = data.nickname;
                    aTbl.am = data.phoneno;
                    aTbl.ae = __WEBPACK_IMPORTED_MODULE_6__service_config_user_config__["b" /* UserConfig */].getDeviceId();
                    aTbl.at = data.access_token;
                    aTbl.aq = data.cmq;
                    //用户表赋值
                    uTbl.ai = data.openid; //openid
                    uTbl.ui = data.unionid; //unionid
                    uTbl.un = data.nickname; //用户名（昵称）
                    uTbl.rn = data.name == undefined || data.name == "" ? data.nickname : data.name; //真实姓名
                    uTbl.us = data.sex == undefined || data.sex == "" ? "0" : data.sex; //性别
                    uTbl.biy = data.birthday == undefined || data.birthday == "" ? "" : data.birthday; //出生日期
                    uTbl.ic = data.ic == undefined || data.ic == "" ? "" : data.ic; //身份证
                    uTbl.uct = data.contact == undefined || data.contact == "" ? "" : data.contact; //  联系方式
                    if (data && data.secrets && data.secrets.github) {
                        yTbl.yi = _this.util.getUuid();
                        yTbl.yt = __WEBPACK_IMPORTED_MODULE_5__service_config_data_config__["a" /* DataConfig */].SYS_FOGHSECRET;
                        yTbl.ytn = "项目跟进 github 安全令牌";
                        yTbl.yn = "项目跟进";
                        yTbl.yk = __WEBPACK_IMPORTED_MODULE_5__service_config_data_config__["a" /* DataConfig */].SYS_FOGHSECRET;
                        yTbl.yv = data.secrets.github;
                    }
                    return _this.personRestful.getself(data.unionid);
                }
                else {
                    throw "-1";
                }
            }).then(function (data) {
                if (data && data.avatarbase64 != undefined && data.avatarbase64 != null && data.avatarbase64 != "") {
                    uTbl.hiu = data.avatarbase64; //头像
                    //删除账户表
                    return _this.sqlExec.delete(new __WEBPACK_IMPORTED_MODULE_9__service_sqlite_tbl_a_tbl__["a" /* ATbl */]());
                }
                else {
                    throw "-1";
                }
            }).then(function (data) {
                if (yTbl.yi) {
                    return _this.sqlExec.save(yTbl);
                }
                else {
                    return {};
                }
            }).then(function (data) {
                return _this.sqlExec.save(aTbl);
            }).then(function (data) {
                //删除用户表
                return _this.sqlExec.delete(new __WEBPACK_IMPORTED_MODULE_8__service_sqlite_tbl_u_tbl__["a" /* UTbl */]());
            }).then(function (data) {
                return _this.sqlExec.save(uTbl);
            }).then(function (data) {
                resolve(data);
            }).catch(function (error) {
                reject(error);
            });
        });
    };
    //设置备份信息
    LsService.prototype.getOther = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.alService.setSetting().then(function (data) {
                // 同步数据（调用brService方法恢复数据）
                //return this.brService.recover(0);
                //建立websoct连接（调用websoctService）
                return _this.webSocketService.connect();
            }).then(function (data) {
                resolve(data);
            }).catch(function (error) {
                reject(error);
            });
        });
    };
    LsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_restful_personsev__["a" /* PersonRestful */],
            __WEBPACK_IMPORTED_MODULE_2__service_restful_smssev__["a" /* SmsRestful */],
            __WEBPACK_IMPORTED_MODULE_3__service_util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_7__service_restful_authsev__["a" /* AuthRestful */],
            __WEBPACK_IMPORTED_MODULE_6__service_config_user_config__["b" /* UserConfig */],
            __WEBPACK_IMPORTED_MODULE_11__ws_websocket_service__["a" /* WebsocketService */],
            __WEBPACK_IMPORTED_MODULE_12__al_al_service__["a" /* AlService */]])
    ], LsService);
    return LsService;
}());

//# sourceMappingURL=ls.service.js.map

/***/ }),
/* 165 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BrService; });
/* unused harmony export PageBrDataPro */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_sqlite_tbl_c_tbl__ = __webpack_require__(247);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_restful_bacsev__ = __webpack_require__(110);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_sqlite_tbl_sp_tbl__ = __webpack_require__(249);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_sqlite_tbl_e_tbl__ = __webpack_require__(119);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_sqlite_tbl_mo_tbl__ = __webpack_require__(575);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_sqlite_tbl_b_tbl__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_sqlite_tbl_d_tbl__ = __webpack_require__(152);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_sqlite_tbl_g_tbl__ = __webpack_require__(153);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__service_sqlite_tbl_jh_tbl__ = __webpack_require__(248);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__service_sqlite_tbl_bx_tbl__ = __webpack_require__(154);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__service_cordova_contacts_service__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__ = __webpack_require__(84);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__service_util_service_emit_service__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


















var BrService = (function () {
    function BrService(bacRestful, sqlexec, util, contactsServ, userConfig, emitService) {
        this.bacRestful = bacRestful;
        this.sqlexec = sqlexec;
        this.util = util;
        this.contactsServ = contactsServ;
        this.userConfig = userConfig;
        this.emitService = emitService;
    }
    //备份方法，需要传入页面 ，画面显示备份进度条
    BrService.prototype.backup = function () {
        return __awaiter(this, void 0, void 0, function () {
            var backupPro, c, csql, _a, spsql, _b, e, _c, mo, _d, d, _e, b, _f, g, _g, bx, _h, jhsql, _j, y, _k;
            return __generator(this, function (_l) {
                switch (_l.label) {
                    case 0:
                        backupPro = new __WEBPACK_IMPORTED_MODULE_2__service_restful_bacsev__["b" /* BackupPro */]();
                        //操作账户ID
                        backupPro.oai = __WEBPACK_IMPORTED_MODULE_13__service_config_user_config__["b" /* UserConfig */].account.id;
                        //操作手机号码
                        backupPro.ompn = __WEBPACK_IMPORTED_MODULE_13__service_config_user_config__["b" /* UserConfig */].account.phone;
                        //时间戳
                        backupPro.d.bts = __WEBPACK_IMPORTED_MODULE_14_moment__().unix();
                        c = new __WEBPACK_IMPORTED_MODULE_1__service_sqlite_tbl_c_tbl__["a" /* CTbl */]();
                        csql = "select * from gtd_c where ji not in (select ji from gtd_j_h where jt ='1' or jt='0' )" +
                            " and gs <>'2' ";
                        _a = backupPro.d;
                        return [4 /*yield*/, this.sqlexec.getExtList(csql)];
                    case 1:
                        _a.c = _l.sent();
                        //restFul上传
                        return [4 /*yield*/, this.bacRestful.backup(backupPro)];
                    case 2:
                        //restFul上传
                        _l.sent();
                        if (backupPro.d.c)
                            backupPro.d.c.length = 0; //清空数组 以防其他表备份时候此数据再被上传
                        spsql = "select * from gtd_sp where ji not in (select ji from gtd_j_h where jt ='1' or jt ='0')" +
                            " and si not in (select si from gtd_c where gs = '2' ) ";
                        _b = backupPro.d;
                        return [4 /*yield*/, this.sqlexec.getExtList(spsql)];
                    case 3:
                        _b.sp = _l.sent();
                        return [4 /*yield*/, this.bacRestful.backup(backupPro)];
                    case 4:
                        _l.sent();
                        if (backupPro.d.sp)
                            backupPro.d.sp.length = 0;
                        e = new __WEBPACK_IMPORTED_MODULE_5__service_sqlite_tbl_e_tbl__["a" /* ETbl */]();
                        _c = backupPro.d;
                        return [4 /*yield*/, this.sqlexec.getList(e)];
                    case 5:
                        _c.e = _l.sent();
                        return [4 /*yield*/, this.bacRestful.backup(backupPro)];
                    case 6:
                        _l.sent();
                        if (backupPro.d.e)
                            backupPro.d.e.length = 0;
                        mo = new __WEBPACK_IMPORTED_MODULE_6__service_sqlite_tbl_mo_tbl__["a" /* MoTbl */]();
                        _d = backupPro.d;
                        return [4 /*yield*/, this.sqlexec.getList(mo)];
                    case 7:
                        _d.mo = _l.sent();
                        return [4 /*yield*/, this.bacRestful.backup(backupPro)];
                    case 8:
                        _l.sent();
                        if (backupPro.d.mo)
                            backupPro.d.mo.length = 0;
                        d = new __WEBPACK_IMPORTED_MODULE_8__service_sqlite_tbl_d_tbl__["a" /* DTbl */]();
                        _e = backupPro.d;
                        return [4 /*yield*/, this.sqlexec.getList(d)];
                    case 9:
                        _e.d = _l.sent();
                        return [4 /*yield*/, this.bacRestful.backup(backupPro)];
                    case 10:
                        _l.sent();
                        if (backupPro.d.d)
                            backupPro.d.d.length = 0;
                        b = new __WEBPACK_IMPORTED_MODULE_7__service_sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        _f = backupPro.d;
                        return [4 /*yield*/, this.sqlexec.getList(b)];
                    case 11:
                        _f.b = _l.sent();
                        return [4 /*yield*/, this.bacRestful.backup(backupPro)];
                    case 12:
                        _l.sent();
                        if (backupPro.d.b)
                            backupPro.d.b.length = 0;
                        g = new __WEBPACK_IMPORTED_MODULE_9__service_sqlite_tbl_g_tbl__["a" /* GTbl */]();
                        _g = backupPro.d;
                        return [4 /*yield*/, this.sqlexec.getList(g)];
                    case 13:
                        _g.g = _l.sent();
                        return [4 /*yield*/, this.bacRestful.backup(backupPro)];
                    case 14:
                        _l.sent();
                        if (backupPro.d.g)
                            backupPro.d.g.length = 0;
                        bx = new __WEBPACK_IMPORTED_MODULE_11__service_sqlite_tbl_bx_tbl__["a" /* BxTbl */]();
                        _h = backupPro.d;
                        return [4 /*yield*/, this.sqlexec.getList(bx)];
                    case 15:
                        _h.bx = _l.sent();
                        return [4 /*yield*/, this.bacRestful.backup(backupPro)];
                    case 16:
                        _l.sent();
                        if (backupPro.d.bx)
                            backupPro.d.bx.length = 0;
                        jhsql = "select * from  gtd_j_h where jt <> '1' and jt <>'0' " //系统计划不备份
                        ;
                        _j = backupPro.d;
                        return [4 /*yield*/, this.sqlexec.getExtList(jhsql)];
                    case 17:
                        _j.jh = _l.sent();
                        return [4 /*yield*/, this.bacRestful.backup(backupPro)];
                    case 18:
                        _l.sent();
                        if (backupPro.d.jh)
                            backupPro.d.jh.length = 0;
                        //最后一次备份前置true
                        backupPro.d.commit = true;
                        y = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        _k = backupPro.d;
                        return [4 /*yield*/, this.sqlexec.getList(y)];
                    case 19:
                        _k.y = _l.sent();
                        return [4 /*yield*/, this.bacRestful.backup(backupPro)];
                    case 20:
                        _l.sent();
                        if (backupPro.d.y)
                            backupPro.d.y.length = 0;
                        return [2 /*return*/];
                }
            });
        });
    };
    //页面获取最后更新时间
    BrService.prototype.getLastDt = function () {
        var _this = this;
        //restFul 获取服务器 日历条数
        return new Promise(function (resolve, reject) {
            _this.bacRestful.getlastest().then(function (data) {
                var pageBrDataPro = new PageBrDataPro();
                if (data) {
                    pageBrDataPro.bts = data.bts;
                    pageBrDataPro.dt = __WEBPACK_IMPORTED_MODULE_14_moment__(data.bts).format("YYYY-MM-DD HH:mm");
                }
                resolve(pageBrDataPro);
            });
        });
    };
    //恢复
    BrService.prototype.recover = function (bts) {
        return __awaiter(this, void 0, void 0, function () {
            var recoverPro, outRecoverPro, sqls, spsql, j, len, spi, e, j, len, ei, mo, j, len, moi, d, j, len, di, csql, j, len, ci, b, j, len, bi, g, j, len, gi, bx, j, len, bxi, jh, jhsql, j, len, jhi, verYTbl, deviceUUIDYTbl, hasDR, drYTbl, hasDRP1, drp1YTbl, hasDJH, djhYTbl, hasFOGHSECRET, foghsecYTbl, hasFOGH, foghYTbl, hasFOGHINS, foghinsYTbl, sfoghinsYTbl, hasFOGHINSSHARE, foghinsshareYTbl, sfoghinsshareYTbl, hasFOGHININS, foghininsYTbl, sfoghininsYTbl, hasFOGHININSFROM, foghininsfromYTbl, sfoghininsfromYTbl, hasFOFIR, fofirYTbl, hasFOFIRINS, fofirinsYTbl, sfofirinsYTbl, hasFOFIRINSSHARE, fofirinsshareYTbl, sfofirinsshareYTbl, hasFOFIRININS, fofirininsYTbl, sfofirininsYTbl, hasFOFIRININSFROM, fofirininsfromYTbl, sfofirininsfromYTbl, y, j, len, yi, bkVerY, bkUUIDY, bkDRY, bkDRP1Y, bkDJHY, bkFOGHSECRET, bkFOGH, _i, foghinsYTbl_1, foghin, bkFOGHINS, _a, foghinsshareYTbl_1, foghinshare, bkFOGHINSSHARE, _b, foghininsYTbl_1, foghinin, bkFOGHININS, _c, foghininsfromYTbl_1, foghininfrom, bkFOGHININSFROM, bkFOFIR, _d, fofirinsYTbl_1, fofirin, bkFOFIRINS, _e, fofirinsshareYTbl_1, fofirinshare, bkFOFIRINSSHARE, _f, fofirininsYTbl_1, fofirinin, bkFOFIRININS, _g, fofirininsfromYTbl_1, fofirininfrom, bkFOFIRININSFROM;
            return __generator(this, function (_h) {
                switch (_h.label) {
                    case 0:
                        recoverPro = new __WEBPACK_IMPORTED_MODULE_2__service_restful_bacsev__["c" /* RecoverPro */]();
                        //操作账户ID
                        recoverPro.oai = __WEBPACK_IMPORTED_MODULE_13__service_config_user_config__["b" /* UserConfig */].account.id;
                        //操作手机号码
                        recoverPro.ompn = __WEBPACK_IMPORTED_MODULE_13__service_config_user_config__["b" /* UserConfig */].account.phone;
                        recoverPro.d.bts = bts;
                        return [4 /*yield*/, this.bacRestful.recover(recoverPro)];
                    case 1:
                        outRecoverPro = _h.sent();
                        sqls = new Array();
                        spsql = "delete from gtd_sp where ji not in (select ji from gtd_j_h where jt ='1' or jt='0') " +
                            " and si not in ( select si from gtd_c where gs ='2' ) ";
                        return [4 /*yield*/, this.sqlexec.execSql(spsql)];
                    case 2:
                        _h.sent();
                        for (j = 0, len = outRecoverPro.sp.length; j < len; j++) {
                            spi = new __WEBPACK_IMPORTED_MODULE_4__service_sqlite_tbl_sp_tbl__["a" /* SpTbl */]();
                            Object.assign(spi, outRecoverPro.sp[j]);
                            sqls.push(spi.inT());
                        }
                        return [4 /*yield*/, this.sqlexec.batExecSql(sqls)];
                    case 3:
                        _h.sent();
                        sqls.length = 0;
                        e = new __WEBPACK_IMPORTED_MODULE_5__service_sqlite_tbl_e_tbl__["a" /* ETbl */]();
                        return [4 /*yield*/, this.sqlexec.delete(e)];
                    case 4:
                        _h.sent();
                        for (j = 0, len = outRecoverPro.e.length; j < len; j++) {
                            ei = new __WEBPACK_IMPORTED_MODULE_5__service_sqlite_tbl_e_tbl__["a" /* ETbl */]();
                            Object.assign(ei, outRecoverPro.e[j]);
                            sqls.push(ei.inT());
                        }
                        return [4 /*yield*/, this.sqlexec.batExecSql(sqls)];
                    case 5:
                        _h.sent();
                        sqls.length = 0;
                        mo = new __WEBPACK_IMPORTED_MODULE_6__service_sqlite_tbl_mo_tbl__["a" /* MoTbl */]();
                        return [4 /*yield*/, this.sqlexec.delete(mo)];
                    case 6:
                        _h.sent();
                        for (j = 0, len = outRecoverPro.mo.length; j < len; j++) {
                            moi = new __WEBPACK_IMPORTED_MODULE_6__service_sqlite_tbl_mo_tbl__["a" /* MoTbl */]();
                            Object.assign(moi, outRecoverPro.mo[j]);
                            sqls.push(moi.inT());
                        }
                        return [4 /*yield*/, this.sqlexec.batExecSql(sqls)];
                    case 7:
                        _h.sent();
                        sqls.length = 0;
                        d = new __WEBPACK_IMPORTED_MODULE_8__service_sqlite_tbl_d_tbl__["a" /* DTbl */]();
                        return [4 /*yield*/, this.sqlexec.delete(d)];
                    case 8:
                        _h.sent();
                        for (j = 0, len = outRecoverPro.d.length; j < len; j++) {
                            di = new __WEBPACK_IMPORTED_MODULE_8__service_sqlite_tbl_d_tbl__["a" /* DTbl */]();
                            Object.assign(di, outRecoverPro.d[j]);
                            sqls.push(di.inT());
                        }
                        return [4 /*yield*/, this.sqlexec.batExecSql(sqls)];
                    case 9:
                        _h.sent();
                        sqls.length = 0;
                        csql = "delete from gtd_c where ji not in (select ji from gtd_j_h where jt ='1' or jt='0' ) " +
                            " and gs <>'2' ";
                        return [4 /*yield*/, this.sqlexec.execSql(csql)];
                    case 10:
                        _h.sent();
                        for (j = 0, len = outRecoverPro.c.length; j < len; j++) {
                            ci = new __WEBPACK_IMPORTED_MODULE_1__service_sqlite_tbl_c_tbl__["a" /* CTbl */]();
                            Object.assign(ci, outRecoverPro.c[j]);
                            sqls.push(ci.inT());
                        }
                        return [4 /*yield*/, this.sqlexec.batExecSql(sqls)];
                    case 11:
                        _h.sent();
                        sqls.length = 0;
                        b = new __WEBPACK_IMPORTED_MODULE_7__service_sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        return [4 /*yield*/, this.sqlexec.delete(b)];
                    case 12:
                        _h.sent();
                        for (j = 0, len = outRecoverPro.b.length; j < len; j++) {
                            bi = new __WEBPACK_IMPORTED_MODULE_7__service_sqlite_tbl_b_tbl__["a" /* BTbl */]();
                            Object.assign(bi, outRecoverPro.b[j]);
                            sqls.push(bi.inT());
                        }
                        return [4 /*yield*/, this.sqlexec.batExecSql(sqls)];
                    case 13:
                        _h.sent();
                        sqls.length = 0;
                        g = new __WEBPACK_IMPORTED_MODULE_9__service_sqlite_tbl_g_tbl__["a" /* GTbl */]();
                        return [4 /*yield*/, this.sqlexec.delete(g)];
                    case 14:
                        _h.sent();
                        for (j = 0, len = outRecoverPro.g.length; j < len; j++) {
                            gi = new __WEBPACK_IMPORTED_MODULE_9__service_sqlite_tbl_g_tbl__["a" /* GTbl */]();
                            Object.assign(gi, outRecoverPro.g[j]);
                            sqls.push(gi.inT());
                        }
                        return [4 /*yield*/, this.sqlexec.batExecSql(sqls)];
                    case 15:
                        _h.sent();
                        sqls.length = 0;
                        bx = new __WEBPACK_IMPORTED_MODULE_11__service_sqlite_tbl_bx_tbl__["a" /* BxTbl */]();
                        return [4 /*yield*/, this.sqlexec.delete(bx)];
                    case 16:
                        _h.sent();
                        for (j = 0, len = outRecoverPro.bx.length; j < len; j++) {
                            bxi = new __WEBPACK_IMPORTED_MODULE_11__service_sqlite_tbl_bx_tbl__["a" /* BxTbl */]();
                            Object.assign(bxi, outRecoverPro.bx[j]);
                            sqls.push(bxi.inT());
                        }
                        return [4 /*yield*/, this.sqlexec.batExecSql(sqls)];
                    case 17:
                        _h.sent();
                        sqls.length = 0;
                        jh = new __WEBPACK_IMPORTED_MODULE_10__service_sqlite_tbl_jh_tbl__["a" /* JhTbl */]();
                        jhsql = "delete from gtd_j_h where jt <> '1' and jt<>'0' and ji<>'personalcalendar' and ji<>'workcalendar'";
                        return [4 /*yield*/, this.sqlexec.execSql(jhsql)];
                    case 18:
                        _h.sent();
                        for (j = 0, len = outRecoverPro.jh.length; j < len; j++) {
                            jhi = new __WEBPACK_IMPORTED_MODULE_10__service_sqlite_tbl_jh_tbl__["a" /* JhTbl */]();
                            Object.assign(jhi, outRecoverPro.jh[j]);
                            if (jhi.ji == 'personalcalendar' || jhi.ji == 'workcalendar')
                                continue;
                            sqls.push(jhi.inT());
                        }
                        return [4 /*yield*/, this.sqlexec.batExecSql(sqls)];
                    case 19:
                        _h.sent();
                        sqls.length = 0;
                        verYTbl = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        verYTbl.yt = "FI";
                        verYTbl.yk = "FI";
                        return [4 /*yield*/, this.sqlexec.getExtOne(verYTbl.slT())];
                    case 20:
                        verYTbl = _h.sent();
                        deviceUUIDYTbl = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        deviceUUIDYTbl.yt = "DI";
                        deviceUUIDYTbl.yk = "DI";
                        return [4 /*yield*/, this.sqlexec.getExtOne(deviceUUIDYTbl.slT())];
                    case 21:
                        deviceUUIDYTbl = _h.sent();
                        hasDR = false;
                        drYTbl = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        drYTbl.yt = "DR";
                        drYTbl.yk = "DR";
                        return [4 /*yield*/, this.sqlexec.getExtOne(drYTbl.slT())];
                    case 22:
                        drYTbl = _h.sent();
                        hasDRP1 = false;
                        drp1YTbl = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        drp1YTbl.yt = "DRP1";
                        drp1YTbl.yk = "DRP1";
                        return [4 /*yield*/, this.sqlexec.getExtOne(drp1YTbl.slT())];
                    case 23:
                        drp1YTbl = _h.sent();
                        hasDJH = false;
                        djhYTbl = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        djhYTbl.yt = "DJH";
                        djhYTbl.yk = "DJH";
                        return [4 /*yield*/, this.sqlexec.getExtOne(djhYTbl.slT())];
                    case 24:
                        djhYTbl = _h.sent();
                        hasFOGHSECRET = false;
                        foghsecYTbl = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        foghsecYTbl.yt = "FOGHSECRET";
                        foghsecYTbl.yk = "FOGHSECRET";
                        return [4 /*yield*/, this.sqlexec.getExtOne(foghsecYTbl.slT())];
                    case 25:
                        foghsecYTbl = _h.sent();
                        hasFOGH = false;
                        foghYTbl = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        foghYTbl.yt = "FOGH";
                        foghYTbl.yk = "FOGH";
                        return [4 /*yield*/, this.sqlexec.getExtOne(foghYTbl.slT())];
                    case 26:
                        foghYTbl = _h.sent();
                        hasFOGHINS = false;
                        foghinsYTbl = new Array();
                        sfoghinsYTbl = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        sfoghinsYTbl.yt = "FOGH_INS";
                        return [4 /*yield*/, this.sqlexec.getExtList(sfoghinsYTbl.slT())];
                    case 27:
                        foghinsYTbl = _h.sent();
                        hasFOGHINSSHARE = false;
                        foghinsshareYTbl = new Array();
                        sfoghinsshareYTbl = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        sfoghinsshareYTbl.yt = "FOGH_INS_SHARE";
                        return [4 /*yield*/, this.sqlexec.getExtList(sfoghinsshareYTbl.slT())];
                    case 28:
                        foghinsshareYTbl = _h.sent();
                        hasFOGHININS = false;
                        foghininsYTbl = new Array();
                        sfoghininsYTbl = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        sfoghininsYTbl.yt = "FOGHIN_INS";
                        return [4 /*yield*/, this.sqlexec.getExtList(sfoghininsYTbl.slT())];
                    case 29:
                        foghininsYTbl = _h.sent();
                        hasFOGHININSFROM = false;
                        foghininsfromYTbl = new Array();
                        sfoghininsfromYTbl = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        sfoghininsfromYTbl.yt = "FOGHIN_INS_FROM";
                        return [4 /*yield*/, this.sqlexec.getExtList(sfoghininsfromYTbl.slT())];
                    case 30:
                        foghininsfromYTbl = _h.sent();
                        hasFOFIR = false;
                        fofirYTbl = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        fofirYTbl.yt = "FOFIR";
                        fofirYTbl.yk = "FOFIR";
                        return [4 /*yield*/, this.sqlexec.getExtOne(fofirYTbl.slT())];
                    case 31:
                        fofirYTbl = _h.sent();
                        hasFOFIRINS = false;
                        fofirinsYTbl = new Array();
                        sfofirinsYTbl = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        sfofirinsYTbl.yt = "FOFIR_INS";
                        return [4 /*yield*/, this.sqlexec.getExtList(sfofirinsYTbl.slT())];
                    case 32:
                        fofirinsYTbl = _h.sent();
                        hasFOFIRINSSHARE = false;
                        fofirinsshareYTbl = new Array();
                        sfofirinsshareYTbl = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        sfofirinsshareYTbl.yt = "FOFIR_INS_SHARE";
                        return [4 /*yield*/, this.sqlexec.getExtList(sfofirinsshareYTbl.slT())];
                    case 33:
                        fofirinsshareYTbl = _h.sent();
                        hasFOFIRININS = false;
                        fofirininsYTbl = new Array();
                        sfofirininsYTbl = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        sfofirininsYTbl.yt = "FOFIRIN_INS";
                        return [4 /*yield*/, this.sqlexec.getExtList(sfofirininsYTbl.slT())];
                    case 34:
                        fofirininsYTbl = _h.sent();
                        hasFOFIRININSFROM = false;
                        fofirininsfromYTbl = new Array();
                        sfofirininsfromYTbl = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        sfofirininsfromYTbl.yt = "FOFIRIN_INS_FROM";
                        return [4 /*yield*/, this.sqlexec.getExtList(sfofirininsfromYTbl.slT())];
                    case 35:
                        fofirininsfromYTbl = _h.sent();
                        y = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        return [4 /*yield*/, this.sqlexec.delete(y)];
                    case 36:
                        _h.sent();
                        for (j = 0, len = outRecoverPro.y.length; j < len; j++) {
                            yi = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                            Object.assign(yi, outRecoverPro.y[j]);
                            // 忽略备份数据中的客户端版本参数和设备ID,备份的时候不需要过滤这两个数据
                            if (yi.yt == "FI" || yi.yk == "FI" || yi.yk == "DI")
                                continue;
                            if (yi.yk == "DR")
                                hasDR = true;
                            if (yi.yk == "DRP1")
                                hasDRP1 = true;
                            if (yi.yk == "DJH")
                                hasDJH = true;
                            if (yi.yk == "FOGHSECRET")
                                hasFOGHSECRET = true;
                            if (yi.yk == "FOGH")
                                hasFOGH = true;
                            if (yi.yt == "FOGH_INS")
                                hasFOGHINS = true;
                            if (yi.yt == "FOGH_INS_SHARE")
                                hasFOGHINSSHARE = true;
                            if (yi.yt == "FOGHIN_INS")
                                hasFOGHININS = true;
                            if (yi.yt == "FOGHIN_INS_FROM")
                                hasFOGHININSFROM = true;
                            if (yi.yk == "FOFIR")
                                hasFOFIR = true;
                            if (yi.yt == "FOFIR_INS")
                                hasFOFIRINS = true;
                            if (yi.yt == "FOFIR_INS_SHARE")
                                hasFOFIRINS = true;
                            if (yi.yt == "FOFIRIN_INS")
                                hasFOFIRININS = true;
                            if (yi.yt == "FOFIRIN_INS_FROM")
                                hasFOFIRININSFROM = true;
                            sqls.push(yi.inT());
                        }
                        bkVerY = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        if (verYTbl) {
                            Object.assign(bkVerY, verYTbl);
                            sqls.push(bkVerY.inT());
                        }
                        bkUUIDY = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                        if (deviceUUIDYTbl) {
                            Object.assign(bkUUIDY, deviceUUIDYTbl);
                            sqls.push(bkUUIDY.inT());
                        }
                        // 恢复版本5未备份个性化参数
                        if (!hasDR) {
                            bkDRY = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                            Object.assign(bkDRY, drYTbl);
                            sqls.push(bkDRY.inT());
                        }
                        if (!hasDRP1) {
                            bkDRP1Y = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                            Object.assign(bkDRP1Y, drp1YTbl);
                            sqls.push(bkDRP1Y.inT());
                        }
                        if (!hasDJH) {
                            bkDJHY = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                            Object.assign(bkDJHY, djhYTbl);
                            sqls.push(bkDJHY.inT());
                        }
                        //GitHUB参数
                        if (!hasFOGHSECRET) {
                            bkFOGHSECRET = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                            Object.assign(bkFOGHSECRET, foghsecYTbl);
                            sqls.push(bkFOGHSECRET.inT());
                        }
                        if (!hasFOGH) {
                            bkFOGH = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                            Object.assign(bkFOGH, foghYTbl);
                            sqls.push(bkFOGH.inT());
                        }
                        if (!hasFOGHINS) {
                            for (_i = 0, foghinsYTbl_1 = foghinsYTbl; _i < foghinsYTbl_1.length; _i++) {
                                foghin = foghinsYTbl_1[_i];
                                bkFOGHINS = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                                Object.assign(bkFOGHINS, foghin);
                                this.sqlexec.prepareSave(bkFOGHINS);
                            }
                        }
                        if (!hasFOGHINSSHARE) {
                            for (_a = 0, foghinsshareYTbl_1 = foghinsshareYTbl; _a < foghinsshareYTbl_1.length; _a++) {
                                foghinshare = foghinsshareYTbl_1[_a];
                                bkFOGHINSSHARE = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                                Object.assign(bkFOGHINSSHARE, foghinshare);
                                this.sqlexec.prepareSave(bkFOGHINSSHARE);
                            }
                        }
                        if (!hasFOGHININS) {
                            for (_b = 0, foghininsYTbl_1 = foghininsYTbl; _b < foghininsYTbl_1.length; _b++) {
                                foghinin = foghininsYTbl_1[_b];
                                bkFOGHININS = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                                Object.assign(bkFOGHININS, foghinin);
                                this.sqlexec.prepareSave(bkFOGHININS);
                            }
                        }
                        if (!hasFOGHININSFROM) {
                            for (_c = 0, foghininsfromYTbl_1 = foghininsfromYTbl; _c < foghininsfromYTbl_1.length; _c++) {
                                foghininfrom = foghininsfromYTbl_1[_c];
                                bkFOGHININSFROM = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                                Object.assign(bkFOGHININSFROM, foghininfrom);
                                this.sqlexec.prepareSave(bkFOGHININSFROM);
                            }
                        }
                        //FIR.IM参数
                        if (!hasFOFIR) {
                            bkFOFIR = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                            Object.assign(bkFOFIR, fofirYTbl);
                            sqls.push(bkFOFIR.inT());
                        }
                        if (!hasFOFIRINS) {
                            for (_d = 0, fofirinsYTbl_1 = fofirinsYTbl; _d < fofirinsYTbl_1.length; _d++) {
                                fofirin = fofirinsYTbl_1[_d];
                                bkFOFIRINS = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                                Object.assign(bkFOFIRINS, fofirin);
                                this.sqlexec.prepareSave(bkFOFIRINS);
                            }
                        }
                        if (!hasFOFIRINSSHARE) {
                            for (_e = 0, fofirinsshareYTbl_1 = fofirinsshareYTbl; _e < fofirinsshareYTbl_1.length; _e++) {
                                fofirinshare = fofirinsshareYTbl_1[_e];
                                bkFOFIRINSSHARE = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                                Object.assign(bkFOFIRINSSHARE, fofirinshare);
                                this.sqlexec.prepareSave(bkFOFIRINSSHARE);
                            }
                        }
                        if (!hasFOFIRININS) {
                            for (_f = 0, fofirininsYTbl_1 = fofirininsYTbl; _f < fofirininsYTbl_1.length; _f++) {
                                fofirinin = fofirininsYTbl_1[_f];
                                bkFOFIRININS = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                                Object.assign(bkFOFIRININS, fofirinin);
                                this.sqlexec.prepareSave(bkFOFIRININS);
                            }
                        }
                        if (!hasFOFIRININSFROM) {
                            for (_g = 0, fofirininsfromYTbl_1 = fofirininsfromYTbl; _g < fofirininsfromYTbl_1.length; _g++) {
                                fofirininfrom = fofirininsfromYTbl_1[_g];
                                bkFOFIRININSFROM = new __WEBPACK_IMPORTED_MODULE_16__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
                                Object.assign(bkFOFIRININSFROM, fofirininfrom);
                                this.sqlexec.prepareSave(bkFOFIRININSFROM);
                            }
                        }
                        return [4 /*yield*/, this.sqlexec.batExecSql(sqls)];
                    case 37:
                        _h.sent();
                        sqls.length = 0;
                        //联系人的更新信息操作
                        return [4 /*yield*/, this.contactsServ.updateFs()];
                    case 38:
                        //联系人的更新信息操作
                        _h.sent();
                        //刷新缓存数据
                        return [4 /*yield*/, this.userConfig.RefreshYTbl()];
                    case 39:
                        //刷新缓存数据
                        _h.sent();
                        //await this.userConfig.RefreshFriend();
                        // 刷新日历和一览
                        this.emitService.emitRef('');
                        return [2 /*return*/];
                }
            });
        });
    };
    BrService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__service_restful_bacsev__["a" /* BacRestful */], __WEBPACK_IMPORTED_MODULE_3__service_util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_12__service_util_service_util_service__["a" /* UtilService */], __WEBPACK_IMPORTED_MODULE_15__service_cordova_contacts_service__["a" /* ContactsService */],
            __WEBPACK_IMPORTED_MODULE_13__service_config_user_config__["b" /* UserConfig */], __WEBPACK_IMPORTED_MODULE_17__service_util_service_emit_service__["a" /* EmitService */]])
    ], BrService);
    return BrService;
}());

var PageBrDataPro = (function () {
    function PageBrDataPro() {
        //画面时间戳
        this.bts = "";
        //页面时间
        this.dt = "";
    }
    return PageBrDataPro;
}());

//# sourceMappingURL=br.service.js.map

/***/ }),
/* 166 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ModalBoxComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_cordova_assistant_service__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__data_enum__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_settings_settings__ = __webpack_require__(92);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





/**
 * Generated class for the ScrollSelectComponent component.
 *
 * See https://angular.io/api/core/Component for more info on Angular
 * Components.
 */
var ModalBoxComponent = (function () {
    function ModalBoxComponent(events, renderer2, assistantService, settings) {
        this.events = events;
        this.renderer2 = renderer2;
        this.assistantService = assistantService;
        this.settings = settings;
        this.title = "";
        this.enableEdit = true;
        this.buttons = {
            remove: false,
            share: false,
            save: false,
            record: false,
            refresh: false,
            create: false,
            speaker: false,
            cancel: true
        };
        this.onSave = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onCancel = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onCreate = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onRecord = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onSpeaker = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onRefresh = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        settings.setStatusBarColor(__WEBPACK_IMPORTED_MODULE_3__data_enum__["z" /* StatusType */].page);
    }
    ModalBoxComponent.prototype.setBoxContent = function () {
        var height = this.modalcontent._scrollContent.nativeElement.clientHeight;
        this.renderer2.setStyle(this.modalcontent._scrollContent.nativeElement, "height", height + "px");
        this.renderer2.setStyle(this.modalcontent._scrollContent.nativeElement, "overflow-y", height + "hidden");
        this.renderer2.setStyle(this.modalcontent._fixedContent.nativeElement, "height", height + "px");
        this.renderer2.setStyle(this.modalcontent._fixedContent.nativeElement, "overflow-y", height + "hidden");
    };
    ModalBoxComponent.prototype.save = function () {
        this.onSave.emit(this);
    };
    ModalBoxComponent.prototype.cancel = function () {
        this.onCancel.emit(this);
    };
    ModalBoxComponent.prototype.create = function () {
        this.onCreate.emit(this);
    };
    ModalBoxComponent.prototype.goRefresh = function () {
        this.onRefresh.emit(this);
    };
    ModalBoxComponent.prototype.record = function () {
        var _this = this;
        this.buttons.record = false;
        this.onRecord.emit("开始说话");
        this.assistantService.audio2Text(function (text) {
            _this.onRecord.emit(text);
        }, function () {
            _this.buttons.record = true;
        }, function () {
            _this.onRecord.emit("语音不可用");
            _this.buttons.record = true;
        });
    };
    ModalBoxComponent.prototype.goSpeaker = function () {
        var _this = this;
        this.assistantService.speakText(this.speakData).then(function () {
            _this.onSpeaker.emit(_this);
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], ModalBoxComponent.prototype, "title", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], ModalBoxComponent.prototype, "speakData", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Boolean)
    ], ModalBoxComponent.prototype, "enableEdit", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('modalcontent'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Content"])
    ], ModalBoxComponent.prototype, "modalcontent", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], ModalBoxComponent.prototype, "buttons", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], ModalBoxComponent.prototype, "onSave", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], ModalBoxComponent.prototype, "onCancel", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], ModalBoxComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], ModalBoxComponent.prototype, "onRecord", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], ModalBoxComponent.prototype, "onSpeaker", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], ModalBoxComponent.prototype, "onRefresh", void 0);
    ModalBoxComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'modal-box',
            template: "\n    <div class=\"box-modal\" >\n\n      <ion-header class=\"box-header\">\n        <ion-toolbar>\n          <ion-title>\n            {{title}}\n          </ion-title>\n          <div class=\"toolbar\">\n            <div (click)=\"record()\" *ngIf=\"buttons.record\">\n              <ion-icon class=\"fad fa-microphone\"></ion-icon>\n            </div>\n            <div (click)=\"goRemove()\" *ngIf=\"buttons.remove\">\n              <ion-icon class=\"far fa-eraser\"></ion-icon>\n            </div>\n            <div (click)=\"goRemove()\" *ngIf=\"buttons.share\">\n              <ion-icon class=\"far fa-share\"></ion-icon>\n            </div>\n            <div (click)=\"goRefresh()\" *ngIf=\"buttons.refresh\">\n              <ion-icon class=\"far fa-sync\"></ion-icon>\n            </div>\n            <div (click)=\"create()\" *ngIf=\"buttons.create\">\n              <ion-icon class=\"far fa-plus-square\"></ion-icon>\n            </div>\n            <div (click)=\"save()\" *ngIf=\"buttons.save\">\n              <ion-icon class=\"far fa-check\"></ion-icon>\n            </div>\n            <div  (click)=\"goSpeaker()\" *ngIf=\"buttons.speaker\">\n              <ion-icon class=\"far fa-ear\"></ion-icon>\n            </div>\n            <div (click)=\"cancel()\" *ngIf=\"buttons.cancel\">\n              <ion-icon class=\"far fa-times\"></ion-icon>\n            </div>\n          </div>\n        </ion-toolbar>\n      </ion-header>\n      <ion-content class=\"box-content\" #modalcontent>\n        <div class = \"disdiv\" [hidden]=\"enableEdit\" ></div>\n        <ng-content ></ng-content>\n      </ion-content>\n    </div>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Events"], __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"],
            __WEBPACK_IMPORTED_MODULE_2__service_cordova_assistant_service__["a" /* AssistantService */],
            __WEBPACK_IMPORTED_MODULE_4__providers_settings_settings__["a" /* SettingsProvider */]])
    ], ModalBoxComponent);
    return ModalBoxComponent;
}());

//# sourceMappingURL=modal-box.js.map

/***/ }),
/* 167 */,
/* 168 */,
/* 169 */,
/* 170 */,
/* 171 */,
/* 172 */,
/* 173 */,
/* 174 */,
/* 175 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BackComponentModule", function() { return BackComponentModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__back__ = __webpack_require__(1237);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var BackComponentModule = (function () {
    function BackComponentModule() {
    }
    BackComponentModule.forRoot = function () {
        return {
            ngModule: __WEBPACK_IMPORTED_MODULE_2__back__["a" /* BackComponent */]
        };
    };
    BackComponentModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__back__["a" /* BackComponent */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__back__["a" /* BackComponent */]),
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__back__["a" /* BackComponent */],
            ],
        })
    ], BackComponentModule);
    return BackComponentModule;
}());

//# sourceMappingURL=back.module.js.map

/***/ }),
/* 176 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CornerBadgeComponentModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__corner_badge__ = __webpack_require__(1238);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var CornerBadgeComponentModule = (function () {
    function CornerBadgeComponentModule() {
    }
    CornerBadgeComponentModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__corner_badge__["a" /* CornerBadgeComponent */]
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_2__corner_badge__["a" /* CornerBadgeComponent */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__corner_badge__["a" /* CornerBadgeComponent */])
            ],
            providers: [],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__corner_badge__["a" /* CornerBadgeComponent */],
            ],
            schemas: [__WEBPACK_IMPORTED_MODULE_0__angular_core__["CUSTOM_ELEMENTS_SCHEMA"]]
        })
    ], CornerBadgeComponentModule);
    return CornerBadgeComponentModule;
}());

//# sourceMappingURL=corner-badge.module.js.map

/***/ }),
/* 177 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DatePickerComponentModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__date_picker__ = __webpack_require__(260);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pipes_pipes_module__ = __webpack_require__(23);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var DatePickerComponentModule = (function () {
    function DatePickerComponentModule() {
    }
    DatePickerComponentModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__date_picker__["a" /* DatePickerComponent */],
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_2__date_picker__["a" /* DatePickerComponent */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_3__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__date_picker__["a" /* DatePickerComponent */])
            ],
            providers: [],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__date_picker__["a" /* DatePickerComponent */],
            ],
            schemas: [__WEBPACK_IMPORTED_MODULE_0__angular_core__["CUSTOM_ELEMENTS_SCHEMA"]]
        })
    ], DatePickerComponentModule);
    return DatePickerComponentModule;
}());

//# sourceMappingURL=date-picker.module.js.map

/***/ }),
/* 178 */,
/* 179 */,
/* 180 */,
/* 181 */,
/* 182 */,
/* 183 */,
/* 184 */,
/* 185 */,
/* 186 */,
/* 187 */,
/* 188 */,
/* 189 */,
/* 190 */,
/* 191 */,
/* 192 */,
/* 193 */,
/* 194 */,
/* 195 */,
/* 196 */,
/* 197 */,
/* 198 */,
/* 199 */,
/* 200 */,
/* 201 */,
/* 202 */,
/* 203 */,
/* 204 */,
/* 205 */,
/* 206 */,
/* 207 */,
/* 208 */,
/* 209 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AiComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ai_service__ = __webpack_require__(210);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_util_service_emit_service__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/**
 * Generated class for the HbPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var AiComponent = (function () {
    function AiComponent(aiService, _renderer, util, emitService, elementRef) {
        this.aiService = aiService;
        this._renderer = _renderer;
        this.util = util;
        this.emitService = emitService;
        this.elementRef = elementRef;
        this.ready = false;
        this.aiData1 = new __WEBPACK_IMPORTED_MODULE_1__ai_service__["a" /* AiData */]();
        this.aiData2 = new __WEBPACK_IMPORTED_MODULE_1__ai_service__["a" /* AiData */]();
        this.aiData3 = new __WEBPACK_IMPORTED_MODULE_1__ai_service__["a" /* AiData */]();
    }
    AiComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.emitService.registerScdLs(function (data) {
            _this.callbackScdLs(data);
        });
        this.emitService.registerSpeech(function (data) {
            _this.callbackSpeech(data);
        });
        this.emitService.registerScd(function (data) {
            _this.callbackScd(data);
        });
    };
    AiComponent.prototype.callbackScdLs = function (datas) {
        var _this = this;
        this.aiData2.copyto(this.aiData3);
        this.aiData1.copyto(this.aiData2);
        this.aiData1.clear();
        this.aiData1.speechAi = new __WEBPACK_IMPORTED_MODULE_1__ai_service__["f" /* SpeechAiData */]();
        this.aiData1.scdList = new __WEBPACK_IMPORTED_MODULE_1__ai_service__["e" /* ScdLsAiData */]();
        this.aiData1.scdList.desc = datas.desc;
        this.aiData1.scdList.scdTip = datas.scdTip;
        for (var _i = 0, _a = datas.datas; _i < _a.length; _i++) {
            var scdEmData = _a[_i];
            var aiData = new __WEBPACK_IMPORTED_MODULE_1__ai_service__["d" /* ScdAiData */]();
            aiData.ti = scdEmData.ti;
            aiData.d = scdEmData.d;
            aiData.t = scdEmData.t;
            aiData.id = scdEmData.id;
            aiData.gs = scdEmData.gs;
            this.aiData1.scdList.datas.push(aiData);
        }
        setTimeout(function () {
            _this.calcheight();
        }, 200);
    };
    AiComponent.prototype.callbackSpeech = function (datas) {
        var _this = this;
        this.aiData2.copyto(this.aiData3);
        this.aiData1.copyto(this.aiData2);
        this.aiData1.clear();
        this.aiData1.speechAi = new __WEBPACK_IMPORTED_MODULE_1__ai_service__["f" /* SpeechAiData */]();
        this.aiData1.speechAi.org = datas.org;
        this.aiData1.speechAi.an = datas.an;
        setTimeout(function () {
            _this.calcheight();
        }, 200);
    };
    AiComponent.prototype.callbackScd = function (data) {
        var _this = this;
        this.aiData2.copyto(this.aiData3);
        this.aiData1.copyto(this.aiData2);
        this.aiData1.clear();
        this.aiData1.speechAi = new __WEBPACK_IMPORTED_MODULE_1__ai_service__["f" /* SpeechAiData */]();
        var scd1 = new __WEBPACK_IMPORTED_MODULE_1__ai_service__["d" /* ScdAiData */]();
        scd1.d = data.d;
        scd1.t = data.t;
        scd1.ti = data.ti;
        scd1.scdTip = data.scdTip;
        for (var _i = 0, _a = data.datas; _i < _a.length; _i++) {
            var femd = _a[_i];
            var ff = new __WEBPACK_IMPORTED_MODULE_1__ai_service__["c" /* FriendAiData */]();
            ff.m = femd.m;
            ff.id = femd.id;
            ff.a = femd.a;
            ff.n = femd.n;
            ff.p = femd.p;
            ff.uid = femd.uid;
            scd1.friends.push(femd);
        }
        this.aiData1.scd = scd1;
        setTimeout(function () {
            _this.calcheight();
        }, 200);
    };
    AiComponent.prototype.closePage = function () {
        // this._renderer.setStyle(this.aiWarp.nativeElement, "transform", "translateY(-9999px)");
        // this._renderer.setStyle(this.aiWarpback.nativeElement, "transform", "translateY(-9999px)");
        this.aiData1 = new __WEBPACK_IMPORTED_MODULE_1__ai_service__["a" /* AiData */]();
        this.aiData2 = new __WEBPACK_IMPORTED_MODULE_1__ai_service__["a" /* AiData */]();
        this.aiData3 = new __WEBPACK_IMPORTED_MODULE_1__ai_service__["a" /* AiData */]();
        // this._renderer.setStyle(this.close.nativeElement, "transform", "translateY(-9999px)");
    };
    AiComponent.prototype.calcheight = function () {
        // this._renderer.setStyle(this.aiWarp.nativeElement, "transform", "translateY(0px)");
        // this._renderer.setStyle(this.aiWarpback.nativeElement, "transform", "translateY(0px)");
        // this._renderer.setStyle(this.close.nativeElement, "transform", "translateY(-0px)");
        var winhi = window.innerHeight;
        var aiWarpHi = winhi - 125;
        var top = -125 - aiWarpHi;
        // this._renderer.setStyle(this.aiWarp.nativeElement, "top", top + "px");
        // this._renderer.setStyle(this.aiWarpback.nativeElement, "top", top + "px");
        // this._renderer.setStyle(this.aiWarp.nativeElement, "height", aiWarpHi + "px");
        // this._renderer.setStyle(this.aiWarpback.nativeElement, "height", aiWarpHi + "px");
        //this._renderer.
        // console.log("card1" + this.card1.nativeElement.clientHeight)
        // console.log("card2" +this.card2.nativeElement.clientHeight)
        // console.log("card3" +this.card3.nativeElement.clientHeight)
        var card1h = this.card1 ? this.card1.nativeElement.clientHeight : 0;
        var card2h = this.card2 ? this.card2.nativeElement.clientHeight : 0;
        var card3h = this.card3 ? this.card3.nativeElement.clientHeight : 0;
        var cardTop = card1h + card2h + card3h;
        top = aiWarpHi - cardTop - 45;
        if (card1h > aiWarpHi || card2h > aiWarpHi || card3h > aiWarpHi) {
            top = 0;
        }
        //
        if (this.card1)
            this._renderer.setStyle(this.card1.nativeElement, "top", top + "px");
        if (this.card2)
            this._renderer.setStyle(this.card2.nativeElement, "top", top + "px");
        if (this.card3)
            this._renderer.setStyle(this.card3.nativeElement, "top", top + "px");
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("aiWarp"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], AiComponent.prototype, "aiWarp", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("aiWarpback"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], AiComponent.prototype, "aiWarpback", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("card1"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], AiComponent.prototype, "card1", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("card2"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], AiComponent.prototype, "card2", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("card3"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], AiComponent.prototype, "card3", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("close"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], AiComponent.prototype, "close", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])("ready"),
        __metadata("design:type", Boolean)
    ], AiComponent.prototype, "ready", void 0);
    AiComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'AiComponent',
            template: "\n      <div class=\"aiWarp\" #aiWarp>\n        <ion-card class=\"card\" #card3 *ngIf=\"aiData3\">\n          <AiChildenComponent [aiData] = \"aiData3\"></AiChildenComponent>\n        </ion-card>\n        <ion-card class=\"card\" #card2 *ngIf=\"aiData2\">\n          <AiChildenComponent [aiData] = \"aiData2\"></AiChildenComponent>\n        </ion-card>\n        <ion-card class=\"card\" #card1 *ngIf=\"aiData1\">\n          <AiChildenComponent [aiData] = \"aiData1\"></AiChildenComponent>\n        </ion-card>\n      </div>\n      <!--<div class=\"aiWarpBack\" #aiWarpback>-->\n      <!--</div>-->\n      <!--<ion-icon name=\"backspace\" (click)=\"rad()\" class=\"backspace\"></ion-icon>-->\n      <!--<ion-icon name=\"close\" (click)=\"closePage()\" class=\"close\" #close></ion-icon>-->\n    <PointComponent *ngIf=\"ready\"></PointComponent>\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__ai_service__["b" /* AiService */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"],
            __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_3__service_util_service_emit_service__["a" /* EmitService */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"]])
    ], AiComponent);
    return AiComponent;
}());

//# sourceMappingURL=ai.js.map

/***/ }),
/* 210 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return AiService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AiData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return ScdLsAiData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return ScdAiData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return FriendAiData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return SpeechAiData; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__data_mapping__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_cordova_assistant_service__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_pagecom_pgbusi_service__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__pages_fs_fs_service__ = __webpack_require__(53);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







var AiService = (function () {
    function AiService(modalController, assistantService, pgBusiService, fsService) {
        this.modalController = modalController;
        this.assistantService = assistantService;
        this.pgBusiService = pgBusiService;
        this.fsService = fsService;
    }
    AiService.prototype.speakScd = function (scds) {
        var speak = "";
        var i = 0;
        var prevdate = '';
        for (i = 0; i < scds.datas.length; i++) {
            var scd = scds.datas[i];
            var currdate = __WEBPACK_IMPORTED_MODULE_1_moment__(scd.d).format("YYYY年MM月DD日");
            var broadcast = false;
            if (prevdate == '' || currdate != prevdate) {
                prevdate = currdate;
                broadcast = true;
            }
            speak = speak + "第" + (i + 1) + "个活动 " + (broadcast ? currdate : '') + (scd.t == '99:99' ? ' ' : scd.t) + scd.ti;
        }
        this.assistantService.speakText(speak);
    };
    AiService.prototype.go2tdc = function (scd) {
        var paramter = new __WEBPACK_IMPORTED_MODULE_2__data_mapping__["r" /* ScdPageParamter */]();
        paramter.t = scd.t;
        paramter.d = __WEBPACK_IMPORTED_MODULE_1_moment__(scd.d);
        paramter.sn = scd.ti;
        // this.modalController.create(DataConfig.PAGE._TDC_PAGE, paramter).present();
    };
    AiService.prototype.createScd = function (scd) {
        return __awaiter(this, void 0, void 0, function () {
            var rcIn, _i, _a, f, fs;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        rcIn = new __WEBPACK_IMPORTED_MODULE_2__data_mapping__["p" /* RcInParam */]();
                        rcIn.sn = scd.ti;
                        rcIn.st = scd.t;
                        rcIn.sd = scd.d;
                        for (_i = 0, _a = scd.friends; _i < _a.length; _i++) {
                            f = _a[_i];
                            fs = new __WEBPACK_IMPORTED_MODULE_2__data_mapping__["c" /* FsData */]();
                            fs.ui = f.uid;
                            fs.ran = f.n;
                            fs.pwi = f.id;
                            fs.rc = f.m;
                            fs.ranpy = f.p;
                            rcIn.fss.push(fs);
                        }
                        return [4 /*yield*/, this.pgBusiService.saveOrUpdate(rcIn)];
                    case 1: return [2 /*return*/, _b.sent()];
                }
            });
        });
    };
    AiService.prototype.showScd = function (scd) {
        var p = new __WEBPACK_IMPORTED_MODULE_2__data_mapping__["r" /* ScdPageParamter */]();
        p.si = scd.id;
        p.d = __WEBPACK_IMPORTED_MODULE_1_moment__(scd.d);
        p.gs = scd.gs;
        var gs = scd.gs;
        if (!scd.id) {
            this.go2tdc(scd);
            return;
        }
        if (gs == "0") {
            //本人画面
            // this.modalController.create(DataConfig.PAGE._TDDJ_PAGE, p).present();
        }
        else if (gs == "1") {
            //受邀人画面
            // this.modalController.create(DataConfig.PAGE._TDDI_PAGE, p).present();
        }
        else {
            //系统画面
            // this.modalController.create(DataConfig.PAGE._TDDS_PAGE, p).present();
        }
    };
    AiService.prototype.countDay = function (day) {
        var date = __WEBPACK_IMPORTED_MODULE_1_moment__(day);
        var str = '今天';
        var nowDate = __WEBPACK_IMPORTED_MODULE_1_moment__(__WEBPACK_IMPORTED_MODULE_1_moment__(new Date()).format("YYYY/MM/DD"));
        var days = date.diff(nowDate, 'days');
        if (days == 0) {
            str = '今天';
        }
        else if (days == 1) {
            str = '明天';
        }
        else if (days == 2) {
            str = '后天';
        }
        else if (days == -1) {
            str = '昨天';
        }
        else if (days == -2) {
            str = '前天';
        }
        else if (days <= -3) {
            str = 'day';
        }
        return str;
    };
    AiService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3_ionic_angular__["ModalController"],
            __WEBPACK_IMPORTED_MODULE_4__service_cordova_assistant_service__["a" /* AssistantService */],
            __WEBPACK_IMPORTED_MODULE_5__service_pagecom_pgbusi_service__["a" /* PgBusiService */],
            __WEBPACK_IMPORTED_MODULE_6__pages_fs_fs_service__["a" /* FsService */]])
    ], AiService);
    return AiService;
}());

var AiData = (function () {
    function AiData() {
    }
    AiData.prototype.clear = function () {
        this.speechAi = null;
        this.scdList = null;
        this.scd = null;
    };
    AiData.prototype.copyto = function (target) {
        target.clear();
        target.scd = this.scd;
        target.scdList = this.scdList;
        target.speechAi = this.speechAi;
    };
    return AiData;
}());

var ScdLsAiData = (function () {
    function ScdLsAiData() {
        this.desc = "";
        this.scdTip = "";
        this.datas = new Array();
    }
    return ScdLsAiData;
}());

var ScdAiData = (function () {
    function ScdAiData() {
        this.id = "";
        this.d = "";
        this.t = "";
        this.ti = "";
        this.gs = "";
        this.saved = false;
        this.scdTip = "";
        this.friends = new Array();
    }
    return ScdAiData;
}());

var FriendAiData = (function () {
    function FriendAiData() {
        this.id = "";
        this.n = "";
        this.m = "";
        this.p = "";
        this.a = "";
        this.uid = "";
    }
    return FriendAiData;
}());

var SpeechAiData = (function () {
    function SpeechAiData() {
        this.an = "";
        this.org = "";
    }
    return SpeechAiData;
}());

//# sourceMappingURL=ai.service.js.map

/***/ }),
/* 211 */,
/* 212 */,
/* 213 */,
/* 214 */,
/* 215 */,
/* 216 */,
/* 217 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SqliteConfig; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ionic_native_sqlite__ = __webpack_require__(496);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_service_util_service__ = __webpack_require__(4);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * create by on 2019/3/5
 */
var SqliteConfig = (function () {
    function SqliteConfig(sqlite, util) {
        this.sqlite = sqlite;
        this.util = util;
        this._win = window; //window对象
    }
    Object.defineProperty(SqliteConfig.prototype, "database", {
        get: function () {
            return this._database;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * 创建数据库
     */
    SqliteConfig.prototype.generateDb = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            console.log(" start create Db mingWX.db");
            if (_this.util.isMobile()) {
                _this.sqlite.create({
                    name: 'mingWX.db',
                    location: 'default'
                }).then(function (db) {
                    console.log(" create Db success");
                    _this._database = db;
                    resolve();
                }).catch(function (e) {
                    console.log(" create Db fail：" + e.message);
                    reject();
                });
            }
            else {
                //H5数据库存储
                _this._database = _this._win.openDatabase("mingWX.db", '1.0', 'database', 20 * 1024 * 1024); //声明H5 数据库大小
                console.log(" create H5 Db success");
                resolve();
            }
        });
    };
    SqliteConfig = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__ionic_native_sqlite__["a" /* SQLite */],
            __WEBPACK_IMPORTED_MODULE_2__util_service_util_service__["a" /* UtilService */]])
    ], SqliteConfig);
    return SqliteConfig;
}());

//# sourceMappingURL=sqlite.config.js.map

/***/ }),
/* 218 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CalendarMonth; });
/* unused harmony export CalendarResult */
/* unused harmony export CalendarComponentMonthChange */
var CalendarMonth = (function () {
    function CalendarMonth() {
    }
    return CalendarMonth;
}());

var CalendarResult = (function () {
    function CalendarResult() {
    }
    return CalendarResult;
}());

var CalendarComponentMonthChange = (function () {
    function CalendarComponentMonthChange() {
    }
    return CalendarComponentMonthChange;
}());

//# sourceMappingURL=calendar.model.js.map

/***/ }),
/* 219 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LocalcalendarService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ionic_native_calendar__ = __webpack_require__(501);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_service_util_service__ = __webpack_require__(4);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * 页面ts传值(Calendar)
 * create by wzy on 2018/05/28.
 */
var LocalcalendarService = (function () {
    function LocalcalendarService(calendar, util) {
        this.calendar = calendar;
        this.util = util;
    }
    /**
     * 查询本地日历所有日程
     * @returns {Promise<any>}
     */
    LocalcalendarService.prototype.findEvent = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            console.log("执行查询本地日历");
            _this.calendar.findEvent("", "", "", new Date("2000-01-01"), new Date()).then(function (msg) {
                console.log("执行查询本地日历结束 data :: " + JSON.stringify(msg));
                console.log("getCalendarOptions::" + JSON.stringify(_this.calendar.getCalendarOptions()));
                resolve(msg);
            }, function (err) {
                console.log("执行查询本地日历结束 err ::" + JSON.stringify(err));
                reject(err);
            });
        });
    };
    /**
     * 查询本地日历所有日程
     * @returns {Promise<any>}
     */
    LocalcalendarService.prototype.findEventRc = function (tit, sd, ed) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            //ed = ed.add(1,'d');
            var rco = new Array();
            if (_this.util.isMobile()) {
                _this.calendar.findEvent(tit, "", "", sd.toDate(), ed.add(1, "d").toDate()).then(function (msg) {
                    //TODO 本地日历问题很多，先注释
                    // if(msg.length>0){
                    //   for(let i=0;i<msg.length;i++) {
                    //     let rc:ScdData = new ScdData();
                    //     rc.ui = UserConfig.account.id;
                    //     rc.sn = msg[i].title;
                    //     if (msg[i].allday) {
                    //       if (msg[i].startDate) {
                    //         rc.sd = msg[i].startDate.substr(0, 10).replace(new RegExp('-','g'),'/');
                    //         rc.st = "99:99";
                    //       }
                    //       if (msg[i].endDate) {
                    //         rc.ed = msg[i].endDate.substr(0, 10).replace(new RegExp('-','g'),'/');
                    //         rc.et =  "99:99";
                    //       }
                    //       if (msg[i].startDate && !msg[i].endDate) {
                    //         rc.ed = rc.sd;
                    //         rc.et = "99:99";
                    //       }
                    //       if (!msg[i].startDate && msg[i].endDate) {
                    //         rc.sd = rc.ed;
                    //         rc.st = "99:99";
                    //       }
                    //     } else {
                    //       if (msg[i].startDate) {
                    //         rc.sd = msg[i].startDate.substr(0, 10).replace(new RegExp('-','g'),'/');
                    //         rc.st = msg[i].startDate.substr(11, 5);
                    //       }
                    //       if (msg[i].endDate) {
                    //         rc.ed = msg[i].endDate.substr(0, 10).replace(new RegExp('-','g'),'/');
                    //         rc.et = msg[i].endDate.substr(11, 5);
                    //       }
                    //       if (msg[i].startDate && !msg[i].endDate) {
                    //         rc.ed = rc.sd;
                    //         rc.et = "24:00";
                    //       }
                    //       if (!msg[i].startDate && msg[i].endDate) {
                    //         rc.sd = rc.ed;
                    //         rc.st = "00:00";
                    //       }
                    //     }
                    //     rc.ib = '1';
                    //     rc.gs='2';
                    //     rco.push(rc);
                    //   }
                    // }
                    resolve(rco);
                }, function (err) {
                    resolve(rco);
                });
            }
            else {
                resolve(rco);
            }
        });
    };
    LocalcalendarService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__ionic_native_calendar__["a" /* Calendar */], __WEBPACK_IMPORTED_MODULE_2__util_service_util_service__["a" /* UtilService */]])
    ], LocalcalendarService);
    return LocalcalendarService;
}());

//# sourceMappingURL=localcalendar.service.js.map

/***/ }),
/* 220 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["f"] = assertNotEqual;
/* harmony export (immutable) */ __webpack_exports__["b"] = assertEqual;
/* harmony export (immutable) */ __webpack_exports__["k"] = assertTrue;
/* harmony export (immutable) */ __webpack_exports__["d"] = assertFalse;
/* harmony export (immutable) */ __webpack_exports__["h"] = assertNotNumber;
/* harmony export (immutable) */ __webpack_exports__["j"] = assertNumber;
/* harmony export (immutable) */ __webpack_exports__["a"] = assertEmpty;
/* harmony export (immutable) */ __webpack_exports__["e"] = assertNotEmpty;
/* harmony export (immutable) */ __webpack_exports__["i"] = assertNull;
/* harmony export (immutable) */ __webpack_exports__["g"] = assertNotNull;
/* harmony export (immutable) */ __webpack_exports__["c"] = assertFail;
/* unused harmony export assert */
/** @hidden */
function assertNotEqual(src, dest, msg) {
    if (msg === void 0) { msg = "Assert Not Equal Error."; }
    if (src !== dest) {
        throw new Error(msg);
    }
}
/** @hidden */
function assertEqual(src, dest, msg) {
    if (msg === void 0) { msg = "Assert Equal Error."; }
    if (src === dest) {
        throw new Error(msg);
    }
}
/** @hidden */
function assertTrue(src, msg) {
    if (msg === void 0) { msg = "Assert True Error."; }
    if (src) {
        throw new Error(msg);
    }
}
/** @hidden */
function assertFalse(src, msg) {
    if (msg === void 0) { msg = "Assert False Error."; }
    if (!src) {
        throw new Error(msg);
    }
}
/** @hidden */
function assertNotNumber(src, msg) {
    if (msg === void 0) { msg = "Assert Not Number Error."; }
    if (isNaN(Number(src))) {
        throw new Error(msg);
    }
}
/** @hidden */
function assertNumber(src, msg) {
    if (msg === void 0) { msg = "Assert Number Error."; }
    if (!isNaN(Number(src))) {
        throw new Error(msg);
    }
}
/** @hidden */
function assertEmpty(src, msg) {
    if (msg === void 0) { msg = "Assert Empty Error."; }
    if (!src) {
        throw new Error(msg);
    }
}
/** @hidden */
function assertNotEmpty(src, msg) {
    if (msg === void 0) { msg = "Assert Empty Error."; }
    if (src) {
        throw new Error(msg);
    }
}
/** @hidden */
function assertNull(src, msg) {
    if (msg === void 0) { msg = "Assert Null Error."; }
    if (src == null || src == "undefined") {
        throw new Error(msg);
    }
}
/** @hidden */
function assertNotNull(src, msg) {
    if (msg === void 0) { msg = "Assert Null Error."; }
    if (src != null && src != "undefined") {
        throw new Error(msg);
    }
}
/** @hidden */
function assertFail(msg) {
    if (msg === void 0) { msg = "Assert Fail Error."; }
    throw new Error(msg);
}
/** @hidden */
var ASSERT_ENABLED = true;
/** @hidden */
function _assert(actual, reason) {
    if (!actual && ASSERT_ENABLED === true) {
        var message = 'MWXING ASSERT: ' + reason;
        console.error(message);
        debugger; // tslint:disable-line
        throw new Error(message);
    }
}
/** @hidden */

//# sourceMappingURL=util.js.map

/***/ }),
/* 221 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EvTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/3/5
 */
var EvTbl = (function () {
    function EvTbl() {
    }
    EvTbl.prototype.cTParam = function () {
        var sq = "create table if not exists gtd_ev( evi varchar(50) PRIMARY KEY ,\n          evn varchar(50)  ,ui varchar(50)  ,mi varchar(50)  ,evd varchar(20)  ,evt varchar(20)  ,\n          rtevi varchar(50)  ,ji varchar(50)  ,bz varchar(50)  ,type varchar(4)  ,\n          tx varchar(50)  ,txs varchar(50)  ,rt varchar(50)  ,rts varchar(50)  ,\n          fj varchar(50)  ,pn integer  ,md varchar(4)  ,iv varchar(4)  ,sr varchar(50)  ,\n          wtt integer  ,utt integer  ,gs varchar(4)  ,tb varchar(6)  ,wc varchar(6)  ,todolist varchar(6)  ,invitestatus varchar(6)  ,\n          del varchar(6),rfg varchar(6),adr varchar(6)\n          ,adrx integer\n          ,adry integer\n        );";
        return sq;
    };
    EvTbl.prototype.upTParam = function () {
        var sq = '';
        var params = new Array();
        if (this.evn != null && this.evn != "") {
            sq = sq + ', evn= ? ';
            params.push(this.evn);
        }
        if (this.ui != null && this.ui != "") {
            sq = sq + ', ui= ? ';
            params.push(this.ui);
        }
        if (this.mi != null && this.mi != "") {
            sq = sq + ', mi= ? ';
            params.push(this.mi);
        }
        if (this.evd != null && this.evd != "") {
            sq = sq + ', evd= ? ';
            params.push(this.evd);
        }
        if (this.evt != null && this.evt != "") {
            sq = sq + ', evt= ? ';
            params.push(this.evt);
        }
        if (this.rtevi != null) {
            sq = sq + ', rtevi= ? ';
            params.push(this.rtevi);
        }
        if (this.ji != null && this.ji != "") {
            sq = sq + ', ji= ? ';
            params.push(this.ji);
        }
        if (this.bz != null && this.bz != '') {
            sq = sq + ', bz= ? ';
            params.push(this.bz);
        }
        if (this.type != null && this.type != '') {
            sq = sq + ', type= ? ';
            params.push(this.type);
        }
        if (this.tx != null && this.tx != '') {
            sq = sq + ', tx= ? ';
            params.push(this.tx);
        }
        if (this.txs != null && this.txs != '') {
            sq = sq + ', txs= ? ';
            params.push(this.txs);
        }
        if (this.rt != null && this.rt != '') {
            sq = sq + ', rt= ? ';
            params.push(this.rt);
        }
        if (this.rts != null && this.rts != '') {
            sq = sq + ', rts= ? ';
            params.push(this.rts);
        }
        if (this.fj != null && this.fj != '') {
            sq = sq + ', fj= ? ';
            params.push(this.fj);
        }
        if (this.pn != null) {
            sq = sq + ', pn= ? ';
            params.push(this.pn);
        }
        if (this.md != null && this.md != '') {
            sq = sq + ', md= ? ';
            params.push(this.md);
        }
        if (this.iv != null && this.iv != '') {
            sq = sq + ', iv= ? ';
            params.push(this.iv);
        }
        if (this.sr != null && this.sr != '') {
            sq = sq + ', sr= ? ';
            params.push(this.sr);
        }
        if (this.gs != null && this.gs != '') {
            sq = sq + ', gs= ? ';
            params.push(this.gs);
        }
        if (this.tb != null && this.tb != '') {
            sq = sq + ', tb= ? ';
            params.push(this.tb);
        }
        if (this.wc != null && this.wc != '') {
            sq = sq + ', wc= ? ';
            params.push(this.wc);
        }
        if (this.todolist != null && this.todolist != '') {
            sq = sq + ', todolist= ? ';
            params.push(this.todolist);
        }
        if (this.invitestatus != null && this.invitestatus != '') {
            sq = sq + ', invitestatus= ? ';
            params.push(this.invitestatus);
        }
        if (this.del != null && this.del != '') {
            sq = sq + ', del= ? ';
            params.push(this.del);
        }
        if (this.rfg != null && this.rfg != '') {
            sq = sq + ', rfg= ? ';
            params.push(this.rfg);
        }
        if (this.adr != null && this.adr != '') {
            sq = sq + ', adr= ? ';
            params.push(this.adr);
        }
        if (this.adrx != null) {
            sq = sq + ', adrx= ? ';
            params.push(this.adrx);
        }
        if (this.adry != null) {
            sq = sq + ', adry= ? ';
            params.push(this.adry);
        }
        sq = "update gtd_ev set wtt = " + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + "  " + sq + " where evi = ? ;";
        params.push(this.evi);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    EvTbl.prototype.dTParam = function () {
        var sq = 'delete from gtd_ev where 1=1 ';
        var params = new Array();
        if (this.evi != null && this.evi != "") {
            sq = sq + 'and  evi = ? ';
            params.push(this.evi);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    EvTbl.prototype.sloTParam = function () {
        var params = new Array();
        var sq = 'select * from gtd_ev where evi = ?  ;';
        params.push(this.evi);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    EvTbl.prototype.slTParam = function () {
        var params = new Array();
        var sq = 'select * from  gtd_ev where  1=1 ';
        if (this.evn != null && this.evn != "") {
            sq = sq + ' and evn= ? ';
            params.push(this.evn);
        }
        if (this.ui != null && this.ui != "") {
            sq = sq + ' and ui= ? ';
            params.push(this.ui);
        }
        if (this.mi != null && this.mi != "") {
            sq = sq + ' and mi= ? ';
            params.push(this.mi);
        }
        if (this.evd != null && this.evd != "") {
            sq = sq + ' and evd= ? ';
            params.push(this.evd);
        }
        if (this.evt != null && this.evt != "") {
            sq = sq + ' and evt= ? ';
            params.push(this.evt);
        }
        if (this.rtevi != null && this.rtevi != "") {
            sq = sq + ' and rtevi= ? ';
            params.push(this.rtevi);
        }
        if (this.ji != null && this.ji != "") {
            sq = sq + ' and ji= ? ';
            params.push(this.ji);
        }
        if (this.bz != null && this.bz != '') {
            sq = sq + ' and bz= ? ';
            params.push(this.bz);
        }
        if (this.type != null && this.type != '') {
            sq = sq + ' and type= ? ';
            params.push(this.type);
        }
        if (this.txs != null && this.txs != '') {
            sq = sq + ' and txs= ? ';
            params.push(this.txs);
        }
        if (this.rts != null && this.rts != '') {
            sq = sq + ' and rts= ? ';
            params.push(this.rts);
        }
        if (this.fj != null && this.fj != '') {
            sq = sq + ' and fj= ? ';
            params.push(this.fj);
        }
        if (this.pn != null) {
            sq = sq + ' and pn= ? ';
            params.push(this.pn);
        }
        if (this.md != null && this.md != '') {
            sq = sq + ' and md= ? ';
            params.push(this.md);
        }
        if (this.iv != null && this.iv != '') {
            sq = sq + ' and iv= ? ';
            params.push(this.iv);
        }
        if (this.sr != null && this.sr != '') {
            sq = sq + ' and sr= ? ';
            params.push(this.sr);
        }
        if (this.gs != null && this.gs != '') {
            sq = sq + ' and gs= ? ';
            params.push(this.gs);
        }
        if (this.tb != null && this.tb != '') {
            sq = sq + ' and  tb= ? ';
            params.push(this.tb);
        }
        if (this.wc != null && this.wc != '') {
            sq = sq + ' and  wc= ? ';
            params.push(this.wc);
        }
        if (this.todolist != null && this.todolist != '') {
            sq = sq + ' and  todolist= ? ';
            params.push(this.todolist);
        }
        if (this.invitestatus != null && this.invitestatus != '') {
            sq = sq + ' and  invitestatus= ? ';
            params.push(this.invitestatus);
        }
        if (this.del != null && this.del != '') {
            sq = sq + ' and del= ? ';
            params.push(this.del);
        }
        if (this.rfg != null && this.rfg != '') {
            sq = sq + ' and rfg= ? ';
            params.push(this.rfg);
        }
        if (this.adr != null && this.adr != '') {
            sq = sq + ' and adr= ? ';
            params.push(this.adr);
        }
        if (this.adrx != null) {
            sq = sq + ' and adrx= ? ';
            params.push(this.adrx);
        }
        if (this.adry != null) {
            sq = sq + ' and adry= ? ';
            params.push(this.adry);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    EvTbl.prototype.drTParam = function () {
        var sq = 'drop table if exists gtd_ev;';
        return sq;
    };
    EvTbl.prototype.inTParam = function () {
        var params = new Array();
        var sq = "insert into gtd_ev\n       ( evi ,evn ,ui ,mi ,evd ,evt ,rtevi ,ji ,bz ,\n       type ,tx ,txs ,rt ,rts ,fj ,pn ,md ,iv ,\n       sr ,wtt ,utt ,gs,tb,wc,todolist,invitestatus,del,rfg,adr,adrx,adry)\n       values( ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?);";
        params.push(this.evi);
        params.push(this.evn);
        params.push(this.ui);
        params.push(this.mi);
        params.push(this.evd);
        params.push(this.evt);
        params.push(this.rtevi);
        params.push(this.ji);
        params.push(this.nll2str(this.bz));
        params.push(this.type);
        params.push(this.tx);
        params.push(this.nll2str(this.txs));
        params.push(this.rt);
        params.push(this.nll2str(this.rts));
        params.push(this.fj);
        params.push(this.pn);
        params.push(this.md);
        params.push(this.iv);
        params.push(this.sr);
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(this.gs);
        params.push(this.tb);
        params.push(this.wc);
        params.push(this.todolist);
        params.push(this.invitestatus);
        params.push(this.del);
        params.push(this.rfg);
        params.push(this.adr);
        params.push(this.adrx);
        params.push(this.adry);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    EvTbl.prototype.rpTParam = function () {
        var params = new Array();
        var sq = "replace into gtd_ev\n       ( evi ,evn ,ui ,mi ,evd ,evt ,rtevi ,ji ,bz ,\n       type ,tx ,txs ,rt ,rts ,fj ,pn ,md ,iv ,\n       sr ,wtt ,utt ,gs,tb,wc,todolist,invitestatus,del,rfg,adr,adrx,adry)\n       values( ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?);";
        params.push(this.evi);
        params.push(this.evn);
        params.push(this.ui);
        params.push(this.mi);
        params.push(this.evd);
        params.push(this.evt);
        params.push(this.rtevi);
        params.push(this.ji);
        params.push(this.nll2str(this.bz));
        params.push(this.type);
        params.push(this.tx);
        params.push(this.nll2str(this.txs));
        params.push(this.rt);
        params.push(this.nll2str(this.rts));
        params.push(this.fj);
        params.push(this.pn);
        params.push(this.md);
        params.push(this.iv);
        params.push(this.sr);
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(this.gs);
        params.push(this.tb);
        params.push(this.wc);
        params.push(this.todolist);
        params.push(this.invitestatus);
        params.push(this.del);
        params.push(this.rfg);
        params.push(this.adr);
        params.push(this.adrx);
        params.push(this.adry);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    EvTbl.prototype.fastParam = function () {
        var params = new Array();
        params.push(this.evi);
        params.push(this.evn);
        params.push(this.ui);
        params.push(this.mi);
        params.push(this.evd);
        params.push(this.evt);
        params.push(this.rtevi);
        params.push(this.ji);
        params.push(this.nll2str(this.bz));
        params.push(this.type);
        params.push(this.tx);
        params.push(this.nll2str(this.txs));
        params.push(this.rt);
        params.push(this.nll2str(this.rts));
        params.push(this.fj);
        params.push(this.pn);
        params.push(this.md);
        params.push(this.iv);
        params.push(this.sr);
        params.push(this.wtt ? this.wtt : __WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(this.gs);
        params.push(this.tb);
        params.push(this.wc);
        params.push(this.todolist);
        params.push(this.invitestatus);
        params.push(this.del);
        params.push(this.rfg);
        params.push(this.adr);
        params.push(this.adrx);
        params.push(this.adry);
        return ["replace into gtd_ev (\n        evi,\n        evn,\n        ui,\n        mi,\n        evd,\n        evt,\n        rtevi,\n        ji,\n        bz,\n        type,\n        tx,\n        txs,\n        rt,\n        rts,\n        fj,\n        pn,\n        md,\n        iv,\n        sr,\n        wtt,\n        utt,\n        gs,\n        tb,\n        wc,\n        todolist,\n        invitestatus,\n        del,\n        rfg,\n        adr,\n        adrx,\n        adry\n      )",
            "select ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?",
            params
        ];
    };
    EvTbl.prototype.nll2str = function (ob) {
        if (ob == null || !ob) {
            return "";
        }
        else {
            return ob;
        }
    };
    return EvTbl;
}());

//# sourceMappingURL=ev.tbl.js.map

/***/ }),
/* 222 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ParTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/3/5
 */
var ParTbl = (function () {
    function ParTbl() {
    }
    ParTbl.prototype.fastParam = function () {
        var params = new Array();
        params.push(this.pari);
        params.push(this.pwi);
        params.push(this.ui);
        params.push(this.obt);
        params.push(this.obi);
        params.push(this.sa);
        params.push(this.sdt);
        params.push(this.tb);
        params.push(this.wc);
        params.push(this.del);
        params.push(this.wtt || __WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        return ["replace into gtd_par\n       (   pari ,pwi ,ui ,obt ,obi ,sa ,sdt ,tb ,wc ,del ,wtt ,utt)",
            "select ?,?,?,?,?,?,?,?,?,?,?,?",
            params];
    };
    ParTbl.prototype.cTParam = function () {
        var sq = "create table if not exists gtd_par(\n       pari varchar(50) PRIMARY KEY\n       ,pwi varchar(50)\n       ,ui varchar(50)\n       ,obt varchar(50)\n       ,obi varchar(50)\n       ,sa varchar(4)\n       ,sdt varchar(4)\n       ,tb varchar(6)\n       ,wc varchar(6)\n       ,del varchar(6)\n       ,wtt integer\n       ,utt integer\n     );";
        return sq;
    };
    ParTbl.prototype.upTParam = function () {
        var sq = '';
        var params = new Array();
        if (this.pwi != null && this.pwi != '') {
            sq = sq + ', pwi= ? ';
            params.push(this.pwi);
        }
        if (this.ui != null && this.ui != '') {
            sq = sq + ', ui= ? ';
            params.push(this.ui);
        }
        if (this.obt != null && this.obt != '') {
            sq = sq + ', obt= ? ';
            params.push(this.obt);
        }
        if (this.obi != null && this.obi != '') {
            sq = sq + ', obi= ? ';
            params.push(this.obi);
        }
        if (this.sa != null && this.sa != '') {
            sq = sq + ', sa= ? ';
            params.push(this.sa);
        }
        if (this.sdt != null && this.sdt != '') {
            sq = sq + ', sdt= ? ';
            params.push(this.sdt);
        }
        if (this.tb != null && this.tb != '') {
            sq = sq + ', tb= ? ';
            params.push(this.tb);
        }
        if (this.wc != null && this.wc != '') {
            sq = sq + ', wc= ? ';
            params.push(this.wc);
        }
        if (this.del != null && this.del != '') {
            sq = sq + ', del= ? ';
            params.push(this.del);
        }
        sq = "update gtd_par set utt =" + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + "  " + sq + " where pari = ? ;";
        params.push(this.pari);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    ParTbl.prototype.dTParam = function () {
        var sq = 'delete from gtd_par where 1=1 ';
        var params = new Array();
        if (this.pari != null && this.pari != "") {
            sq = sq + 'and  pari = ? ';
            params.push(this.pari);
        }
        if (this.obt != null && this.obt != "") {
            sq = sq + 'and  obt = ? ';
            params.push(this.obt);
        }
        if (this.obi != null && this.obi != "") {
            sq = sq + 'and  obi = ? ';
            params.push(this.obi);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    ParTbl.prototype.sloTParam = function () {
        var params = new Array();
        var sq = 'select * from gtd_par where pari = ?  ;';
        params.push(this.pari);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    ParTbl.prototype.slTParam = function () {
        var params = new Array();
        var sq = 'select * from  gtd_par where  1=1 ';
        if (this.pwi != null && this.pwi != '') {
            sq = sq + ' and pwi= ? ';
            params.push(this.pwi);
        }
        if (this.ui != null && this.ui != '') {
            sq = sq + ' and ui= ? ';
            params.push(this.ui);
        }
        if (this.obt != null && this.obt != '') {
            sq = sq + ' and obt= ? ';
            params.push(this.obt);
        }
        if (this.obi != null && this.obi != '') {
            sq = sq + ' and obi= ? ';
            params.push(this.obi);
        }
        if (this.sa != null && this.sa != '') {
            sq = sq + ' and sa= ? ';
            params.push(this.sa);
        }
        if (this.sdt != null && this.sdt != '') {
            sq = sq + ' and sdt= ? ';
            params.push(this.sdt);
        }
        if (this.tb != null && this.tb != '') {
            sq = sq + ' and tb= ? ';
            params.push(this.tb);
        }
        if (this.wc != null && this.wc != '') {
            sq = sq + ' and wc= ? ';
            params.push(this.wc);
        }
        if (this.del != null && this.del != '') {
            sq = sq + ' and del= ? ';
            params.push(this.del);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    ParTbl.prototype.drTParam = function () {
        var sq = 'drop table if exists gtd_par;';
        return sq;
    };
    ParTbl.prototype.inTParam = function () {
        var params = new Array();
        var sq = "insert into gtd_par\n       (   pari ,pwi ,ui ,obt ,obi ,sa ,sdt ,tb ,wc ,del ,wtt ,utt)\n       values(?,?,?,?,?,?,?,?,?,?,?,?);";
        params.push(this.pari);
        params.push(this.pwi);
        params.push(this.ui);
        params.push(this.obt);
        params.push(this.obi);
        params.push(this.sa);
        params.push(this.sdt);
        params.push(this.tb);
        params.push(this.wc);
        params.push(this.del);
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    ParTbl.prototype.rpTParam = function () {
        var params = new Array();
        var sq = "replace into gtd_par\n       (   pari ,pwi ,ui ,obt ,obi ,sa ,sdt ,tb ,wc ,del ,wtt ,utt)\n       values(?,?,?,?,?,?,?,?,?,?,?,?);";
        params.push(this.pari);
        params.push(this.pwi);
        params.push(this.ui);
        params.push(this.obt);
        params.push(this.obi);
        params.push(this.sa);
        params.push(this.sdt);
        params.push(this.tb);
        params.push(this.wc);
        params.push(this.del);
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    return ParTbl;
}());

//# sourceMappingURL=par.tbl.js.map

/***/ }),
/* 223 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return JhaTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/3/5
 */
var JhaTbl = (function () {
    function JhaTbl() {
    }
    JhaTbl.prototype.fastParam = function () {
        var params = new Array();
        params.push(this.ji);
        params.push(this.jn);
        params.push(this.jg);
        params.push(this.jc);
        params.push(this.jt);
        params.push(this.jtd);
        params.push(this.wtt ? this.wtt : __WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(this.tb);
        params.push(this.del);
        return ["replace into gtd_jha\n       (     ji ,jn ,jg ,jc ,jt ,jtd ,wtt ,utt,tb,del)",
            "select ?,?,?,?,?,?,?,?,?,?",
            params];
    };
    JhaTbl.prototype.cTParam = function () {
        var sq = "create table if not exists gtd_jha(\n       ji VARCHAR(50) PRIMARY KEY\n       ,jn VARCHAR(100)\n       ,jg VARCHAR(100)\n       ,jc VARCHAR(10)\n       ,jt VARCHAR(4)\n       ,jtd VARCHAR(4)\n       ,wtt integer\n       ,utt integer\n       ,tb varchar(6)\n       ,del varchar(6)\n     );";
        return sq;
    };
    JhaTbl.prototype.upTParam = function () {
        var sq = '';
        var params = new Array();
        if (this.jn != null && this.jn != '') {
            sq = sq + ', jn= ? ';
            params.push(this.jn);
        }
        if (this.jg != null && this.jg != '') {
            sq = sq + ', jg= ? ';
            params.push(this.jg);
        }
        if (this.jc != null && this.jc != '') {
            sq = sq + ', jc= ? ';
            params.push(this.jc);
        }
        if (this.jt != null && this.jt != '') {
            sq = sq + ', jt= ? ';
            params.push(this.jt);
        }
        if (this.jtd != null && this.jtd != '') {
            sq = sq + ', jtd= ? ';
            params.push(this.jtd);
        }
        if (this.tb != null && this.tb != '') {
            sq = sq + ', tb= ? ';
            params.push(this.tb);
        }
        if (this.del != null && this.del != '') {
            sq = sq + ', del= ? ';
            params.push(this.del);
        }
        sq = "update gtd_jha set utt =" + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + "  " + sq + " where ji = ? ;";
        params.push(this.ji);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    JhaTbl.prototype.dTParam = function () {
        var sq = 'delete from gtd_jha where 1=1 ';
        var params = new Array();
        if (this.ji != null && this.ji != "") {
            sq = sq + 'and  ji = ? ';
            params.push(this.ji);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    JhaTbl.prototype.sloTParam = function () {
        var params = new Array();
        var sq = 'select * from gtd_jha where ji = ?  ;';
        params.push(this.ji);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    JhaTbl.prototype.slTParam = function () {
        var params = new Array();
        var sq = 'select * from  gtd_jha where  1=1 ';
        if (this.jn != null && this.jn != '') {
            sq = sq + ' and  jn= ? ';
            params.push(this.jn);
        }
        if (this.jg != null && this.jg != '') {
            sq = sq + ' and jg= ? ';
            params.push(this.jg);
        }
        if (this.jc != null && this.jc != '') {
            sq = sq + ' and jc= ? ';
            params.push(this.jc);
        }
        if (this.jt != null && this.jt != '') {
            sq = sq + ' and jt= ? ';
            params.push(this.jt);
        }
        if (this.jtd != null && this.jtd != '') {
            sq = sq + ' and jtd= ? ';
            params.push(this.jtd);
        }
        if (this.tb != null && this.tb != '') {
            sq = sq + ' and tb= ? ';
            params.push(this.tb);
        }
        if (this.del != null && this.del != '') {
            sq = sq + ' and del= ? ';
            params.push(this.del);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    JhaTbl.prototype.drTParam = function () {
        var sq = 'drop table if exists gtd_jha;';
        return sq;
    };
    JhaTbl.prototype.inTParam = function () {
        var params = new Array();
        var sq = "insert into gtd_jha\n       (     ji ,jn ,jg ,jc ,jt ,jtd ,wtt ,utt,tb,del)\n       values(?,?,?,?,?,?," + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + "," + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ",?,?);";
        params.push(this.ji);
        params.push(this.jn);
        params.push(this.jg);
        params.push(this.jc);
        params.push(this.jt);
        params.push(this.jtd);
        params.push(this.tb);
        params.push(this.del);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    JhaTbl.prototype.rpTParam = function () {
        var params = new Array();
        var sq = "replace into gtd_jha\n       (     ji ,jn ,jg ,jc ,jt ,jtd ,wtt ,utt,tb,del)\n       values(?,?,?,?,?,?," + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + "," + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ",?,?);";
        params.push(this.ji);
        params.push(this.jn);
        params.push(this.jg);
        params.push(this.jc);
        params.push(this.jt);
        params.push(this.jtd);
        params.push(this.tb);
        params.push(this.del);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    return JhaTbl;
}());

//# sourceMappingURL=jha.tbl.js.map

/***/ }),
/* 224 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FjTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/3/5
 */
var FjTbl = (function () {
    function FjTbl() {
    }
    FjTbl.prototype.fastParam = function () {
        var params = new Array();
        params.push(this.fji);
        params.push(this.obt);
        params.push(this.obi);
        params.push(this.fjn);
        params.push(this.ext);
        params.push(this.ui);
        params.push(this.fj);
        params.push(this.tb);
        params.push(this.del);
        params.push(this.wtt || __WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        return ["replace into gtd_fj\n       (    fji ,obt ,obi ,fjn ,ext ,ui ,fj ,tb,del,wtt ,utt )",
            "select ?,?,?,?,?,?,?,?,?,?,?",
            params];
    };
    FjTbl.prototype.cTParam = function () {
        var sq = "create table if not exists gtd_fj(\n     fji varchar(50) PRIMARY KEY\n     ,obt varchar(50)\n     ,obi varchar(50)\n     ,fjn varchar(50)\n     ,ext varchar(50)\n     ,ui varchar(50)\n     ,fj varchar(50)\n      ,tb varchar(6)\n      ,del varchar(6)\n     ,wtt integer  ,utt integer\n     );";
        return sq;
    };
    FjTbl.prototype.upTParam = function () {
        var sq = '';
        var params = new Array();
        if (this.obt != null && this.obt != '') {
            sq = sq + ', obt= ? ';
            params.push(this.obt);
        }
        if (this.obi != null && this.obi != '') {
            sq = sq + ', obi= ? ';
            params.push(this.obi);
        }
        if (this.fjn != null && this.fjn != '') {
            sq = sq + ', fjn= ? ';
            params.push(this.fjn);
        }
        if (this.ext != null && this.ext != '') {
            sq = sq + ', ext= ? ';
            params.push(this.ext);
        }
        if (this.ui != null && this.ui != '') {
            sq = sq + ', ui= ? ';
            params.push(this.ui);
        }
        if (this.fj != null && this.fj != '') {
            sq = sq + ', fj= ? ';
            params.push(this.fj);
        }
        if (this.tb != null && this.tb != '') {
            sq = sq + ', tb= ? ';
            params.push(this.tb);
        }
        if (this.del != null && this.del != '') {
            sq = sq + ', del= ? ';
            params.push(this.del);
        }
        sq = "update gtd_fj set utt =" + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + "  " + sq + " where fji = ? ;";
        params.push(this.fji);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    FjTbl.prototype.dTParam = function () {
        var sq = 'delete from gtd_fj where 1=1 ';
        var params = new Array();
        if (this.fji != null && this.fji != "") {
            sq = sq + 'and  fji = ? ';
            params.push(this.fji);
        }
        if (this.obt != null && this.obt != "") {
            sq = sq + 'and  obt = ? ';
            params.push(this.obt);
        }
        if (this.obi != null && this.obi != "") {
            sq = sq + 'and  obi = ? ';
            params.push(this.obi);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    FjTbl.prototype.sloTParam = function () {
        var params = new Array();
        var sq = 'select * from gtd_fj where fji = ?  ;';
        params.push(this.fji);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    FjTbl.prototype.slTParam = function () {
        var params = new Array();
        var sq = 'select * from  gtd_fj where  1=1 ';
        if (this.obt != null && this.obt != '') {
            sq = sq + ' and obt= ? ';
            params.push(this.obt);
        }
        if (this.obi != null && this.obi != '') {
            sq = sq + ' and obi= ? ';
            params.push(this.obi);
        }
        if (this.fjn != null && this.fjn != '') {
            sq = sq + ' and fjn= ? ';
            params.push(this.fjn);
        }
        if (this.ext != null && this.ext != '') {
            sq = sq + ' and  ext= ? ';
            params.push(this.ext);
        }
        if (this.ui != null && this.ui != '') {
            sq = sq + ' and  ui= ? ';
            params.push(this.ui);
        }
        if (this.fj != null && this.fj != '') {
            sq = sq + ' and fj= ? ';
            params.push(this.fj);
        }
        if (this.tb != null && this.tb != '') {
            sq = sq + ' and tb= ? ';
            params.push(this.tb);
        }
        if (this.del != null && this.del != '') {
            sq = sq + ' and del= ? ';
            params.push(this.del);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    FjTbl.prototype.drTParam = function () {
        var sq = 'drop table if exists gtd_fj;';
        return sq;
    };
    FjTbl.prototype.inTParam = function () {
        var params = new Array();
        var sq = "insert into gtd_fj\n       (    fji ,obt ,obi ,fjn ,ext ,ui ,fj ,tb,del,wtt,utt)\n       values(?,?,?,?,?,?,?,?,?,?,?);";
        params.push(this.fji);
        params.push(this.obt);
        params.push(this.obi);
        params.push(this.fjn);
        params.push(this.ext);
        params.push(this.ui);
        params.push(this.fj);
        params.push(this.tb);
        params.push(this.del);
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    FjTbl.prototype.rpTParam = function () {
        var params = new Array();
        var sq = "replace into gtd_fj\n       (    fji ,obt ,obi ,fjn ,ext ,ui ,fj ,tb,del,wtt ,utt )\n       values(?,?,?,?,?,?,?,?,?,?,?);";
        params.push(this.fji);
        params.push(this.obt);
        params.push(this.obi);
        params.push(this.fjn);
        params.push(this.ext);
        params.push(this.ui);
        params.push(this.fj);
        params.push(this.tb);
        params.push(this.del);
        params.push(this.wtt || __WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    return FjTbl;
}());

//# sourceMappingURL=fj.tbl.js.map

/***/ }),
/* 225 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MomTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/3/5
 */
var MomTbl = (function () {
    function MomTbl() {
    }
    MomTbl.prototype.fastParam = function () {
        var params = new Array();
        params.push(this.moi);
        params.push(this.ji);
        params.push(this.sd || __WEBPACK_IMPORTED_MODULE_0_moment__().format('YYYY/MM/DD'));
        params.push(this.mon);
        params.push(this.mk);
        params.push(this.fj);
        params.push(this.tb);
        params.push(this.del);
        params.push(this.wtt || __WEBPACK_IMPORTED_MODULE_0_moment__().valueOf());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().valueOf());
        return ["replace into gtd_mom\n       (  moi ,ji ,sd,mon ,mk ,fj ,tb,del ,wtt ,utt)",
            "select ?,?,?,?,?,?,?,?,?,?",
            params];
    };
    MomTbl.prototype.cTParam = function () {
        var sq = "create table if not exists gtd_mom(\n     moi varchar(50) PRIMARY KEY\n     ,ji varchar(50)\n      ,sd varchar(50)\n     ,mon varchar(50)\n     ,mk varchar(50)\n     ,fj varchar(50)\n     ,tb varchar(6)\n     ,del varchar(6)\n     ,wtt integer\n     ,utt integer\n     );";
        return sq;
    };
    MomTbl.prototype.upTParam = function () {
        var sq = '';
        var params = new Array();
        if (this.ji != null && this.ji != '') {
            sq = sq + ', ji= ? ';
            params.push(this.ji);
        }
        if (this.sd != null && this.sd != '') {
            sq = sq + ', sd= ? ';
            params.push(this.sd);
        }
        if (this.mon != null && this.mon != '') {
            sq = sq + ', mon= ? ';
            params.push(this.mon);
        }
        if (this.mk != null && this.mk != '') {
            sq = sq + ', mk= ? ';
            params.push(this.mk);
        }
        if (this.fj != null && this.fj != '') {
            sq = sq + ', fj= ? ';
            params.push(this.fj);
        }
        if (this.tb != null && this.tb != '') {
            sq = sq + ', tb= ? ';
            params.push(this.tb);
        }
        if (this.del != null && this.del != '') {
            sq = sq + ', del= ? ';
            params.push(this.del);
        }
        sq = "update gtd_mom set sd = " + __WEBPACK_IMPORTED_MODULE_0_moment__().format('YYYY/MM/DD') + ",\n     utt =" + __WEBPACK_IMPORTED_MODULE_0_moment__().valueOf() + "  " + sq + " where moi = ? ;";
        params.push(this.moi);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    MomTbl.prototype.dTParam = function () {
        var sq = 'delete from gtd_mom where 1=1 ';
        var params = new Array();
        if (this.moi != null && this.moi != "") {
            sq = sq + 'and  moi = ? ';
            params.push(this.moi);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    MomTbl.prototype.sloTParam = function () {
        var params = new Array();
        var sq = 'select * from gtd_mom where moi = ?  ;';
        params.push(this.moi);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    MomTbl.prototype.slTParam = function () {
        var params = new Array();
        var sq = 'select * from  gtd_mom where  1=1 ';
        if (this.ji != null && this.ji != '') {
            sq = sq + ' and ji= ? ';
            params.push(this.ji);
        }
        if (this.sd != null && this.sd != '') {
            sq = sq + ' and sd= ? ';
            params.push(this.sd);
        }
        if (this.mon != null && this.mon != '') {
            sq = sq + ' and mon= ? ';
            params.push(this.mon);
        }
        if (this.mk != null && this.mk != '') {
            sq = sq + ' and mk= ? ';
            params.push(this.mk);
        }
        if (this.fj != null && this.fj != '') {
            sq = sq + ' and fj= ? ';
            params.push(this.fj);
        }
        if (this.tb != null && this.tb != '') {
            sq = sq + ' and tb= ? ';
            params.push(this.tb);
        }
        if (this.del != null && this.del != '') {
            sq = sq + 'and  del= ? ';
            params.push(this.del);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    MomTbl.prototype.drTParam = function () {
        var sq = 'drop table if exists gtd_mom;';
        return sq;
    };
    MomTbl.prototype.inTParam = function () {
        var params = new Array();
        var sq = "insert into gtd_mom\n       (  moi ,ji ,sd,mon ,mk ,fj ,tb,del,wtt ,utt)\n       values(?,?,?,?,?,?,?,?,?,?);";
        params.push(this.moi);
        params.push(this.ji);
        params.push(this.sd || __WEBPACK_IMPORTED_MODULE_0_moment__().format('YYYY/MM/DD'));
        params.push(this.mon);
        params.push(this.mk);
        params.push(this.fj);
        params.push(this.tb);
        params.push(this.del);
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().valueOf());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().valueOf());
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    MomTbl.prototype.rpTParam = function () {
        var params = new Array();
        var sq = "replace into gtd_mom\n       (  moi ,ji ,sd,mon ,mk ,fj ,tb,del ,wtt ,utt)\n       values(?,?,?,?,?,?,?,?,?,?);";
        params.push(this.moi);
        params.push(this.ji);
        params.push(this.sd || __WEBPACK_IMPORTED_MODULE_0_moment__().format('YYYY/MM/DD'));
        params.push(this.mon);
        params.push(this.mk);
        params.push(this.fj);
        params.push(this.tb);
        params.push(this.del);
        params.push(this.wtt || __WEBPACK_IMPORTED_MODULE_0_moment__().valueOf());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().valueOf());
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    return MomTbl;
}());

//# sourceMappingURL=mom.tbl.js.map

/***/ }),
/* 226 */,
/* 227 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ScheduleRemindService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_service__ = __webpack_require__(106);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__calendar_service__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__event_service__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__data_enum__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__restful_syncsev__ = __webpack_require__(112);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_moment__);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};











var ScheduleRemindService = (function (_super) {
    __extends(ScheduleRemindService, _super);
    function ScheduleRemindService(sqlExce, util, emitService, eventService, syncRestful, userConfig) {
        var _this = _super.call(this) || this;
        _this.sqlExce = sqlExce;
        _this.util = util;
        _this.emitService = emitService;
        _this.eventService = eventService;
        _this.syncRestful = syncRestful;
        _this.userConfig = userConfig;
        return _this;
    }
    /**
     * 同步指定数据或所有数据的计划提醒到服务器
     * 只同步未来48小时内的计划提醒
     *
     * @author leon_xi@163.com
     */
    ScheduleRemindService.prototype.syncScheduledReminds = function (datas, limit) {
        if (datas === void 0) { datas = new Array(); }
        if (limit === void 0) { limit = 48; }
        return __awaiter(this, void 0, void 0, function () {
            var limitms, schedulereminds, _loop_1, this_1, _i, datas_1, data, start, end, sql, reminds, _a, reminds_1, remind, _b, schedulereminds_1, schedule;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        this.assertEmpty(datas); // 入参不能为空
                        this.assertEmpty(limit); // 限制小时数不能为空
                        limitms = limit * 60 * 60 * 1000;
                        schedulereminds = new Array();
                        _loop_1 = function (data) {
                            var activityType = this_1.getActivityType(data);
                            var txjson = void 0;
                            switch (activityType) {
                                case "PlanItemData":
                                    var planitem_1 = {};
                                    Object.assign(planitem_1, data);
                                    txjson = Object(__WEBPACK_IMPORTED_MODULE_7__event_service__["g" /* generateTxJson */])(planitem_1.txjson, planitem_1.tx);
                                    var sd = planitem_1.sd;
                                    var st = planitem_1.st;
                                    txjson.each(sd, st, function (datetime) {
                                        var remindgap = __WEBPACK_IMPORTED_MODULE_10_moment__().diff(datetime);
                                        // 将来提醒，且在将来48小时以内
                                        if (remindgap <= 0 && (limitms + remindgap) >= 0) {
                                            schedulereminds.push({
                                                remindid: planitem_1.jti + __WEBPACK_IMPORTED_MODULE_10_moment__(datetime).format("YYYYMMDDHHmm"),
                                                wd: __WEBPACK_IMPORTED_MODULE_10_moment__(datetime).format("YYYY/MM/DD"),
                                                wt: __WEBPACK_IMPORTED_MODULE_10_moment__(datetime).format("HH:mm"),
                                                active: (planitem_1.del != __WEBPACK_IMPORTED_MODULE_8__data_enum__["d" /* DelType */].del),
                                                data: {
                                                    datatype: Object(__WEBPACK_IMPORTED_MODULE_6__calendar_service__["b" /* generateDataType */])(activityType),
                                                    datas: [{
                                                            accountid: __WEBPACK_IMPORTED_MODULE_5__config_user_config__["b" /* UserConfig */].account.id,
                                                            phoneno: __WEBPACK_IMPORTED_MODULE_5__config_user_config__["b" /* UserConfig */].account.phone,
                                                            id: planitem_1.jti,
                                                            continue: false,
                                                            wd: __WEBPACK_IMPORTED_MODULE_10_moment__(datetime).format("YYYY/MM/DD"),
                                                            wt: __WEBPACK_IMPORTED_MODULE_10_moment__(datetime).format("HH:mm"),
                                                        }]
                                                }
                                            });
                                        }
                                    });
                                    break;
                                case "AgendaData":
                                case "TaskData":
                                case "MiniTaskData":
                                    var event_1 = {};
                                    Object.assign(event_1, data);
                                    txjson = Object(__WEBPACK_IMPORTED_MODULE_7__event_service__["g" /* generateTxJson */])(event_1.txjson, event_1.tx);
                                    var evd = event_1.evd;
                                    var evt = event_1.evt;
                                    // 针对加入重要事项,且没有完成的日程,增加默认提醒
                                    if (event_1.todolist == __WEBPACK_IMPORTED_MODULE_8__data_enum__["D" /* ToDoListStatus */].On && event_1.wc != __WEBPACK_IMPORTED_MODULE_8__data_enum__["f" /* EventFinishStatus */].Finished) {
                                        var remindgap = __WEBPACK_IMPORTED_MODULE_10_moment__().diff(evd + " " + evt);
                                        // 预定完成时间比现在小，需要设置未来48小时内，不小于当前+1小时的默认提醒
                                        if (remindgap > 0) {
                                            while (remindgap > 0) {
                                                // 往后推迟4小时
                                                var after4hours = __WEBPACK_IMPORTED_MODULE_10_moment__(evd + " " + evt, "YYYY/MM/DD HH:mm").add(4, "hours");
                                                evd = after4hours.format("YYYY/MM/DD");
                                                evt = after4hours.format("HH:mm");
                                                // 判断不小于当前+1小时
                                                var plus1hours = __WEBPACK_IMPORTED_MODULE_10_moment__().add(1, "hours");
                                                if (plus1hours.diff(evd + " " + evt) <= 0) {
                                                    remindgap = __WEBPACK_IMPORTED_MODULE_10_moment__().diff(evd + " " + evt);
                                                }
                                            }
                                        }
                                        // 将来提醒，且在将来48小时以内
                                        if (remindgap <= 0 && (limitms + remindgap) >= 0) {
                                            schedulereminds.push({
                                                remindid: event_1.evi,
                                                wd: evd,
                                                wt: evt,
                                                active: (event_1.del != __WEBPACK_IMPORTED_MODULE_8__data_enum__["d" /* DelType */].del),
                                                data: {
                                                    datatype: Object(__WEBPACK_IMPORTED_MODULE_6__calendar_service__["b" /* generateDataType */])(activityType),
                                                    datas: [{
                                                            accountid: __WEBPACK_IMPORTED_MODULE_5__config_user_config__["b" /* UserConfig */].account.id,
                                                            phoneno: __WEBPACK_IMPORTED_MODULE_5__config_user_config__["b" /* UserConfig */].account.phone,
                                                            id: event_1.evi,
                                                            continue: true,
                                                            wd: evd,
                                                            wt: evt,
                                                        }]
                                                }
                                            });
                                        }
                                    }
                                    txjson.each(evd, evt, function (datetime) {
                                        var remindgap = __WEBPACK_IMPORTED_MODULE_10_moment__().diff(datetime);
                                        // 将来提醒，且在将来48小时以内
                                        if (remindgap <= 0 && (limitms + remindgap) >= 0) {
                                            schedulereminds.push({
                                                remindid: event_1.evi + __WEBPACK_IMPORTED_MODULE_10_moment__(datetime).format("YYYYMMDDHHmm"),
                                                wd: __WEBPACK_IMPORTED_MODULE_10_moment__(datetime).format("YYYY/MM/DD"),
                                                wt: __WEBPACK_IMPORTED_MODULE_10_moment__(datetime).format("HH:mm"),
                                                active: (event_1.del != __WEBPACK_IMPORTED_MODULE_8__data_enum__["d" /* DelType */].del),
                                                data: {
                                                    datatype: Object(__WEBPACK_IMPORTED_MODULE_6__calendar_service__["b" /* generateDataType */])(activityType),
                                                    datas: [{
                                                            accountid: __WEBPACK_IMPORTED_MODULE_5__config_user_config__["b" /* UserConfig */].account.id,
                                                            phoneno: __WEBPACK_IMPORTED_MODULE_5__config_user_config__["b" /* UserConfig */].account.phone,
                                                            id: event_1.evi,
                                                            continue: false,
                                                            wd: __WEBPACK_IMPORTED_MODULE_10_moment__(datetime).format("YYYY/MM/DD"),
                                                            wt: __WEBPACK_IMPORTED_MODULE_10_moment__(datetime).format("HH:mm"),
                                                        }]
                                                }
                                            });
                                        }
                                    });
                                    break;
                                default: return "continue"; // 提醒只有在日历项、日程、任务和小任务中存在
                            }
                        };
                        this_1 = this;
                        // 指定数据提醒上传服务器
                        for (_i = 0, datas_1 = datas; _i < datas_1.length; _i++) {
                            data = datas_1[_i];
                            _loop_1(data);
                        }
                        if (!(datas.length <= 0)) return [3 /*break*/, 2];
                        start = __WEBPACK_IMPORTED_MODULE_10_moment__().subtract(10, "minutes");
                        end = __WEBPACK_IMPORTED_MODULE_10_moment__().add(limit, "hours");
                        sql = "select case ev.type when '0' then 'AgendaData' when '1' then 'TaskData' else 'MiniTaskData' end type, wa.*\n                    from (select * from gtd_wa\n                    where tb <> ?1\n                      and obt = ?6\n                      and datetime(replace(wd, '/', '-'), wt) >= datetime(replace(?2, '/', '-'), ?3)\n                      and datetime(replace(wd, '/', '-'), wt) <= datetime(replace(?4, '/', '-'), ?5)) wa\n                    left join gtd_ev ev\n                    on ev.evi = wa.obi\n                  union all\n                    select 'PlanItemData' type, wa.*\n                    from (select * from gtd_wa\n                    where tb <> ?1\n                      and obt = ?7\n                      and datetime(replace(wd, '/', '-'), wt) >= datetime(replace(?2, '/', '-'), ?3)\n                      and datetime(replace(wd, '/', '-'), wt) <= datetime(replace(?4, '/', '-'), ?5)) wa\n                    left join gtd_jta jta\n                    on jta.jti = wa.obi";
                        return [4 /*yield*/, this.sqlExce.getExtLstByParam(sql, [
                                __WEBPACK_IMPORTED_MODULE_8__data_enum__["C" /* SyncType */].synch,
                                start.format("YYYY/MM/DD"),
                                start.format("HH:mm"),
                                end.format("YYYY/MM/DD"),
                                end.format("HH:mm"),
                                __WEBPACK_IMPORTED_MODULE_8__data_enum__["q" /* ObjectType */].Event,
                                __WEBPACK_IMPORTED_MODULE_8__data_enum__["q" /* ObjectType */].Calendar
                            ])];
                    case 1:
                        reminds = (_c.sent()) || new Array();
                        for (_a = 0, reminds_1 = reminds; _a < reminds_1.length; _a++) {
                            remind = reminds_1[_a];
                            schedulereminds.push({
                                remindid: remind.wai,
                                wd: remind.wd,
                                wt: remind.wt,
                                active: (remind.del != __WEBPACK_IMPORTED_MODULE_8__data_enum__["d" /* DelType */].del),
                                data: {
                                    datatype: Object(__WEBPACK_IMPORTED_MODULE_6__calendar_service__["b" /* generateDataType */])(remind.type),
                                    datas: [{
                                            accountid: __WEBPACK_IMPORTED_MODULE_5__config_user_config__["b" /* UserConfig */].account.id,
                                            phoneno: __WEBPACK_IMPORTED_MODULE_5__config_user_config__["b" /* UserConfig */].account.phone,
                                            id: remind.obi,
                                            continue: (remind.wai == remind.obi),
                                            wd: remind.wd,
                                            wt: remind.wt
                                        }]
                                }
                            });
                        }
                        _c.label = 2;
                    case 2:
                        _b = 0, schedulereminds_1 = schedulereminds;
                        _c.label = 3;
                    case 3:
                        if (!(_b < schedulereminds_1.length)) return [3 /*break*/, 6];
                        schedule = schedulereminds_1[_b];
                        return [4 /*yield*/, this.syncRestful.putScheduledRemind(__WEBPACK_IMPORTED_MODULE_5__config_user_config__["b" /* UserConfig */].account.id, schedule.remindid, schedule.wd, schedule.wt, schedule.data, schedule.active)];
                    case 4:
                        _c.sent();
                        _c.label = 5;
                    case 5:
                        _b++;
                        return [3 /*break*/, 3];
                    case 6: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 取得活动类型
     *
     * @author leon_xi@163.com
     **/
    ScheduleRemindService.prototype.getActivityType = function (source) {
        this.assertEmpty(source);
        var src = source;
        if (src.jti) {
            return "PlanItemData";
        }
        if (src.evi && src.type == __WEBPACK_IMPORTED_MODULE_8__data_enum__["g" /* EventType */].Agenda) {
            return "AgendaData";
        }
        if (src.evi && src.type == __WEBPACK_IMPORTED_MODULE_8__data_enum__["g" /* EventType */].Task) {
            return "TaskData";
        }
        if (src.evi && src.type == __WEBPACK_IMPORTED_MODULE_8__data_enum__["g" /* EventType */].MiniTask) {
            return "MiniTaskData";
        }
        if (src.moi) {
            return "MemoData";
        }
        this.assertFail();
    };
    ScheduleRemindService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_3__util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_4__util_service_emit_service__["a" /* EmitService */],
            __WEBPACK_IMPORTED_MODULE_7__event_service__["b" /* EventService */],
            __WEBPACK_IMPORTED_MODULE_9__restful_syncsev__["a" /* SyncRestful */],
            __WEBPACK_IMPORTED_MODULE_5__config_user_config__["b" /* UserConfig */]])
    ], ScheduleRemindService);
    return ScheduleRemindService;
}(__WEBPACK_IMPORTED_MODULE_1__base_service__["a" /* BaseService */]));

//# sourceMappingURL=remind.service.js.map

/***/ }),
/* 228 */,
/* 229 */,
/* 230 */,
/* 231 */,
/* 232 */,
/* 233 */,
/* 234 */,
/* 235 */,
/* 236 */,
/* 237 */,
/* 238 */,
/* 239 */,
/* 240 */,
/* 241 */,
/* 242 */,
/* 243 */,
/* 244 */,
/* 245 */,
/* 246 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CalendarController; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_calendar_service__ = __webpack_require__(144);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__calendar_animation__ = __webpack_require__(933);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var CalendarController = (function () {
    function CalendarController(modalCtrl, calSvc) {
        this.modalCtrl = modalCtrl;
        this.calSvc = calSvc;
    }
    CalendarController.create = function (cmp, plt) {
        return new __WEBPACK_IMPORTED_MODULE_3__calendar_animation__["a" /* CalendarAnimation */](plt, cmp);
    };
    /**
     * @deprecated
     * @param {CalendarModalOptions} calendarOptions
     * @param {ModalOptions} modalOptions
     * @returns {any}
     */
    CalendarController.prototype.openCalendar = function (calendarOptions, modalOptions) {
        if (modalOptions === void 0) { modalOptions = {}; }
        return null;
        //
        // let options = this.calSvc.safeOpt(calendarOptions);
        // let calendarModal = this.modalCtrl.create(CalendarModal, Object.assign({
        //   options: options
        // }, options), modalOptions);
        //
        // calendarModal.present();
        //
        // return new Promise((resolve, reject) => {
        //
        //   calendarModal.onDidDismiss((data: {}) => {
        //     if (data) {
        //       resolve(data);
        //     } else {
        //       reject('cancelled')
        //     }
        //   });
        // });
    };
    CalendarController = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"],
            __WEBPACK_IMPORTED_MODULE_2__services_calendar_service__["a" /* IonCalendarService */]])
    ], CalendarController);
    return CalendarController;
}());

//# sourceMappingURL=calendar.controller.js.map

/***/ }),
/* 247 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

var CTbl = (function () {
    function CTbl() {
        this.si = "";
        this.sn = "";
        this.ui = "";
        this.sd = "";
        this.st = "";
        this.ed = "";
        this.et = "";
        this.rt = "";
        this.ji = "";
        this.sr = "";
        this.bz = "";
        this.tx = "";
        this.wtt = 0;
        this.pni = "";
        this.du = "";
        //归属(gs)
        //0：本人创建
        //1：他人创建
        //2：系统本地日历
        //3: 系统计划优先级类型(不显示在日程一览)
        //4：系统计划无优先级(只显示在日程一览)
        //5: 备忘
        //6: 特殊数据（天气等,只在单日日程画面显示）
        this.gs = "";
    }
    CTbl.prototype.clp = function () {
        this.si = "";
        this.sn = "";
        this.ui = "";
        this.sd = "";
        this.st = "";
        this.ed = "";
        this.et = "";
        this.rt = "";
        this.ji = "";
        this.tx = "";
        this.pni = "";
        this.wtt = 0;
        this.du = "";
    };
    ;
    CTbl.prototype.cT = function () {
        var sq = ' create table if not exists gtd_c(  si varchar(50) primary key ,sn varchar(50)  ,ui varchar(50)  ,sd varchar(20)  ' +
            ',st varchar(20)  ,ed varchar(20)  ,et varchar(20)  ,rt varchar(4)  ,ji varchar(50),sr varchar(50),bz varchar(50),tx varcher(10),' +
            'wtt integer,pni varchar(50),du varchar(4),gs varchar(4));';
        return sq;
    };
    CTbl.prototype.upT = function () {
        var sq = '';
        if (this.sn != null && this.sn != "") {
            sq = sq + ', sn="' + this.sn + '"';
        }
        if (this.ui != null && this.ui != "") {
            sq = sq + ', ui="' + this.ui + '"';
        }
        if (this.sd != null && this.sd != "") {
            sq = sq + ', sd="' + this.sd + '"';
        }
        if (this.st != null && this.st != "") {
            sq = sq + ', st="' + this.st + '"';
        }
        if (this.ed != null && this.ed != "") {
            sq = sq + ', ed="' + this.ed + '"';
        }
        if (this.et != null && this.et != "") {
            sq = sq + ', et="' + this.et + '"';
        }
        if (this.rt != null && this.rt != "") {
            sq = sq + ', rt="' + this.rt + '"';
        }
        if (this.ji != null && this.ji != "") {
            sq = sq + ', ji="' + this.ji + '"';
        }
        if (this.sr != null && this.sr != "") {
            sq = sq + ', sr="' + this.sr + '"';
        }
        if (this.bz != null) {
            sq = sq + ', bz="' + this.bz + '"';
        }
        if (this.tx != null && this.tx != "") {
            sq = sq + ', tx="' + this.tx + '"';
        }
        if (this.pni != null && this.pni != "") {
            sq = sq + ', pni="' + this.pni + '"';
        }
        if (this.du != null && this.du != "") {
            sq = sq + ', du="' + this.du + '"';
        }
        if (this.gs != null && this.gs != "") {
            sq = sq + ', gs="' + this.gs + '"';
        }
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = 'update gtd_c set ' + sq + ' where si = "' + this.si + '";';
        return sq;
    };
    CTbl.prototype.dT = function () {
        var sq = 'delete from gtd_c where 1=1 ';
        if (this.si != null && this.si != "") {
            sq = sq + 'and  si ="' + this.si + '"';
        }
        if (this.ji != null && this.ji != "") {
            sq = sq + 'and  ji ="' + this.ji + '"';
        }
        sq = sq + ';';
        return sq;
    };
    CTbl.prototype.sloT = function () {
        var sq = 'select * from gtd_c where si = "' + this.si + '";';
        if (this.si && this.si != "") {
            // 查询本地日程
            sq = 'select * from gtd_c where si = "' + this.si + '";';
        }
        else if (this.sr && this.sr != "") {
            // 查询接收到的共享日程
            sq = 'select * from gtd_c where sr = "' + this.sr + '";';
        }
        return sq;
    };
    CTbl.prototype.slT = function () {
        var sq = 'select * from  gtd_c where  1=1 ';
        if (this.sn != null && this.sn != "") {
            sq = sq + ' and sn="' + this.sn + '"';
        }
        if (this.ui != null && this.ui != "") {
            sq = sq + ' and ui="' + this.ui + '"';
        }
        if (this.sd != null && this.sd != "") {
            sq = sq + ' and sd="' + this.sd + '"';
        }
        if (this.st != null && this.st != "") {
            sq = sq + ' and st="' + this.st + '"';
        }
        if (this.ed != null && this.ed != "") {
            sq = sq + ' and ed="' + this.ed + '"';
        }
        if (this.et != null && this.et != "") {
            sq = sq + ' and et="' + this.et + '"';
        }
        if (this.rt != null && this.rt != "") {
            sq = sq + ' and rt="' + this.rt + '"';
        }
        if (this.ji != null && this.ji != "") {
            sq = sq + ' and ji="' + this.ji + '"';
        }
        if (this.si != null && this.si != "") {
            sq = sq + ' and si="' + this.si + '"';
        }
        if (this.sr != null && this.sr != "") {
            sq = sq + ' and sr="' + this.sr + '"';
        }
        if (this.tx != null && this.tx != "") {
            sq = sq + ' and tx="' + this.tx + '"';
        }
        if (this.pni != null && this.pni != "") {
            sq = sq + ' and pni="' + this.pni + '"';
        }
        if (this.du != null && this.du != "") {
            sq = sq + ' and du="' + this.du + '"';
        }
        if (this.gs != null && this.gs != "") {
            sq = sq + ' and gs="' + this.gs + '"';
        }
        sq = sq + ';';
        return sq;
    };
    CTbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_c;';
        return sq;
    };
    CTbl.prototype.inT = function () {
        var sq = 'insert into gtd_c ' +
            '( si ,sn ,ui ,sd ,st ,ed ,et ,rt ,ji,sr,bz,tx,wtt,pni,du,gs) values("' + this.si + '","' + this.sn + '","' + this.ui + '"' +
            ',"' + this.sd + '","' + this.st + '","' + this.ed + '","' + this.et + '","' + this.rt + '","' + this.ji + '"' +
            ',"' + this.sr + '","' + this.nll2str(this.bz) + '","' + this.nll2str(this.tx) + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ',"' + this.pni + '","' + this.du + '"' +
            ',"' + this.gs + '");';
        return sq;
    };
    CTbl.prototype.rpT = function () {
        var sq = 'replace into gtd_c ' +
            '( si ,sn ,ui ,sd ,st ,ed ,et ,rt ,ji,sr,bz,tx,wtt,pni,du,gs) values("' + this.si + '","' + this.sn + '","' + this.ui + '"' +
            ',"' + this.sd + '","' + this.st + '","' + this.ed + '","' + this.et + '","' + this.rt + '","' + this.ji + '"' +
            ',"' + this.sr + '","' + this.nll2str(this.bz) + '","' + this.nll2str(this.tx) + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ',"' + this.pni + '","' + this.du + '"' +
            ',"' + this.gs + '");';
        return sq;
    };
    CTbl.prototype.nll2str = function (ob) {
        if (ob == null || !ob) {
            return "";
        }
        else {
            return ob;
        }
    };
    CTbl.prototype.preT = function () {
        var sq = 'insert into gtd_c ' +
            '( si ,sn ,ui ,sd ,st ,ed ,et ,rt ,ji,sr,bz,tx,wtt,pni,du,gs) values(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ', ?, ?, ?);';
        return sq;
    };
    return CTbl;
}());

//# sourceMappingURL=c.tbl.js.map

/***/ }),
/* 248 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return JhTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/3/5
 */
var JhTbl = (function () {
    function JhTbl() {
        this.ji = "";
        this.jn = "";
        this.jg = "";
        this.jc = "";
        this.jt = "";
        this.jtd = "";
        this.wtt = 0;
    }
    JhTbl.prototype.cT = function () {
        var sq = 'create table if not exists gtd_j_h(  ji varchar(50) primary key ,jn varchar(100)  ,jg varchar(100)' +
            ',jc varchar(10),jt varchar(4),jtd varchar(4),wtt integer);';
        return sq;
    };
    JhTbl.prototype.upT = function () {
        var sq = '';
        if (this.jn != null && this.jn != "") {
            sq = sq + ', jn="' + this.jn + '"';
        }
        if (this.jg != null && this.jg != "") {
            sq = sq + ', jg="' + this.jg + '"';
        }
        if (this.jc != null && this.jc != "") {
            sq = sq + ', jc="' + this.jc + '"';
        }
        if (this.jt != null && this.jt != "") {
            sq = sq + ', jt="' + this.jt + '"';
        }
        if (this.jtd != null && this.jtd != "") {
            sq = sq + ', jtd="' + this.jtd + '"';
        }
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = 'update gtd_j_h set  ' + sq + ' where ji = "' + this.ji + '";';
        return sq;
    };
    JhTbl.prototype.dT = function () {
        var sq = 'delete from gtd_j_h where 1=1 ';
        if (this.ji != null && this.ji != "") {
            sq = sq + 'and  ji ="' + this.ji + '"';
        }
        sq = sq + ';';
        return sq;
    };
    JhTbl.prototype.sloT = function () {
        var sq = 'select * from gtd_j_h where ji = "' + this.ji + '";';
        return sq;
    };
    JhTbl.prototype.slT = function () {
        var sq = 'select * from  gtd_j_h where  1=1 ';
        if (this.jn != null && this.jn != "") {
            sq = sq + ' and jn="' + this.jn + '"';
        }
        if (this.jg != null && this.jg != "") {
            sq = sq + ' and jg="' + this.jg + '"';
        }
        if (this.jc != null && this.jc != "") {
            sq = sq + ' and jc="' + this.jc + '"';
        }
        if (this.jt != null && this.jt != "") {
            sq = sq + ' and jt="' + this.jt + '"';
        }
        sq = sq + ';';
        return sq;
    };
    JhTbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_j_h;';
        return sq;
    };
    JhTbl.prototype.inT = function () {
        var sq = 'insert into gtd_j_h ' +
            '(  ji ,jn ,jg,jc,jt,jtd,wtt) values("' + this.ji + '","' + this.jn + '","' + this.jg + '","' + this.jc + '","' + this.jt + '","' + this.jtd + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    JhTbl.prototype.rpT = function () {
        var sq = 'replace into gtd_j_h ' +
            '(  ji ,jn ,jg,jc,jt,jtd,wtt) values("' + this.ji + '","' + this.jn + '","' + this.jg + '","' + this.jc + '",' + '"' + this.jt + '","' + this.jtd + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    JhTbl.prototype.preT = function () {
        var sq = 'insert into gtd_j_h ' +
            '(  ji ,jn ,jg,jc,jt,jtd,wtt) values(?, ?, ?, ?, ?, ?,' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    return JhTbl;
}());

//# sourceMappingURL=jh.tbl.js.map

/***/ }),
/* 249 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SpTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/3/5
 */
var SpTbl = (function () {
    function SpTbl() {
        this.spi = "";
        this.si = "";
        this.spn = "";
        this.sd = "";
        this.st = "";
        this.ed = "";
        this.et = "";
        this.ji = "";
        this.bz = "";
        this.sta = "";
        this.tx = "";
        this.wtt = 0;
        this.itx = 0;
    }
    SpTbl.prototype.cT = function () {
        var sq = ' create table if not exists gtd_sp(spi varchar(50) primary key ,si varchar(50)  ,' +
            'spn varchar(50)  ,sd varchar(20)' +
            '  ,st varchar(20)  ,ed varchar(20)  ,et varchar(20)  ,ji varchar(50)  ,bz varchar(50)  ,' +
            'sta varchar(4),tx varchar(4),wtt integer,itx integer);';
        return sq;
    };
    SpTbl.prototype.upT = function () {
        var sq = '';
        if (this.si != null && this.si != "") {
            sq = sq + ', si="' + this.si + '"';
        }
        if (this.spn != null && this.spn != "") {
            sq = sq + ', spn="' + this.spn + '"';
        }
        if (this.sd != null && this.sd != "") {
            sq = sq + ', sd="' + this.sd + '"';
        }
        if (this.st != null && this.st != "") {
            sq = sq + ', st="' + this.st + '"';
        }
        if (this.ed != null && this.ed != "") {
            sq = sq + ', ed="' + this.ed + '"';
        }
        if (this.et != null && this.et != "") {
            sq = sq + ', et="' + this.et + '"';
        }
        if (this.ji != null && this.ji != "") {
            sq = sq + ', ji="' + this.ji + '"';
        }
        if (this.bz != null) {
            sq = sq + ', bz="' + this.bz + '"';
        }
        if (this.sta != null && this.sta != "") {
            sq = sq + ', sta="' + this.sta + '"';
        }
        if (this.tx != null && this.tx != "") {
            sq = sq + ', tx="' + this.tx + '"';
        }
        if (this.itx != null) {
            sq = sq + ', itx=' + this.itx;
        }
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = 'update gtd_sp set  ' + sq + ' where spi = "' + this.spi + '";';
        return sq;
    };
    SpTbl.prototype.dT = function () {
        var sq = 'delete from gtd_sp where 1=1 ';
        if (this.spi != null && this.spi != "") {
            sq = sq + 'and  spi ="' + this.spi + '"';
        }
        if (this.si != null && this.si != "") {
            sq = sq + 'and  si ="' + this.si + '"';
        }
        if (this.ji != null && this.ji != "") {
            sq = sq + 'and  ji ="' + this.ji + '"';
        }
        sq = sq + ';';
        return sq;
    };
    SpTbl.prototype.sloT = function () {
        var sq = 'select * from gtd_sp where spi = "' + this.spi + '";';
        return sq;
    };
    SpTbl.prototype.slT = function () {
        var sq = 'select * from  gtd_sp where  1=1 ';
        if (this.si != null && this.si != "") {
            sq = sq + ' and si="' + this.si + '"';
        }
        if (this.spn != null && this.spn != "") {
            sq = sq + ' and spn="' + this.spn + '"';
        }
        if (this.sd != null && this.sd != "") {
            sq = sq + ' and sd="' + this.sd + '"';
        }
        if (this.st != null && this.st != "") {
            sq = sq + ' and st="' + this.st + '"';
        }
        if (this.ed != null && this.ed != "") {
            sq = sq + ' and ed="' + this.ed + '"';
        }
        if (this.et != null && this.et != "") {
            sq = sq + ' and et="' + this.et + '"';
        }
        if (this.ji != null && this.ji != "") {
            sq = sq + ' and ji="' + this.ji + '"';
        }
        if (this.bz != null && this.bz != "") {
            sq = sq + ' and bz="' + this.bz + '"';
        }
        if (this.sta != null && this.sta != "") {
            sq = sq + ' and sta="' + this.sta + '"';
        }
        if (this.spi != null && this.spi != "") {
            sq = sq + ' and spi="' + this.spi + '"';
        }
        if (this.tx != null && this.tx != "") {
            sq = sq + ' and tx="' + this.tx + '"';
        }
        sq = sq + ';';
        return sq;
    };
    SpTbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_sp;';
        return sq;
    };
    SpTbl.prototype.inT = function () {
        var sq = 'insert into gtd_sp ' +
            '( spi ,si ,spn ,sd ,st ,ed ,et ,ji ,bz ,sta,tx,wtt,itx) values("' + this.spi + '","' + this.si + '","' + this.spn + '"' +
            ',"' + this.sd + '","' + this.st + '","' + this.ed + '","' + this.et + '","' + this.ji + '","' + this.bz + '",' +
            '"' + this.sta + '","' + this.tx + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ',' + this.itx + ');';
        return sq;
    };
    SpTbl.prototype.rpT = function () {
        var sq = 'replace into gtd_sp ' +
            '( spi ,si ,spn ,sd ,st ,ed ,et ,ji ,bz ,sta,tx,wtt,itx) values("' + this.spi + '","' + this.si + '","' + this.spn + '"' +
            ',"' + this.sd + '","' + this.st + '","' + this.ed + '","' + this.et + '","' + this.ji + '","' + this.bz + '",' +
            '"' + this.sta + '","' + this.tx + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ',' + this.itx + ');';
        return sq;
    };
    SpTbl.prototype.preT = function () {
        var sq = 'insert into gtd_sp ' +
            '( spi ,si ,spn ,sd ,st ,ed ,et ,ji ,bz ,sta,tx,wtt,itx) values(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ', ?);';
        return sq;
    };
    return SpTbl;
}());

//# sourceMappingURL=sp.tbl.js.map

/***/ }),
/* 250 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AipPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__aip_service__ = __webpack_require__(550);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ai_answer_ai__ = __webpack_require__(209);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_in_app_browser__ = __webpack_require__(551);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_util_service_emit_service__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






/**
 * Generated class for the AlPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var AipPage = (function () {
    function AipPage(aipService, iab, navController, emitService) {
        this.aipService = aipService;
        this.iab = iab;
        this.navController = navController;
        this.emitService = emitService;
        this.aiready = true;
    }
    AipPage.prototype.goBack = function () {
        this.navController.pop();
    };
    AipPage.prototype.ngOnInit = function () {
        // websocket连接成功消息回调
        // this.emitService.register("on.websocket.connected", () => {
        //   this.aiready = true;
        //   DataConfig.RABBITMQ_STATUS = "connected";
        // });
        //
        // // websocket断开连接消息回调
        // this.emitService.register("on.websocket.closed", () => {
        //   this.aiready = false;
        //   DataConfig.RABBITMQ_STATUS = "";
        // });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('aiDiv'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3__components_ai_answer_ai__["a" /* AiComponent */])
    ], AipPage.prototype, "aiDiv", void 0);
    AipPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-aip',
            template: "\n    <ion-header no-border>\n      <ion-toolbar>\n        <ion-buttons left>\n          <button ion-button icon-only (click)=\"goBack()\" color=\"danger\">\n            <img class=\"img-header-left\" src=\"./assets/imgs/back-white.png\">\n          </button>\n        </ion-buttons>        \n      </ion-toolbar>\n    </ion-header>\n    <ion-content>\n      <BackComponent></BackComponent>\n      <AiComponent [ready]=\"aiready\" #aiDiv></AiComponent>\n    </ion-content>\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__aip_service__["a" /* AipService */],
            __WEBPACK_IMPORTED_MODULE_4__ionic_native_in_app_browser__["a" /* InAppBrowser */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_5__service_util_service_emit_service__["a" /* EmitService */]])
    ], AipPage);
    return AipPage;
}());

//# sourceMappingURL=aip.js.map

/***/ }),
/* 251 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TdlPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__tdl_service__ = __webpack_require__(552);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__data_mapping__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_cordova_feedback_service__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_business_calendar_service__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__service_business_event_service__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__data_enum__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__tdl_gestures__ = __webpack_require__(939);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__better_scroll_core__ = __webpack_require__(940);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__better_scroll_infinity__ = __webpack_require__(941);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
















__WEBPACK_IMPORTED_MODULE_14__better_scroll_core__["a" /* default */].use(__WEBPACK_IMPORTED_MODULE_15__better_scroll_infinity__["a" /* default */]);
/**
 * Generated class for the 日程列表 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var TdlPage = (function () {
    function TdlPage(tdlServ, menuController, emitService, el, util, feedback, renderer2, calendarService, eventService, _plt, _gestureCtrl, _domCtrl, changeDetectorRef) {
        this.tdlServ = tdlServ;
        this.menuController = menuController;
        this.emitService = emitService;
        this.el = el;
        this.util = util;
        this.feedback = feedback;
        this.renderer2 = renderer2;
        this.calendarService = calendarService;
        this.eventService = eventService;
        this._plt = _plt;
        this._gestureCtrl = _gestureCtrl;
        this._domCtrl = _domCtrl;
        this.changeDetectorRef = changeDetectorRef;
        this.option = {
            isgetData: false,
            loopmonth: false,
            canscroll: false,
        };
        this.listmonth = __WEBPACK_IMPORTED_MODULE_4_moment__(__WEBPACK_IMPORTED_MODULE_4_moment__().format("YYYYMM") + "01");
        //画面数据List
        this.monthActivityDatas = new Array();
        this.currentuser = __WEBPACK_IMPORTED_MODULE_13__service_config_user_config__["b" /* UserConfig */].account.id;
        this.friends = __WEBPACK_IMPORTED_MODULE_13__service_config_user_config__["b" /* UserConfig */].friends;
        this.privateplans = __WEBPACK_IMPORTED_MODULE_13__service_config_user_config__["b" /* UserConfig */].privateplans;
        this.inviteaccept = __WEBPACK_IMPORTED_MODULE_11__data_enum__["j" /* InviteState */].Accepted;
        this.invitereject = __WEBPACK_IMPORTED_MODULE_11__data_enum__["j" /* InviteState */].Rejected;
        this.system = __WEBPACK_IMPORTED_MODULE_11__data_enum__["y" /* SelfDefineType */].System;
        this.selfdefine = __WEBPACK_IMPORTED_MODULE_11__data_enum__["y" /* SelfDefineType */].Define;
        this.holiday = __WEBPACK_IMPORTED_MODULE_11__data_enum__["v" /* PlanItemType */].Holiday;
        this.activity = __WEBPACK_IMPORTED_MODULE_11__data_enum__["v" /* PlanItemType */].Activity;
        this.weather = __WEBPACK_IMPORTED_MODULE_11__data_enum__["v" /* PlanItemType */].Weather;
        this.synch = __WEBPACK_IMPORTED_MODULE_11__data_enum__["C" /* SyncType */].synch;
        this.unsynch = __WEBPACK_IMPORTED_MODULE_11__data_enum__["C" /* SyncType */].unsynch;
        this.finished = __WEBPACK_IMPORTED_MODULE_11__data_enum__["f" /* EventFinishStatus */].Finished;
    }
    TdlPage.prototype.getNativeElement = function () {
        return this.contentD._scrollContent.nativeElement;
    };
    // ngAfterViewChecked() {
    // console.log("downdowndowndownngAfterViewChecked");
    // }
    //
    // ngOnChanges() {
    //   console.log("downdowndowndownngOnChanges" );
    // }
    //
    // ngOnInit() {
    //   console.log("downdowndowndownngOnInit");
    // }
    //
    // ngDoCheck() {
    //   console.log("downdowndowndownngDoCheck"  );
    // }
    //
    // ngAfterContentChecked() {
    //   console.log("downdowndowndownngAfterContentChecked");
    // }
    TdlPage.prototype.setScroll = function (scroll) {
        this.option.canscroll = scroll;
        if (scroll) {
            this.renderer2.setStyle(this.contentD._scrollContent.nativeElement, "overflow-y", "auto");
            this._gesture.unlisten();
        }
        else {
            this.renderer2.setStyle(this.contentD._scrollContent.nativeElement, "overflow-y", "hidden");
            this._gesture.listen();
        }
    };
    TdlPage.prototype.regeditCalendar = function (calda) {
        this._gesture = new __WEBPACK_IMPORTED_MODULE_12__tdl_gestures__["a" /* TdlGesture */](this._plt, this, this._gestureCtrl, this._domCtrl, calda);
        this._gesture.listen();
    };
    TdlPage.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.tdlServ.initLsData().then(function (data) {
            _this.monthActivityDatas = data;
            _this.gotoEl("#day" + __WEBPACK_IMPORTED_MODULE_4_moment__().format("YYYYMMDD"));
        });
        // this.contentD.enableJsScroll();
        this.emitService.registerSelectDate(function (selectDate) {
            _this.gotoEl("#day" + selectDate.format("YYYYMMDD"));
        });
        this.emitService.register("calendar.change.month", function ($data) {
            _this.gotoEl4month("#month" + $data);
            _this.listmonth = __WEBPACK_IMPORTED_MODULE_4_moment__($data + "01");
        });
        setTimeout(function () {
            _this.contentD.ionScroll.subscribe(function ($event) {
                try {
                    if (!$event)
                        return;
                    //显示当前顶部滑动日期
                    if (!_this.option.loopmonth) {
                        _this.option.loopmonth = !_this.option.loopmonth;
                        for (var i = _this.monthActivityDatas.length - 1; i >= 0; i--) {
                            //let monthActivityData = this.monthActivityDatas[0];
                            var monobj = __WEBPACK_IMPORTED_MODULE_4_moment__(_this.monthActivityDatas[i].month + "/01");
                            var key = "#month" + monobj.format("YYYYMM");
                            var el = _this.el.nativeElement.querySelector(key);
                            // if (el && $event.scrollTop - el.offsetTop < el.clientHeight && $event.scrollTop - el.offsetTop > 0) {
                            if (el && $event.scrollTop - el.offsetTop > 0) {
                                //this.headerDate = moment(scdlData.d).format("YYYY/MM/DD");
                                //this.headerMoment = moment(scdlData.d);
                                //this.feedback.audioTrans();
                                _this.option.loopmonth = !_this.option.loopmonth;
                                //准备发出emit
                                if (_this.option.canscroll) {
                                    if (_this.listmonth.isBefore(monobj)) {
                                        _this.emitService.emit("list.change.month", "next");
                                    }
                                    if (_this.listmonth.isAfter(monobj)) {
                                        _this.emitService.emit("list.change.month", "prev");
                                    }
                                }
                                _this.listmonth = monobj;
                                break;
                            }
                        }
                    }
                    if (_this.option.isgetData)
                        return;
                    if ($event.directionY == 'up') {
                        if ($event.scrollTop < 10000) {
                            _this.contentD.scrollTo(0, 10100, 100);
                            return;
                        }
                        if ($event.scrollTop < 11000) {
                            // this.contentD._scroll.stop();
                            // this.setScroll(false);
                            _this.option.isgetData = true;
                            _this.tdlServ.throughData(__WEBPACK_IMPORTED_MODULE_11__data_enum__["t" /* PageDirection */].PageDown).then(function (data) {
                                // this.gotoEl4month(scdId);
                                // console.log($event.directionY + "11111down");
                                _this.changeDetectorRef.markForCheck();
                                _this.changeDetectorRef.detectChanges();
                                _this.option.isgetData = false;
                                // this.setScroll(true);
                                // setTimeout(()=>{
                                // this.setScroll(false);
                                // this.isgetData  = !this.isgetData;
                                // },200);
                            });
                        }
                    }
                    if ($event.directionY == 'down') {
                        // console.log("***********************" + $event.scrollTop)
                        if ($event.scrollTop + 1000 > _this.grid.nativeElement.clientHeight - $event.scrollElement.clientHeight) {
                            _this.option.isgetData = true;
                            _this.tdlServ.throughData(__WEBPACK_IMPORTED_MODULE_11__data_enum__["t" /* PageDirection */].PageUp).then(function (data) {
                                _this.changeDetectorRef.markForCheck();
                                _this.changeDetectorRef.detectChanges();
                                _this.option.isgetData = false;
                            });
                        }
                    }
                }
                catch (e) {
                    console.log(e);
                }
                // //显示当前顶部滑动日期
                // for (let scdlData of this.monthActivityDatas) {
                //   let el = this.el.nativeElement.querySelector("#day" + scdlData.id);
                //   if (el && $event.scrollTop - el.offsetTop < el.clientHeight && $event.scrollTop - el.offsetTop > 0) {
                //     this.headerDate = moment(scdlData.d).format("YYYY/MM/DD");
                //     this.headerMoment = moment(scdlData.d);
                //     //this.feedback.audioTrans();
                //     break;
                //   }
                // }
            });
        }, 2000);
        new __WEBPACK_IMPORTED_MODULE_14__better_scroll_core__["a" /* default */]('.monthActivityWapper', {
            scrollY: true,
            disableMouse: false,
            disableTouch: true
            // infinity: {
            //   fetch(count) {
            //     // 获取大于 count 数量的数据，该函数是异步的，它需要返回一个 Promise。
            //     // 成功获取数据后，你需要 resolve 数据数组（也可以 resolve 一个 Promise）。
            //     // 数组的每一个元素是列表数据，在 render 方法执行的时候会传递这个数据渲染。
            //     // 如果没有数据的时候，你可以 resolve(false)，来告诉无限滚动列表已经没有更多数据了。
            //   }
            //   render(item, div) {
            //     // 渲染每一个元素节点，item 是数据，div 是包裹元素节点的容器。
            //     // 该函数需要返回渲染后的 DOM 节点。
            //   },
            //   createTombstone() {
            //     // 返回一个墓碑 DOM 节点。
            //   }
            // }
        });
    };
    TdlPage.prototype.gotoEl = function (id) {
        var _this = this;
        setTimeout(function () {
            try {
                if (_this.currDayel && _this.currDayel.className.indexOf("no-content") > -1) {
                    _this.renderer2.removeClass(_this.currDayel, "item-display");
                    _this.renderer2.addClass(_this.currDayel, "item-no-display");
                }
                _this.currDayel = _this.el.nativeElement.querySelector(id);
                //
                if (_this.currDayel && _this.currDayel.className.indexOf("no-content") > -1) {
                    _this.renderer2.removeClass(_this.currDayel, "item-no-display");
                    _this.renderer2.addClass(_this.currDayel, "item-display");
                }
                if (_this.currDayel) {
                    _this.contentD.scrollTo(0, _this.currDayel.offsetTop + 2, 300);
                }
                else {
                    _this.gotoEl(id);
                }
            }
            catch (e) {
            }
        }, 200);
    };
    TdlPage.prototype.gotoEl4month = function (id) {
        var _this = this;
        setTimeout(function () {
            try {
                var currmonthel = _this.el.nativeElement.querySelector(id);
                if (currmonthel) {
                    _this.contentD.scrollTo(0, currmonthel.offsetTop + 2, 300);
                }
                else {
                    _this.gotoEl4month(id);
                }
            }
            catch (e) {
                console.log(e);
            }
        }, 200);
    };
    TdlPage.prototype.toMemo = function (day) {
        this.util.createModal(__WEBPACK_IMPORTED_MODULE_3__service_config_data_config__["a" /* DataConfig */].PAGE._DAILYMEMOS_PAGE, day, __WEBPACK_IMPORTED_MODULE_11__data_enum__["o" /* ModalTranType */].scale).present();
    };
    TdlPage.prototype.toPlanItem = function (item) {
        var p = new __WEBPACK_IMPORTED_MODULE_6__data_mapping__["r" /* ScdPageParamter */]();
        p.si = item.jti;
        this.util.createModal(__WEBPACK_IMPORTED_MODULE_3__service_config_data_config__["a" /* DataConfig */].PAGE._COMMEMORATIONDAY_PAGE, p, __WEBPACK_IMPORTED_MODULE_11__data_enum__["o" /* ModalTranType */].scale).present();
    };
    TdlPage.prototype.acceptInvite = function ($event, event) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        $event.stopPropagation(); // 阻止冒泡
                        $event.preventDefault(); // 忽略事件传递
                        event.invitestatus = __WEBPACK_IMPORTED_MODULE_11__data_enum__["j" /* InviteState */].Accepted;
                        if (!(event && !event.type && event.jti)) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.calendarService.acceptReceivedPlanItem(event.jti)];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        if (!(event && event.type == __WEBPACK_IMPORTED_MODULE_11__data_enum__["g" /* EventType */].Agenda)) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.eventService.acceptReceivedAgenda(event.evi)];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    TdlPage.prototype.rejectInvite = function ($event, event) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        $event.stopPropagation(); // 阻止冒泡
                        $event.preventDefault(); // 忽略事件传递
                        event.invitestatus = __WEBPACK_IMPORTED_MODULE_11__data_enum__["j" /* InviteState */].Rejected;
                        if (!(event && !event.type && event.jti)) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.calendarService.rejectReceivedPlanItem(event.jti)];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        if (!(event && event.type == __WEBPACK_IMPORTED_MODULE_11__data_enum__["g" /* EventType */].Agenda)) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.eventService.rejectReceivedAgenda(event.evi)];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    TdlPage.prototype.toDetail = function (si, d, type, gs) {
        var p = new __WEBPACK_IMPORTED_MODULE_6__data_mapping__["r" /* ScdPageParamter */]();
        p.si = si;
        p.d = __WEBPACK_IMPORTED_MODULE_4_moment__(d);
        p.gs = gs;
        this.feedback.audioClick();
        if (gs == "0") {
            //本人画面
            if (type == __WEBPACK_IMPORTED_MODULE_11__data_enum__["g" /* EventType */].Agenda) {
                this.util.createModal(__WEBPACK_IMPORTED_MODULE_3__service_config_data_config__["a" /* DataConfig */].PAGE._AGENDA_PAGE, p, __WEBPACK_IMPORTED_MODULE_11__data_enum__["o" /* ModalTranType */].scale).present();
            }
            if (type == __WEBPACK_IMPORTED_MODULE_11__data_enum__["g" /* EventType */].Task) {
                // this.modalCtr.create(DataConfig.PAGE._TASK_PAGE, p).present();
            }
        }
        else if (gs == "1") {
            //受邀人画面
            this.util.createModal(__WEBPACK_IMPORTED_MODULE_3__service_config_data_config__["a" /* DataConfig */].PAGE._AGENDA_PAGE, p, __WEBPACK_IMPORTED_MODULE_11__data_enum__["o" /* ModalTranType */].scale).present();
        }
        else {
            //系统画面
            // this.modalCtr.create(DataConfig.PAGE._TDDS_PAGE, p).present();
        }
    };
    TdlPage.prototype.toAdd = function (d) {
        var p = new __WEBPACK_IMPORTED_MODULE_6__data_mapping__["r" /* ScdPageParamter */]();
        p.d = __WEBPACK_IMPORTED_MODULE_4_moment__(d);
        this.feedback.audioClick();
        this.util.createModal(__WEBPACK_IMPORTED_MODULE_3__service_config_data_config__["a" /* DataConfig */].PAGE._AGENDA_PAGE, p, __WEBPACK_IMPORTED_MODULE_11__data_enum__["o" /* ModalTranType */].scale).present();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('contentD'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Content"])
    ], TdlPage.prototype, "contentD", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('grid4Hight'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], TdlPage.prototype, "grid", void 0);
    TdlPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-tdl',
            template: "\n    <!--<div class=\"header-set\">-->\n    <!--<div class=\"daynav\">-->\n    <!--<div class=\"dayheader\">-->\n\n    <!--<div class=\"d-fsize \">{{headerDate | formatedate :\"CWEEK\"}}</div>-->\n    <!--<div class=\"ym-fsize  \">{{headerDate | formatedate:\"DD\"}}</div>-->\n    <!--&lt;!&ndash;<div class=\"ys-fsize  \" *ngFor=\"let jt of headerData.jtl\" (click)=\"toDetail(jt.si,jt.sd,'3')\">{{jt.spn}}</div>&ndash;&gt;-->\n    <!--</div>-->\n    <!--<div class=\"d-title  \">-->\n    <!--<div class=\"first d-title-chr\">\u65E5\u8BB0</div>-->\n    <!--<div class=\" d-title-chr\">10\u6761\u65E5\u7A0B</div>-->\n    <!--<div class=\" d-title-chr\">10\u6761\u4EFB\u52A1</div>-->\n    <!--<div class=\" d-title-chr\">10\u6761\u4EFB\u52A1</div>-->\n    <!--</div>-->\n    <!--</div>-->\n    <!--</div>-->\n\n    <ion-content #contentD class=\"monthActivityWapper\">\n      <div style=\"height: 10000px\"></div>\n      <ion-grid #grid4Hight class=\"list-grid-content\">\n        <ng-template ngFor let-monthActivityData [ngForOf]=\"monthActivityDatas\">\n          <ion-row class=\"item-content dayagenda-month {{monthActivityData.month  | transfromdate :'CSSMM'}}\"\n                   id=\"month{{monthActivityData.month | formatedate:'YYYYMM'}}\">\n            <div class=\"line first-line\">\n              <p class=\"month-a font-large\">\n                {{monthActivityData.month  | formatedate :\"CYYYY/MM/ND\"}}\n              </p>\n            </div>\n            <div class=\"line font-normal\">\n              <p class=\"month-b\">\n                {{monthActivityData.month  | formatmonthstring :\"string\"}}\n              </p>\n            </div>\n          </ion-row>\n          <ng-template ngFor let-days [ngForOf]=\"monthActivityData.arraydays\">\n            <ion-row class=\"item-content dayagenda-week\" *ngIf=\"(days.day | formatedate:'DWEEK') == 0\">\n              <div class=\"line\">\n                <p>\n                  {{days.day | formatedate :\"CYYYY/MM/DD\"}}-{{days.day | formatedate :\"ADD7CYYYY/MM/DD\"}}\n                </p>\n              </div>\n            </ion-row>\n            <ng-template [ngIf]=\"days.events.length > 0 || days.calendaritems.length > 0 || days.memos.length > 0 \"\n                         [ngIfElse]=\"noscd\">\n              <ion-row class=\"item-content dayagenda-nav\" id=\"day{{days.day | formatedate:'YYYYMMDD'}}\">\n                <div class=\"line\">\n                  <div class=\"dayheader\">\n                    <div class=\"d-fsize\">{{days.day | formatedate :\"CWEEK\"}}</div>\n                    <div class=\"ym-fsize\">{{days.day | formatedate:\"CDD\"}}</div>\n                    <div class=\"ys-fsize\">{{days.day | formatedate:\"CMM\"}}</div>\n                  </div>\n                  <div class=\"d-title  \">\n                    <div class=\"d-title-chr\">\n                      <p>{{this.util.lunar4str(days.day, \"d\")}}\n                      </p>\n                      <p>{{this.util.lunar4str(days.day, \"M\")}}</p>\n                    </div>\n                    <div class=\" d-title-chr\"><span>{{days.events.length}}</span> \u6D3B\u52A8</div>\n                    <div class=\" d-title-chr\"><span>{{days.calendaritems.length}}</span> \u7EAA\u5FF5\u65E5</div>\n                    <div class=\" d-title-chr mome \" (click)=\"toMemo(days)\" *ngIf=\"days.memos.length > 0\"\n                         [class.item-no-display]=\"days.memos.length == 0\">\n                      <ion-icon class=\"fad fa-money-check-edit\"></ion-icon>\n                      <!--<span>{{days.memos.length}}</span>-->\n                    </div>\n                  </div>\n                </div>\n                <div class=\"weather\" *ngIf=\"days.weather\">\n                  <ion-icon class='fas {{days.weather.jtn | formatweather:\"winame-with-json\"}}'></ion-icon>\n                  <span>\n                       {{days.weather.ext | formatweather:  'centigrade-with-json'}}\n                      </span>\n                  <span>\n                      {{days.weather.jtn}}\n                      </span>\n                </div>\n              </ion-row>\n\n              <ion-row class=\"item-content  calendaritem-content item-content-backgroud \"\n                       [class.item-content-hasmessage]=\"false\"\n                       *ngFor=\"let jt of days.calendaritems;\" (click)=\"toPlanItem(jt)\"\n                       [class.noinvite]=\"currentuser != jt.ui && jt.ui != '' && jt.invitestatus != inviteaccept && jt.invitestatus != invitereject\">\n                <!-- \u81EA\u5B9A\u4E49\u65E5\u5386\u9879 -->\n                <ng-container *ngIf=\"jt.jtc == selfdefine\">\n                  <!--<div class=\"line font-small first-line\">-->\n                  <!--<div class=\"icon\">-->\n                  <!--<ion-icon class = \"fal fa-gift\"></ion-icon>-->\n                  <!--</div>-->\n                  <!--<div class=\"sn\">{{jt.jtn}}</div>-->\n                  <!--</div>-->\n                  <!--<div class=\"line font-small\" *ngIf=\"currentuser != jt.ui && jt.ui != ''\" [ngStyle]=\"{'margin-left': jt.ji == ''? '0.6rem' : '0'}\">-->\n                  <!--<div class=\"icon\">-->\n                  <!--<ion-icon class = \"fal fa-user-tag\"></ion-icon>-->\n                  <!--</div>-->\n                  <!--<div class=\"person \">&#45;&#45;\u6765\u81EA{{jt.ui | formatuser: currentuser: friends}}</div>-->\n                  <!--<div class=\"invite\" *ngIf=\"jt.invitestatus != inviteaccept && jt.invitestatus != invitereject\" end><span (click)=\"rejectInvite($event, event)\">\u62D2\u7EDD</span><span (click)=\"acceptInvite($event, event)\">\u63A5\u53D7</span></div>-->\n                  <!--<div class=\"plan\" end><span [ngStyle]=\"{'color': event.ji == ''? 'transparent' : (event.ji | formatplan: 'color': privateplans )}\"  >{{event.ji | formatplan: 'name': '': privateplans}}</span></div>-->\n                  <!--</div>-->\n                  <div class=\"line font-small first-line\">\n                    <!--<div class=\"icon\">-->\n                    <!--<ion-icon class=\"fal fa-gift\"></ion-icon>-->\n                    <!--</div>-->\n\n                    <div class=\"sn\">{{jt.jtn}}</div>\n                  </div>\n                  <!--<div class=\"line font-small\" *ngIf=\"currentuser != jt.ui && jt.ui != ''\">-->\n                  <!--&lt;!&ndash;<div class=\"icon\">&ndash;&gt;-->\n                  <!--&lt;!&ndash;<ion-icon class=\"fal fa-user-tag\"></ion-icon>&ndash;&gt;-->\n                  <!--&lt;!&ndash;</div>&ndash;&gt;-->\n                  <!--<div class=\"person \">-{{jt.ui | formatuser: currentuser: friends}}</div>-->\n                  <!--<div class=\"invite\" *ngIf=\"jt.invitestatus != inviteaccept && jt.invitestatus != invitereject\" end>-->\n                  <!--<span (click)=\"rejectInvite($event, event)\">\u62D2\u7EDD</span><span (click)=\"acceptInvite($event, event)\">\u63A5\u53D7</span>-->\n                  <!--</div>-->\n                  <!--</div>-->\n                  <div class=\"line font-small\">\n                    <div class=\"person\" *ngIf=\"currentuser != jt.ui && jt.ui != ''\">\n                      \u6765\u81EA\uFF1A{{jt.ui | formatuser: currentuser: friends}}</div>\n                    <div class=\"person\" *ngIf=\"currentuser == jt.ui\">\u81EA\u5DF1</div>\n                    <!--<div class=\"invite\" *ngIf=\"event.invitestatus != inviteaccept && event.invitestatus != invitereject\"-->\n                    <!--end><span (click)=\"rejectInvite($event, event)\">\u62D2\u7EDD</span><span-->\n                    <!--(click)=\"acceptInvite($event, event)\">\u63A5\u53D7</span></div>-->\n                    <div class=\"icon font-small\" end>\n                      <ion-icon class=\"fad fa-lock\" *ngIf=\"jt.todolist == '0'\"></ion-icon>\n                      <ion-icon class=\"fad fa-user-tag\" *ngIf=\"currentuser != jt.ui && jt.ui != ''\"></ion-icon>\n                      <ion-icon class=\"fad fa-check-double\" *ngIf=\"jt.wc == finished\"></ion-icon>\n                      <ion-icon class=\"fad fa-sync\" *ngIf=\"jt.tb == synch\"></ion-icon>\n                    </div>\n                  </div>\n\n                  <div class=\"plan plan-right\"\n                       [ngStyle]=\"{'background-color': jt.ji == ''? 'transparent' : (jt.ji | formatplan: 'color': privateplans )}\">\n                    <span>{{jt.ji | formatplan: 'name': '': privateplans}}</span></div>\n\n                </ng-container>\n\n                <!-- \u4E0B\u8F7D\u65E5\u5386\u9879 -->\n                <ng-container *ngIf=\"jt.jtc == system\">\n                  <div class=\"line font-small first-line\">\n                    <!--<div class=\"icon\">-->\n                    <!--<ion-icon class=\"fal fa-gift\"></ion-icon>-->\n                    <!--</div>-->\n                    <div class=\"sn\">{{jt.jtn}}</div>\n                  </div>\n                </ng-container>\n              </ion-row>\n              <!--<ion-row class=\"item-content dayagenda-content item-content-backgroud\" *ngFor=\"let event of days.events;\" [ngStyle]=\"{'background-color': event.tb == synch? '#00ff80' : '#ff80c0'}\" (click)=\"toDetail(event.evi,event.evd,event.type,event.gs)\">-->\n              <!--<ion-row class=\"item-content dayagenda-content item-content-backgroud\" *ngFor=\"let event of days.events;\" [ngStyle]=\"{'border-left': event.ji == ''? '0' : ('0.6rem solid ' + (event.ji | formatplan: 'color': privateplans))}\" (click)=\"toDetail(event.evi,event.evd,event.type,event.gs)\">-->\n              <!--<div class=\"line font-small first-line\" [ngStyle]=\"{'margin-left': event.ji == ''? '0.6rem' : '0'}\">-->\n              <!--<div class=\"icon\">-->\n              <!--<ion-icon class = \"fal fa-calendar-star\"></ion-icon>-->\n              <!--</div>-->\n              <!--<div class=\"sn\" *ngIf=\"event.wc == finished\"><s>{{event.evn}}</s></div>-->\n              <!--<div class=\"sn\" *ngIf=\"event.wc != finished\">{{event.evn}}</div>-->\n              <!--</div>-->\n              <!--<div class=\"line font-small\" [ngStyle]=\"{'margin-left': event.ji == ''? '0.6rem' : '0'}\">-->\n              <!--<div class=\"icon\">-->\n              <!--<ion-icon class = \"fal fa-alarm-exclamation \"></ion-icon>-->\n              <!--</div>-->\n              <!--<div class=\"st\">{{event.evt}}</div>-->\n\n              <!--<div class=\"icon\" end>-->\n              <!--<ion-icon class = \"fal fa-sync\" *ngIf = \"event.tb == synch\"></ion-icon>-->\n              <!--</div>-->\n              <!--</div>-->\n              <!--<div class=\"line font-small\" *ngIf=\"currentuser != event.ui && event.ui != ''\" [ngStyle]=\"{'margin-left': event.ji == ''? '0.6rem' : '0'}\">-->\n              <!--<div class=\"icon \">-->\n              <!--<ion-icon class = \"user-o fal fa-user-tag\"></ion-icon>-->\n              <!--</div>-->\n              <!--<div class=\"person\">&#45;&#45;\u6765\u81EA{{event.ui | formatuser: currentuser: friends}}</div>-->\n              <!--<div class=\"invite\" *ngIf=\"event.invitestatus != inviteaccept && event.invitestatus != invitereject\" end><span (click)=\"rejectInvite($event, event)\">\u62D2\u7EDD</span><span (click)=\"acceptInvite($event, event)\">\u63A5\u53D7</span></div>-->\n              <!--<div class=\"plan\" end><span [ngStyle]=\"{'color': event.ji == ''? 'transparent' : (event.ji | formatplan: 'color': privateplans )}\"  >{{event.ji | formatplan: 'name': '': privateplans}}</span></div>-->\n              <!--</div>-->\n              <!--&lt;!&ndash;<div class=\"syncing\">&ndash;&gt;-->\n              <!--&lt;!&ndash;<div class=\"hand\">&ndash;&gt;-->\n              <!--&lt;!&ndash;<div class=\"finger\"></div>&ndash;&gt;-->\n              <!--&lt;!&ndash;<div class=\"finger\"></div>&ndash;&gt;-->\n              <!--&lt;!&ndash;<div class=\"finger\"></div>&ndash;&gt;-->\n              <!--&lt;!&ndash;<div class=\"finger\"></div>&ndash;&gt;-->\n              <!--&lt;!&ndash;</div>&ndash;&gt;-->\n              <!--&lt;!&ndash;</div>&ndash;&gt;-->\n              <!--</ion-row>-->\n              <ng-container *ngFor=\"let event of days.events;\">\n                <ion-row class=\"item-content dayagenda-content item-content-backgroud \"\n                         [class.item-content-hasmessage]=\"false\"\n                         *ngIf=\"!(event.ui != currentuser && event.rtevi && event.invitestatus != inviteaccept && event.invitestatus != invitereject)\"\n                         (click)=\"toDetail(event.evi,event.evd,event.type,event.gs)\"\n                         [class.noinvite]=\"currentuser != event.ui && event.ui != '' && event.invitestatus != inviteaccept && event.invitestatus != invitereject\">\n                  <div class=\"line font-small first-line\">\n                    <div class=\"sn\">{{event.evn}}</div>\n                  </div>\n                  <div class=\"line font-small\">\n                    <div class=\"st\">{{event.evt}}</div>\n                  </div>\n                  <div class=\"line font-small\">\n                    <div class=\"person\" *ngIf=\"currentuser != event.ui && event.ui != ''\">\n                      \u6765\u81EA\uFF1A{{event.ui | formatuser: currentuser: friends}}</div>\n                    <div class=\"person\" *ngIf=\"currentuser == event.ui\">\u81EA\u5DF1</div>\n                    <!--<div class=\"invite\" *ngIf=\"event.invitestatus != inviteaccept && event.invitestatus != invitereject\"-->\n                    <!--end><span (click)=\"rejectInvite($event, event)\">\u62D2\u7EDD</span><span-->\n                    <!--(click)=\"acceptInvite($event, event)\">\u63A5\u53D7</span></div>-->\n\n                    <div class=\"icon font-small\" end>\n                      <ion-icon class=\"fad fa-lock\" *ngIf=\"event.todolist == '0'\"></ion-icon>\n                      <ion-icon class=\"fad fa-user-tag\" *ngIf=\"currentuser != event.ui && event.ui != ''\"></ion-icon>\n                      <ion-icon class=\"fad fa-check-double\" *ngIf=\"event.wc == finished\"></ion-icon>\n                      <ion-icon class=\"fad fa-sync\" *ngIf=\"event.tb == synch\"></ion-icon>\n                      <ion-icon class=\"fad fa-lock\" *ngIf=\"event == '0'\"></ion-icon>\n                    </div>\n                  </div>\n\n                  <div class=\"plan plan-right\"\n                       [ngStyle]=\"{'background-color': event.ji == ''? 'transparent' : (event.ji | formatplan: 'color': privateplans )}\">\n                    <span>{{event.ji | formatplan: 'name': '': privateplans}}</span></div>\n\n                  <!--<div class=\"syncing\">-->\n                  <!--<div class=\"hand\">-->\n                  <!--<div class=\"finger\"></div>-->\n                  <!--<div class=\"finger\"></div>-->\n                  <!--<div class=\"finger\"></div>-->\n                  <!--<div class=\"finger\"></div>-->\n                  <!--</div>-->\n                  <!--</div>-->\n                </ion-row>\n              </ng-container>\n\n            </ng-template>\n\n            <ng-template #noscd>\n              <ion-row class=\"item-content no-content item-no-display\" id=\"day{{days.day | formatedate:'YYYYMMDD'}}\">\n                <div class=\"line\" (click)=\"toAdd(days.day)\">\n                  <p>{{days.day | formatedate :\"CYYYY/MM/DD\"}}</p>\n                </div>\n              </ion-row>\n            </ng-template>\n          </ng-template>\n        </ng-template>\n      </ion-grid>\n    </ion-content>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__tdl_service__["a" /* TdlService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["MenuController"],
            __WEBPACK_IMPORTED_MODULE_5__service_util_service_emit_service__["a" /* EmitService */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_7__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_8__service_cordova_feedback_service__["a" /* FeedbackService */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"],
            __WEBPACK_IMPORTED_MODULE_9__service_business_calendar_service__["a" /* CalendarService */],
            __WEBPACK_IMPORTED_MODULE_10__service_business_event_service__["b" /* EventService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Platform"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["GestureController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["DomController"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ChangeDetectorRef"]])
    ], TdlPage);
    return TdlPage;
}());

//# sourceMappingURL=tdl.js.map

/***/ }),
/* 252 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LpService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_restful_authsev__ = __webpack_require__(155);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_restful_personsev__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_sqlite_tbl_u_tbl__ = __webpack_require__(109);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_sqlite_tbl_a_tbl__ = __webpack_require__(89);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_sqlite_tbl_y_tbl__ = __webpack_require__(84);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__ws_websocket_service__ = __webpack_require__(156);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__al_al_service__ = __webpack_require__(159);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var LpService = (function () {
    function LpService(authRestful, sqlExec, personRestful, webSocketService, util, userConfig, 
        //private brService: BrService,
        alService) {
        this.authRestful = authRestful;
        this.sqlExec = sqlExec;
        this.personRestful = personRestful;
        this.webSocketService = webSocketService;
        this.util = util;
        this.userConfig = userConfig;
        this.alService = alService;
    }
    //登录
    LpService.prototype.login = function (lpData) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var loginData = new __WEBPACK_IMPORTED_MODULE_2__service_restful_authsev__["b" /* LoginData */]();
            Object.assign(loginData, lpData);
            // 验证用户名密码
            _this.authRestful.loginbypass(loginData).then(function (data) {
                if (!data || data.code != 0)
                    throw data;
                resolve(data);
            }).catch(function (error) {
                reject(error);
            });
        });
    };
    //账户用户信息
    LpService.prototype.getPersonMessage = function (data) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var aTbl = new __WEBPACK_IMPORTED_MODULE_7__service_sqlite_tbl_a_tbl__["a" /* ATbl */]();
            var uTbl = new __WEBPACK_IMPORTED_MODULE_6__service_sqlite_tbl_u_tbl__["a" /* UTbl */]();
            var yTbl = new __WEBPACK_IMPORTED_MODULE_8__service_sqlite_tbl_y_tbl__["a" /* YTbl */]();
            //获得token，放入头部header登录
            _this.personRestful.getToken(data.data.code).then(function (data) {
                if (data && data.unionid != undefined && data.unionid != null && data.unionid != "") {
                    //账户表赋值
                    aTbl.ai = data.openid; //openid
                    aTbl.an = data.nickname;
                    aTbl.am = data.phoneno;
                    aTbl.ae = __WEBPACK_IMPORTED_MODULE_4__service_config_user_config__["b" /* UserConfig */].getDeviceId();
                    aTbl.at = data.access_token;
                    aTbl.aq = data.cmq;
                    //用户表赋值
                    uTbl.ai = data.openid; //openid
                    uTbl.ui = data.unionid; //unionid
                    uTbl.un = data.nickname; //用户名（昵称）
                    uTbl.rn = data.name == undefined || data.name == "" ? data.nickname : data.name; //真实姓名
                    uTbl.us = data.sex == undefined || data.sex == "" ? "0" : data.sex; //性别
                    uTbl.biy = data.birthday == undefined || data.birthday == "" ? "" : data.birthday; //出生日期
                    uTbl.ic = data.ic == undefined || data.ic == "" ? "" : data.ic; //身份证
                    uTbl.uct = data.contact == undefined || data.contact == "" ? "" : data.contact; //  联系方式
                    if (data && data.secrets && data.secrets.github) {
                        yTbl.yi = _this.util.getUuid();
                        yTbl.yt = __WEBPACK_IMPORTED_MODULE_3__service_config_data_config__["a" /* DataConfig */].SYS_FOGHSECRET;
                        yTbl.ytn = "项目跟进 github 安全令牌";
                        yTbl.yn = "项目跟进";
                        yTbl.yk = __WEBPACK_IMPORTED_MODULE_3__service_config_data_config__["a" /* DataConfig */].SYS_FOGHSECRET;
                        yTbl.yv = data.secrets.github;
                    }
                    return _this.personRestful.getself(data.unionid);
                }
                else {
                    throw "-1";
                }
            }).then(function (data) {
                if (data && data.avatarbase64 != undefined && data.avatarbase64 != null && data.avatarbase64 != "") {
                    uTbl.hiu = data.avatarbase64; //头像
                    //删除账户表
                    return _this.sqlExec.delete(new __WEBPACK_IMPORTED_MODULE_7__service_sqlite_tbl_a_tbl__["a" /* ATbl */]());
                }
                else {
                    throw "-1";
                }
            }).then(function (data) {
                if (yTbl.yi) {
                    return _this.sqlExec.save(yTbl);
                }
                else {
                    return {};
                }
            }).then(function (data) {
                return _this.sqlExec.save(aTbl);
            }).then(function (data) {
                //删除用户表
                return _this.sqlExec.delete(new __WEBPACK_IMPORTED_MODULE_6__service_sqlite_tbl_u_tbl__["a" /* UTbl */]());
            }).then(function (data) {
                return _this.sqlExec.save(uTbl);
            }).then(function (data) {
                resolve(data);
            }).catch(function (error) {
                reject(error);
            });
        });
    };
    //设置备份信息
    LpService.prototype.getOther = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.alService.setSetting().then(function (data) {
                // 同步数据（调用brService方法恢复数据）
                //return this.brService.recover(0);
                //建立websoct连接（调用websoctService）
                return _this.webSocketService.connect();
            }).then(function (data) {
                resolve(data);
            }).catch(function (error) {
                reject(error);
            });
        });
    };
    LpService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__service_restful_authsev__["a" /* AuthRestful */],
            __WEBPACK_IMPORTED_MODULE_1__service_util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_5__service_restful_personsev__["a" /* PersonRestful */],
            __WEBPACK_IMPORTED_MODULE_9__ws_websocket_service__["a" /* WebsocketService */],
            __WEBPACK_IMPORTED_MODULE_10__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_4__service_config_user_config__["b" /* UserConfig */],
            __WEBPACK_IMPORTED_MODULE_11__al_al_service__["a" /* AlService */]])
    ], LpService);
    return LpService;
}());

//# sourceMappingURL=lp.service.js.map

/***/ }),
/* 253 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SuTbl; });
/**
 * create by on 2019/3/5
 */
var SuTbl = (function () {
    function SuTbl() {
    }
    SuTbl.prototype.cT = function () {
        var sq = 'create table if not exists gtd_su(   sui varchar(50) PRIMARY KEY ,' +
            'subt VARCHAR(20)  ,subtsn VARCHAR(20)  ,sust VARCHAR(20)  ,sustsn VARCHAR(20)  ,' +
            'suc VARCHAR(20)  ,sut VARCHAR(20)  ,sus VARCHAR(20)  ,sum VARCHAR(20) );';
        return sq;
    };
    SuTbl.prototype.upT = function () {
        var sq = '';
        if (this.subt != null && this.subt != "") {
            sq = sq + ' and subt="' + this.subt + '"';
        }
        if (this.sust != null && this.sust != "") {
            sq = sq + ' and sust="' + this.sust + '"';
        }
        if (this.sut != null && this.sut != "") {
            sq = sq + ' and sut="' + this.sut + '"';
        }
        if (this.sus != null && this.sus != "") {
            sq = sq + ' and sus="' + this.sus + '"';
        }
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = 'update gtd_su set  ' + sq + ' where sui = "' + this.sui + '";';
        return sq;
    };
    SuTbl.prototype.dT = function () {
        var sq = 'delete from gtd_su where 1=1 ';
        if (this.sui != null && this.sui != "") {
            sq = sq + 'and  sui ="' + this.sui + '"';
        }
        sq = sq + ';';
        return sq;
    };
    SuTbl.prototype.sloT = function () {
        var sq = 'select * from gtd_su where sui = "' + this.sui + '";';
        return sq;
    };
    SuTbl.prototype.slT = function () {
        var sq = 'select * from  gtd_su where  1=1 ';
        if (this.sui != null && this.sui != "") {
            sq = sq + ' and sui="' + this.sui + '"';
        }
        if (this.subt != null && this.subt != "") {
            sq = sq + ' and subt="' + this.subt + '"';
        }
        if (this.sust != null && this.sust != "") {
            sq = sq + ' and sust="' + this.sust + '"';
        }
        if (this.sut != null && this.sut != "") {
            sq = sq + ' and sut="' + this.sut + '"';
        }
        if (this.sus != null && this.sus != "") {
            sq = sq + ' and sus="' + this.sus + '"';
        }
        sq = sq + ';';
        return sq;
    };
    SuTbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_su;';
        return sq;
    };
    SuTbl.prototype.inT = function () {
        var sq = 'insert into gtd_su ' +
            '(  sui ,subt ,subtsn ,sust ,sustsn ,suc ,sut ,sus ,sum) values("' + this.sui + '","' + this.subt + '",' +
            '"' + this.subtsn + '","' + this.sust + '","' + this.sustsn + '","' + this.suc + '",' +
            '"' + this.sut + '","' + this.sus + '","' + this.sum + '");';
        return sq;
    };
    SuTbl.prototype.rpT = function () {
        var sq = 'replace into gtd_su ' +
            '(  sui ,subt ,subtsn ,sust ,sustsn ,suc ,sut ,sus ,sum) values("' + this.sui + '","' + this.subt + '",' +
            '"' + this.subtsn + '","' + this.sust + '","' + this.sustsn + '","' + this.suc + '",' +
            '"' + this.sut + '","' + this.sus + '","' + this.sum + '");';
        return sq;
    };
    SuTbl.prototype.preT = function () {
        var sq = 'insert into gtd_su ' +
            '(  sui ,subt ,subtsn ,sust ,sustsn ,suc ,sut ,sus ,sum) values(?, ?, ?, ?, ?, ?, ?, ?, ?);';
        return sq;
    };
    return SuTbl;
}());

//# sourceMappingURL=su.tbl.js.map

/***/ }),
/* 254 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DefaultProcess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};

/**
 * webSocket公用处理方法
 *
 * create by wzy on 2018/11/30.
 */
var DefaultProcess = (function () {
    function DefaultProcess() {
    }
    DefaultProcess.prototype.do = function (content, contextRetMap) {
        return __awaiter(this, void 0, void 0, function () {
            var rf, fun;
            return __generator(this, function (_a) {
                //process处理符合条件则执行
                if (content.when && content.when != "") {
                    rf = false;
                    try {
                        fun = eval("(" + content.when + ")");
                        rf = fun(content, contextRetMap);
                    }
                    catch (e) {
                        rf = false;
                    }
                    ;
                    if (!rf) {
                        return [2 /*return*/, contextRetMap];
                    }
                }
                return [2 /*return*/, contextRetMap];
            });
        });
    };
    DefaultProcess.prototype.gowhen = function (content, contextRetMap) {
        return __awaiter(this, void 0, void 0, function () {
            var rf, fun;
            return __generator(this, function (_a) {
                //process处理符合条件则执行
                if (content.when && content.when != "") {
                    rf = false;
                    try {
                        fun = eval("(" + content.when + ")");
                        rf = fun(content, contextRetMap);
                    }
                    catch (e) {
                        rf = false;
                    }
                    ;
                    if (!rf) {
                        return [2 /*return*/, contextRetMap];
                    }
                }
                return [2 /*return*/, contextRetMap];
            });
        });
    };
    DefaultProcess = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], DefaultProcess);
    return DefaultProcess;
}());

//# sourceMappingURL=default.process.js.map

/***/ }),
/* 255 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AgendasProcess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__model_ws_enum__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__data_mapping__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_business_event_service__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__wsdata_config__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__base_process__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__data_enum__ = __webpack_require__(18);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







/**
 * 日程处理
 *
 * create by zhangjy on 2019/03/28.
 */
var AgendasProcess = (function (_super) {
    __extends(AgendasProcess, _super);
    function AgendasProcess(eventService) {
        var _this = _super.call(this) || this;
        _this.eventService = eventService;
        return _this;
    }
    AgendasProcess.prototype.do = function (content, contextRetMap) {
        return __awaiter(this, void 0, void 0, function () {
            var opt, prvOpt, scd, fs, rf, fun, _i, scd_1, c, rcIn, oldAgendaData;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        opt = content.option;
                        prvOpt = "";
                        //获取上下文前动作信息
                        prvOpt = this.input(content, contextRetMap, "prvoption", __WEBPACK_IMPORTED_MODULE_4__wsdata_config__["a" /* WsDataConfig */].PRVOPTION, prvOpt);
                        scd = new Array();
                        scd = this.input(content, contextRetMap, "agendas", __WEBPACK_IMPORTED_MODULE_4__wsdata_config__["a" /* WsDataConfig */].SCD, scd);
                        fs = new Array();
                        fs = this.input(content, contextRetMap, "contacts", __WEBPACK_IMPORTED_MODULE_4__wsdata_config__["a" /* WsDataConfig */].FS, fs);
                        //process处理符合条件则执行
                        console.log("******************agendas do when");
                        if (content.when && content.when != "") {
                            console.log("******************agendas do when in " + content.when);
                            rf = false;
                            try {
                                fun = eval("(" + content.when + ")");
                                rf = fun(content, scd, fs);
                            }
                            catch (e) {
                                rf = false;
                            }
                            if (!rf) {
                                return [2 /*return*/, contextRetMap];
                            }
                        }
                        _i = 0, scd_1 = scd;
                        _a.label = 1;
                    case 1:
                        if (!(_i < scd_1.length)) return [3 /*break*/, 9];
                        c = scd_1[_i];
                        rcIn = {};
                        rcIn.evn = c.sn;
                        rcIn.st = c.st;
                        rcIn.sd = c.sd;
                        if (c.si && c.si != null && c.si != '') {
                            rcIn.evi = c.si;
                        }
                        if (!(prvOpt == __WEBPACK_IMPORTED_MODULE_1__model_ws_enum__["a" /* AG */].C)) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.eventService.saveAgenda(rcIn)];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 8];
                    case 3:
                        if (!(prvOpt == __WEBPACK_IMPORTED_MODULE_1__model_ws_enum__["a" /* AG */].U)) return [3 /*break*/, 5];
                        console.log("******************agendas do AG.U");
                        return [4 /*yield*/, this.eventService.saveAgenda(rcIn)];
                    case 4:
                        _a.sent();
                        return [3 /*break*/, 8];
                    case 5:
                        oldAgendaData = {};
                        return [4 /*yield*/, this.eventService.getAgenda(rcIn.evi)];
                    case 6:
                        oldAgendaData = _a.sent();
                        return [4 /*yield*/, this.eventService.removeAgenda(oldAgendaData, __WEBPACK_IMPORTED_MODULE_6__data_enum__["r" /* OperateType */].OnlySel)];
                    case 7:
                        _a.sent();
                        _a.label = 8;
                    case 8:
                        _i++;
                        return [3 /*break*/, 1];
                    case 9:
                        console.log("******************agendas do end");
                        return [2 /*return*/, contextRetMap];
                }
            });
        });
    };
    AgendasProcess.prototype.gowhen = function (content, contextRetMap) {
        return __awaiter(this, void 0, void 0, function () {
            var cudPara, scd, fs, rf, fun, c, scdlist, _i, scdlist_1, c_1, _a, scd_2, c, _b, scd_3, c;
            return __generator(this, function (_c) {
                //记录当前option，为其后动作使用
                contextRetMap.set(__WEBPACK_IMPORTED_MODULE_4__wsdata_config__["a" /* WsDataConfig */].OPTION4SPEECH, content.option);
                //记录当前processor，为其后动作使用
                contextRetMap.set(__WEBPACK_IMPORTED_MODULE_4__wsdata_config__["a" /* WsDataConfig */].PROCESSOR4SPEECH, content.processor);
                cudPara = content.parameters;
                scd = new Array();
                scd = this.input(content, contextRetMap, "agendas", __WEBPACK_IMPORTED_MODULE_4__wsdata_config__["a" /* WsDataConfig */].SCD, scd);
                fs = new Array();
                fs = this.input(content, contextRetMap, "contacts", __WEBPACK_IMPORTED_MODULE_4__wsdata_config__["a" /* WsDataConfig */].FS, fs);
                //process处理符合条件则执行
                if (content.when && content.when != "") {
                    rf = false;
                    try {
                        fun = eval("(" + content.when + ")");
                        rf = fun(content, scd, fs);
                    }
                    catch (e) {
                        rf = false;
                    }
                    if (!rf) {
                        return [2 /*return*/, contextRetMap];
                    }
                }
                //处理区分
                // 创建日程
                if (content.option == __WEBPACK_IMPORTED_MODULE_1__model_ws_enum__["a" /* AG */].C) {
                    if (fs.length > 0) {
                    }
                    // F处理返回的结果
                    if (scd.length > 0) {
                    }
                    c = new __WEBPACK_IMPORTED_MODULE_2__data_mapping__["q" /* ScdData */]();
                    scdlist = new Array();
                    scdlist.push(c);
                    for (_i = 0, scdlist_1 = scdlist; _i < scdlist_1.length; _i++) {
                        c_1 = scdlist_1[_i];
                        c_1.sd = cudPara.d == null ? c_1.sd : cudPara.d;
                        c_1.sn = cudPara.ti == null ? c_1.sn : cudPara.ti;
                        c_1.st = cudPara.t == null ? c_1.st : cudPara.t;
                        //显示本次创建的人
                        c_1.fss = fs;
                    }
                    scd = scdlist;
                }
                // 修改日程
                if (content.option == __WEBPACK_IMPORTED_MODULE_1__model_ws_enum__["a" /* AG */].U) {
                    if (scd.length == 1) {
                        if (scd[0].gs != "0" && (scd[0].sd != cudPara.d || scd[0].sn != cudPara.ti ||
                            scd[0].st != cudPara.t)) {
                            //出错记录
                            this.output(content, contextRetMap, 'branchcode', __WEBPACK_IMPORTED_MODULE_4__wsdata_config__["a" /* WsDataConfig */].BRANCHCODE, __WEBPACK_IMPORTED_MODULE_4__wsdata_config__["a" /* WsDataConfig */].BRANCHCODE_E0001);
                            //出错记录
                            this.output(content, contextRetMap, 'branchtype', __WEBPACK_IMPORTED_MODULE_4__wsdata_config__["a" /* WsDataConfig */].BRANCHTYPE, __WEBPACK_IMPORTED_MODULE_4__wsdata_config__["a" /* WsDataConfig */].BRANCHTYPE_FORBIDDEN);
                            //上下文内放置创建的或修改的日程更新内容
                            this.output(content, contextRetMap, 'agendas', __WEBPACK_IMPORTED_MODULE_4__wsdata_config__["a" /* WsDataConfig */].SCD, scd);
                            //上下文内放置创建的或修改的日程联系人
                            this.output(content, contextRetMap, 'contacts', __WEBPACK_IMPORTED_MODULE_4__wsdata_config__["a" /* WsDataConfig */].FS, fs);
                            return [2 /*return*/, contextRetMap];
                        }
                    }
                    if (fs.length > 0) {
                    }
                    // F处理返回的结果
                    if (scd.length > 0) {
                    }
                    // 查询没有日程
                    if (scd.length == 0) { }
                    // 查询有1个日程
                    if (scd.length == 1) {
                        // 设置修改后内容
                        for (_a = 0, scd_2 = scd; _a < scd_2.length; _a++) {
                            c = scd_2[_a];
                            c.sd = (cudPara.d == null || cudPara.d == '') ? c.sd : cudPara.d;
                            c.sn = (cudPara.ti == null || cudPara.ti == '') ? c.sn : cudPara.ti;
                            c.st = (cudPara.t == null || cudPara.t == '') ? c.st : cudPara.t;
                            //显示本次添加的人
                            c.fss = fs;
                        }
                    }
                    // 查询有1个被共享日程
                    if (scd.length == 1) { }
                    // 查询有多个日程
                    if (scd.length > 1) { }
                }
                // 删除日程
                if (content.option == __WEBPACK_IMPORTED_MODULE_1__model_ws_enum__["a" /* AG */].D) {
                    if (fs.length > 0) {
                    }
                    // F处理返回的结果
                    if (scd.length > 0) {
                    }
                    // 查询没有日程
                    if (scd.length == 0) { }
                    // 查询有1个日程
                    if (scd.length == 1) {
                        for (_b = 0, scd_3 = scd; _b < scd_3.length; _b++) {
                            c = scd_3[_b];
                            c.fss = fs;
                        }
                    }
                    // 查询有多个日程
                    if (scd.length > 1) { }
                }
                //TODO 缺少元素提醒
                //处理区分
                // content.option
                //  "检查日程缺失项目
                //  检查内容（日期，时间，主题）（提示缺少元素）"	AG.C
                //
                //  "修改时候检查
                //  是否被共享(提示不能修改)
                //  是否重复日程提醒（提示更新今天，还是以后）"	AG.U
                //  删除日程	AG.D
                //上下文内放置创建的或修改的日程更新内容
                this.output(content, contextRetMap, 'agendas', __WEBPACK_IMPORTED_MODULE_4__wsdata_config__["a" /* WsDataConfig */].SCD, scd);
                //上下文内放置创建的或修改的日程联系人
                this.output(content, contextRetMap, 'contacts', __WEBPACK_IMPORTED_MODULE_4__wsdata_config__["a" /* WsDataConfig */].FS, fs);
                return [2 /*return*/, contextRetMap];
            });
        });
    };
    AgendasProcess = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__service_business_event_service__["b" /* EventService */]])
    ], AgendasProcess);
    return AgendasProcess;
}(__WEBPACK_IMPORTED_MODULE_5__base_process__["a" /* BaseProcess */]));

//# sourceMappingURL=agendas.process.js.map

/***/ }),
/* 256 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return BlaRestful; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BlaReq; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_restful_config__ = __webpack_require__(40);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * 黑名单
 */
var BlaRestful = (function () {
    function BlaRestful(request, config) {
        this.request = request;
        this.config = config;
    }
    // 黑名单手机/帐户添加 BLA
    BlaRestful.prototype.add = function (bla) {
        var _this = this;
        //Object.assign(rc,data.rows.item(i));
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("BLA");
            _this.request.post(url, bla).then(function (data) {
                //处理返回结果
                resolve(data.d);
            }).catch(function (error) {
                //处理返回错误
                resolve();
            });
        });
    };
    // 黑名单手机/帐户删除 BLR
    BlaRestful.prototype.remove = function (bla) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("BLR");
            _this.request.post(url, bla).then(function (data) {
                //处理返回结果
                resolve();
            }).catch(function (error) {
                //处理返回错误
                resolve();
            });
        });
    };
    //黑名单获取 BLG
    BlaRestful.prototype.list = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("BLG");
            _this.request.post(url, {}).then(function (data) {
                //处理返回结果
                resolve(data.d);
            }).catch(function (error) {
                //处理返回错误
                resolve();
            });
        });
    };
    BlaRestful = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__["a" /* RestfulClient */], __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["a" /* RestFulConfig */]])
    ], BlaRestful);
    return BlaRestful;
}());

/*export class Bla {
  reqData = {
    "ai": "15737921611",
    "mpn": "15737921611",
    "n": "15737921611",
    "a": "15737921611",
    "s": "15737921611",
    "bd": "15737921611"
  }
  repData = {
    code: "",
    message: "",
    data: {},
  }
}*/
//参与人
var BlaReq = (function () {
    function BlaReq() {
    }
    return BlaReq;
}());

//# sourceMappingURL=blasev.js.map

/***/ }),
/* 257 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return JPushService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__jiguang_ionic_jpush__ = __webpack_require__(578);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_device__ = __webpack_require__(103);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






/**
 * JPush 极光推送服务
 *
 * create by xilj on 2019/06/19.
 */
var JPushService = (function () {
    function JPushService(jpush, util, device, emitService) {
        var _this = this;
        this.jpush = jpush;
        this.util = util;
        this.device = device;
        this.emitService = emitService;
        this.wins = window;
        this.sequence = 0;
        this.alias = "";
        this.registerid = "";
        this.tags = new Array();
        if (this.util.isMobile()) {
            console.log("JPush service created@" + this.device.platform + ".");
            if (this.device.platform == "Android") {
                document.addEventListener("jpush.receiveNotification", function (event) {
                    console.log("JPush Received Notification with event listener.");
                    _this.notificationReceived(event);
                }, false);
                document.addEventListener("jpush.openNotification", function (event) {
                    console.log("JPush Open Notification with event listener.");
                    _this.notificationOpened(event);
                }, false);
                document.addEventListener("jpush.receiveMessage", function (event) {
                    console.log("JPush Received Message with event listener.");
                    _this.messageReceived(event);
                }, false);
            }
            else {
                //this.wins.plugins.jPushPlugin.receiveMessageIniOSCallback = (event) => {
                //  _this.messageReceived(_this, event);
                //};
                //this.wins.plugins.jPushPlugin.receiveNotificationIniOSCallback = (event) => {
                //  _this.notificationReceived(_this, event);
                //};
                //this.wins.plugins.jPushPlugin.openNotificationIniOSCallback = (event) => {
                //  _this.notificationOpened(_this, event);
                //};
            }
        }
    }
    //Native Call Function
    JPushService.prototype.notificationReceived = function (event) {
        console.log("JPush received notification: " + JSON.stringify(event));
    };
    //Native Call Function
    JPushService.prototype.notificationOpened = function (event) {
        var _this = this;
        console.log("JPush opened notification: " + JSON.stringify(event));
        if (event) {
            var extras_1 = {};
            if (this.device.platform == "Android") {
                extras_1 = event.extras['cn.jpush.android.EXTRA'];
            }
            else {
                if (event.extras)
                    extras_1 = event.extras;
                else
                    extras_1 = event;
            }
            if (extras_1 && extras_1['eventdata']) {
                extras_1['eventdata'] = JSON.parse(extras_1['eventdata']);
            }
            if (extras_1['event'] && extras_1['eventhandler']) {
                var eventname_1 = event.extras['event'];
                var dependson_1 = extras_1['dependson'];
                var eventdatafrom_1 = extras_1['eventdatafrom'];
                var eventdata_1 = extras_1['eventdata'];
                var emitted = 0;
                if (eventdatafrom_1 && eventdatafrom_1 == 'local') {
                    //共享日程消息点击处理
                    if (eventname_1 == "MWXING_SHAREAGENDA_EVENT") {
                        var local = {};
                        if (eventdata_1 && eventdata_1['id']) {
                            local['sr'] = eventdata_1['id'];
                            local['type'] = eventdata_1['type'];
                            local['id'] = eventdata_1['id'];
                            console.log("MWxing direct, trigger " + extras_1['eventhandler'] + " with local data.");
                            emitted = this.emitService.emit(extras_1['eventhandler'], local);
                        }
                    }
                    else if (eventname_1 == "MWXING_AGENDA_SHAREBLOCKED_EVENT") {
                        //如果不存在所属ID则不处理
                        if (eventdata_1 && eventdata_1['si'] && eventdata_1['sd']) {
                            emitted = this.emitService.emit(extras_1['eventhandler'], eventdata_1);
                        }
                    }
                    else {
                        console.log("MWxing direct, trigger " + extras_1['eventhandler'] + " without payload.");
                        emitted = this.emitService.emit(extras_1['eventhandler']);
                    }
                }
                else {
                    console.log("MWxing direct, trigger " + extras_1['eventhandler'] + " with server data.");
                    emitted = this.emitService.emit(extras_1['eventhandler'], extras_1);
                }
                // 避免重复触发
                if (!emitted && dependson_1) {
                    //冥王星关闭状态，点击消息启动时，在接收事件初始化之后调用
                    var ee_1 = this.emitService.register(dependson_1, function (data) {
                        //冥王星初始化已完成
                        console.log("MWxing " + dependson_1 + ", trigger " + extras_1['eventhandler']);
                        if (eventdatafrom_1 && eventdatafrom_1 == 'local') {
                            //共享日程消息点击处理
                            if (eventname_1 == "MWXING_SHAREAGENDA_EVENT") {
                                //如果不存在所属ID则不处理
                                if (eventdata_1 && eventdata_1['id']) {
                                    var local = {};
                                    //当前保存的共享日程和当前消息指向日程相同
                                    local['sr'] = eventdata_1['id'];
                                    _this.emitService.emit(extras_1['eventhandler'], local);
                                    ee_1.unsubscribe();
                                }
                            }
                            else if (eventname_1 == "MWXING_AGENDA_SHAREBLOCKED_EVENT") {
                                //如果不存在所属ID则不处理
                                if (eventdata_1 && eventdata_1['si'] && eventdata_1['sd']) {
                                    _this.emitService.emit(extras_1['eventhandler'], eventdata_1);
                                    ee_1.unsubscribe();
                                }
                            }
                            else {
                                _this.emitService.emit(extras_1['eventhandler'], data);
                                ee_1.unsubscribe();
                            }
                        }
                        else {
                            _this.emitService.emit(extras_1['eventhandler'], extras_1);
                            ee_1.unsubscribe();
                        }
                    });
                    console.log("MWxing " + dependson_1 + " registered.");
                }
            }
        }
    };
    //Native Call Function
    JPushService.prototype.messageReceived = function (event) {
        console.log("JPush received message: " + JSON.stringify(event));
    };
    JPushService.prototype.init = function () {
        this.jpush.init();
        this.jpush.setDebugMode(__WEBPACK_IMPORTED_MODULE_4__config_data_config__["a" /* DataConfig */].isdebug);
    };
    JPushService.prototype.checkStatus = function (userId, force) {
        var _this = this;
        if (userId === void 0) { userId = ""; }
        if (force === void 0) { force = false; }
        this.jpush.isPushStopped().then(function (isPushStopped) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(isPushStopped != 0)) return [3 /*break*/, 1];
                        console.log("JPush service stopped.");
                        this.jpush.resumePush();
                        console.log("JPush service starting resume.");
                        //5秒后重新确认状态
                        setTimeout(function () {
                            _this.checkStatus();
                        }, 60000);
                        return [3 /*break*/, 8];
                    case 1:
                        console.log("JPush service is running.");
                        if (!!this.registerid) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.getRegistrationID()];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 4];
                    case 3:
                        if (this.registerid)
                            this.emitService.emit("on.jpush.registerid.loaded");
                        _a.label = 4;
                    case 4:
                        if (!(!this.alias || force)) return [3 /*break*/, 6];
                        return [4 /*yield*/, this.getAlias(userId)];
                    case 5:
                        _a.sent();
                        _a.label = 6;
                    case 6:
                        if (!(!this.tags || this.tags.length < 0 || force)) return [3 /*break*/, 8];
                        return [4 /*yield*/, this.getAllTags(userId)];
                    case 7:
                        _a.sent();
                        _a.label = 8;
                    case 8: return [2 /*return*/];
                }
            });
        }); });
    };
    JPushService.prototype.errorHandler = function (err) {
        var sequence = err.sequence;
        var code = err.code;
        console.log("JPush Error!" + "\nSequence: " + sequence + "\nCode: " + code);
    };
    JPushService.prototype.getRegistrationID = function () {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                this.jpush.getRegistrationID()
                    .then(function (result) {
                    console.log("JPush get registration id " + result);
                    if (result) {
                        _this.registerid = result;
                        _this.emitService.emit("on.jpush.registerid.loaded");
                    }
                    resolve();
                }).catch(function (err) {
                    _this.errorHandler(err);
                    reject(err);
                });
                return [2 /*return*/];
            });
        }); });
    };
    JPushService.prototype.getAlias = function (userId) {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                this.jpush.getAlias({ sequence: this.sequence++ })
                    .then(function (result) { return __awaiter(_this, void 0, void 0, function () {
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0:
                                if (!(result && result.alias)) return [3 /*break*/, 1];
                                console.log("JPush get alias " + result.alias);
                                this.alias = result.alias;
                                return [3 /*break*/, 3];
                            case 1:
                                if (!userId) return [3 /*break*/, 3];
                                //初始化别名
                                return [4 /*yield*/, this.setAlias(this.util.getUuid())];
                            case 2:
                                //初始化别名
                                _a.sent();
                                _a.label = 3;
                            case 3:
                                resolve();
                                return [2 /*return*/];
                        }
                    });
                }); }).catch(function (err) {
                    _this.errorHandler(err);
                    reject(err);
                });
                return [2 /*return*/];
            });
        }); });
    };
    JPushService.prototype.getAllTags = function (userId) {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                this.jpush.getAllTags({ sequence: this.sequence++ })
                    .then(function (result) {
                    if (result && result.tags && result.tags.length > 0) {
                        console.log("JPush get tags " + result.tags);
                        _this.tags = result.tags;
                    }
                    else if (userId) {
                        _this.addTags(["mwxing"]);
                    }
                    resolve();
                }).catch(function (err) {
                    _this.errorHandler(err);
                    reject(err);
                });
                return [2 /*return*/];
            });
        }); });
    };
    JPushService.prototype.setAlias = function (alias) {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                this.jpush.setAlias({ sequence: this.sequence++, alias: alias }).then(function (result) {
                    console.log("JPush add alias responsed with " + JSON.stringify(result));
                    var sequence = result.sequence;
                    _this.alias = result.alias;
                    resolve();
                }).catch(function (err) {
                    _this.errorHandler(err);
                    reject(err);
                });
                return [2 /*return*/];
            });
        }); });
    };
    JPushService.prototype.addTags = function (tags) {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                this.jpush.addTags({ sequence: this.sequence++, tags: tags }).then(function (result) {
                    console.log("JPush add tags responsed with " + JSON.stringify(result));
                    var sequence = result.sequence;
                    if (result.tags && result.tags.length > 0) {
                        _this.tags = tags;
                    }
                    resolve();
                }).catch(function (err) {
                    _this.errorHandler(err);
                    reject(err);
                });
                return [2 /*return*/];
            });
        }); });
    };
    JPushService.prototype.onMessageReceive = function (callback) {
        //this.jpush.receiveNotificationInAndroidCallback = callback;
    };
    JPushService.prototype.onMessageOpen = function (callback) {
        //this.jpush.openNotificationInAndroidCallback = callback;
    };
    JPushService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__jiguang_ionic_jpush__["a" /* JPush */],
            __WEBPACK_IMPORTED_MODULE_3__util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_5__ionic_native_device__["a" /* Device */],
            __WEBPACK_IMPORTED_MODULE_2__util_service_emit_service__["a" /* EmitService */]])
    ], JPushService);
    return JPushService;
}());

//# sourceMappingURL=jpush.service.js.map

/***/ }),
/* 258 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SmsRestful; });
/* unused harmony export InData */
/* unused harmony export OutData */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_restful_config__ = __webpack_require__(40);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * 验证码
 */
var SmsRestful = (function () {
    function SmsRestful(request, config) {
        this.request = request;
        this.config = config;
    }
    //发送短信验证码 SSMIC
    SmsRestful.prototype.getcode = function (phoneno) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var smsData = new InData();
            smsData.phoneno = phoneno;
            var url = _this.config.getRestFulUrl("SSMIC");
            _this.request.post(url, smsData).then(function (data) {
                //处理返回结果
                resolve(data.data);
            }).catch(function (error) {
                //处理返回错误
                reject(error);
            });
        });
    };
    SmsRestful = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__["a" /* RestfulClient */], __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["a" /* RestFulConfig */]])
    ], SmsRestful);
    return SmsRestful;
}());

var InData = (function () {
    function InData() {
        this.phoneno = ""; //手机号码
        this.timeOut = 0;
    }
    return InData;
}());

var OutData = (function () {
    function OutData() {
    }
    return OutData;
}());

//# sourceMappingURL=smssev.js.map

/***/ }),
/* 259 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return PdPage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PdItem; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_clipboard__ = __webpack_require__(589);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pd_service__ = __webpack_require__(590);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__data_enum__ = __webpack_require__(18);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








/**
 * Generated class for the 计划展示 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var PdPage = (function () {
    function PdPage(navCtrl, navParams, actionSheetCtrl, util, pdService, clipboard) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.actionSheetCtrl = actionSheetCtrl;
        this.util = util;
        this.pdService = pdService;
        this.clipboard = clipboard;
        this.buttons = {
            remove: false,
            share: false,
            save: true,
            cancel: true
        };
        this.currentuser = __WEBPACK_IMPORTED_MODULE_6__service_config_user_config__["b" /* UserConfig */].account.id;
        this.friends = __WEBPACK_IMPORTED_MODULE_6__service_config_user_config__["b" /* UserConfig */].friends;
        this.synch = __WEBPACK_IMPORTED_MODULE_7__data_enum__["C" /* SyncType */].synch;
        this.unsynch = __WEBPACK_IMPORTED_MODULE_7__data_enum__["C" /* SyncType */].unsynch;
        this.finished = __WEBPACK_IMPORTED_MODULE_7__data_enum__["f" /* EventFinishStatus */].Finished;
        this.today = __WEBPACK_IMPORTED_MODULE_5_moment__().format("YYYY/MM/DD HH:mm");
        this.plans = new Array();
        this.jh = this.navParams.get('jh');
        this.planName = this.jh.jn;
    }
    PdPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad PdPage');
    };
    PdPage.prototype.ionViewDidEnter = function () {
        var _this = this;
        this.pdService.getPlan(this.jh.ji, this.jh.jt).then(function (data) {
            _this.plans = data;
        }).catch(function (res) {
            console.log("获取计划列表失败" + JSON.stringify(res));
        });
    };
    PdPage.prototype.ionViewWillLeave = function () {
        if (this.actionSheet !== undefined) {
            this.actionSheet.dismiss();
        }
    };
    PdPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    PdPage.prototype.more = function (jh) {
        var _this = this;
        this.actionSheet = this.actionSheetCtrl.create({
            buttons: [
                {
                    text: '分享',
                    role: 'share',
                    handler: function () {
                        _this.pdService.sharePlan(_this.jh).then(function (data) {
                            console.log("分享地址是：" + JSON.stringify(data.psurl));
                            var sharecontent = "【冥王星】" + __WEBPACK_IMPORTED_MODULE_6__service_config_user_config__["b" /* UserConfig */].user.name + "分享了" + _this.planName + "\n\r" + data.psurl;
                            _this.clipboard.copy(sharecontent);
                            _this.util.popoverStart("分享地址已复制到剪贴板,粘贴到手机浏览器查看,或直接粘贴到微信、QQ与朋友分享。");
                        }).catch(function (res) {
                            _this.util.popoverStart('分享失败');
                        });
                    }
                },
                {
                    text: '删除',
                    handler: function () {
                        if (jh.jt == "1") {
                            _this.util.popoverStart('系统计划请在日历一栏页面长按删除');
                        }
                        else if (jh.ji == "personalcalendar" || jh.ji == "workcalendar") {
                            _this.util.popoverStart('默认日历不能删除');
                        }
                        else {
                            _this.util.alterStart("2", function () { _this.delete(jh); });
                        }
                    }
                },
                {
                    text: '取消',
                    role: 'cancel',
                    handler: function () {
                        console.log('Cancel clicked');
                    }
                }
            ]
        });
        this.actionSheet.present();
    };
    PdPage.prototype.delete = function (jh) {
        var _this = this;
        this.pdService.delete(jh).then(function (data) {
            _this.navCtrl.pop();
        }).catch(function (res) {
            _this.util.popoverStart('删除日历失败');
        });
    };
    PdPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-pd',
            template: "    \n    <modal-box title=\"{{planName}}\" [buttons]=\"buttons\" (onSave)=\"more()\" (onCancel)=\"goBack()\">\n      <ion-scroll scrollY=\"true\" scrollheightAuto>\n        <ul class=\"timeline\" >\n          <ng-template ngFor let-item [ngForOf]=\"plans\">            \n            <ng-template [ngIf]=\"item.type == 'AgendaData'\">\n              <!--<li [ngClass]=\"{'agenda-card-past': today > item.agendaData.evd, 'agenda-card': today <= item.agendaData.evd}\">-->\n              <li>\n                <div class=\"timeline-badge\">{{item.agendaData.evd | formatedate: \"MM-DD\"}}</div>\n                <div class=\"timeline-panel\">\n                  <div class=\"timeline-heading\">\n                    <span class=\"timeline-title\">{{item.agendaData.evt}}</span>\n                    <span class=\"timeline-person\" *ngIf=\"currentuser != item.agendaData.ui && item.agendaData.ui != ''\">-{{item.agendaData.ui | formatuser: currentuser: friends}}</span>\n                  </div>\n                  <div class=\"timeline-body\">\n                    <p>{{item.agendaData.evn}}</p>\n                    <p>{{item.agendaData.bz}}</p>\n                  </div>\n                  <div class=\"timeline-foot\">\n                    <span class=\"icon font-small\">\n                      <ion-icon class=\"fad fa-lock\"  *ngIf=\"item.agendaData.todolist == '0'\"></ion-icon>\n                      <ion-icon class=\"fad fa-user-tag\"  *ngIf=\"currentuser != item.agendaData.ui && item.agendaData.ui != ''\"></ion-icon>\n                      <ion-icon class=\"fad fa-check-double\" *ngIf=\"item.agendaData.wc == finished\"></ion-icon>\n                      <ion-icon class=\"fad fa-sync\" *ngIf=\"item.agendaData.tb == synch\"></ion-icon>\n                    </span>\n                  </div>\n                </div>\n              </li>\n            </ng-template>\n            <ng-template [ngIf]=\"item.type == 'PlanItemData'\">\n              <!--<li [ngClass]=\"{'agenda-card-past': today > item.planItemData.sd, 'agenda-card': today <= item.planItemData.sd}\">-->\n\n              <li>\n                <div class=\"timeline-badge\">{{item.planItemData.sd | formatedate: \"MM-DD\"}}</div>\n                <div class=\"timeline-panel\">\n                  <div class=\"timeline-heading\">\n                    <span class=\"timeline-title\">{{item.planItemData.jtn}}</span>    \n                    <span class=\"timeline-person\" *ngIf=\"currentuser != item.planItemData.ui && item.planItemData.ui != ''\">-{{item.planItemData.ui | formatuser: currentuser: friends}}</span>\n\n                  </div>\n                  <div class=\"timeline-body\">\n                    <p>{{item.planItemData.bz}}</p>\n                  </div>\n                </div>\n              </li>\n            </ng-template>\n            <ng-template [ngIf]=\"item.type == 'MemoData'\">\n            </ng-template>\n            <ng-template [ngIf]=\"item.type == 'YearData'\">\n              <li yearitem>\n                <div class=\"timeline-badge\">{{item.yearitem}}\u5E74</div>\n              </li>\n            </ng-template>\n            <!--<ng-template [ngIf]=\"item.type == 'TaskData'\">-->\n            <!--<li [ngClass]=\"{'agenda-card-past': today > item.taskData.evd, 'agenda-card': today <= item.taskData.evd}\">-->\n            <!--<div class=\"timeline-badge\">{{item.taskData.evd | formatedate: \"CMM/DD\"}}</div>-->\n            <!--<div class=\"timeline-panel\">-->\n            <!--<div class=\"timeline-heading\">-->\n            <!--<h4 class=\"timeline-title\">{{item.taskData.evn}}</h4>-->\n            <!--<p><small class=\"text-muted\"><i class=\"glyphicon glyphicon-time\"></i>{{item.taskData.evt}}</small></p>-->\n            <!--</div>-->\n            <!--<div class=\"timeline-body\">-->\n            <!--<p>{{item.taskData.bz}}</p>-->\n            <!--</div>-->\n            <!--</div>-->\n            <!--</li>-->\n            <!--</ng-template>-->\n            <!--<ng-template [ngIf]=\"item.type == 'MiniTaskData'\">-->\n            <!--<li [ngClass]=\"{'agenda-card-past': today > item.miniTaskData.evd, 'agenda-card': today <= item.miniTaskData.evd}\">-->\n            <!--<div class=\"timeline-badge\">{{item.miniTaskData.evd | formatedate: \"CMM/DD\"}}</div>-->\n            <!--<div class=\"timeline-panel\">-->\n            <!--<div class=\"timeline-heading\">-->\n            <!--<h4 class=\"timeline-title\">{{item.miniTaskData.evn}}</h4>-->\n            <!--<p><small class=\"text-muted\"><i class=\"glyphicon glyphicon-time\"></i>{{item.miniTaskData.evt}}</small></p>-->\n            <!--</div>-->\n            <!--<div class=\"timeline-body\">-->\n            <!--<p>{{item.miniTaskData.bz}}</p>-->\n            <!--</div>-->\n            <!--</div>-->\n            <!--</li>-->\n            <!--</ng-template>-->\n          </ng-template>\n          \n        </ul>\n      </ion-scroll>\n    </modal-box>\n        \n        <!---->\n        <!--<ion-row  justify-content-center>-->\n          <!--<ion-grid>-->\n            <!--<ion-row *ngIf=\"(i === 0) || (item.evd.slice(0,4) !== plan.pa[i - 1]['evd'].slice(0,4))\" justify-content-start>-->\n              <!--<h3 class=\"plan-year\">{{item.evd.slice(0,4)}}</h3>-->\n            <!--</ion-row>-->\n            <!--<ion-row justify-content-center align-items-start>-->\n              <!--<div *ngIf=\"(i === 0) || (item.evd.slice(0,10) !== plan.pa[i - 1]['evd'].slice(0,10))\" class=\"agenda-col-date left-off right-off\" justify-content-start>-->\n                <!--<p class=\"app-agenda-day\">{{item.evd.slice(5,10)}}</p>-->\n              <!--</div>-->\n              <!--<div *ngIf=\"(i !== 0) && (item.evd.slice(0,10) === plan.pa[i - 1]['evd'].slice(0,10))\" class=\"agenda-col-date left-off right-off\" justify-content-start>-->\n              <!--</div>-->\n              <!--<div class=\"agenda-col-time right-off left-off\" justify-content-between>-->\n                <!--<div class=\"time-slot\">-->\n                  <!--<p class=\"app-agenda-time\">{{item.evt}}</p>-->\n                <!--</div>-->\n                <!--<div class=\"pointer-slot\"><span class=\"plan-color-pointer\"><div class=\"color-dot\"></div></span></div>-->\n              <!--</div>-->\n              <!--<div class=\"agenda-col-content right-off left-off\" [ngClass]=\"{'agenda-content': ((i + 1) === plan.pa.length)? false : (item.evd.slice(0, 10) === plan.pa[i + 1]['evd'].slice(0, 10))}\" justify-content-start>-->\n                <!--<p class=\"text-left app-agenda-title\">{{item.evn}}</p>-->\n                <!--<p class=\"app-user-text text-left\">{{item.bz}}</p>-->\n              <!--</div>-->\n            <!--</ion-row>-->\n    <!--</ion-content>-->\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_3__pd_service__["a" /* PdService */],
            __WEBPACK_IMPORTED_MODULE_2__ionic_native_clipboard__["a" /* Clipboard */]])
    ], PdPage);
    return PdPage;
}());

var PdItem = (function () {
    function PdItem() {
    }
    return PdItem;
}());

//# sourceMappingURL=pd.js.map

/***/ }),
/* 260 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DatePickerComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_forms__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ionic_angular_util_datetime_util__ = __webpack_require__(333);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ionic_angular_util_base_input__ = __webpack_require__(65);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__ = __webpack_require__(5);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/**
 * @name DateTime
 * @description
 * The DateTime component is used to present an interface which makes it easy for
 * users to select dates and times. Tapping on `<ion-datetime>` will display a picker
 * interface that slides up from the bottom of the page. The picker then displays
 * scrollable columns that can be used to individually select years, months, days,
 * hours and minute values. The DateTime component is similar to the native
 * `<input type="datetime-local">` element, however, Ionic's DateTime component makes
 * it easy to display the date and time in a preferred format, and manage the datetime
 * values.
 *
 * ```html
 * <ion-item>
 *   <ion-label>Date</ion-label>
 *   <ion-datetime displayFormat="MM/DD/YYYY" [(ngModel)]="myDate"></ion-datetime>
 * </ion-item>
 * ```
 *
 *
 * ## Display and Picker Formats
 *
 * The DateTime component displays the values in two places: in the `<ion-datetime>`
 * component, and in the interface that is presented from the bottom of the screen.
 * The following chart lists all of the formats that can be used.
 *
 * | Format  | Description                    | Example                 |
 * |---------|--------------------------------|-------------------------|
 * | `YYYY`  | Year, 4 digits                 | `2018`                  |
 * | `YY`    | Year, 2 digits                 | `18`                    |
 * | `M`     | Month                          | `1` ... `12`            |
 * | `MM`    | Month, leading zero            | `01` ... `12`           |
 * | `MMM`   | Month, short name              | `Jan`                   |
 * | `MMMM`  | Month, full name               | `January`               |
 * | `D`     | Day                            | `1` ... `31`            |
 * | `DD`    | Day, leading zero              | `01` ... `31`           |
 * | `DDD`   | Day, short name                | `Fri`                   |
 * | `DDDD`  | Day, full name                 | `Friday`                |
 * | `H`     | Hour, 24-hour                  | `0` ... `23`            |
 * | `HH`    | Hour, 24-hour, leading zero    | `00` ... `23`           |
 * | `h`     | Hour, 12-hour                  | `1` ... `12`            |
 * | `hh`    | Hour, 12-hour, leading zero    | `01` ... `12`           |
 * | `a`     | 12-hour time period, lowercase | `am` `pm`               |
 * | `A`     | 12-hour time period, uppercase | `AM` `PM`               |
 * | `m`     | Minute                         | `1` ... `59`            |
 * | `mm`    | Minute, leading zero           | `01` ... `59`           |
 * | `s`     | Second                         | `1` ... `59`            |
 * | `ss`    | Second, leading zero           | `01` ... `59`           |
 * | `Z`     | UTC Timezone Offset            | `Z or +HH:mm or -HH:mm` |
 *
 * **Important**: See the [Month Names and Day of the Week Names](#month-names-and-day-of-the-week-names)
 * section below on how to use different names for the month and day.
 *
 * ### Display Format
 *
 * The `displayFormat` input property specifies how a datetime's value should be
 * printed, as formatted text, within the `ion-datetime` component.
 *
 * In the following example, the display in the `<ion-datetime>` will use the
 * month's short name, the numerical day with a leading zero, a comma and the
 * four-digit year. In addition to the date, it will display the time with the hours
 * in the 24-hour format and the minutes. Any character can be used as a separator.
 * An example display using this format is: `Jun 17, 2005 11:06`.
 *
 * ```html
 * <ion-item>
 *   <ion-label>Date</ion-label>
 *   <ion-datetime displayFormat="MMM DD, YYYY HH:mm" [(ngModel)]="myDate"></ion-datetime>
 * </ion-item>
 * ```
 *
 * ### Picker Format
 *
 * The `pickerFormat` input property determines which columns should be shown in the
 * interface, the order of the columns, and which format to use within each column.
 * If the `pickerFormat` input is not provided then it will default to the `displayFormat`.
 *
 * In the following example, the display in the `<ion-datetime>` will use the
 * `MM/YYYY` format, such as `06/2020`. However, the picker interface
 * will display two columns with the month's long name, and the four-digit year.
 *
 * ```html
 * <ion-item>
 *   <ion-label>Date</ion-label>
 *   <ion-datetime displayFormat="MM/YYYY" pickerFormat="MMMM YYYY" [(ngModel)]="myDate"></ion-datetime>
 * </ion-item>
 * ```
 *
 * ### Datetime Data
 *
 * Historically, handling datetime values within JavaScript, or even within HTML
 * inputs, has always been a challenge. Specifically, JavaScript's `Date` object is
 * notoriously difficult to correctly parse apart datetime strings or to format
 * datetime values. Even worse is how different browsers and JavaScript versions
 * parse various datetime strings differently, especially per locale.
 *
 * But no worries, all is not lost! Ionic's datetime input has been designed so
 * developers can avoid the common pitfalls, allowing developers to easily format
 * datetime values within the input, and give the user a simple datetime picker for a
 * great user experience.
 *
 * ##### ISO 8601 Datetime Format: YYYY-MM-DDTHH:mmZ
 *
 * Ionic uses the [ISO 8601 datetime format](https://www.w3.org/TR/NOTE-datetime)
 * for its value. The value is simply a string, rather than using JavaScript's `Date`
 * object. Additionally, when using the ISO datetime format, it makes it easier
 * to serialize and pass within JSON objects, and sending databases a standardized
 * format which it can be easily parsed if need be.
 *
 * To create an ISO datetime string for the current date and time, e.g. use `const currentDate = (new Date()).toISOString();`.
 *
 * An ISO format can be used as a simple year, or just the hour and minute, or get more
 * detailed down to the millisecond and timezone. Any of the ISO formats below can be used,
 * and after a user selects a new value, Ionic will continue to use the same ISO format
 * which datetime value was originally given as.
 *
 * | Description          | Format                 | Datetime Value Example       |
 * |----------------------|------------------------|------------------------------|
 * | Year                 | YYYY                   | 1994                         |
 * | Year and Month       | YYYY-MM                | 1994-12                      |
 * | Complete Date        | YYYY-MM-DD             | 1994-12-15                   |
 * | Date and Time        | YYYY-MM-DDTHH:mm       | 1994-12-15T13:47             |
 * | UTC Timezone         | YYYY-MM-DDTHH:mm:ssTZD | 1994-12-15T13:47:20.789Z     |
 * | Timezone Offset      | YYYY-MM-DDTHH:mm:ssTZD | 1994-12-15T13:47:20.789+5:00 |
 * | Hour and Minute      | HH:mm                  | 13:47                        |
 * | Hour, Minute, Second | HH:mm:ss               | 13:47:20                     |
 *
 * Note that the year is always four-digits, milliseconds (if it's added) is always
 * three-digits, and all others are always two-digits. So the number representing
 * January always has a leading zero, such as `01`. Additionally, the hour is always
 * in the 24-hour format, so `00` is `12am` on a 12-hour clock, `13` means `1pm`,
 * and `23` means `11pm`.
 *
 * It's also important to note that neither the `displayFormat` or `pickerFormat` can
 * set the datetime value's output, which is the value that is set by the component's
 * `ngModel`. The format's are merely for displaying the value as text and the picker's
 * interface, but the datetime's value is always persisted as a valid ISO 8601 datetime
 * string.
 *
 *
 * ## Min and Max Datetimes
 *
 * Dates are infinite in either direction, so for a user's selection there should be at
 * least some form of restricting the dates that can be selected. By default, the maximum
 * date is to the end of the current year, and the minimum date is from the beginning
 * of the year that was 100 years ago.
 *
 * To customize the minimum and maximum datetime values, the `min` and `max` component
 * inputs can be provided which may make more sense for the app's use-case, rather
 * than the default of the last 100 years. Following the same IS0 8601 format listed
 * in the table above, each component can restrict which dates can be selected by the
 * user. Below is an example of restricting the date selection between the beginning
 * of 2016, and October 31st of 2020:
 *
 * ```html
 * <ion-item>
 *   <ion-label>Date</ion-label>
 *   <ion-datetime displayFormat="MMMM YYYY" min="2016" max="2020-10-31" [(ngModel)]="myDate">
 *   </ion-datetime>
 * </ion-item>
 * ```
 *
 *
 * ## Month Names and Day of the Week Names
 *
 * At this time, there is no one-size-fits-all standard to automatically choose the correct
 * language/spelling for a month name, or day of the week name, depending on the language
 * or locale. Good news is that there is an
 * [Intl.DateTimeFormat](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat)
 * standard which *most* browsers have adopted. However, at this time the standard has not
 * been fully implemented by all popular browsers so Ionic is unavailable to take advantage
 * of it *yet*. Additionally, Angular also provides an internationalization service, but it
 * is still under heavy development so Ionic does not depend on it at this time.
 *
 * All things considered, the by far easiest solution is to just provide an array of names
 * if the app needs to use names other than the default English version of month and day
 * names. The month names and day names can be either configured at the app level, or
 * individual `ion-datetime` level.
 *
 * ### App Config Level
 *
 * ```ts
 * //app.module.ts
 * @NgModule({
 * ...,
 * imports: [
 *   IonicModule.forRoot(MyApp, {
 *   monthNames: ['janeiro', 'fevereiro', 'mar\u00e7o', ... ],
 *   monthShortNames: ['jan', 'fev', 'mar', ... ],
 *   dayNames: ['domingo', 'segunda-feira', 'ter\u00e7a-feira', ... ],
 *   dayShortNames: ['dom', 'seg', 'ter', ... ],
 * })
 * ],
 * ...
 * })
 * ```
 *
 * ### Component Input Level
 *
 * ```html
 * <ion-item>
 *   <ion-label>Período</ion-label>
 *   <ion-datetime displayFormat="DDDD MMM D, YYYY" [(ngModel)]="myDate"
 *     monthNames="janeiro, fevereiro, mar\u00e7o, ..."
 *     monthShortNames="jan, fev, mar, ..."
 *     dayNames="domingo, segunda-feira, ter\u00e7a-feira, ..."
 *     dayShortNames="dom, seg, ter, ..."></ion-datetime>
 * </ion-item>
 * ```
 *
 *
 * ### Advanced Datetime Validation and Manipulation
 *
 * The datetime picker provides the simplicity of selecting an exact format, and persists
 * the datetime values as a string using the standardized
 * [ISO 8601 datetime format](https://www.w3.org/TR/NOTE-datetime).
 * However, it's important to note that `ion-datetime` does not attempt to solve all
 * situtations when validating and manipulating datetime values. If datetime values need
 * to be parsed from a certain format, or manipulated (such as adding 5 days to a date,
 * subtracting 30 minutes, etc.), or even formatting data to a specific locale, then we highly
 * recommend using [moment.js](http://momentjs.com/) to "Parse, validate, manipulate, and
 * display dates in JavaScript". [Moment.js](http://momentjs.com/) has quickly become
 * our goto standard when dealing with datetimes within JavaScript, but Ionic does not
 * prepackage this dependency since most apps will not require it, and its locale
 * configuration should be decided by the end-developer.
 *
 *
 * @usage
 * ```html
 * <ion-item>
 *   <ion-label>Date</ion-label>
 *   <ion-datetime displayFormat="MM/DD/YYYY" [(ngModel)]="myDate">
 *   </ion-datetime>
 * </ion-item>
 * ```
 *
 *
 * @demo /docs/demos/src/datetime/
 */






var DatePickerComponent = (function (_super) {
    __extends(DatePickerComponent, _super);
    function DatePickerComponent(form, config, elementRef, renderer, item, _pickerCtrl) {
        var _this = _super.call(this, config, elementRef, renderer, 'date-picker', {}, form, item, null) || this;
        _this._pickerCtrl = _pickerCtrl;
        _this._text = '';
        _this._locale = {};
        /**
         * @input {string} The text to display on the picker's cancel button. Default: `Cancel`.
         */
        _this.cancelText = 'Cancel';
        /**
         * @input {string} The text to display on the picker's "Done" button. Default: `Done`.
         */
        _this.doneText = 'Done';
        /**
         * @input {any} Any additional options that the picker interface can accept.
         * See the [Picker API docs](../../picker/Picker) for the picker options.
         */
        _this.pickerOptions = {};
        /**
         * @input {string} The text to display when there's no date selected yet.
         * Using lowercase to match the input attribute
         */
        _this.placeholder = '';
        /**
         * @output {any} Emitted when the datetime selection was cancelled.
         */
        _this.ionCancel = new __WEBPACK_IMPORTED_MODULE_1__angular_core__["EventEmitter"]();
        return _this;
    }
    DatePickerComponent_1 = DatePickerComponent;
    /**
     * @hidden
     */
    DatePickerComponent.prototype.ngAfterContentInit = function () {
        var _this = this;
        // first see if locale names were provided in the inputs
        // then check to see if they're in the config
        // if neither were provided then it will use default English names
        ['monthNames', 'monthShortNames', 'dayNames', 'dayShortNames'].forEach(function (type) {
            _this._locale[type] = convertToArrayOfStrings(Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(_this[type]) ? _this[type] : _this._config.get(type), type);
        });
        this._initialize();
    };
    /**
     * @hidden
     */
    DatePickerComponent.prototype._inputNormalize = function (val) {
        Object(__WEBPACK_IMPORTED_MODULE_3_ionic_angular_util_datetime_util__["m" /* updateDate */])(this._value, val);
        return this._value;
    };
    /**
     * @hidden
     */
    DatePickerComponent.prototype._inputUpdated = function () {
        _super.prototype._inputUpdated.call(this);
        this.updateText();
    };
    /**
     * @hidden
     */
    DatePickerComponent.prototype._inputShouldChange = function () {
        return true;
    };
    /**
     * TODO: REMOVE THIS
     * @hidden
     */
    DatePickerComponent.prototype._inputChangeEvent = function () {
        return this.value;
    };
    /**
     * @hidden
     */
    DatePickerComponent.prototype._inputNgModelEvent = function () {
        return Object(__WEBPACK_IMPORTED_MODULE_3_ionic_angular_util_datetime_util__["b" /* convertDataToISO */])(this.value);
    };
    DatePickerComponent.prototype._click = function (ev) {
        ev.preventDefault();
        ev.stopPropagation();
        this.open();
    };
    DatePickerComponent.prototype._keyup = function () {
        this.open();
    };
    /**
     * @hidden
     */
    DatePickerComponent.prototype.open = function () {
        var _this = this;
        if (this.isFocus() || this._disabled) {
            return;
        }
        console.debug('datetime, open picker');
        // the user may have assigned some options specifically for the picker
        var pickerOptions = __assign({}, this.pickerOptions);
        // Add a cancel and done button by default to the picker
        var defaultButtons = [{
                text: this.cancelText,
                role: 'cancel',
                handler: function () { return _this.ionCancel.emit(_this); }
            }, {
                text: this.doneText,
                handler: function (data) { return _this.value = data; },
            }];
        pickerOptions.buttons = (pickerOptions.buttons || []).concat(defaultButtons);
        // Configure picker under the hood
        var picker = this._picker = this._pickerCtrl.create(pickerOptions);
        picker.ionChange.subscribe(function () {
            _this.validate();
            picker.refresh();
        });
        // Update picker status before presenting
        this.generate();
        this.validate();
        // Present picker
        this._fireFocus();
        picker.present(pickerOptions);
        picker.onDidDismiss(function () {
            _this._fireBlur();
        });
    };
    /**
     * @hidden
     */
    DatePickerComponent.prototype.generate = function () {
        var _this = this;
        var picker = this._picker;
        // if a picker format wasn't provided, then fallback
        // to use the display format
        var template = this.pickerFormat || this.displayFormat || DEFAULT_FORMAT;
        if (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(template)) {
            // make sure we've got up to date sizing information
            this.calcMinMax();
            // does not support selecting by day name
            // automaticallly remove any day name formats
            template = template.replace('DDDD', '{~}').replace('DDD', '{~}');
            if (template.indexOf('D') === -1) {
                // there is not a day in the template
                // replace the day name with a numeric one if it exists
                template = template.replace('{~}', 'D');
            }
            // make sure no day name replacer is left in the string
            template = template.replace(/{~}/g, '');
            // parse apart the given template into an array of "formats"
            parseTemplate2(template).forEach(function (format) {
                // loop through each format in the template
                // create a new picker column to build up with data
                var key = Object(__WEBPACK_IMPORTED_MODULE_3_ionic_angular_util_datetime_util__["c" /* convertFormatToKey */])(format);
                var values;
                // first see if they have exact values to use for this input
                if (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(_this[key + 'Values'])) {
                    // user provide exact values for this date part
                    values = convertToArrayOfNumbers(_this[key + 'Values'], key);
                }
                else {
                    // use the default date part values
                    values = dateValueRange2(format, _this._min, _this._max);
                }
                var column = {
                    name: key,
                    selectedIndex: 0,
                    options: values.map(function (val) {
                        return {
                            value: val,
                            text: renderTextFormat2(format, val, null, _this._locale),
                        };
                    })
                };
                // cool, we've loaded up the columns with options
                // preselect the option for this column
                var optValue = Object(__WEBPACK_IMPORTED_MODULE_3_ionic_angular_util_datetime_util__["h" /* getValueFromFormat */])(_this.getValueOrDefault(), format);
                var selectedIndex = column.options.findIndex(function (opt) { return opt.value === optValue; });
                if (selectedIndex >= 0) {
                    // set the select index for this column's options
                    column.selectedIndex = selectedIndex;
                }
                // add our newly created column to the picker
                picker.addColumn(column);
            });
            // Normalize min/max
            var min_1 = this._min;
            var max_1 = this._max;
            var columns_1 = this._picker.getColumns();
            ['month', 'day', 'hour', 'minute']
                .filter(function (name) { return !columns_1.find(function (column) { return column.name === name; }); })
                .forEach(function (name) {
                min_1[name] = 0;
                max_1[name] = 0;
            });
            this.divyColumns();
        }
    };
    /**
     * @hidden
     */
    DatePickerComponent.prototype.validateColumn = function (name, index, min, max, lowerBounds, upperBounds) {
        Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["a" /* assert */])(lowerBounds.length === 5, 'lowerBounds length must be 5');
        Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["a" /* assert */])(upperBounds.length === 5, 'upperBounds length must be 5');
        var column = this._picker.getColumn(name);
        if (!column) {
            return 0;
        }
        var lb = lowerBounds.slice();
        var ub = upperBounds.slice();
        var options = column.options;
        var indexMin = options.length - 1;
        var indexMax = 0;
        for (var i = 0; i < options.length; i++) {
            var opt = options[i];
            var value = opt.value;
            lb[index] = opt.value;
            ub[index] = opt.value;
            var disabled = opt.disabled = (value < lowerBounds[index] ||
                value > upperBounds[index] ||
                Object(__WEBPACK_IMPORTED_MODULE_3_ionic_angular_util_datetime_util__["e" /* dateSortValue */])(ub[0], ub[1], ub[2], ub[3], ub[4]) < min ||
                Object(__WEBPACK_IMPORTED_MODULE_3_ionic_angular_util_datetime_util__["e" /* dateSortValue */])(lb[0], lb[1], lb[2], lb[3], lb[4]) > max);
            if (!disabled) {
                indexMin = Math.min(indexMin, i);
                indexMax = Math.max(indexMax, i);
            }
        }
        var selectedIndex = column.selectedIndex = Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["b" /* clamp */])(indexMin, column.selectedIndex, indexMax);
        opt = column.options[selectedIndex];
        if (opt) {
            return opt.value;
        }
        return 0;
    };
    /**
     * @private
     */
    DatePickerComponent.prototype.validate = function () {
        var today = new Date();
        var minCompareVal = Object(__WEBPACK_IMPORTED_MODULE_3_ionic_angular_util_datetime_util__["d" /* dateDataSortValue */])(this._min);
        var maxCompareVal = Object(__WEBPACK_IMPORTED_MODULE_3_ionic_angular_util_datetime_util__["d" /* dateDataSortValue */])(this._max);
        var yearCol = this._picker.getColumn('year');
        Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["a" /* assert */])(minCompareVal <= maxCompareVal, 'invalid min/max value');
        var selectedYear = today.getFullYear();
        if (yearCol) {
            // default to the first value if the current year doesn't exist in the options
            if (!yearCol.options.find(function (col) { return col.value === today.getFullYear(); })) {
                selectedYear = yearCol.options[0].value;
            }
            var yearOpt = yearCol.options[yearCol.selectedIndex];
            if (yearOpt) {
                // they have a selected year value
                selectedYear = yearOpt.value;
            }
        }
        var selectedMonth = this.validateColumn('month', 1, minCompareVal, maxCompareVal, [selectedYear, 0, 0, 0, 0], [selectedYear, 12, 31, 23, 59]);
        var numDaysInMonth = Object(__WEBPACK_IMPORTED_MODULE_3_ionic_angular_util_datetime_util__["g" /* daysInMonth */])(selectedMonth, selectedYear);
        var selectedDay = this.validateColumn('day', 2, minCompareVal, maxCompareVal, [selectedYear, selectedMonth, 0, 0, 0], [selectedYear, selectedMonth, numDaysInMonth, 23, 59]);
        var selectedHour = this.validateColumn('hour', 3, minCompareVal, maxCompareVal, [selectedYear, selectedMonth, selectedDay, 0, 0], [selectedYear, selectedMonth, selectedDay, 23, 59]);
        this.validateColumn('minute', 4, minCompareVal, maxCompareVal, [selectedYear, selectedMonth, selectedDay, selectedHour, 0], [selectedYear, selectedMonth, selectedDay, selectedHour, 59]);
    };
    /**
     * @hidden
     */
    DatePickerComponent.prototype.divyColumns = function () {
        var pickerColumns = this._picker.getColumns();
        var columnsWidth = [];
        var col;
        var width;
        for (var i = 0; i < pickerColumns.length; i++) {
            col = pickerColumns[i];
            columnsWidth.push(0);
            for (var j = 0; j < col.options.length; j++) {
                width = col.options[j].text.length;
                if (width > columnsWidth[i]) {
                    columnsWidth[i] = width;
                }
            }
        }
        if (columnsWidth.length === 2) {
            width = Math.max(columnsWidth[0], columnsWidth[1]);
            pickerColumns[0].align = 'right';
            pickerColumns[1].align = 'left';
            pickerColumns[0].optionsWidth = pickerColumns[1].optionsWidth = width * 24 + "px";
        }
        else if (columnsWidth.length === 3) {
            width = Math.max(columnsWidth[0], columnsWidth[2]);
            pickerColumns[0].align = 'right';
            pickerColumns[1].columnWidth = columnsWidth[1] * 24 + "px";
            pickerColumns[0].optionsWidth = pickerColumns[2].optionsWidth = width * 24 + "px";
            pickerColumns[2].align = 'left';
        }
    };
    /**
     * @hidden
     */
    DatePickerComponent.prototype.updateText = function () {
        // create the text of the formatted data
        var template = this.displayFormat || this.pickerFormat || DEFAULT_FORMAT;
        this._text = renderDateTime2(template, this.getValue(), this._locale);
    };
    /**
     * @hidden
     */
    DatePickerComponent.prototype.getValue = function () {
        return this._value;
    };
    /**
     * @hidden
     */
    DatePickerComponent.prototype.getValueOrDefault = function () {
        if (this.hasValue()) {
            return this._value;
        }
        var initialDateString = this.getDefaultValueDateString();
        var _default = {};
        Object(__WEBPACK_IMPORTED_MODULE_3_ionic_angular_util_datetime_util__["m" /* updateDate */])(_default, initialDateString);
        return _default;
    };
    /**
     * Get the default value as a date string
     * @hidden
     */
    DatePickerComponent.prototype.getDefaultValueDateString = function () {
        if (this.initialValue) {
            return this.initialValue;
        }
        var nowString = (new Date).toISOString();
        if (this.max) {
            var now = Object(__WEBPACK_IMPORTED_MODULE_3_ionic_angular_util_datetime_util__["i" /* parseDate */])(nowString);
            var max = Object(__WEBPACK_IMPORTED_MODULE_3_ionic_angular_util_datetime_util__["i" /* parseDate */])(this.max);
            var v = void 0;
            for (var i in max) {
                v = max[i];
                if (v === null) {
                    max[i] = now[i];
                }
            }
            var diff = Object(__WEBPACK_IMPORTED_MODULE_3_ionic_angular_util_datetime_util__["a" /* compareDates */])(now, max);
            // If max is before current time, return max
            if (diff > 0) {
                return this.max;
            }
        }
        return nowString;
    };
    /**
     * @hidden
     */
    DatePickerComponent.prototype.hasValue = function () {
        var val = this._value;
        return Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(val)
            && Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["m" /* isObject */])(val)
            && Object.keys(val).length > 0;
    };
    /**
     * @hidden
     */
    DatePickerComponent.prototype.calcMinMax = function (now) {
        var todaysYear = (now || new Date()).getFullYear();
        if (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(this.yearValues)) {
            var years = convertToArrayOfNumbers(this.yearValues, 'year');
            if (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["g" /* isBlank */])(this.min)) {
                this.min = Math.min.apply(Math, years);
            }
            if (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["g" /* isBlank */])(this.max)) {
                this.max = Math.max.apply(Math, years);
            }
        }
        else {
            if (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["g" /* isBlank */])(this.min)) {
                this.min = (todaysYear - 100).toString();
            }
            if (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["g" /* isBlank */])(this.max)) {
                this.max = todaysYear.toString();
            }
        }
        var min = this._min = Object(__WEBPACK_IMPORTED_MODULE_3_ionic_angular_util_datetime_util__["i" /* parseDate */])(this.min);
        var max = this._max = Object(__WEBPACK_IMPORTED_MODULE_3_ionic_angular_util_datetime_util__["i" /* parseDate */])(this.max);
        min.year = min.year || todaysYear;
        max.year = max.year || todaysYear;
        min.month = min.month || 1;
        max.month = max.month || 12;
        min.day = min.day || 1;
        max.day = max.day || 31;
        min.hour = min.hour || 0;
        max.hour = max.hour || 23;
        min.minute = min.minute || 0;
        max.minute = max.minute || 59;
        min.second = min.second || 0;
        max.second = max.second || 59;
        // Ensure min/max constraits
        if (min.year > max.year) {
            console.error('min.year > max.year');
            min.year = max.year - 100;
        }
        if (min.year === max.year) {
            if (min.month > max.month) {
                console.error('min.month > max.month');
                min.month = 1;
            }
            else if (min.month === max.month && min.day > max.day) {
                console.error('min.day > max.day');
                min.day = 1;
            }
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], DatePickerComponent.prototype, "min", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], DatePickerComponent.prototype, "max", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], DatePickerComponent.prototype, "displayFormat", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], DatePickerComponent.prototype, "initialValue", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], DatePickerComponent.prototype, "pickerFormat", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], DatePickerComponent.prototype, "cancelText", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], DatePickerComponent.prototype, "doneText", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], DatePickerComponent.prototype, "yearValues", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], DatePickerComponent.prototype, "monthValues", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], DatePickerComponent.prototype, "dayValues", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], DatePickerComponent.prototype, "hourValues", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], DatePickerComponent.prototype, "minuteValues", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], DatePickerComponent.prototype, "monthNames", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], DatePickerComponent.prototype, "monthShortNames", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], DatePickerComponent.prototype, "dayNames", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], DatePickerComponent.prototype, "dayShortNames", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], DatePickerComponent.prototype, "pickerOptions", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], DatePickerComponent.prototype, "placeholder", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_core__["EventEmitter"])
    ], DatePickerComponent.prototype, "ionCancel", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["HostListener"])('click', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [UIEvent]),
        __metadata("design:returntype", void 0)
    ], DatePickerComponent.prototype, "_click", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["HostListener"])('keyup.space'),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", []),
        __metadata("design:returntype", void 0)
    ], DatePickerComponent.prototype, "_keyup", null);
    DatePickerComponent = DatePickerComponent_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Component"])({
            selector: 'date-picker',
            template: '<div *ngIf="!_text" class="datetime-text datetime-placeholder">{{placeholder}}</div>' +
                '<div *ngIf="_text" class="datetime-text">{{_text}}</div>' +
                '<button aria-haspopup="true" ' +
                'type="button" ' +
                '[id]="id" ' +
                'ion-button="item-cover" ' +
                '[attr.aria-labelledby]="_labelId" ' +
                '[attr.aria-disabled]="_disabled" ' +
                'class="item-cover">' +
                '</button>',
            host: {
                '[class.datetime-disabled]': '_disabled'
            },
            providers: [{ provide: __WEBPACK_IMPORTED_MODULE_0__angular_forms__["NG_VALUE_ACCESSOR"], useExisting: DatePickerComponent_1, multi: true }],
            encapsulation: __WEBPACK_IMPORTED_MODULE_1__angular_core__["ViewEncapsulation"].None,
        }),
        __param(4, Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Optional"])()),
        __param(5, Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Optional"])()),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2_ionic_angular__["Form"],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["Config"],
            __WEBPACK_IMPORTED_MODULE_1__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_core__["Renderer"],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["Item"],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["PickerController"]])
    ], DatePickerComponent);
    return DatePickerComponent;
    var DatePickerComponent_1;
}(__WEBPACK_IMPORTED_MODULE_4_ionic_angular_util_base_input__["a" /* BaseInput */]));

/**
 * @hidden
 * Use to convert a string of comma separated numbers or
 * an array of numbers, and clean up any user input
 */
function convertToArrayOfNumbers(input, type) {
    if (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["p" /* isString */])(input)) {
        // convert the string to an array of strings
        // auto remove any whitespace and [] characters
        input = input.replace(/\[|\]|\s/g, '').split(',');
    }
    var values;
    if (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["f" /* isArray */])(input)) {
        // ensure each value is an actual number in the returned array
        values = input
            .map(function (num) { return parseInt(num, 10); })
            .filter(isFinite);
    }
    if (!values || !values.length) {
        console.warn("Invalid \"" + type + "Values\". Must be an array of numbers, or a comma separated string of numbers.");
    }
    return values;
}
/**
 * @hidden
 * Use to convert a string of comma separated strings or
 * an array of strings, and clean up any user input
 */
function convertToArrayOfStrings(input, type) {
    if (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(input)) {
        if (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["p" /* isString */])(input)) {
            // convert the string to an array of strings
            // auto remove any [] characters
            input = input.replace(/\[|\]/g, '').split(',');
        }
        var values;
        if (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["f" /* isArray */])(input)) {
            // trim up each string value
            values = input.map(function (val) { return val.trim(); });
        }
        if (!values || !values.length) {
            console.warn("Invalid \"" + type + "Names\". Must be an array of strings, or a comma separated string.");
        }
        return values;
    }
}
function dateValueRange2(format, min, max) {
    var opts = [];
    var i;
    if (format === FORMAT_YYYY || format === FORMAT_YY) {
        // year
        i = max.year;
        while (i >= min.year) {
            opts.push(i--);
        }
    }
    else if (format === FORMAT_MMMM || format === FORMAT_MMM ||
        format === FORMAT_MM || format === FORMAT_M ||
        format === FORMAT_hh || format === FORMAT_h) {
        // month or 12-hour
        for (i = 1; i < 13; i++) {
            opts.push(i);
        }
    }
    else if (format === FORMAT_DDDD || format === FORMAT_DDD ||
        format === FORMAT_DD || format === FORMAT_D) {
        // day
        for (i = 1; i < 32; i++) {
            opts.push(i);
        }
    }
    else if (format === FORMAT_HH || format === FORMAT_H) {
        // 24-hour
        for (i = 0; i < 24; i++) {
            opts.push(i);
        }
    }
    else if (format === FORMAT_mm || format === FORMAT_m) {
        // minutes
        for (i = 0; i < 60; i++) {
            opts.push(i);
        }
    }
    else if (format === FORMAT_ss || format === FORMAT_s) {
        // seconds
        for (i = 0; i < 60; i++) {
            opts.push(i);
        }
    }
    else if (format === FORMAT_A || format === FORMAT_a) {
        // AM/PM
        opts.push('am', 'pm');
    }
    return opts;
}
function renderTextFormat(format, value, date, locale) {
    if (format === FORMAT_DDDD || format === FORMAT_DDD) {
        try {
            value = (new Date(date.year, date.month - 1, date.day)).getDay();
            if (format === FORMAT_DDDD) {
                return (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(locale.dayNames) ? locale.dayNames : DAY_NAMES)[value];
            }
            return (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(locale.dayShortNames) ? locale.dayShortNames : DAY_SHORT_NAMES)[value];
        }
        catch (e) {
        }
        return '';
    }
    if (format === FORMAT_A) {
        return date ? date.hour < 12 ? '上午' : '下午' : Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(value) ? value == 'am' ? '上午' : '下午' : '';
    }
    if (format === FORMAT_a) {
        return date ? date.hour < 12 ? '上午' : '下午' : Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(value) ? value == 'am' ? '上午' : '下午' : '';
    }
    if (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["g" /* isBlank */])(value)) {
        return '';
    }
    if (format === FORMAT_YY) {
        return twoDigit(value);
    }
    if (format === FORMAT_MM) {
        return twoDigit(value);
    }
    if (format === FORMAT_ss) {
        return twoDigit(value);
    }
    if (format === FORMAT_YYYY) {
        return fourDigit(value);
    }
    if (format === FORMAT_DD) {
        return twoDigit(value);
    }
    if (format === FORMAT_HH) {
        return twoDigit(value);
    }
    if (format === FORMAT_mm) {
        return twoDigit(value);
    }
    if (format === FORMAT_MMMM) {
        return (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(locale.monthNames) ? locale.monthNames : MONTH_NAMES)[value - 1];
    }
    if (format === FORMAT_MMM) {
        return (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(locale.monthShortNames) ? locale.monthShortNames : MONTH_SHORT_NAMES)[value - 1];
    }
    if (format === FORMAT_hh || format === FORMAT_h) {
        if (value === 0) {
            return '12';
        }
        if (value > 12) {
            value -= 12;
        }
        if (format === FORMAT_hh && value < 10) {
            value = ('0' + value);
        }
        return value.toString();
    }
    return value.toString();
}
function renderTextFormat2(format, value, date, locale) {
    if (format === FORMAT_DDDD || format === FORMAT_DDD) {
        try {
            value = (new Date(date.year, date.month - 1, date.day)).getDay();
            if (format === FORMAT_DDDD) {
                return (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(locale.dayNames) ? locale.dayNames : DAY_NAMES)[value];
            }
            return (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(locale.dayShortNames) ? locale.dayShortNames : DAY_SHORT_NAMES)[value];
        }
        catch (e) {
        }
        return '';
    }
    if (format === FORMAT_A) {
        return date ? date.hour < 12 ? '上午' : '下午' : Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(value) ? value == 'am' ? '上午' : '下午' : '';
    }
    if (format === FORMAT_a) {
        return date ? date.hour < 12 ? '上午' : '下午' : Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(value) ? value == 'am' ? '上午' : '下午' : '';
    }
    if (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["g" /* isBlank */])(value)) {
        return '';
    }
    if (format === FORMAT_YY) {
        return twoDigit(value) + " 年";
    }
    if (format === FORMAT_MM) {
        return twoDigit(value) + " 月";
    }
    if (format === FORMAT_ss) {
        return twoDigit(value) + " 秒";
    }
    if (format === FORMAT_YYYY) {
        return fourDigit(value) + " 年";
    }
    if (format === FORMAT_DD) {
        return twoDigit(value) + " 日";
    }
    if (format === FORMAT_HH) {
        return twoDigit(value) + " 点";
    }
    if (format === FORMAT_mm) {
        return twoDigit(value) + " 分";
    }
    if (format === FORMAT_MMMM) {
        return (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(locale.monthNames) ? locale.monthNames : MONTH_NAMES)[value - 1];
    }
    if (format === FORMAT_MMM) {
        return (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(locale.monthShortNames) ? locale.monthShortNames : MONTH_SHORT_NAMES)[value - 1];
    }
    if (format === FORMAT_hh || format === FORMAT_h) {
        if (value === 0) {
            return '12';
        }
        if (value > 12) {
            value -= 12;
        }
        if (format === FORMAT_hh && value < 10) {
            value = ('0' + value);
        }
        return value.toString() + " 点";
    }
    return value.toString();
}
function renderDateTime2(template, value, locale) {
    if (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["g" /* isBlank */])(value)) {
        return '';
    }
    var tokens = [];
    var hasText = false;
    FORMAT_KEYS.forEach(function (format, index) {
        if (template.indexOf(format.f) > -1) {
            var token = '{' + index + '}';
            var text = renderTextFormat(format.f, value[format.k], value, locale);
            if (!hasText && text && Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(value[format.k])) {
                hasText = true;
            }
            tokens.push(token, text);
            template = template.replace(format.f, token);
        }
    });
    if (!hasText) {
        return '';
    }
    for (var i = 0; i < tokens.length; i += 2) {
        template = template.replace(tokens[i], tokens[i + 1]);
    }
    return template;
}
function parseTemplate2(template) {
    var formats = [];
    template = template.replace(/[^\w\s]/gi, ' ');
    FORMAT_KEYS.forEach(function (format) {
        if (format.f.length > 1 && template.indexOf(format.f) > -1 && template.indexOf(format.f + format.f.charAt(0)) < 0) {
            template = template.replace(format.f, ' ' + format.f + ' ');
        }
    });
    var words = template.split(' ').filter(function (w) { return w.length > 0; });
    words.forEach(function (word, i) {
        FORMAT_KEYS.forEach(function (format) {
            if (word === format.f) {
                if (word === FORMAT_A || word === FORMAT_a) {
                    // this format is an am/pm format, so it's an "a" or "A"
                    if ((template.indexOf(FORMAT_h) < 0 && template.indexOf(FORMAT_hh) < 0)) {
                        // template does not already have a 12-hour format
                        // or this am/pm format doesn't have a hour, minute, or second format immediately before it
                        // so do not treat this word "a" or "A" as the am/pm format
                        return;
                    }
                }
                formats.push(word);
            }
        });
    });
    return formats;
}
function twoDigit(val) {
    return ('0' + (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(val) ? Math.abs(val) : '0')).slice(-2);
}
function threeDigit(val) {
    return ('00' + (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(val) ? Math.abs(val) : '0')).slice(-3);
}
function fourDigit(val) {
    return ('000' + (Object(__WEBPACK_IMPORTED_MODULE_5_ionic_angular_util_util__["n" /* isPresent */])(val) ? Math.abs(val) : '0')).slice(-4);
}
var FORMAT_YYYY = 'YYYY';
var FORMAT_YY = 'YY';
var FORMAT_MMMM = 'MMMM';
var FORMAT_MMM = 'MMM';
var FORMAT_MM = 'MM';
var FORMAT_M = 'M';
var FORMAT_DDDD = 'DDDD';
var FORMAT_DDD = 'DDD';
var FORMAT_DD = 'DD';
var FORMAT_D = 'D';
var FORMAT_HH = 'HH';
var FORMAT_H = 'H';
var FORMAT_hh = 'hh';
var FORMAT_h = 'h';
var FORMAT_mm = 'mm';
var FORMAT_m = 'm';
var FORMAT_ss = 'ss';
var FORMAT_s = 's';
var FORMAT_A = 'A';
var FORMAT_a = 'a';
var FORMAT_KEYS = [
    { f: FORMAT_YYYY, k: 'year' },
    { f: FORMAT_MMMM, k: 'month' },
    { f: FORMAT_DDDD, k: 'day' },
    { f: FORMAT_MMM, k: 'month' },
    { f: FORMAT_DDD, k: 'day' },
    { f: FORMAT_YY, k: 'year' },
    { f: FORMAT_MM, k: 'month' },
    { f: FORMAT_DD, k: 'day' },
    { f: FORMAT_HH, k: 'hour' },
    { f: FORMAT_hh, k: 'hour' },
    { f: FORMAT_mm, k: 'minute' },
    { f: FORMAT_ss, k: 'second' },
    { f: FORMAT_M, k: 'month' },
    { f: FORMAT_D, k: 'day' },
    { f: FORMAT_H, k: 'hour' },
    { f: FORMAT_h, k: 'hour' },
    { f: FORMAT_m, k: 'minute' },
    { f: FORMAT_s, k: 'second' },
    { f: FORMAT_A, k: 'ampm' },
    { f: FORMAT_a, k: 'ampm' },
];
var DAY_NAMES = [
    'Sunday',
    'Monday',
    'Tuesday',
    'Wednesday',
    'Thursday',
    'Friday',
    'Saturday',
];
var DAY_SHORT_NAMES = [
    'Sun',
    'Mon',
    'Tue',
    'Wed',
    'Thu',
    'Fri',
    'Sat',
];
var MONTH_NAMES = [
    'January',
    'February',
    'March',
    'April',
    'May',
    'June',
    'July',
    'August',
    'September',
    'October',
    'November',
    'December',
];
var MONTH_SHORT_NAMES = [
    'Jan',
    'Feb',
    'Mar',
    'Apr',
    'May',
    'Jun',
    'Jul',
    'Aug',
    'Sep',
    'Oct',
    'Nov',
    'Dec',
];
var VALID_AMPM_PREFIX = [
    FORMAT_hh, FORMAT_h, FORMAT_mm, FORMAT_m, FORMAT_ss, FORMAT_s
];
var DEFAULT_FORMAT = 'MMM D, YYYY';
//# sourceMappingURL=date-picker.js.map

/***/ }),
/* 261 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PageBoxComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_cordova_assistant_service__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_settings_settings__ = __webpack_require__(92);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__data_enum__ = __webpack_require__(18);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





/**
 * Generated class for the ScrollSelectComponent component.
 *
 * See https://angular.io/api/core/Component for more info on Angular
 * Components.
 */
var PageBoxComponent = (function () {
    function PageBoxComponent(events, renderer2, assistantService, settings) {
        this.events = events;
        this.renderer2 = renderer2;
        this.assistantService = assistantService;
        this.settings = settings;
        this.title = "";
        this.subtitle = "";
        this.buttons = {
            remove: false,
            share: false,
            save: false,
            record: false,
            create: false,
            speaker: false,
            accept: false,
            reject: false,
            cancel: true
        };
        this.onSubTitleClick = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onBack = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onSave = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onRemove = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onCreate = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onRecord = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onSpeaker = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onAccept = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onReject = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        settings.setStatusBarColor(__WEBPACK_IMPORTED_MODULE_4__data_enum__["z" /* StatusType */].page);
    }
    PageBoxComponent.prototype.setBoxContent = function () {
        var height = this.pagecontent._scrollContent.nativeElement.clientHeight;
        this.renderer2.setStyle(this.pagecontent._scrollContent.nativeElement, "height", height + "px");
        this.renderer2.setStyle(this.pagecontent._scrollContent.nativeElement, "overflow-y", height + "hidden");
        this.renderer2.setStyle(this.pagecontent._fixedContent.nativeElement, "height", height + "px");
        this.renderer2.setStyle(this.pagecontent._fixedContent.nativeElement, "overflow-y", height + "hidden");
    };
    PageBoxComponent.prototype.clickSubtitle = function () {
        this.onSubTitleClick.emit(this);
    };
    PageBoxComponent.prototype.goRemove = function () {
        this.onRemove.emit(this);
    };
    PageBoxComponent.prototype.goShare = function () {
        this.onRemove.emit(this);
    };
    PageBoxComponent.prototype.goSave = function () {
        this.onSave.emit(this);
    };
    PageBoxComponent.prototype.goBack = function () {
        this.onBack.emit(this);
    };
    PageBoxComponent.prototype.goCreate = function () {
        this.onCreate.emit(this);
    };
    PageBoxComponent.prototype.goRecord = function () {
        var _this = this;
        this.buttons.record = false;
        this.onRecord.emit("开始说话");
        this.assistantService.audio2Text(function (text) {
            _this.onRecord.emit(text);
        }, function () {
            _this.buttons.record = true;
        }, function () {
            _this.onRecord.emit("语音不可用");
            _this.buttons.record = true;
        });
    };
    PageBoxComponent.prototype.goAccept = function () {
        this.onAccept.emit(this);
    };
    PageBoxComponent.prototype.goReject = function () {
        this.onReject.emit(this);
    };
    PageBoxComponent.prototype.goSpeaker = function () {
        var _this = this;
        this.assistantService.speakText(this.speakData).then(function () {
            _this.onSpeaker.emit(_this);
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('pagecontent'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Content"])
    ], PageBoxComponent.prototype, "pagecontent", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], PageBoxComponent.prototype, "title", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], PageBoxComponent.prototype, "subtitle", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], PageBoxComponent.prototype, "data", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], PageBoxComponent.prototype, "plans", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], PageBoxComponent.prototype, "speakData", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], PageBoxComponent.prototype, "buttons", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], PageBoxComponent.prototype, "onSubTitleClick", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], PageBoxComponent.prototype, "onBack", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], PageBoxComponent.prototype, "onSave", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], PageBoxComponent.prototype, "onRemove", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], PageBoxComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], PageBoxComponent.prototype, "onRecord", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], PageBoxComponent.prototype, "onSpeaker", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], PageBoxComponent.prototype, "onAccept", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], PageBoxComponent.prototype, "onReject", void 0);
    PageBoxComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-box',
            template: "\n    <div class=\"box-page\">\n      <ion-header class=\"box-header\">\n        <ion-toolbar >\n          <ion-title>\n          {{title}}\n            <span *ngIf=\"subtitle\" class=\"subtilte\">\n              {{subtitle}}\n            </span>\n          </ion-title>\n          <div class=\"toolbar\">\n            <div (click)=\"goRecord()\" *ngIf=\"buttons.record\">\n              <ion-icon class=\"fad fa-microphone\"></ion-icon>\n            </div>\n\n            <div (click)=\"goRemove()\" *ngIf=\"buttons.remove\">\n              <ion-icon class=\"fad fa-trash\"></ion-icon>\n            </div>\n\n            <div  (click)=\"goShare()\" *ngIf=\"buttons.share\">\n              <ion-icon class=\"fad fa-share\"></ion-icon>\n            </div>\n\n\n            <div  (click)=\"goCreate()\" *ngIf=\"buttons.create\">\n              <ion-icon class=\"fad fa-plus-square\"></ion-icon>\n            </div>\n\n            <div  (click)=\"goSave()\" *ngIf=\"buttons.save\">\n              <ion-icon class=\"fad fa-save\"></ion-icon>\n            </div>\n\n            <div  (click)=\"goSpeaker()\" *ngIf=\"buttons.speaker\">\n              <ion-icon class=\"fad fa-ear\"></ion-icon>\n            </div>\n\n            <div  (click)=\"goAccept()\" *ngIf=\"buttons.accept\">\n              <ion-icon class=\"fad fa-hands-helping\"></ion-icon>\n            </div>\n\n            <div  (click)=\"goReject()\" *ngIf=\"buttons.reject\">\n              <ion-icon class=\"fad fa-recycle\"></ion-icon>\n            </div>\n\n            <div (click)=\"goBack()\" *ngIf=\"buttons.cancel\">\n              <ion-icon class=\"fad fa-undo\"></ion-icon>\n            </div>\n          </div>\n        </ion-toolbar>\n      </ion-header>\n      <div class=\"plansbar\" *ngIf=\"data && plans\" [ngStyle]=\"{\n        'background': (data | formatplan: 'summary': '#fff': plans)\n      }\"></div>\n      <ion-content class=\"page-content\" #pagecontent>\n        <ng-content></ng-content>\n      </ion-content>\n    </div>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Events"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"],
            __WEBPACK_IMPORTED_MODULE_2__service_cordova_assistant_service__["a" /* AssistantService */],
            __WEBPACK_IMPORTED_MODULE_3__providers_settings_settings__["a" /* SettingsProvider */]])
    ], PageBoxComponent);
    return PageBoxComponent;
}());

//# sourceMappingURL=page-box.js.map

/***/ }),
/* 262 */,
/* 263 */,
/* 264 */,
/* 265 */,
/* 266 */,
/* 267 */,
/* 268 */,
/* 269 */,
/* 270 */,
/* 271 */,
/* 272 */,
/* 273 */,
/* 274 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LocationSearchService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__ = __webpack_require__(44);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


var LocationSearchService = (function () {
    function LocationSearchService(request) {
        this.request = request;
        this.labelAttribute = "name";
    }
    LocationSearchService.prototype.getItemLabel = function (item) {
        return item.name;
    };
    LocationSearchService.prototype.getResults = function (term) {
        return this.queryPlace(term).then(function (data) {
            return data.result;
        });
    };
    LocationSearchService.prototype.getlocationData = function (keyword) {
        return __awaiter(this, void 0, void 0, function () {
            var data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.queryPlace(keyword)];
                    case 1:
                        data = _a.sent();
                        return [2 /*return*/, data.result[0]];
                }
            });
        });
    };
    //调用Place Suggestion API 获取地点输入提示
    LocationSearchService.prototype.queryPlace = function (query) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var baiduMapSearchAPI = "http://api.map.baidu.com/place/v2/suggestion?query={query}&region=全国&output=json&ak=TKg1kS9jm5UqhjCOIpeCunT3d6D8l2c0";
            baiduMapSearchAPI = baiduMapSearchAPI.replace("{query}", query);
            _this.request.get4thridAPIJSONP(baiduMapSearchAPI).then(function (data) {
                //处理返回结果
                resolve(data);
            }).catch(function (error) {
                //处理返回错误
                reject();
            });
        });
    };
    //调用Place Suggestion API 获取地点输入提示
    LocationSearchService.prototype.queryinitlocation = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var baiduMapSearchAPI = "https://api.map.baidu.com/location/ip?coor=bd09ll&ak=98TMZR5WnSwbH5FdnHHDe0917UlcDfCL";
            // urlEntity.url = encodeURIComponent(urlEntity.url);
            _this.request.get4thridAPIJSONP(baiduMapSearchAPI).then(function (data) {
                //处理返回结果
                resolve(data);
            }).catch(function (error) {
                //处理返回错误
                reject();
            });
        });
    };
    LocationSearchService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__["a" /* RestfulClient */]])
    ], LocationSearchService);
    return LocationSearchService;
}());

//# sourceMappingURL=LocationSearchService.js.map

/***/ }),
/* 275 */,
/* 276 */,
/* 277 */,
/* 278 */,
/* 279 */,
/* 280 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TdlPageModule", function() { return TdlPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__tdl__ = __webpack_require__(251);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__tdl_service__ = __webpack_require__(552);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pipes_pipes_module__ = __webpack_require__(23);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var TdlPageModule = (function () {
    function TdlPageModule() {
    }
    TdlPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__tdl__["a" /* TdlPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_4__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__tdl__["a" /* TdlPage */]),
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__tdl_service__["a" /* TdlService */],
            ],
            exports: [__WEBPACK_IMPORTED_MODULE_2__tdl__["a" /* TdlPage */]]
        })
    ], TdlPageModule);
    return TdlPageModule;
}());

//# sourceMappingURL=tdl.module.js.map

/***/ }),
/* 281 */,
/* 282 */,
/* 283 */,
/* 284 */,
/* 285 */,
/* 286 */,
/* 287 */,
/* 288 */,
/* 289 */,
/* 290 */,
/* 291 */,
/* 292 */,
/* 293 */,
/* 294 */,
/* 295 */,
/* 296 */,
/* 297 */,
/* 298 */,
/* 299 */,
/* 300 */,
/* 301 */,
/* 302 */,
/* 303 */,
/* 304 */,
/* 305 */,
/* 306 */,
/* 307 */,
/* 308 */,
/* 309 */,
/* 310 */,
/* 311 */,
/* 312 */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = 312;

/***/ }),
/* 313 */,
/* 314 */,
/* 315 */,
/* 316 */,
/* 317 */,
/* 318 */,
/* 319 */,
/* 320 */,
/* 321 */,
/* 322 */,
/* 323 */,
/* 324 */,
/* 325 */,
/* 326 */,
/* 327 */,
/* 328 */,
/* 329 */,
/* 330 */,
/* 331 */,
/* 332 */,
/* 333 */,
/* 334 */,
/* 335 */,
/* 336 */,
/* 337 */,
/* 338 */,
/* 339 */,
/* 340 */,
/* 341 */,
/* 342 */,
/* 343 */,
/* 344 */,
/* 345 */,
/* 346 */,
/* 347 */,
/* 348 */,
/* 349 */,
/* 350 */,
/* 351 */,
/* 352 */,
/* 353 */,
/* 354 */,
/* 355 */,
/* 356 */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"../components/ai/answer/ai.module": [
		357
	],
	"../components/ai/input/input.module": [
		726
	],
	"../components/ai/point/point.module": [
		724
	],
	"../components/backComponent/back.module": [
		175
	],
	"../components/confirmbox/confirmbox.module": [
		727
	],
	"../components/loading/loading.module": [
		1293,
		0
	],
	"../components/page-box/page-box.module": [
		42
	],
	"../pages/agenda/agenda.module": [
		728
	],
	"../pages/aip/aip.module": [
		729
	],
	"../pages/al/al.module": [
		730
	],
	"../pages/at/at.module": [
		732
	],
	"../pages/attach/attach.module": [
		731
	],
	"../pages/bl/bl.module": [
		733
	],
	"../pages/br/br.module": [
		735
	],
	"../pages/commemorationday/commemorationday.module": [
		734
	],
	"../pages/comment/comment.module": [
		736
	],
	"../pages/dailymemos/dailymemos.module": [
		737
	],
	"../pages/do/do.module": [
		739
	],
	"../pages/dtselect/dtselect.module": [
		738
	],
	"../pages/fd/fd.module": [
		741
	],
	"../pages/ga/ga.module": [
		743
	],
	"../pages/gc/gc.module": [
		742
	],
	"../pages/gl/gl.module": [
		744
	],
	"../pages/glory/glory.module": [
		746
	],
	"../pages/h/h.module": [
		745
	],
	"../pages/hl/hl.module": [
		748
	],
	"../pages/jh/jh.module": [
		747
	],
	"../pages/location/location.module": [
		750
	],
	"../pages/log/log.module": [
		749
	],
	"../pages/lp/lp.module": [
		752
	],
	"../pages/ls/ls.module": [
		754
	],
	"../pages/m/m.module": [
		753
	],
	"../pages/memo/memo.module": [
		755
	],
	"../pages/p/p.module": [
		756
	],
	"../pages/pc/pc.module": [
		757
	],
	"../pages/pd/pd.module": [
		758
	],
	"../pages/pf/pf.module": [
		760
	],
	"../pages/pl/pl.module": [
		759
	],
	"../pages/plan/plan.module": [
		761
	],
	"../pages/ps/ps.module": [
		765
	],
	"../pages/r/r.module": [
		768
	],
	"../pages/remind/remind.module": [
		762
	],
	"../pages/repeat/repeat.module": [
		766
	],
	"../pages/ss/ss.module": [
		769
	],
	"../pages/tdl/tdl.module": [
		280
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids)
		return Promise.reject(new Error("Cannot find module '" + req + "'."));
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		return __webpack_require__(ids[0]);
	});
};
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = 356;
module.exports = webpackAsyncContext;

/***/ }),
/* 357 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AiComponentModule", function() { return AiComponentModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ai__ = __webpack_require__(209);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ai_service__ = __webpack_require__(210);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__point_point_module__ = __webpack_require__(724);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__pipes_pipes_module__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ai_childen__ = __webpack_require__(1236);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_pagecom_pgbusi_service__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__pages_fs_fs_service__ = __webpack_require__(53);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};









var AiComponentModule = (function () {
    function AiComponentModule() {
    }
    AiComponentModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__ai__["a" /* AiComponent */],
                __WEBPACK_IMPORTED_MODULE_6__ai_childen__["a" /* AiChildenComponent */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__ai__["a" /* AiComponent */]),
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_6__ai_childen__["a" /* AiChildenComponent */]),
                __WEBPACK_IMPORTED_MODULE_4__point_point_module__["PointComponentModule"],
                __WEBPACK_IMPORTED_MODULE_5__pipes_pipes_module__["a" /* PipesModule */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__ai_service__["b" /* AiService */],
                __WEBPACK_IMPORTED_MODULE_7__service_pagecom_pgbusi_service__["a" /* PgBusiService */],
                __WEBPACK_IMPORTED_MODULE_8__pages_fs_fs_service__["a" /* FsService */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__ai__["a" /* AiComponent */],
                __WEBPACK_IMPORTED_MODULE_6__ai_childen__["a" /* AiChildenComponent */],
            ],
        })
    ], AiComponentModule);
    return AiComponentModule;
}());

//# sourceMappingURL=ai.module.js.map

/***/ }),
/* 358 */,
/* 359 */,
/* 360 */,
/* 361 */,
/* 362 */,
/* 363 */,
/* 364 */,
/* 365 */,
/* 366 */,
/* 367 */,
/* 368 */,
/* 369 */,
/* 370 */,
/* 371 */,
/* 372 */,
/* 373 */,
/* 374 */,
/* 375 */,
/* 376 */,
/* 377 */,
/* 378 */,
/* 379 */,
/* 380 */,
/* 381 */,
/* 382 */,
/* 383 */,
/* 384 */,
/* 385 */,
/* 386 */,
/* 387 */,
/* 388 */,
/* 389 */,
/* 390 */,
/* 391 */,
/* 392 */,
/* 393 */,
/* 394 */,
/* 395 */,
/* 396 */,
/* 397 */,
/* 398 */,
/* 399 */,
/* 400 */,
/* 401 */,
/* 402 */,
/* 403 */,
/* 404 */,
/* 405 */,
/* 406 */,
/* 407 */,
/* 408 */,
/* 409 */,
/* 410 */,
/* 411 */,
/* 412 */,
/* 413 */,
/* 414 */,
/* 415 */,
/* 416 */,
/* 417 */,
/* 418 */,
/* 419 */,
/* 420 */,
/* 421 */,
/* 422 */,
/* 423 */,
/* 424 */,
/* 425 */,
/* 426 */,
/* 427 */,
/* 428 */,
/* 429 */,
/* 430 */,
/* 431 */,
/* 432 */,
/* 433 */,
/* 434 */,
/* 435 */,
/* 436 */,
/* 437 */,
/* 438 */,
/* 439 */,
/* 440 */,
/* 441 */,
/* 442 */,
/* 443 */,
/* 444 */,
/* 445 */,
/* 446 */,
/* 447 */,
/* 448 */,
/* 449 */,
/* 450 */,
/* 451 */,
/* 452 */,
/* 453 */,
/* 454 */,
/* 455 */,
/* 456 */,
/* 457 */,
/* 458 */,
/* 459 */,
/* 460 */,
/* 461 */,
/* 462 */,
/* 463 */,
/* 464 */,
/* 465 */,
/* 466 */,
/* 467 */,
/* 468 */,
/* 469 */,
/* 470 */,
/* 471 */,
/* 472 */,
/* 473 */,
/* 474 */,
/* 475 */,
/* 476 */,
/* 477 */,
/* 478 */,
/* 479 */,
/* 480 */,
/* 481 */,
/* 482 */,
/* 483 */,
/* 484 */,
/* 485 */,
/* 486 */,
/* 487 */,
/* 488 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AibutlerRestful; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return AudioPro; });
/* unused harmony export AudioProSub */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return TextPro; });
/* unused harmony export TextProSub */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_restful_config__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ws_model_ws_model__ = __webpack_require__(1222);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/**
 * 语音
 */
var AibutlerRestful = (function () {
    function AibutlerRestful(request, config) {
        this.request = request;
        this.config = config;
    }
    //语音上传 VU
    AibutlerRestful.prototype.postaudio = function (audioPro) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("VU");
            _this.request.post(url, audioPro).then(function (data) {
                //处理返回结果
                resolve(data.d);
            }).catch(function (error) {
                //处理返回错误
                resolve();
            });
        });
    };
    //文本上传 TU
    AibutlerRestful.prototype.posttext = function (textPro) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var url = _this.config.getRestFulUrl("TU");
            _this.request.post(url, textPro).then(function (data) {
                //处理返回结果
                resolve(data.d);
            }).catch(function (error) {
                //处理返回错误
                resolve();
            });
        });
    };
    AibutlerRestful = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__util_service_restful_client__["a" /* RestfulClient */], __WEBPACK_IMPORTED_MODULE_2__config_restful_config__["a" /* RestFulConfig */]])
    ], AibutlerRestful);
    return AibutlerRestful;
}());

//音频入参
var AudioPro = (function () {
    function AudioPro() {
        //上下文
        this.c = new __WEBPACK_IMPORTED_MODULE_3__ws_model_ws_model__["a" /* ContextModel */]();
        this.d = new AudioProSub();
    }
    return AudioPro;
}());

var AudioProSub = (function () {
    function AudioProSub() {
        //Base64编码语音
        this.vb64 = "";
    }
    return AudioProSub;
}());

//文本入参
var TextPro = (function () {
    function TextPro() {
        //上下文
        this.c = new __WEBPACK_IMPORTED_MODULE_3__ws_model_ws_model__["a" /* ContextModel */]();
        this.d = new TextProSub();
    }
    return TextPro;
}());

var TextProSub = (function () {
    function TextProSub() {
        //文本文字
        this.text = "";
    }
    return TextProSub;
}());

//# sourceMappingURL=aibutlersev.js.map

/***/ }),
/* 489 */,
/* 490 */,
/* 491 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return STbl; });
/**
 * create by on 2019/3/5
 */
var STbl = (function () {
    function STbl() {
        this.si = "";
        this.st = "";
        this.stn = "";
        this.sn = "";
        this.yk = "";
        this.yv = "";
    }
    STbl.prototype.cT = function () {
        var sq = 'create table if not exists gtd_s( si varchar(50) primary key ,st varchar(20)  ,' +
            'stn varchar(20)  ,sn varchar(20)  ,yk varchar(20)  ,yv varchar(400)   );';
        return sq;
    };
    STbl.prototype.upT = function () {
        var sq = '';
        if (this.st != null && this.st != "") {
            sq = sq + ', st="' + this.st + '"';
        }
        if (this.stn != null && this.stn != "") {
            sq = sq + ', stn="' + this.stn + '"';
        }
        if (this.sn != null && this.sn != "") {
            sq = sq + ', sn="' + this.sn + '"';
        }
        if (this.yk != null && this.yk != "") {
            sq = sq + ', yk="' + this.yk + '"';
        }
        if (this.yv != null && this.yv != "") {
            sq = sq + ', yv="' + this.yv + '"';
        }
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = 'update gtd_s set  ' + sq + ' where si = "' + this.si + '";';
        return sq;
    };
    STbl.prototype.dT = function () {
        var sq = 'delete from gtd_s where 1=1 ';
        if (this.si != null && this.si != "") {
            sq = sq + 'and  si ="' + this.si + '"';
        }
        sq = sq + ';';
        return sq;
    };
    STbl.prototype.sloT = function () {
        var sq = 'select * from gtd_s where si = "' + this.si + '";';
        return sq;
    };
    STbl.prototype.slT = function () {
        var sq = 'select * from  gtd_s where  1=1 ';
        if (this.st != null && this.st != "") {
            sq = sq + ' and st="' + this.st + '"';
        }
        if (this.stn != null && this.stn != "") {
            sq = sq + ' and stn="' + this.stn + '"';
        }
        if (this.sn != null && this.sn != "") {
            sq = sq + ' and sn="' + this.sn + '"';
        }
        if (this.yk != null && this.yk != "") {
            sq = sq + ' and yk="' + this.yk + '"';
        }
        if (this.yv != null && this.yv != "") {
            sq = sq + ' and yv="' + this.yv + '"';
        }
        sq = sq + ';';
        return sq;
    };
    STbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_s;';
        return sq;
    };
    STbl.prototype.inT = function () {
        var sq = 'insert into gtd_s ' +
            '( si ,st ,stn ,sn ,yk ,yv) values("' + this.si + '","' + this.st + '","' + this.stn + '"' +
            ',"' + this.sn + '","' + this.yk + '","' + this.yv + '");';
        return sq;
    };
    STbl.prototype.rpT = function () {
        var sq = 'replace into gtd_s ' +
            '( si ,st ,stn ,sn ,yk ,yv) values("' + this.si + '","' + this.st + '","' + this.stn + '"' +
            ',"' + this.sn + '","' + this.yk + '","' + this.yv + '");';
        return sq;
    };
    STbl.prototype.preT = function () {
        var sq = 'insert into gtd_s ' +
            '( si ,st ,stn ,sn ,yk ,yv) values(?, ?, ?, ?, ?, ?);';
        return sq;
    };
    return STbl;
}());

//# sourceMappingURL=s.tbl.js.map

/***/ }),
/* 492 */,
/* 493 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConfirmboxComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/**
 * Generated class for the BackComponent page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var ConfirmboxComponent = (function () {
    function ConfirmboxComponent(navParams) {
        this.navParams = navParams;
    }
    ConfirmboxComponent.prototype.ngOnInit = function () {
        if (this.navParams.data) {
            this.msg = this.navParams.data.msg;
        }
    };
    ConfirmboxComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ConfirmboxComponent',
            template: "\n      <div class=\"msg-lbl\">{{msg}}</div>\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"]])
    ], ConfirmboxComponent);
    return ConfirmboxComponent;
}());

//# sourceMappingURL=confirmbox.js.map

/***/ }),
/* 494 */,
/* 495 */,
/* 496 */,
/* 497 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_ion2_calendar__ = __webpack_require__(498);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__h_service__ = __webpack_require__(543);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_ai_answer_ai__ = __webpack_require__(209);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__data_mapping__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_cordova_feedback_service__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__service_business_memo_service__ = __webpack_require__(85);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__aip_aip__ = __webpack_require__(250);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__tdl_tdl__ = __webpack_require__(251);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__service_testData_service__ = __webpack_require__(553);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};














/**
 * Generated class for the 首页 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var HPage = (function () {
    function HPage(hService, navController, modalCtr, menuController, feedback, momserv, testDataService, emitService) {
        this.hService = hService;
        this.navController = navController;
        this.modalCtr = modalCtr;
        this.menuController = menuController;
        this.feedback = feedback;
        this.momserv = momserv;
        this.testDataService = testDataService;
        this.emitService = emitService;
        this.options = {
            pickMode: 'single',
            from: new Date(1900, 0, 1),
            to: new Date(2299, 0, 1),
            daysConfig: []
        };
        this.hdata = new __WEBPACK_IMPORTED_MODULE_7__data_mapping__["e" /* HData */]();
    }
    HPage.prototype.viewShow = function ($event) {
        this.tdl.setScroll(!$event);
    };
    HPage.prototype.openm = function () {
        this.menuController.open();
    };
    HPage.prototype.openAi = function () {
        this.modalCtr.create(__WEBPACK_IMPORTED_MODULE_11__aip_aip__["a" /* AipPage */]).present();
    };
    HPage.prototype.ionViewDidLoad = function () {
        this.tdl.regeditCalendar(this.calendar);
    };
    HPage.prototype.onPress = function (pressDay) {
        var _this = this;
        this.hService.centerShow(pressDay).then(function (d) {
            _this.hdata = d;
            _this.newcd();
        });
    };
    HPage.prototype.newcd = function () {
        var p = new __WEBPACK_IMPORTED_MODULE_7__data_mapping__["r" /* ScdPageParamter */]();
        if (this.hdata.selectDay) {
            p.d = __WEBPACK_IMPORTED_MODULE_4_moment__(this.hdata.selectDay.time);
        }
        else {
            p.d = __WEBPACK_IMPORTED_MODULE_4_moment__();
        }
        this.feedback.audioPress();
        this.modalCtr.create(__WEBPACK_IMPORTED_MODULE_9__service_config_data_config__["a" /* DataConfig */].PAGE._AGENDA_PAGE, p).present();
    };
    HPage.prototype.newpi = function () {
        var p = new __WEBPACK_IMPORTED_MODULE_7__data_mapping__["r" /* ScdPageParamter */]();
        if (this.hdata.selectDay) {
            p.d = __WEBPACK_IMPORTED_MODULE_4_moment__(this.hdata.selectDay.time);
        }
        else {
            p.d = __WEBPACK_IMPORTED_MODULE_4_moment__();
        }
        this.feedback.audioPress();
        this.modalCtr.create(__WEBPACK_IMPORTED_MODULE_9__service_config_data_config__["a" /* DataConfig */].PAGE._COMMEMORATIONDAY_PAGE, p).present();
    };
    //查询当天日程
    HPage.prototype.onSelect = function (selectDay) {
        var _this = this;
        this.feedback.audioClick();
        if (selectDay)
            this.emitService.emitSelectDate(__WEBPACK_IMPORTED_MODULE_4_moment__(selectDay.time));
        this.hService.centerShow(selectDay).then(function (d) {
            //双机进入列表
            _this.hdata = d;
        });
    };
    HPage.prototype.todoList = function (day) {
        this.modalCtr.create(__WEBPACK_IMPORTED_MODULE_9__service_config_data_config__["a" /* DataConfig */].PAGE._DO_PAGE).present();
    };
    // todoscrumList(day ?: CalendarDay) {
    //   let selectDay: CalendarDay = day ? day : this.hdata.selectDay;
    //
    //   // this.modalCtr.create(DataConfig.PAGE._DOSCRUM_PAGE, selectDay).present();
    // }
    HPage.prototype.testDate = function () {
        this.testDataService.createcal();
    };
    HPage.prototype.toMemo = function () {
        var _this = this;
        var day = __WEBPACK_IMPORTED_MODULE_4_moment__().format("YYYY/MM/DD");
        var modal = this.modalCtr.create(__WEBPACK_IMPORTED_MODULE_9__service_config_data_config__["a" /* DataConfig */].PAGE._MEMO_PAGE, { day: day });
        modal.onDidDismiss(function (data) { return __awaiter(_this, void 0, void 0, function () {
            var memo;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(data && data.memo && typeof data.memo === 'string')) return [3 /*break*/, 2];
                        memo = {};
                        memo.sd = data.day;
                        memo.mon = data.memo;
                        return [4 /*yield*/, this.momserv.saveMemo(memo)];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        }); });
        modal.present();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('aiDiv'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_5__components_ai_answer_ai__["a" /* AiComponent */])
    ], HPage.prototype, "aiDiv", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('calendar'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2__components_ion2_calendar__["a" /* CalendarComponent */])
    ], HPage.prototype, "calendar", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('tdl'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_12__tdl_tdl__["a" /* TdlPage */])
    ], HPage.prototype, "tdl", void 0);
    HPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-h',
            template: "\n    <ion-content>\n      <ion-calendar #calendar\n                    [options]=\"options\"\n                    (onSelect)=\"onSelect($event)\"\n                    (onPress)=\"onPress($event)\"\n                    (viewShow)=\"viewShow($event)\">\n      </ion-calendar>\n\n      <page-tdl #tdl></page-tdl>\n      <ion-fab bottom right class=\"shortcut\">\n        <button ion-fab mini>\n          <ion-icon name=\"add\"></ion-icon>\n        </button>\n        <ion-fab-list side=\"top\">\n          <button ion-fab (click)=\"todoList()\">\n            \u91CD\u8981\n          </button>\n          <!--<button ion-fab (click)=\"todoscrumList()\">-->\n          <!--<ion-icon name=\"clock\" color=\"danger\"></ion-icon>-->\n          <!--</button>-->\n          <button ion-fab (click)=\"newcd()\">\n            \u6D3B\u52A8\n          </button>\n          <button ion-fab (click)=\"newpi()\">\n            \u65E5\u5386\u9879\n          </button>\n          <button ion-fab (click)=\"toMemo()\">\n            \u5907\u5FD8\n          </button>\n        </ion-fab-list>\n      </ion-fab>\n      <ion-fab bottom right>\n        <button ion-fab mini (click)=\"openAi()\">\n          <ion-icon name=\"chatbubbles\"></ion-icon>\n        </button>\n      </ion-fab>\n    </ion-content>\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__h_service__["a" /* HService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["MenuController"],
            __WEBPACK_IMPORTED_MODULE_8__service_cordova_feedback_service__["a" /* FeedbackService */],
            __WEBPACK_IMPORTED_MODULE_10__service_business_memo_service__["a" /* MemoService */],
            __WEBPACK_IMPORTED_MODULE_13__service_testData_service__["a" /* TestDataService */],
            __WEBPACK_IMPORTED_MODULE_6__service_util_service_emit_service__["a" /* EmitService */]])
    ], HPage);
    return HPage;
}());

//# sourceMappingURL=h.js.map

/***/ }),
/* 498 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__calendar_model__ = __webpack_require__(218);
/* unused harmony namespace reexport */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_calendar_week_component__ = __webpack_require__(499);
/* unused harmony reexport CalendarWeekComponent */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_month_component__ = __webpack_require__(500);
/* unused harmony reexport MonthComponent */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_calendar_component__ = __webpack_require__(541);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_3__components_calendar_component__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__calendar_module__ = __webpack_require__(936);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_4__calendar_module__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__calendar_controller__ = __webpack_require__(246);
/* unused harmony reexport CalendarController */






//# sourceMappingURL=index.js.map

/***/ }),
/* 499 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CalendarWeekComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__config__ = __webpack_require__(105);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var CalendarWeekComponent = (function () {
    function CalendarWeekComponent() {
        this._weekArray = __WEBPACK_IMPORTED_MODULE_1__config__["a" /* defaults */].WEEKS_FORMAT;
        this._displayWeekArray = this._weekArray;
        this._weekStart = 0;
        this.color = __WEBPACK_IMPORTED_MODULE_1__config__["a" /* defaults */].COLOR;
    }
    Object.defineProperty(CalendarWeekComponent.prototype, "weekArray", {
        set: function (value) {
            if (value && value.length === 7) {
                this._weekArray = value.slice();
                this.adjustSort();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CalendarWeekComponent.prototype, "weekStart", {
        set: function (value) {
            if (value === 0 || value === 1) {
                this._weekStart = value;
                this.adjustSort();
            }
        },
        enumerable: true,
        configurable: true
    });
    CalendarWeekComponent.prototype.adjustSort = function () {
        if (this._weekStart === 1) {
            var cacheWeekArray = this._weekArray.slice();
            cacheWeekArray.push(cacheWeekArray.shift());
            this._displayWeekArray = cacheWeekArray.slice();
        }
        else if (this._weekStart === 0) {
            this._displayWeekArray = this._weekArray.slice();
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], CalendarWeekComponent.prototype, "color", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Array),
        __metadata("design:paramtypes", [Array])
    ], CalendarWeekComponent.prototype, "weekArray", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Number),
        __metadata("design:paramtypes", [Number])
    ], CalendarWeekComponent.prototype, "weekStart", null);
    CalendarWeekComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ion-calendar-week',
            template: "\n    <ion-toolbar class=\"week-toolbar\" no-border-top>\n      <ul [class]=\"'week-title ' + color\">\n        <li *ngFor=\"let w of _displayWeekArray\">{{w}}</li>\n      </ul>\n    </ion-toolbar>\n  "
        }),
        __metadata("design:paramtypes", [])
    ], CalendarWeekComponent);
    return CalendarWeekComponent;
}());

//# sourceMappingURL=calendar-week.component.js.map

/***/ }),
/* 500 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export MONTH_VALUE_ACCESSOR */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MonthComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__calendar_model__ = __webpack_require__(218);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config__ = __webpack_require__(105);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_calendar_service__ = __webpack_require__(144);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var MONTH_VALUE_ACCESSOR = {
    provide: __WEBPACK_IMPORTED_MODULE_1__angular_forms__["NG_VALUE_ACCESSOR"],
    useExisting: Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["forwardRef"])(function () { return MonthComponent; }),
    multi: true
};
var MonthComponent = (function () {
    function MonthComponent(ref) {
        this.ref = ref;
        this.readonly = false;
        this.color = __WEBPACK_IMPORTED_MODULE_3__config__["a" /* defaults */].COLOR;
        this.onSelect = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onPress = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onSelectStart = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onSelectEnd = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this._isInit = false;
    }
    MonthComponent.prototype.ngAfterViewInit = function () {
        this._isInit = true;
    };
    MonthComponent.prototype.writeValue = function (obj) {
        // if (Array.isArray(obj)) {
        //   this._date = obj;
        // }
    };
    MonthComponent.prototype.registerOnChange = function (fn) {
        this._onChanged = fn;
    };
    MonthComponent.prototype.registerOnTouched = function (fn) {
        this._onTouched = fn;
    };
    MonthComponent.prototype.trackByTime = function (index, item) {
        return item ? item.time : index;
    };
    // isSelected(time: number): boolean {
    //
    //   if (Array.isArray(this._date)) {
    //
    //     if (this.pickMode !== pickModes.MULTI) {
    //       if (this._date[0] !== null) {
    //         return time === this._date[0].time
    //       }
    //
    //       if (this._date[1] !== null) {
    //         return time === this._date[1].time
    //       }
    //     } else {
    //       return this._date.findIndex(e => e !== null && e.time === time) !== -1;
    //     }
    //
    //   } else {
    //     return false
    //   }
    // }
    MonthComponent.prototype.isSelected = function (time) {
        return time === __WEBPACK_IMPORTED_MODULE_4__services_calendar_service__["a" /* IonCalendarService */].selecttime;
    };
    MonthComponent.prototype.onSelected = function (item) {
        if (this.readonly)
            return;
        item.selected = true;
        this.onSelect.emit(item);
        // if (this.pickMode === pickModes.SINGLE) {
        __WEBPACK_IMPORTED_MODULE_4__services_calendar_service__["a" /* IonCalendarService */].selecttime = item.time;
        return;
        // }
        //
        // if (this.pickMode === pickModes.RANGE) {
        //   if (this._date[0] === null) {
        //     this._date[0] = item;
        //     this.onSelectStart.emit(item);
        //   } else if (this._date[1] === null) {
        //     if (this._date[0].time < item.time) {
        //       this._date[1] = item;
        //       this.onSelectEnd.emit(item);
        //     } else {
        //       this._date[1] = this._date[0];
        //       this.onSelectEnd.emit(this._date[0]);
        //       this._date[0] = item;
        //       this.onSelectStart.emit(item);
        //     }
        //   } else {
        //     this._date[0] = item;
        //     this.onSelectStart.emit(item);
        //     this._date[1] = null;
        //   }
        //   this.onChange.emit(this._date);
        //   return;
        // }
        //
        // if (this.pickMode === pickModes.MULTI) {
        //
        //   const index = this._date.findIndex(e => e !== null && e.time === item.time);
        //
        //   if (index === -1) {
        //     this._date.push(item);
        //   } else {
        //     this._date.splice(index, 1);
        //   }
        //   this.onChange.emit(this._date.filter(e => e !== null));
        // }
    };
    MonthComponent.prototype.onPressed = function (item) {
        if (this.readonly)
            return;
        item.selected = true;
        this.onPress.emit(item);
        __WEBPACK_IMPORTED_MODULE_4__services_calendar_service__["a" /* IonCalendarService */].selecttime = item.time;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2__calendar_model__["a" /* CalendarMonth */])
    ], MonthComponent.prototype, "month", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Boolean)
    ], MonthComponent.prototype, "isSaveHistory", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], MonthComponent.prototype, "id", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], MonthComponent.prototype, "readonly", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], MonthComponent.prototype, "color", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], MonthComponent.prototype, "onSelect", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], MonthComponent.prototype, "onPress", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], MonthComponent.prototype, "onSelectStart", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], MonthComponent.prototype, "onSelectEnd", void 0);
    MonthComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ion-calendar-month',
            providers: [MONTH_VALUE_ACCESSOR],
            template: "\n    \n    <div [class]=\"color\">\n        <div class=\"days-box\">\n          <ng-template ngFor let-day [ngForOf]=\"month.days\" [ngForTrackBy]=\"trackByTime\">\n            <div class=\"days\">\n              <ng-container *ngIf=\"day\">\n                <div class=\"borderDiv\"\n                  [class.on-selected]=\"isSelected(day.time)  && !day.isLastMonth && !day.isNextMonth\">\n                  <button type='button'\n                          [class]=\"'days-btn warp-days-btn'\"      \n                          (click)=\"onSelected(day)\"\n                          (press)=\"onPressed(day)\"\n                          [class.last-month-day]=\"day.isLastMonth\"\n                          [class.next-month-day]=\"day.isNextMonth\"\n                          [class.today]=\"day.isToday && !day.isLastMonth && !day.isNextMonth\"\n                          [disabled]=\"day.disable\">\n                    <p *ngIf=\"day.isToday\">\u4ECA</p>\n                    <p *ngIf=\"!day.isToday\">{{day.title}}</p>\n                    <small>{{day.subTitle}}</small>\n                    <ion-icon class = \"message fas fa-circle\"  *ngIf=\"!day.isLastMonth && !day.isNextMonth && day.accept > 0\" ></ion-icon>\n                    <ion-icon class = \"active fas fa-hexagon\" *ngIf=\"!day.isLastMonth && !day.isNextMonth  && day.hasevent\"></ion-icon>\n                    <ion-icon class = \"diary fas fa-heart-circle\" *ngIf=\"!day.isLastMonth && !day.isNextMonth && day.hasMemo\"></ion-icon>\n                    <ion-icon class = \"repeat fas fa-repeat\" *ngIf=\"!day.isLastMonth && !day.isNextMonth && day.hasrepeat\"></ion-icon>\n\n                  </button>\n               \n                </div>\n              </ng-container>\n            </div>\n          </ng-template>\n        </div>\n      \n    </div>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ChangeDetectorRef"]])
    ], MonthComponent);
    return MonthComponent;
}());

//# sourceMappingURL=month.component.js.map

/***/ }),
/* 501 */,
/* 502 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/3/5
 */
var TTbl = (function () {
    function TTbl() {
    }
    TTbl.prototype.fastParam = function () {
        var params = new Array();
        params.push(this.evi);
        params.push(this.cs);
        params.push(this.isrt);
        params.push(this.cd);
        params.push(this.fd);
        params.push(this.wtt || __WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        return ["replace into gtd_t\n       (   evi ,cs ,isrt ,cd ,fd ,wtt ,utt)",
            "select ?,?,?,?,?,?,?",
            params];
    };
    TTbl.prototype.cTParam = function () {
        var sq = "create table if not exists gtd_t(\n    evi varchar(50) PRIMARY KEY\n     ,cs varchar(4)\n     ,isrt varchar(4)\n     ,cd varchar(20)\n     ,fd varchar(20)\n     ,wtt integer\n     ,utt integer\n     );";
        return sq;
    };
    TTbl.prototype.upTParam = function () {
        var sq = '';
        var params = new Array();
        if (this.cs != null && this.cs != '') {
            sq = sq + ', cs= ? ';
            params.push(this.cs);
        }
        if (this.isrt != null && this.isrt != '') {
            sq = sq + ', isrt= ? ';
            params.push(this.isrt);
        }
        if (this.cd != null && this.cd != '') {
            sq = sq + ', cd= ? ';
            params.push(this.cd);
        }
        if (this.fd != null && this.fd != '') {
            sq = sq + ', fd= ? ';
            params.push(this.fd);
        }
        sq = "update gtd_t set utt = " + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + "  " + sq + " where evi = ? ;";
        params.push(this.evi);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    TTbl.prototype.dTParam = function () {
        var sq = 'delete from gtd_t where 1=1 ';
        var params = new Array();
        if (this.evi != null && this.evi != "") {
            sq = sq + 'and  evi = ? ';
            params.push(this.evi);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    TTbl.prototype.sloTParam = function () {
        var params = new Array();
        var sq = 'select * from gtd_t where evi = ?  ;';
        params.push(this.evi);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    TTbl.prototype.slTParam = function () {
        var params = new Array();
        var sq = 'select * from  gtd_t where  1=1 ';
        if (this.cs != null && this.cs != '') {
            sq = sq + ' and cs= ? ';
            params.push(this.cs);
        }
        if (this.isrt != null && this.isrt != '') {
            sq = sq + ' and  isrt= ? ';
            params.push(this.isrt);
        }
        if (this.cd != null && this.cd != '') {
            sq = sq + ' and cd= ? ';
            params.push(this.cd);
        }
        if (this.fd != null && this.fd != '') {
            sq = sq + ' and fd= ? ';
            params.push(this.fd);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    TTbl.prototype.drTParam = function () {
        var sq = 'drop table if exists gtd_t;';
        return sq;
    };
    TTbl.prototype.inTParam = function () {
        var params = new Array();
        var sq = "insert into gtd_t\n       (   evi ,cs ,isrt ,cd ,fd ,wtt ,utt)\n       values(?,?,?,?,?," + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + "," + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ");";
        params.push(this.evi);
        params.push(this.cs);
        params.push(this.isrt);
        params.push(this.cd);
        params.push(this.fd);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    TTbl.prototype.rpTParam = function () {
        var params = new Array();
        var sq = "replace into gtd_t\n       (   evi ,cs ,isrt ,cd ,fd ,wtt ,utt)\n       values(?,?,?,?,?," + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + "," + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ");";
        params.push(this.evi);
        params.push(this.cs);
        params.push(this.isrt);
        params.push(this.cd);
        params.push(this.fd);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    return TTbl;
}());

//# sourceMappingURL=t.tbl.js.map

/***/ }),
/* 503 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CaTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/3/5
 */
var CaTbl = (function () {
    function CaTbl() {
    }
    CaTbl.prototype.fastParam = function () {
        var params = new Array();
        params.push(this.evi);
        params.push(this.sd);
        params.push(this.st);
        params.push(this.ed);
        params.push(this.et);
        params.push(this.al);
        params.push(this.ct);
        params.push(this.wtt ? this.wtt : __WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        return ["replace into gtd_ca\n       (  evi ,sd ,st ,ed ,et ,al,ct ,wtt ,utt)",
            "select ?,?,?,?,?,?,?,?,?",
            params];
    };
    CaTbl.prototype.cTParam = function () {
        var sq = "create table if not exists gtd_ca(  evi varchar(50) PRIMARY KEY\n       ,sd varchar(20)\n       ,st varchar(20)\n       ,ed varchar(20)\n       ,et varchar(20)\n       ,al varchar(4)\n       ,ct integer\n       ,wtt integer\n       ,utt integer\n        );";
        return sq;
    };
    CaTbl.prototype.upTParam = function () {
        var sq = '';
        var params = new Array();
        if (this.sd != null && this.sd != '') {
            sq = sq + ', sd= ? ';
            params.push(this.sd);
        }
        if (this.st != null && this.st != '') {
            sq = sq + ', st= ? ';
            params.push(this.st);
        }
        if (this.ed != null && this.ed != '') {
            sq = sq + ', ed= ? ';
            params.push(this.ed);
        }
        if (this.et != null && this.et != '') {
            sq = sq + ', et= ? ';
            params.push(this.et);
        }
        if (this.al != null && this.al != '') {
            sq = sq + ', al= ? ';
            params.push(this.al);
        }
        if (this.ct != null) {
            sq = sq + ', ct= ? ';
            params.push(this.ct);
        }
        sq = "update gtd_ca set utt = " + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + "  " + sq + " where evi = ? ;";
        params.push(this.evi);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    CaTbl.prototype.dTParam = function () {
        var sq = 'delete from gtd_ca where 1=1 ';
        var params = new Array();
        if (this.evi != null && this.evi != "") {
            sq = sq + 'and  evi = ? ';
            params.push(this.evi);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    CaTbl.prototype.sloTParam = function () {
        var params = new Array();
        var sq = 'select * from gtd_ca where evi = ?  ;';
        params.push(this.evi);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    CaTbl.prototype.slTParam = function () {
        var params = new Array();
        var sq = 'select * from  gtd_ca where  1=1 ';
        if (this.sd != null && this.sd != '') {
            sq = sq + ' and  sd= ? ';
            params.push(this.sd);
        }
        if (this.st != null && this.st != '') {
            sq = sq + ' and  st= ? ';
            params.push(this.st);
        }
        if (this.ed != null && this.ed != '') {
            sq = sq + ' and  ed= ? ';
            params.push(this.ed);
        }
        if (this.et != null && this.et != '') {
            sq = sq + ' and  et= ? ';
            params.push(this.et);
        }
        if (this.al != null && this.al != '') {
            sq = sq + ' and al= ? ';
            params.push(this.al);
        }
        if (this.ct != null) {
            sq = sq + ' and ct= ? ';
            params.push(this.ct);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    CaTbl.prototype.drTParam = function () {
        var sq = 'drop table if exists gtd_ca;';
        return sq;
    };
    CaTbl.prototype.inTParam = function () {
        var params = new Array();
        var sq = "insert into gtd_ca\n       (  evi ,sd ,st ,ed ,et ,al,ct ,wtt ,utt)\n       values(?,?,?,?,?,?,?,?,?);";
        params.push(this.evi);
        params.push(this.sd);
        params.push(this.st);
        params.push(this.ed);
        params.push(this.et);
        params.push(this.al);
        params.push(this.ct);
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    CaTbl.prototype.rpTParam = function () {
        var params = new Array();
        var sq = "replace into gtd_ca\n       (  evi ,sd ,st ,ed ,et ,al,ct ,wtt ,utt)\n       values(?,?,?,?,?,?,?,?,?);";
        params.push(this.evi);
        params.push(this.sd);
        params.push(this.st);
        params.push(this.ed);
        params.push(this.et);
        params.push(this.al);
        params.push(this.ct);
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    return CaTbl;
}());

//# sourceMappingURL=ca.tbl.js.map

/***/ }),
/* 504 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WaTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/3/5
 */
var WaTbl = (function () {
    function WaTbl() {
    }
    WaTbl.prototype.fastParam = function () {
        var params = new Array();
        params.push(this.wai);
        params.push(this.obt);
        params.push(this.obi);
        params.push(this.st);
        params.push(this.wd);
        params.push(this.wt);
        params.push(this.tb);
        params.push(this.del);
        params.push(this.wtt || __WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        return ["replace into gtd_wa\n       (   wai ,obt ,obi ,st ,wd ,wt ,tb,del,wtt)",
            "select ?,?,?,?,?,?,?,?,?",
            params];
    };
    WaTbl.prototype.cTParam = function () {
        var sq = "create table if not exists gtd_wa(\n     wai varchar(50) PRIMARY KEY\n     ,obt varchar(50)\n     ,obi varchar(50)\n     ,st varchar(50)\n     ,wd varchar(20)\n     ,wt varchar(20)\n     ,tb varchar(6) \n     ,del varchar(6) \n     ,wtt integer\n        );";
        return sq;
    };
    WaTbl.prototype.upTParam = function () {
        var sq = '';
        var params = new Array();
        if (this.obt != null && this.obt != '') {
            sq = sq + ', obt= ? ';
            params.push(this.obt);
        }
        if (this.obi != null && this.obi != '') {
            sq = sq + ', obi= ? ';
            params.push(this.obi);
        }
        if (this.st != null && this.st != '') {
            sq = sq + ', st= ? ';
            params.push(this.st);
        }
        if (this.wd != null && this.wd != '') {
            sq = sq + ', wd= ? ';
            params.push(this.wd);
        }
        if (this.wt != null && this.wt != '') {
            sq = sq + ', wt= ? ';
            params.push(this.wt);
        }
        if (this.tb != null && this.tb != '') {
            sq = sq + ', tb= ? ';
            params.push(this.tb);
        }
        if (this.del != null && this.del != '') {
            sq = sq + ', del= ? ';
            params.push(this.del);
        }
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = "update gtd_wa set " + sq + " where wai = ? ;";
        params.push(this.wai);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    WaTbl.prototype.dTParam = function () {
        var sq = 'delete from gtd_wa where 1=1 ';
        var params = new Array();
        if (this.wai != null && this.wai != "") {
            sq = sq + 'and  evi = ? ';
            params.push(this.wai);
        }
        if (this.obt != null && this.obt != "") {
            sq = sq + 'and  obt = ? ';
            params.push(this.obt);
        }
        if (this.obi != null && this.obi != "") {
            sq = sq + 'and  obi = ? ';
            params.push(this.obi);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    WaTbl.prototype.sloTParam = function () {
        var params = new Array();
        var sq = 'select * from gtd_wa where wai = ?  ;';
        params.push(this.wai);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    WaTbl.prototype.slTParam = function () {
        var params = new Array();
        var sq = 'select * from  gtd_wa where  1=1 ';
        if (this.obt != null && this.obt != '') {
            sq = sq + ' and  obt= ? ';
            params.push(this.obt);
        }
        if (this.obi != null && this.obi != '') {
            sq = sq + ' and obi= ? ';
            params.push(this.obi);
        }
        if (this.st != null && this.st != '') {
            sq = sq + ' and st= ? ';
            params.push(this.st);
        }
        if (this.wd != null && this.wd != '') {
            sq = sq + ' and wd= ? ';
            params.push(this.wd);
        }
        if (this.wt != null && this.wt != '') {
            sq = sq + ' and wt= ? ';
            params.push(this.wt);
        }
        if (this.tb != null && this.tb != '') {
            sq = sq + ' and tb= ? ';
            params.push(this.tb);
        }
        if (this.del != null && this.del != '') {
            sq = sq + ' and del= ? ';
            params.push(this.del);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    WaTbl.prototype.drTParam = function () {
        var sq = 'drop table if exists gtd_wa;';
        return sq;
    };
    WaTbl.prototype.inTParam = function () {
        var params = new Array();
        var sq = "insert into gtd_wa\n       (   wai ,obt ,obi ,st ,wd ,wt ,tb,del,wtt)\n       values(?,?,?,?,?,?,?,?,?);";
        params.push(this.wai);
        params.push(this.obt);
        params.push(this.obi);
        params.push(this.st);
        params.push(this.wd);
        params.push(this.wt);
        params.push(this.tb);
        params.push(this.del);
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    WaTbl.prototype.rpTParam = function () {
        var params = new Array();
        var sq = "replace into gtd_wa\n       (   wai ,obt ,obi ,st ,wd ,wt ,tb,del,wtt)\n       values(?,?,?,?,?,?,?,?,?);";
        params.push(this.wai);
        params.push(this.obt);
        params.push(this.obi);
        params.push(this.st);
        params.push(this.wd);
        params.push(this.wt);
        params.push(this.tb);
        params.push(this.del);
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    return WaTbl;
}());

//# sourceMappingURL=wa.tbl.js.map

/***/ }),
/* 505 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return JtaTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/3/5
 */
var JtaTbl = (function () {
    function JtaTbl() {
    }
    JtaTbl.prototype.fastParam = function () {
        var params = new Array();
        params.push(this.jti);
        params.push(this.ji);
        params.push(this.jtn);
        params.push(this.ui);
        params.push(this.invitestatus);
        params.push(this.pn);
        params.push(this.md);
        params.push(this.iv);
        params.push(this.sd);
        params.push(this.st);
        params.push(this.jtt);
        params.push(this.jtc);
        params.push(this.px);
        params.push(this.nll2str(this.bz));
        params.push(this.nll2str(this.ext));
        params.push(this.wtt ? this.wtt : __WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(this.tb);
        params.push(this.del);
        params.push(this.tx);
        params.push(this.txs);
        params.push(this.rt);
        params.push(this.rts);
        params.push(this.rfg);
        params.push(this.rtjti);
        return ["replace into gtd_jta\n       (   jti ,ji ,jtn ,ui ,invitestatus ,pn ,md ,iv ,sd ,st ,jtt ,jtc ,px ,bz ,ext ,wtt ,utt,tb,del,tx,txs,rt,rts,rfg,rtjti)",
            "select ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?",
            params];
    };
    JtaTbl.prototype.cTParam = function () {
        var sq = "create table if not exists gtd_jta(\n      jti varchar(50) PRIMARY KEY\n     ,ji varchar(50)\n     ,jtn varchar(50)\n     ,ui varchar(50)\n     ,invitestatus varchar(6)\n     ,pn integer\n     ,md varchar(4)\n     ,iv varchar(4)\n     ,sd varchar(20)\n     ,st varchar(20)\n     ,jtt varchar(4)\n     ,jtc varchar(4)\n     ,px integer\n     ,bz varchar(50)\n     ,ext varchar(50)\n     ,wtt integer\n     ,utt integer\n     ,tb varchar(6)\n     ,del varchar(6)\n     ,tx varchar(50)\n     ,txs varchar(50)\n     ,rt varchar(50)\n     ,rts varchar(50)\n     ,rfg varchar(6)\n     ,rtjti varchar(50)\n\n     );";
        return sq;
    };
    JtaTbl.prototype.upTParam = function () {
        var sq = '';
        var params = new Array();
        if (this.ji != null && this.ji != '') {
            sq = sq + ', ji= ? ';
            params.push(this.ji);
        }
        if (this.jtn != null && this.jtn != '') {
            sq = sq + ', jtn= ? ';
            params.push(this.jtn);
        }
        if (this.ui != null && this.ui != '') {
            sq = sq + ', ui= ? ';
            params.push(this.ui);
        }
        if (this.invitestatus != null && this.invitestatus != '') {
            sq = sq + ', invitestatus= ? ';
            params.push(this.invitestatus);
        }
        if (this.pn != null) {
            sq = sq + ', pn= ? ';
            params.push(this.pn);
        }
        if (this.md != null && this.md != '') {
            sq = sq + ', md= ? ';
            params.push(this.md);
        }
        if (this.iv != null && this.iv != '') {
            sq = sq + ', iv= ? ';
            params.push(this.iv);
        }
        if (this.sd != null && this.sd != '') {
            sq = sq + ', sd= ? ';
            params.push(this.sd);
        }
        if (this.st != null && this.st != '') {
            sq = sq + ', st= ? ';
            params.push(this.st);
        }
        if (this.jtt != null && this.jtt != '') {
            sq = sq + ', jtt= ? ';
            params.push(this.jtt);
        }
        if (this.jtc != null && this.jtc != '') {
            sq = sq + ', jtc= ? ';
            params.push(this.jtc);
        }
        if (this.px != null) {
            sq = sq + ', px= ? ';
            params.push(this.px);
        }
        if (this.bz != null && this.bz != '') {
            sq = sq + ', bz= ? ';
            params.push(this.bz);
        }
        if (this.ext != null && this.ext != '') {
            sq = sq + ', ext= ? ';
            params.push(this.ext);
        }
        if (this.tb != null && this.tb != '') {
            sq = sq + ', tb= ? ';
            params.push(this.tb);
        }
        if (this.del != null && this.del != '') {
            sq = sq + ', del= ? ';
            params.push(this.del);
        }
        if (this.tx != null && this.tx != '') {
            sq = sq + ', tx= ? ';
            params.push(this.tx);
        }
        if (this.txs != null && this.txs != '') {
            sq = sq + ', txs= ? ';
            params.push(this.txs);
        }
        if (this.rt != null && this.rt != '') {
            sq = sq + ', rt= ? ';
            params.push(this.rt);
        }
        if (this.rts != null && this.rts != '') {
            sq = sq + ', rts= ? ';
            params.push(this.rts);
        }
        if (this.rfg != null && this.rfg != '') {
            sq = sq + ', rfg= ? ';
            params.push(this.rfg);
        }
        if (this.rtjti != null && this.rtjti != '') {
            sq = sq + ', rtjti= ? ';
            params.push(this.rtjti);
        }
        sq = "update gtd_jta set utt =" + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + "  " + sq + " where jti = ? ;";
        params.push(this.jti);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    JtaTbl.prototype.dTParam = function () {
        var sq = 'delete from gtd_jta where 1=1 ';
        var params = new Array();
        if (this.jti != null && this.jti != "") {
            sq = sq + 'and  jti = ? ';
            params.push(this.jti);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    JtaTbl.prototype.sloTParam = function () {
        var params = new Array();
        var sq = 'select * from gtd_jta where jti = ?  ;';
        params.push(this.jti);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    JtaTbl.prototype.slTParam = function () {
        var params = new Array();
        var sq = 'select * from  gtd_jta where  1=1 ';
        if (this.ji != null && this.ji != '') {
            sq = sq + ' and ji= ? ';
            params.push(this.ji);
        }
        if (this.jtn != null && this.jtn != '') {
            sq = sq + ' and jtn= ? ';
            params.push(this.jtn);
        }
        if (this.ui != null && this.ui != '') {
            sq = sq + ' and ui= ? ';
            params.push(this.ui);
        }
        if (this.invitestatus != null && this.invitestatus != '') {
            sq = sq + ' and invitestatus= ? ';
            params.push(this.invitestatus);
        }
        if (this.pn != null) {
            sq = sq + ' and pn= ? ';
            params.push(this.pn);
        }
        if (this.md != null && this.md != '') {
            sq = sq + ' and md= ? ';
            params.push(this.md);
        }
        if (this.iv != null && this.iv != '') {
            sq = sq + ' and iv= ? ';
            params.push(this.iv);
        }
        if (this.sd != null && this.sd != '') {
            sq = sq + ' and sd= ? ';
            params.push(this.sd);
        }
        if (this.st != null && this.st != '') {
            sq = sq + ' and st= ? ';
            params.push(this.st);
        }
        if (this.jtt != null && this.jtt != '') {
            sq = sq + ' and jtt= ? ';
            params.push(this.jtt);
        }
        if (this.jtc != null && this.jtc != '') {
            sq = sq + ' and jtc= ? ';
            params.push(this.jtc);
        }
        if (this.px != null) {
            sq = sq + ' and px= ? ';
            params.push(this.px);
        }
        if (this.bz != null && this.bz != '') {
            sq = sq + ' and bz= ? ';
            params.push(this.bz);
        }
        if (this.ext != null && this.ext != '') {
            sq = sq + ' and ext= ? ';
            params.push(this.ext);
        }
        if (this.tb != null && this.tb != '') {
            sq = sq + ' and tb= ? ';
            params.push(this.tb);
        }
        if (this.del != null && this.del != '') {
            sq = sq + ' and del= ? ';
            params.push(this.del);
        }
        if (this.tx != null && this.tx != '') {
            sq = sq + ' and tx= ? ';
            params.push(this.tx);
        }
        if (this.txs != null && this.txs != '') {
            sq = sq + ' and txs= ? ';
            params.push(this.txs);
        }
        if (this.rt != null && this.rt != '') {
            sq = sq + ' and rt= ? ';
            params.push(this.rt);
        }
        if (this.rts != null && this.rts != '') {
            sq = sq + ' and rts= ? ';
            params.push(this.rts);
        }
        if (this.rfg != null && this.rfg != '') {
            sq = sq + ' and rfg= ? ';
            params.push(this.rfg);
        }
        if (this.rtjti != null && this.rtjti != '') {
            sq = sq + ' and rtjti= ? ';
            params.push(this.rtjti);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    JtaTbl.prototype.drTParam = function () {
        var sq = 'drop table if exists gtd_jta;';
        return sq;
    };
    JtaTbl.prototype.inTParam = function () {
        var params = new Array();
        var sq = "insert into gtd_jta\n       (   jti ,ji ,jtn ,ui ,invitestatus ,pn ,md ,iv ,sd ,st ,jtt ,jtc ,px ,bz ,ext ,wtt ,utt,tb,del,tx,txs,rt,rts,rfg,rtjti)\n       values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?);";
        params.push(this.jti);
        params.push(this.ji);
        params.push(this.jtn);
        params.push(this.ui);
        params.push(this.invitestatus);
        params.push(this.pn);
        params.push(this.md);
        params.push(this.iv);
        params.push(this.sd);
        params.push(this.st);
        params.push(this.jtt);
        params.push(this.jtc);
        params.push(this.px);
        params.push(this.nll2str(this.bz));
        params.push(this.nll2str(this.ext));
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(this.tb);
        params.push(this.del);
        params.push(this.tx);
        params.push(this.txs);
        params.push(this.rt);
        params.push(this.rts);
        params.push(this.rfg);
        params.push(this.rtjti);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    JtaTbl.prototype.rpTParam = function () {
        var params = new Array();
        var sq = "replace into gtd_jta\n       (   jti ,ji ,jtn ,ui ,invitestatus ,pn ,md ,iv ,sd ,st ,jtt ,jtc ,px ,bz ,ext ,wtt ,utt,tb,del,tx,txs,rt,rts,rfg,rtjti)\n       values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?," + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + "," + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ",?,?,?,?,?,?,?,?);";
        params.push(this.jti);
        params.push(this.ji);
        params.push(this.jtn);
        params.push(this.ui);
        params.push(this.invitestatus);
        params.push(this.pn);
        params.push(this.md);
        params.push(this.iv);
        params.push(this.sd);
        params.push(this.st);
        params.push(this.jtt);
        params.push(this.jtc);
        params.push(this.px);
        params.push(this.nll2str(this.bz));
        params.push(this.nll2str(this.ext));
        params.push(this.tb);
        params.push(this.del);
        params.push(this.tx);
        params.push(this.txs);
        params.push(this.rt);
        params.push(this.rts);
        params.push(this.rfg);
        params.push(this.rtjti);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    JtaTbl.prototype.nll2str = function (ob) {
        if (ob == null || !ob) {
            return "";
        }
        else {
            return ob;
        }
    };
    return JtaTbl;
}());

//# sourceMappingURL=jta.tbl.js.map

/***/ }),
/* 506 */,
/* 507 */,
/* 508 */,
/* 509 */,
/* 510 */,
/* 511 */,
/* 512 */,
/* 513 */,
/* 514 */,
/* 515 */,
/* 516 */,
/* 517 */,
/* 518 */,
/* 519 */,
/* 520 */,
/* 521 */,
/* 522 */,
/* 523 */,
/* 524 */,
/* 525 */,
/* 526 */,
/* 527 */,
/* 528 */,
/* 529 */,
/* 530 */,
/* 531 */,
/* 532 */,
/* 533 */,
/* 534 */,
/* 535 */,
/* 536 */,
/* 537 */,
/* 538 */,
/* 539 */,
/* 540 */,
/* 541 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ION_CAL_VALUE_ACCESSOR */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CalendarComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_calendar_service__ = __webpack_require__(144);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config__ = __webpack_require__(105);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_cordova_feedback_service__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__calendar_controller__ = __webpack_require__(246);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_swiper__ = __webpack_require__(934);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_util_service_emit_service__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var ION_CAL_VALUE_ACCESSOR = {
    provide: __WEBPACK_IMPORTED_MODULE_2__angular_forms__["NG_VALUE_ACCESSOR"],
    useExisting: Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["forwardRef"])(function () { return CalendarComponent; }),
    multi: true
};
var CalendarComponent = (function () {
    function CalendarComponent(calSvc, feekback, plt, changeDetectorRef, emitService) {
        this.calSvc = calSvc;
        this.feekback = feekback;
        this.plt = plt;
        this.changeDetectorRef = changeDetectorRef;
        this.emitService = emitService;
        this._view = true;
        //swiper:any;
        this.change4emit = true;
        this.monthOptsWarp = new Array();
        // @ViewChild(Slides)
        // slides: Slides;
        this.format = __WEBPACK_IMPORTED_MODULE_4__config__["a" /* defaults */].DATE_FORMAT;
        this.type = 'string';
        this.readonly = false;
        this.onChange = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.monthChange = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onSelect = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onPress = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.viewShow = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    Object.defineProperty(CalendarComponent.prototype, "options", {
        get: function () {
            return this._options;
        },
        set: function (value) {
            this._options = value;
            this.initOpt();
        },
        enumerable: true,
        configurable: true
    });
    CalendarComponent.prototype.select = function ($event) {
        this.onSelect.emit($event);
    };
    // slideChanged($event: Slides) {
    //   this.feekback.audioTrans();
    //   let monthOpt = this.monthOpts[2];
    //   let monthTime;
    //
    //   if (!monthOpt) return;
    //   this._showMonth = defaults.MONTH_FORMAT[monthOpt.original.month];
    //   this._thisMonth = monthOpt.original.month == moment().month() && monthOpt.original.year == moment().year();
    //
    //   if ($event.swipeDirection == "next") {
    //     let lastmonth:CalendarMonth = this.monthOpts[this.monthOpts.length - 1]
    //
    //     let month_len:number = this.monthOpts.length;
    //       let time =  monthTime = moment(lastmonth.original.time).add(1, 'months').valueOf();
    //       let months = this.calSvc.createMonthsByPeriod(time, 1, this._d);
    //       this.monthOpts.push(months[0]);
    //       this.monthOpts.shift();
    //
    //   } else if ($event.swipeDirection == "prev") {
    //
    //     let firstmonth:CalendarMonth = this.monthOpts[0];
    //
    //       let time =  monthTime = moment(firstmonth.original.time).subtract(1, 'months').valueOf();
    //       let months = this.calSvc.createMonthsByPeriod(time, 1, this._d);
    //       this.monthOpts.unshift(months[0]);
    //       this.monthOpts.pop();
    //
    //       //this.slides.slideNext(0,false);
    //       //this.slides.update();
    //
    //   }
    //
    //   this.calSvc.getMonthData(monthOpt);
    //
    // }
    CalendarComponent.prototype.closeMonth = function () {
        var _this = this;
        this.calendarAnimation.closeView(function () {
            _this.changestat();
        }, true);
    };
    CalendarComponent.prototype.changestat = function () {
        this._view = !this._view;
        this.viewShow.emit(this._view);
    };
    CalendarComponent.prototype.openMonth = function () {
        var _this = this;
        this.calendarAnimation.openView(function () {
            _this.changestat();
        }, true);
    };
    CalendarComponent.prototype.switchView = function () {
        if (this._view) {
            this.closeMonth();
        }
        else {
            this.openMonth();
        }
    };
    CalendarComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.initOpt();
        var time = __WEBPACK_IMPORTED_MODULE_3_moment__().subtract(1, "months").valueOf();
        var months = this.calSvc.createMonthsByPeriod(time, 3, this._d);
        months.forEach(function (v) {
            var warp = {};
            warp.opts = v;
            _this.monthOptsWarp.push(warp);
            // this.monthOpts.push(v);
        });
    };
    CalendarComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        setTimeout(function () {
            if (!_this.calendarAnimation) {
                _this.calendarAnimation = __WEBPACK_IMPORTED_MODULE_7__calendar_controller__["a" /* CalendarController */].create(_this, _this.plt);
            }
        }, 1000);
        this.swiper = new __WEBPACK_IMPORTED_MODULE_8_swiper__["a" /* default */]('.swiper-container', {
            autoHeight: true,
        });
        this.swiperover4data(1);
        this.swiper.on("slideNextTransitionEnd", function () {
            _this.slideNextEnd();
            // setTimeout(()=>{
            // },1000);
            // this.changeDetectorRef.markForCheck();
            // this.changeDetectorRef.detectChanges();
            // this.swiper.updateSlides();
        });
        // this.swiper.on("slideChange", ()=> {
        //
        //
        //
        // });
        this.swiper.on("slidePrevTransitionEnd", function () {
            _this.slidePrevEnd();
        });
        //
        // this.swiper  = new Swiper('.swiper-container');
        // this.swiper.on("slideNextTransitionEnd", ()=>{
        //   this.slideNextEnd();
        // });
        //
        // this.swiper.slideTo(2 ,500,false);
        this.emitService.register("list.change.month", function ($data) {
            if ($data == "next") {
                _this.change4emit = false;
                _this.slideNextEnd();
            }
            if ($data == "prev") {
                _this.change4emit = false;
                _this.slidePrevEnd();
            }
        });
    };
    CalendarComponent.prototype.slidePrevEnd = function () {
        this.feekback.audioTrans();
        var firstmonth = this.monthOptsWarp[0].opts;
        var time = __WEBPACK_IMPORTED_MODULE_3_moment__(firstmonth.original.time).subtract(1, 'months').valueOf();
        var months = this.calSvc.createMonthsByPeriod(time, 1, this._d);
        this.monthOptsWarp[2].opts = this.monthOptsWarp[1].opts;
        this.monthOptsWarp[1].opts = this.monthOptsWarp[0].opts;
        this.monthOptsWarp[0].opts = months[0];
        // this.swiper.activeIndex = this.swiper.activeIndex  + 1;
        //不影响编译
        // this.swiper.setTransition(10);
        // this.swiper.setTranslate(this.swiper.translate - window.innerWidth);
        this.swiperover4data(1);
    };
    CalendarComponent.prototype.slideNextEnd = function () {
        this.feekback.audioTrans();
        var lastmonth = this.monthOptsWarp[2].opts;
        var time = __WEBPACK_IMPORTED_MODULE_3_moment__(lastmonth.original.time).add(1, 'months').valueOf();
        var months = this.calSvc.createMonthsByPeriod(time, 1, this._d);
        // this.monthOpts.shift();
        this.monthOptsWarp[0].opts = this.monthOptsWarp[1].opts;
        this.monthOptsWarp[1].opts = this.monthOptsWarp[2].opts;
        this.monthOptsWarp[2].opts = months[0];
        // this.swiper.activeIndex = this.swiper.activeIndex -1;
        // this.monthOpts.push(months[0]);
        // this.swiper.setTransition(10);
        // this.swiper.setTranslate(this.swiper.translate + window.innerWidth);
        this.swiperover4data(1);
    };
    CalendarComponent.prototype.swiperover4data = function (index, gototoday) {
        // this.swiper.update()
        // this.swiper.updateSlidesClasses();
        //
        if (gototoday === void 0) { gototoday = false; }
        var monthOpt = this.monthOptsWarp[index].opts;
        if (!monthOpt)
            return;
        this._showMonth = __WEBPACK_IMPORTED_MODULE_4__config__["a" /* defaults */].MONTH_FORMAT[monthOpt.original.month];
        this._thisMonth = monthOpt.original.month == __WEBPACK_IMPORTED_MODULE_3_moment__().month() && monthOpt.original.year == __WEBPACK_IMPORTED_MODULE_3_moment__().year();
        this.calSvc.getMonthData(monthOpt);
        if (this.change4emit && !gototoday)
            this.emitService.emit("calendar.change.month", __WEBPACK_IMPORTED_MODULE_3_moment__(monthOpt.original.time).format("YYYYMM"));
        if (gototoday)
            this.emitService.emitSelectDate(__WEBPACK_IMPORTED_MODULE_3_moment__());
        this.change4emit = true;
        if (this.swiper) {
            this.swiper.slideTo(index, 0, false);
        }
        this.changeDetectorRef.markForCheck();
        this.changeDetectorRef.detectChanges();
    };
    // canNext(): boolean {
    //   if (!this._d.to) return true;
    //   return this.monthOpt.original.time < moment(this._d.to).valueOf();
    // }
    // canBack(): boolean {
    //   if (!this._d.from) return true;
    //   return this.monthOpt.original.time > moment(this._d.from).valueOf();
    // }
    CalendarComponent.prototype.initOpt = function () {
        this._d = this.calSvc.safeOpt(this._options || {});
    };
    CalendarComponent.prototype.gotoToday = function () {
        this.feekback.audioTrans();
        var time = __WEBPACK_IMPORTED_MODULE_3_moment__().subtract(1, "months").valueOf();
        var months = this.calSvc.createMonthsByPeriod(time, 3, this._d);
        // this.monthOpts.shift();
        this.monthOptsWarp[0].opts = months[0];
        this.monthOptsWarp[1].opts = months[1];
        this.monthOptsWarp[2].opts = months[2];
        // this.swiper.activeIndex = this.swiper.activeIndex -1;
        // this.monthOpts.push(months[0]);
        // this.swiper.setTransition(10);
        // this.swiper.setTranslate(this.swiper.translate + window.innerWidth);
        this.swiperover4data(1, true);
        __WEBPACK_IMPORTED_MODULE_1__services_calendar_service__["a" /* IonCalendarService */].selecttime = __WEBPACK_IMPORTED_MODULE_3_moment__(__WEBPACK_IMPORTED_MODULE_3_moment__().format("YYYY-MM-DD")).valueOf();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_6_ionic_angular__["Card"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_6_ionic_angular__["Card"])
    ], CalendarComponent.prototype, "card", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_6_ionic_angular__["CardContent"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_6_ionic_angular__["CardContent"]
        // @ViewChild(Slides)
        // slides: Slides;
        )
    ], CalendarComponent.prototype, "cardContent", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], CalendarComponent.prototype, "format", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], CalendarComponent.prototype, "type", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], CalendarComponent.prototype, "readonly", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], CalendarComponent.prototype, "onChange", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], CalendarComponent.prototype, "monthChange", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], CalendarComponent.prototype, "onSelect", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], CalendarComponent.prototype, "onPress", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], CalendarComponent.prototype, "viewShow", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], CalendarComponent.prototype, "options", null);
    CalendarComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ion-calendar',
            providers: [ION_CAL_VALUE_ACCESSOR],
            template: "\n    <ion-card #monthcompent no-padding>\n      <ion-card-header no-padding>\n\n        <div class=\"title\">\n          <div float-left>\n            <div float-left (click)=\"switchView()\">\n              <p><b [class.thisM]=\"_thisMonth\">{{_showMonth}}</b>\n                <ion-icon class=\"arrow-dropdown\"\n                          [name]=\"_view ? 'md-arrow-dropdown' : 'md-arrow-dropright'\"\n                          [class.thisM]=\"_thisMonth\"></ion-icon>\n              </p>\n\n            </div>\n          </div>\n          <div float-right (click)=\"gotoToday()\">\n            <ion-icon class=\"fad fa-calendar-alt\"></ion-icon>\n            <!--<img src=\"./assets/imgs/fhby.png\"/>-->\n          </div>\n        </div>\n      </ion-card-header>\n      <ion-card-content>\n        <!--<ion-slides (ionSlideWillChange)=\"slideChanged($event)\" (ionSlidePrevStart)=\"ionSlidePrevStart()\" (ionSlidePrevEnd)=\"ionSlidePrevEnd()\" (ionSlideProgress)=\"ionSlideProgress()\">-->\n          <!--<ion-slide *ngFor=\"let monthOpt of monthOpts\">-->\n            <!--<div class=\"yearshow\">{{monthOpt.original.year}}</div>-->\n            <!--<ion-calendar-week color=\"transparent\">-->\n            <!--</ion-calendar-week>-->\n            <!--<ion-calendar-month class=\"component-mode\"-->\n                                <!--[month]=\"monthOpt\"-->\n                                <!--[readonly]=\"readonly\"-->\n                                <!--(onSelect)=\"select($event)\"-->\n                                <!--(onPress)=\"onPress.emit($event)\">-->\n\n            <!--</ion-calendar-month>-->\n          <!--</ion-slide>-->\n        <!--</ion-slides>-->\n        <div class=\"swiper-container\">\n\n          <div class=\"swiper-wrapper\">\n            <div *ngFor=\"let warp of monthOptsWarp\" class=\"swiper-slide\">\n              <div class=\"yearshow\">{{warp.opts.original.year}}</div>\n              <ion-calendar-week color=\"transparent\">\n              </ion-calendar-week>\n              <ion-calendar-month class=\"component-mode\"\n                                  [month]=\"warp.opts\"\n                                  [readonly]=\"readonly\"\n                                  (onSelect)=\"select($event)\"\n                                  (onPress)=\"onPress.emit($event)\">\n\n              </ion-calendar-month>\n            </div>\n          </div>\n\n        </div>\n      </ion-card-content>\n\n    </ion-card>\n\n\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__services_calendar_service__["a" /* IonCalendarService */], __WEBPACK_IMPORTED_MODULE_5__service_cordova_feedback_service__["a" /* FeedbackService */], __WEBPACK_IMPORTED_MODULE_6_ionic_angular__["Platform"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ChangeDetectorRef"], __WEBPACK_IMPORTED_MODULE_9__service_util_service_emit_service__["a" /* EmitService */]])
    ], CalendarComponent);
    return CalendarComponent;
}());

//# sourceMappingURL=calendar.component.js.map

/***/ }),
/* 542 */,
/* 543 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__data_mapping__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_pagecom_pgbusi_service__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_restful_syncsev__ = __webpack_require__(112);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var HService = (function () {
    function HService(syncRestful, pgservice) {
        this.syncRestful = syncRestful;
        this.pgservice = pgservice;
        __WEBPACK_IMPORTED_MODULE_1_moment__["locale"]('zh-cn');
    }
    //更新每小时天气位置信息
    HService.prototype.putHourlyWeather = function (userId) {
        // this.syncRestful.putHourlyWeather(userId);
    };
    HService.prototype.centerShow = function (select) {
        return new Promise(function (resolve, reject) {
            var hdata = new __WEBPACK_IMPORTED_MODULE_2__data_mapping__["e" /* HData */]();
            hdata.selectDay = select;
            if (!select) {
                hdata.isShow = false;
            }
            else {
                hdata.isShow = true;
                //
                // this.pgservice.getHomDayData(moment(select.time)).then(data=>{
                //   hdata.showDay =  moment(data.sd).format('dddd MM月DD日');
                //   hdata.showDay2 = this.countDay(select.time);
                //   hdata.newmessge = data.news;
                //   hdata.things = data.scds;
                //   let bk:number = 0;
                //   for (let jt of data.jtL) {
                //     hdata.jtl.push(jt);
                //     if (bk > 2) break;
                //     bk++;
                //   }
                // });
            }
            resolve(hdata);
        });
    };
    /**
     * 显示选中日期对应类型
     * @param {string} day 格式（YYYY-MM-DD）
     * @returns {string}
     */
    HService.prototype.countDay = function (day) {
        var date = __WEBPACK_IMPORTED_MODULE_1_moment__(day);
        var str = '今天';
        var nowDate = __WEBPACK_IMPORTED_MODULE_1_moment__(__WEBPACK_IMPORTED_MODULE_1_moment__(new Date()).format("YYYY/MM/DD"));
        var days = date.diff(nowDate, 'days');
        var months = date.diff(nowDate, 'months');
        var years = date.diff(nowDate, 'years');
        if (years > 0) {
            str = years + '年后';
        }
        else if (years <= -1) {
            str = Math.abs(years) + '年前';
        }
        else if (months > 0) {
            str = months + '月后';
        }
        else if (months < 0) {
            str = Math.abs(months) + '月前';
        }
        else if (days == 0) {
            str = '今天';
        }
        else if (days == 1) {
            str = '明天';
        }
        else if (days == 2) {
            str = '后天';
        }
        else if (days >= 3) {
            str = days - 1 + '天后';
        }
        else if (days == -1) {
            str = '昨天';
        }
        else if (days == -2) {
            str = '前天';
        }
        else if (days <= -3) {
            str = Math.abs(days) - 1 + '天前';
        }
        return str;
    };
    HService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__service_restful_syncsev__["a" /* SyncRestful */],
            __WEBPACK_IMPORTED_MODULE_3__service_pagecom_pgbusi_service__["a" /* PgBusiService */]])
    ], HService);
    return HService;
}());

//# sourceMappingURL=h.service.js.map

/***/ }),
/* 544 */,
/* 545 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return JtTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/4/16
 */
var JtTbl = (function () {
    function JtTbl() {
        this.jti = "";
        this.si = "";
        this.ji = "";
        this.spn = "";
        this.sd = "";
        this.st = "";
        this.ed = "";
        this.et = "";
        this.px = 0;
        this.bz = "";
        this.fjt = ""; //附件类型 2019/6/17 增加
        this.fjn = ""; //附件名称/KEY 2019/6/17 增加
        this.fj = ""; //附件 2019/6/17 增加
        this.wtt = 0;
    }
    JtTbl.prototype.cT = function () {
        var sq = ' create table if not exists gtd_jt(jti varchar(50) primary key ,' +
            'si varchar(50)  ,ji varchar(50)  ,spn varchar(50)  ,sd varchar(20)' +
            ' ,st varchar(20)  ,ed varchar(20)  ,et varchar(20),px integer,bz varchar(50), ' +
            'fjt varchar(20), fjn varchar(20), fj varchar(50), ' +
            'wtt integer);';
        return sq;
    };
    JtTbl.prototype.upT = function () {
        var sq = '';
        if (this.jti != null && this.jti != "") {
            sq = sq + ', jti="' + this.jti + '"';
        }
        if (this.spn != null && this.spn != "") {
            sq = sq + ', spn="' + this.spn + '"';
        }
        if (this.sd != null && this.sd != "") {
            sq = sq + ', sd="' + this.sd + '"';
        }
        if (this.st != null && this.st != "") {
            sq = sq + ', st="' + this.st + '"';
        }
        if (this.ed != null && this.ed != "") {
            sq = sq + ', ed="' + this.ed + '"';
        }
        if (this.et != null && this.et != "") {
            sq = sq + ', et="' + this.et + '"';
        }
        if (this.ji != null && this.ji != "") {
            sq = sq + ', ji="' + this.ji + '"';
        }
        if (this.si != null && this.si != "") {
            sq = sq + ', si="' + this.si + '"';
        }
        if (this.bz != null && this.bz != "") {
            sq = sq + ', bz="' + this.bz + '"';
        }
        if (this.fjt != null && this.fjt != "") {
            sq = sq + ', fjt="' + this.fjt + '"';
        }
        if (this.fjn != null && this.fjn != "") {
            sq = sq + ', fjn="' + this.fjn + '"';
        }
        if (this.fj != null && this.fj != "") {
            sq = sq + ', fj="' + this.fj + '"';
        }
        if (this.px != null) {
            sq = sq + ', px="' + this.px + '"';
        }
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = 'update gtd_jt set  ' + sq + ' where jti = "' + this.jti + '";';
        return sq;
    };
    JtTbl.prototype.dT = function () {
        var sq = 'delete from gtd_jt where 1=1 ';
        if (this.jti != null && this.jti != "") {
            sq = sq + 'and  jti ="' + this.jti + '"';
        }
        if (this.ji != null && this.ji != "") {
            sq = sq + 'and  ji ="' + this.ji + '"';
        }
        if (this.si != null && this.si != "") {
            sq = sq + 'and  si ="' + this.si + '"';
        }
        sq = sq + ';';
        return sq;
    };
    JtTbl.prototype.sloT = function () {
        var sq = 'select * from gtd_jt where jti = "' + this.jti + '";';
        return sq;
    };
    JtTbl.prototype.slT = function () {
        var sq = 'select * from  gtd_jt where  1=1 ';
        if (this.spn != null && this.spn != "") {
            sq = sq + ' and spn="' + this.spn + '"';
        }
        if (this.sd != null && this.sd != "") {
            sq = sq + ' and sd="' + this.sd + '"';
        }
        if (this.st != null && this.st != "") {
            sq = sq + ' and st="' + this.st + '"';
        }
        if (this.ed != null && this.ed != "") {
            sq = sq + ' and ed="' + this.ed + '"';
        }
        if (this.et != null && this.et != "") {
            sq = sq + ' and et="' + this.et + '"';
        }
        if (this.ji != null && this.ji != "") {
            sq = sq + ' and ji="' + this.ji + '"';
        }
        if (this.si != null && this.si != "") {
            sq = sq + ' and si="' + this.si + '"';
        }
        if (this.bz != null && this.bz != "") {
            sq = sq + ' and bz="' + this.bz + '"';
        }
        if (this.fjt != null && this.fjt != "") {
            sq = sq + ' and fjt="' + this.fjt + '"';
        }
        if (this.fjn != null && this.fjn != "") {
            sq = sq + ' and fjn="' + this.fjn + '"';
        }
        if (this.jti != null && this.jti != "") {
            sq = sq + ' and jti="' + this.jti + '"';
        }
        sq = sq + ';';
        return sq;
    };
    JtTbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_jt;';
        return sq;
    };
    JtTbl.prototype.inT = function () {
        var sq = 'insert into gtd_jt ' +
            '( jti ,si , ji ,spn ,sd ,st ,ed ,et ,px ,bz ,fjt ,fjn ,fj ,wtt) values("' + this.jti + '","' + this.si + '","' + this.ji + '","' + this.spn + '"' +
            ',"' + this.sd + '","' + this.st + '","' + this.ed + '","' + this.et + '",' + this.px + ',"' + this.bz + '","' + this.fjt + '","' + this.fjn + '","' + this.fj + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    JtTbl.prototype.rpT = function () {
        var sq = 'replace into gtd_jt ' +
            '( jti ,si ,ji ,spn ,sd ,st ,ed ,et ,px ,bz ,wtt) values("' + this.jti + '","' + this.si + '","' + this.ji + '","' + this.spn + '"' +
            ',"' + this.sd + '","' + this.st + '","' + this.ed + '","' + this.et + '",' + this.px + ',"' + this.bz + '","' + this.fjt + '","' + this.fjn + '","' + this.fj + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    JtTbl.prototype.preT = function () {
        var sq = 'insert into gtd_jt ' +
            '( jti ,si , ji ,spn ,sd ,st ,ed ,et ,px ,bz ,fjt ,fjn ,fj ,wtt) values(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    return JtTbl;
}());

//# sourceMappingURL=jt.tbl.js.map

/***/ }),
/* 546 */,
/* 547 */,
/* 548 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RemindService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sqlite_tbl_e_tbl__ = __webpack_require__(119);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config_data_config__ = __webpack_require__(9);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





;
/**
 * 闹铃数据处理
 */
var RemindService = (function () {
    function RemindService(sqlite) {
        this.sqlite = sqlite;
    }
    RemindService.prototype.getRemindLs = function () {
        var wd = __WEBPACK_IMPORTED_MODULE_3_moment__().format("YYYY/MM/DD");
        var wt = __WEBPACK_IMPORTED_MODULE_3_moment__().add(__WEBPACK_IMPORTED_MODULE_4__config_data_config__["a" /* DataConfig */].REINTERVAL, "s").format("HH:mm");
        var sql = 'select * from gtd_e where wd = "' + wd + '" and wt <= "' + wt + '";';
        return this.sqlite.getExtList(sql);
    };
    RemindService.prototype.delRemin = function (es) {
        return __awaiter(this, void 0, void 0, function () {
            var _i, es_1, e, et;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _i = 0, es_1 = es;
                        _a.label = 1;
                    case 1:
                        if (!(_i < es_1.length)) return [3 /*break*/, 4];
                        e = es_1[_i];
                        et = new __WEBPACK_IMPORTED_MODULE_1__sqlite_tbl_e_tbl__["a" /* ETbl */]();
                        et.wi = e.wi;
                        return [4 /*yield*/, this.sqlite.delete(et)];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3:
                        _i++;
                        return [3 /*break*/, 1];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    RemindService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__sqlite_exec__["a" /* SqliteExec */]])
    ], RemindService);
    return RemindService;
}());

//# sourceMappingURL=remind.service.js.map

/***/ }),
/* 549 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MkTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

var MkTbl = (function () {
    function MkTbl() {
        this.mkt = "default";
        this.wtt = 0;
    }
    MkTbl.prototype.cT = function () {
        var sq = " create table if not exists gtd_mk(  mki varchar(50) primary key ,si varchar(50)  ,mkl varchar(50)  ,mkt varchar(50)  ,wtt integer );";
        return sq;
    };
    MkTbl.prototype.upT = function () {
        var sq = '';
        if (this.mkl != null && this.mkl != "") {
            sq = sq + ', mkl="' + this.mkl + '"';
        }
        if (this.mkt != null && this.mkt != "") {
            sq = sq + ', mkt="' + this.mkt + '"';
        }
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = 'update gtd_mk set ' + sq + ' where mki = "' + this.mki + '";';
        return sq;
    };
    MkTbl.prototype.dT = function () {
        var sq = 'delete from gtd_mk where mki = "' + this.mki + '";';
        return sq;
    };
    MkTbl.prototype.sloT = function () {
        var sq = 'select * from gtd_mk where 1=1 ';
        if (this.mki != null && this.mki != "") {
            sq = sq + 'and  mki ="' + this.mki + '"';
        }
        if (this.si != null && this.si != "") {
            sq = sq + 'and  si ="' + this.si + '"';
        }
        sq = sq + ';';
        return sq;
    };
    MkTbl.prototype.slT = function () {
        var sq = 'select * from  gtd_mk where  1=1 ';
        if (this.mki != null && this.mki != "") {
            sq = sq + ' and mki="' + this.mki + '"';
        }
        if (this.si != null && this.si != "") {
            sq = sq + ' and si="' + this.si + '"';
        }
        if (this.mkt != null && this.mkt != "") {
            sq = sq + ' and mkt="' + this.mkt + '"';
        }
        sq = sq + ';';
        return sq;
    };
    MkTbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_mk;';
        return sq;
    };
    MkTbl.prototype.inT = function () {
        var sq = "insert into gtd_mk ( mki ,si ,mkl ,mkt ,wtt ) values( \"" + this.mki + "\",\"" + this.si + "\",\"" + this.mkl + "\", \"" + this.mkt + "\", " + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ");";
        return sq;
    };
    MkTbl.prototype.rpT = function () {
        var sq = "replace into gtd_mk (mki ,si ,mkl ,mkt ,wtt ) values( \"" + this.mki + "\",\"" + this.si + "\",\"" + this.mkl + "\", \"" + this.mkt + "\", " + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ");";
        return sq;
    };
    MkTbl.prototype.preT = function () {
        var sq = "insert into gtd_mk ( mki ,si ,mkl ,mkt ,wtt ) values(?, ?, ?, ?, " + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ");";
        return sq;
    };
    return MkTbl;
}());

//# sourceMappingURL=mk.tbl.js.map

/***/ }),
/* 550 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AipService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var AipService = (function () {
    function AipService() {
    }
    AipService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], AipService);
    return AipService;
}());

//# sourceMappingURL=aip.service.js.map

/***/ }),
/* 551 */,
/* 552 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TdlService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_business_calendar_service__ = __webpack_require__(30);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var TdlService = (function () {
    function TdlService(sqlExce, calendarService) {
        this.sqlExce = sqlExce;
        this.calendarService = calendarService;
    }
    TdlService.prototype.initLsData = function () {
        return this.calendarService.getCalendarActivities();
    };
    TdlService.prototype.throughData = function (direction) {
        return this.calendarService.getCalendarActivities(direction);
    };
    TdlService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_2__service_business_calendar_service__["a" /* CalendarService */]])
    ], TdlService);
    return TdlService;
}());

//# sourceMappingURL=tdl.service.js.map

/***/ }),
/* 553 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TestDataService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sqlite_tbl_b_tbl__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__sqlite_tbl_bh_tbl__ = __webpack_require__(145);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__sqlite_tbl_g_tbl__ = __webpack_require__(153);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_bx_tbl__ = __webpack_require__(154);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__business_event_service__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__data_enum__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__business_memo_service__ = __webpack_require__(85);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__business_calendar_service__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__util_service_util_service__ = __webpack_require__(4);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};













var TestDataService = (function () {
    function TestDataService(sqlExce, util, calendarService, eventService, memoService) {
        this.sqlExce = sqlExce;
        this.util = util;
        this.calendarService = calendarService;
        this.eventService = eventService;
        this.memoService = memoService;
    }
    TestDataService.prototype.prepareContacts = function () {
        return __awaiter(this, void 0, void 0, function () {
            var sqls, b, bh, g, bx, btbls, btbl, bhtbl, gtbl, bxtbl;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        sqls = new Array();
                        b = new __WEBPACK_IMPORTED_MODULE_1__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        return [4 /*yield*/, this.sqlExce.drop(b)];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.sqlExce.create(b)];
                    case 2:
                        _a.sent();
                        bh = new __WEBPACK_IMPORTED_MODULE_2__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        return [4 /*yield*/, this.sqlExce.drop(bh)];
                    case 3:
                        _a.sent();
                        return [4 /*yield*/, this.sqlExce.create(bh)];
                    case 4:
                        _a.sent();
                        g = new __WEBPACK_IMPORTED_MODULE_3__sqlite_tbl_g_tbl__["a" /* GTbl */]();
                        return [4 /*yield*/, this.sqlExce.drop(g)];
                    case 5:
                        _a.sent();
                        return [4 /*yield*/, this.sqlExce.create(g)];
                    case 6:
                        _a.sent();
                        bx = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_bx_tbl__["a" /* BxTbl */]();
                        return [4 /*yield*/, this.sqlExce.drop(bx)];
                    case 7:
                        _a.sent();
                        return [4 /*yield*/, this.sqlExce.create(bx)];
                    case 8:
                        _a.sent();
                        btbls = [];
                        btbl = new __WEBPACK_IMPORTED_MODULE_1__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_2__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        btbl.pwi = "xiaopangzi";
                        btbl.ran = '小胖子';
                        btbl.ranpy = 'xiaopangzi';
                        btbl.hiu = '';
                        btbl.rn = '张金洋';
                        btbl.rnpy = 'zhangjinyang';
                        btbl.rc = '15821947260';
                        btbl.rel = '1';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        btbls.push(btbl);
                        this.xiaopangzi = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_2__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        btbl = new __WEBPACK_IMPORTED_MODULE_1__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        btbl.pwi = "xiaohaizi";
                        btbl.ran = '小孩子';
                        btbl.ranpy = 'xiaohaizi';
                        btbl.hiu = '';
                        btbl.rn = '许赵平';
                        btbl.rnpy = 'xuzhaopin';
                        btbl.rc = '13661617252';
                        btbl.rel = '0';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        btbls.push(btbl);
                        this.xiaohaizi = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_2__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        btbl = new __WEBPACK_IMPORTED_MODULE_1__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        btbl.pwi = "liqiannan";
                        btbl.ran = '李倩男';
                        btbl.ranpy = 'liqiannan';
                        btbl.hiu = '';
                        btbl.rn = '李倩男';
                        btbl.rnpy = 'liqiannan';
                        btbl.rc = '18569990239';
                        btbl.rel = '0';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        btbls.push(btbl);
                        this.liqiannan = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_2__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        btbl = new __WEBPACK_IMPORTED_MODULE_1__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        btbl.pwi = "liying";
                        btbl.ran = '测试帐号';
                        btbl.ranpy = 'liying';
                        btbl.hiu = '';
                        btbl.rn = '测试人';
                        btbl.rnpy = 'liying';
                        btbl.rc = '13795398627';
                        btbl.rel = '0';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        btbls.push(btbl);
                        this.liying = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_2__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        btbl = new __WEBPACK_IMPORTED_MODULE_1__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        btbl.pwi = 'xiaolenzi';
                        btbl.ran = '小楞子';
                        btbl.ranpy = 'xiaolenzi';
                        btbl.hiu = '';
                        btbl.rn = '席理加';
                        btbl.rnpy = 'xilijia';
                        btbl.rc = '13585820972';
                        btbl.rel = '1';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        btbls.push(btbl);
                        this.xiaolenzi = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_2__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        btbl = new __WEBPACK_IMPORTED_MODULE_1__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        btbl.pwi = 'caoping';
                        btbl.ran = '草帽';
                        btbl.ranpy = '草帽';
                        btbl.hiu = '';
                        btbl.rn = '漕屏';
                        btbl.rnpy = 'caoping';
                        btbl.rc = '16670129762';
                        btbl.rel = '0';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        btbls.push(btbl);
                        this.caoping = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_2__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        btbl = new __WEBPACK_IMPORTED_MODULE_1__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        btbl.pwi = 'luojianfei';
                        btbl.ran = '飞飞飞';
                        btbl.ranpy = 'feifeifei';
                        btbl.hiu = '';
                        btbl.rn = '罗建飞';
                        btbl.rnpy = 'luojianfei';
                        btbl.rc = '13564242673';
                        btbl.rel = '1';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        btbls.push(btbl);
                        this.luojianfei = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_2__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        btbl = new __WEBPACK_IMPORTED_MODULE_1__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        btbl.pwi = 'huitailang';
                        btbl.ran = '灰太郎';
                        btbl.ranpy = 'huitailang';
                        btbl.hiu = '';
                        btbl.rn = '丁朝辉';
                        btbl.rnpy = 'dingchaohui';
                        btbl.rc = '15737921611';
                        btbl.rel = '1';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        btbls.push(btbl);
                        this.huitailang = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_2__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        btbl = new __WEBPACK_IMPORTED_MODULE_1__sqlite_tbl_b_tbl__["a" /* BTbl */]();
                        btbl.pwi = 'xuezhenyang';
                        btbl.ran = '牛牛';
                        btbl.ranpy = 'niuniu';
                        btbl.hiu = '';
                        btbl.rn = '薛震洋';
                        btbl.rnpy = 'xuezhenyang';
                        btbl.rc = '18602150145';
                        btbl.rel = '1';
                        btbl.ui = btbl.rc;
                        sqls.push(btbl.inT());
                        btbls.push(btbl);
                        this.xuezhenyang = btbl;
                        bhtbl = new __WEBPACK_IMPORTED_MODULE_2__sqlite_tbl_bh_tbl__["a" /* BhTbl */]();
                        bhtbl.bhi = this.util.getUuid();
                        bhtbl.pwi = btbl.pwi;
                        bhtbl.hiu = __WEBPACK_IMPORTED_MODULE_5__config_data_config__["a" /* DataConfig */].HUIBASE64;
                        sqls.push(bhtbl.inT());
                        gtbl = new __WEBPACK_IMPORTED_MODULE_3__sqlite_tbl_g_tbl__["a" /* GTbl */]();
                        gtbl.gi = this.util.getUuid();
                        gtbl.gn = '拼命三郎';
                        gtbl.gm = '拼命三郎';
                        gtbl.gnpy = 'pinmingsanlang';
                        sqls.push(gtbl.inT());
                        bxtbl = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_bx_tbl__["a" /* BxTbl */]();
                        bxtbl.bi = gtbl.gi;
                        bxtbl.bmi = btbls[0].pwi;
                        sqls.push(bxtbl.inT());
                        bxtbl = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_bx_tbl__["a" /* BxTbl */]();
                        bxtbl.bi = gtbl.gi;
                        bxtbl.bmi = btbls[1].pwi;
                        sqls.push(bxtbl.inT());
                        bxtbl = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_bx_tbl__["a" /* BxTbl */]();
                        bxtbl.bi = gtbl.gi;
                        bxtbl.bmi = btbls[3].pwi;
                        sqls.push(bxtbl.inT());
                        bxtbl = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_bx_tbl__["a" /* BxTbl */]();
                        bxtbl.bi = gtbl.gi;
                        bxtbl.bmi = btbls[5].pwi;
                        sqls.push(bxtbl.inT());
                        gtbl = new __WEBPACK_IMPORTED_MODULE_3__sqlite_tbl_g_tbl__["a" /* GTbl */]();
                        gtbl.gi = this.util.getUuid();
                        gtbl.gn = '合作二人组合';
                        gtbl.gm = '合作二人组合';
                        gtbl.gnpy = 'hezuoerrenzuhe';
                        sqls.push(gtbl.inT());
                        bxtbl = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_bx_tbl__["a" /* BxTbl */]();
                        bxtbl.bi = gtbl.gi;
                        bxtbl.bmi = btbls[2].pwi;
                        sqls.push(bxtbl.inT());
                        bxtbl = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_bx_tbl__["a" /* BxTbl */]();
                        bxtbl.bi = gtbl.gi;
                        bxtbl.bmi = btbls[4].pwi;
                        sqls.push(bxtbl.inT());
                        bxtbl = new __WEBPACK_IMPORTED_MODULE_4__sqlite_tbl_bx_tbl__["a" /* BxTbl */]();
                        bxtbl.bi = gtbl.gi;
                        bxtbl.bmi = btbls[5].pwi;
                        sqls.push(bxtbl.inT());
                        return [4 /*yield*/, this.sqlExce.batExecSql(sqls)];
                    case 9:
                        _a.sent();
                        return [2 /*return*/, btbls];
                }
            });
        });
    };
    ;
    TestDataService.prototype.createcal = function () {
        return __awaiter(this, void 0, void 0, function () {
            var day, end, timeranges, btbls, minitask, task, memo, r, repert, planitem1, plans, plan, _i, _a, contact, member, math1, math1rt, ss, i, start, r_1, t, jh_i, jh_id, r_i, c_r3, d, agendaData, repert_1;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        day = "2018/09/01";
                        end = "2022/01/18";
                        timeranges = [
                            ["08:20", "09:00"],
                            ["09:30", "10:15"],
                            ["10:25", "11:05"],
                            ["14:00", "14:40"],
                            ["14:50", "15:35"],
                            ["15:45", "16:25"]
                        ];
                        return [4 /*yield*/, this.prepareContacts()];
                    case 1:
                        btbls = _b.sent();
                        minitask = {};
                        minitask.evn = "结婚纪念日前给太太买礼物";
                        return [4 /*yield*/, this.eventService.saveMiniTask(minitask)];
                    case 2:
                        _b.sent();
                        task = {};
                        task.evn = "结婚纪念日前给太太买礼物";
                        task.todolist = __WEBPACK_IMPORTED_MODULE_7__data_enum__["D" /* ToDoListStatus */].On;
                        return [4 /*yield*/, this.eventService.saveTask(task)];
                    case 3:
                        _b.sent();
                        memo = {};
                        memo.mon = "结婚纪念日买了一块定制巧克力给太太, 太太很高兴";
                        return [4 /*yield*/, this.memoService.saveMemo(memo)];
                    case 4:
                        _b.sent();
                        r = this.util.randInt(-100, 100);
                        repert = new __WEBPACK_IMPORTED_MODULE_6__business_event_service__["c" /* RtJson */]();
                        planitem1 = {};
                        planitem1.sd = __WEBPACK_IMPORTED_MODULE_10_moment__().format("YYYY/MM/DD");
                        planitem1.jtn = "结婚纪念日";
                        planitem1.jtt = __WEBPACK_IMPORTED_MODULE_7__data_enum__["v" /* PlanItemType */].Activity;
                        return [4 /*yield*/, this.calendarService.savePlanItem(planitem1)];
                    case 5:
                        _b.sent();
                        // 日历项
                        planitem1 = {};
                        r = this.util.randInt(-100, 100);
                        planitem1.sd = __WEBPACK_IMPORTED_MODULE_10_moment__().add(r, 'd').format("YYYY/MM/DD");
                        planitem1.jtn = "小王的生日";
                        planitem1.jtt = __WEBPACK_IMPORTED_MODULE_7__data_enum__["v" /* PlanItemType */].Activity;
                        repert = new __WEBPACK_IMPORTED_MODULE_6__business_event_service__["c" /* RtJson */]();
                        repert.over.type = __WEBPACK_IMPORTED_MODULE_7__data_enum__["s" /* OverType */].fornever;
                        planitem1.rtjson = repert;
                        return [4 /*yield*/, this.calendarService.savePlanItem(planitem1)];
                    case 6:
                        _b.sent();
                        planitem1 = {};
                        r = this.util.randInt(-100, 100);
                        planitem1.sd = __WEBPACK_IMPORTED_MODULE_10_moment__().add(r, 'd').format("YYYY/MM/DD");
                        planitem1.jtn = "系统上线日";
                        planitem1.jtt = __WEBPACK_IMPORTED_MODULE_7__data_enum__["v" /* PlanItemType */].Activity;
                        repert = new __WEBPACK_IMPORTED_MODULE_6__business_event_service__["c" /* RtJson */]();
                        repert.over.type = __WEBPACK_IMPORTED_MODULE_7__data_enum__["s" /* OverType */].fornever;
                        planitem1.rtjson = repert;
                        return [4 /*yield*/, this.calendarService.savePlanItem(planitem1)];
                    case 7:
                        _b.sent();
                        planitem1 = {};
                        r = this.util.randInt(-100, 100);
                        planitem1.sd = __WEBPACK_IMPORTED_MODULE_10_moment__().add(r, 'd').format("YYYY/MM/DD");
                        planitem1.jtn = "特殊节日";
                        planitem1.jtt = __WEBPACK_IMPORTED_MODULE_7__data_enum__["v" /* PlanItemType */].Activity;
                        repert = new __WEBPACK_IMPORTED_MODULE_6__business_event_service__["c" /* RtJson */]();
                        repert.over.type = __WEBPACK_IMPORTED_MODULE_7__data_enum__["s" /* OverType */].fornever;
                        planitem1.rtjson = repert;
                        return [4 /*yield*/, this.calendarService.savePlanItem(planitem1)];
                    case 8:
                        _b.sent();
                        planitem1 = {};
                        r = this.util.randInt(-100, 100);
                        planitem1.sd = __WEBPACK_IMPORTED_MODULE_10_moment__().add(r, 'd').format("YYYY/MM/DD");
                        planitem1.jtn = "流浪地球纪念日";
                        planitem1.jtt = __WEBPACK_IMPORTED_MODULE_7__data_enum__["v" /* PlanItemType */].Activity;
                        repert = new __WEBPACK_IMPORTED_MODULE_6__business_event_service__["c" /* RtJson */]();
                        repert.over.type = __WEBPACK_IMPORTED_MODULE_7__data_enum__["s" /* OverType */].fornever;
                        planitem1.rtjson = repert;
                        return [4 /*yield*/, this.calendarService.savePlanItem(planitem1)];
                    case 9:
                        _b.sent();
                        plans = new Array();
                        plan = {};
                        plan.jn = '2018年第一学期 课程表';
                        plan.jc = '#ababab';
                        plan.jt = __WEBPACK_IMPORTED_MODULE_7__data_enum__["w" /* PlanType */].PrivatePlan;
                        plan.members = new Array();
                        for (_i = 0, _a = [this.xiaopangzi, this.xiaohaizi, this.xuezhenyang]; _i < _a.length; _i++) {
                            contact = _a[_i];
                            member = {};
                            member.pwi = contact.pwi;
                            member.ui = contact.ui;
                            plan.members.push(member);
                        }
                        return [4 /*yield*/, this.calendarService.savePlan(plan)];
                    case 10:
                        plan = _b.sent();
                        plans.push(plan);
                        math1 = {};
                        math1rt = new __WEBPACK_IMPORTED_MODULE_6__business_event_service__["c" /* RtJson */]();
                        math1rt.cycletype = __WEBPACK_IMPORTED_MODULE_7__data_enum__["c" /* CycleType */].week;
                        math1rt.openway.push(1);
                        math1rt.openway.push(5);
                        math1rt.over.type = __WEBPACK_IMPORTED_MODULE_7__data_enum__["s" /* OverType */].limitdate;
                        math1rt.over.value = end;
                        math1.ji = plan.ji;
                        math1.sd = day;
                        math1.al = __WEBPACK_IMPORTED_MODULE_7__data_enum__["m" /* IsWholeday */].StartSet;
                        math1.st = timeranges[0][0];
                        //math1.et = timeranges[0][1];
                        math1.ct = 40; // 持续40分钟
                        math1.evn = "数学";
                        math1.rtjson = math1rt;
                        math1.todolist = __WEBPACK_IMPORTED_MODULE_7__data_enum__["D" /* ToDoListStatus */].On;
                        return [4 /*yield*/, this.eventService.saveAgenda(math1)];
                    case 11:
                        _b.sent();
                        //计划
                        plan = {};
                        plan.jn = '2018年第一学期 课程表';
                        plan.jc = '#ababab';
                        plan.jt = __WEBPACK_IMPORTED_MODULE_7__data_enum__["w" /* PlanType */].PrivatePlan;
                        return [4 /*yield*/, this.calendarService.savePlan(plan)];
                    case 12:
                        plan = _b.sent();
                        plans.push(plan);
                        plan = {};
                        plan.jn = '冥王星计划';
                        plan.jc = '#735e46';
                        plan.jt = __WEBPACK_IMPORTED_MODULE_7__data_enum__["w" /* PlanType */].PrivatePlan;
                        return [4 /*yield*/, this.calendarService.savePlan(plan)];
                    case 13:
                        plan = _b.sent();
                        plans.push(plan);
                        plan = {};
                        plan.jn = '白沙计划';
                        plan.jc = '#876a29';
                        plan.jt = __WEBPACK_IMPORTED_MODULE_7__data_enum__["w" /* PlanType */].PrivatePlan;
                        return [4 /*yield*/, this.calendarService.savePlan(plan)];
                    case 14:
                        plan = _b.sent();
                        plans.push(plan);
                        plan = {};
                        plan.jn = '戒烟计划';
                        plan.jc = '#cf4425';
                        plan.jt = __WEBPACK_IMPORTED_MODULE_7__data_enum__["w" /* PlanType */].PrivatePlan;
                        return [4 /*yield*/, this.calendarService.savePlan(plan)];
                    case 15:
                        plan = _b.sent();
                        plans.push(plan);
                        plan = {};
                        plan.jn = '老大养成计划';
                        plan.jc = '#af2b24';
                        plan.jt = __WEBPACK_IMPORTED_MODULE_7__data_enum__["w" /* PlanType */].PrivatePlan;
                        return [4 /*yield*/, this.calendarService.savePlan(plan)];
                    case 16:
                        plan = _b.sent();
                        plans.push(plan);
                        plan = {};
                        plan.jn = '西班牙旅游';
                        plan.jc = '#ad837d';
                        plan.jt = __WEBPACK_IMPORTED_MODULE_7__data_enum__["w" /* PlanType */].PrivatePlan;
                        return [4 /*yield*/, this.calendarService.savePlan(plan)];
                    case 17:
                        plan = _b.sent();
                        plans.push(plan);
                        plan = {};
                        plan.jn = '职场进级';
                        plan.jc = '#c077db';
                        plan.jt = __WEBPACK_IMPORTED_MODULE_7__data_enum__["w" /* PlanType */].PrivatePlan;
                        return [4 /*yield*/, this.calendarService.savePlan(plan)];
                    case 18:
                        plan = _b.sent();
                        plans.push(plan);
                        plan = {};
                        plan.jn = '大学4年';
                        plan.jc = '#453b93';
                        plan.jt = __WEBPACK_IMPORTED_MODULE_7__data_enum__["w" /* PlanType */].PrivatePlan;
                        return [4 /*yield*/, this.calendarService.savePlan(plan)];
                    case 19:
                        plan = _b.sent();
                        plans.push(plan);
                        plan = {};
                        plan.jn = '你是我的初恋';
                        plan.jc = '#51aaf2';
                        plan.jt = __WEBPACK_IMPORTED_MODULE_7__data_enum__["w" /* PlanType */].PrivatePlan;
                        return [4 /*yield*/, this.calendarService.savePlan(plan)];
                    case 20:
                        plan = _b.sent();
                        plans.push(plan);
                        plan = {};
                        plan.jn = '做过的那些傻事';
                        plan.jc = '#35919c';
                        plan.jt = __WEBPACK_IMPORTED_MODULE_7__data_enum__["w" /* PlanType */].PrivatePlan;
                        return [4 /*yield*/, this.calendarService.savePlan(plan)];
                    case 21:
                        plan = _b.sent();
                        plans.push(plan);
                        plan = {};
                        plan.jn = '被你虐待的日子，幸福着痛苦着';
                        plan.jc = '#308158';
                        plan.jt = __WEBPACK_IMPORTED_MODULE_7__data_enum__["w" /* PlanType */].PrivatePlan;
                        return [4 /*yield*/, this.calendarService.savePlan(plan)];
                    case 22:
                        plan = _b.sent();
                        plans.push(plan);
                        plan = {};
                        plan.jn = '长AAABBBBVVVVDDDDDDDAAABBBBVVVVDDDDDDD';
                        plan.jc = '#308158';
                        return [4 /*yield*/, this.calendarService.savePlan(plan)];
                    case 23:
                        plan = _b.sent();
                        plans.push(plan);
                        ss = [];
                        ss.push("跑步");
                        ss.push("飞机--北京");
                        ss.push("飞机--大阪");
                        ss.push("飞机--毛里求斯");
                        ss.push("经营会议");
                        ss.push("经营会议");
                        ss.push("一起吃饭");
                        ;
                        ss.push("关于日程的讨论会，没有什么事情的话，都必须要参加的");
                        ss.push("未来过去和现在，都可以预测的");
                        ss.push("你希望你是一个人，其实你的前生已近出卖了你的今天，你还是一个人吗");
                        ss.push("EMBA课程--金鹰是如何炼成的");
                        ss.push("节前5000元");
                        ss.push("thanks i am thanks.thanks i am thanks.thanks i am thanks.thanks i am thanks.thanks i am thanks.thanks i am thanks.");
                        i = 0;
                        _b.label = 24;
                    case 24:
                        if (!(i < 10)) return [3 /*break*/, 27];
                        start = __WEBPACK_IMPORTED_MODULE_10_moment__('2019/09/01');
                        r_1 = this.util.randInt(-100, 100);
                        t = this.util.randInt(0, 24);
                        jh_i = this.util.randInt(0, 20);
                        jh_id = "";
                        r_i = this.util.randInt(0, 7);
                        c_r3 = this.util.randInt(-10, 4);
                        if (jh_i < 10) {
                            jh_id = plans[jh_i].ji;
                        }
                        d = start.add(r_1, 'd').add(t, 'h');
                        agendaData = {};
                        repert_1 = new __WEBPACK_IMPORTED_MODULE_6__business_event_service__["c" /* RtJson */]();
                        if (c_r3 == 1) {
                            repert_1.cycletype = __WEBPACK_IMPORTED_MODULE_7__data_enum__["c" /* CycleType */].day;
                            repert_1.over.type = __WEBPACK_IMPORTED_MODULE_7__data_enum__["s" /* OverType */].fornever;
                        }
                        else if (c_r3 == 2) {
                            repert_1.cycletype = __WEBPACK_IMPORTED_MODULE_7__data_enum__["c" /* CycleType */].week;
                            repert_1.over.type = __WEBPACK_IMPORTED_MODULE_7__data_enum__["s" /* OverType */].fornever;
                        }
                        else if (c_r3 == 3) {
                            repert_1.cycletype = __WEBPACK_IMPORTED_MODULE_7__data_enum__["c" /* CycleType */].month;
                            repert_1.over.type = __WEBPACK_IMPORTED_MODULE_7__data_enum__["s" /* OverType */].fornever;
                        }
                        else if (c_r3 == 4) {
                            repert_1.cycletype = __WEBPACK_IMPORTED_MODULE_7__data_enum__["c" /* CycleType */].year;
                            repert_1.over.type = __WEBPACK_IMPORTED_MODULE_7__data_enum__["s" /* OverType */].fornever;
                        }
                        else {
                            repert_1.cycletype = __WEBPACK_IMPORTED_MODULE_7__data_enum__["c" /* CycleType */].close;
                        }
                        agendaData.ji = jh_id;
                        agendaData.sd = d.format('YYYY/MM/DD');
                        ;
                        agendaData.al = __WEBPACK_IMPORTED_MODULE_7__data_enum__["m" /* IsWholeday */].StartSet;
                        agendaData.st = d.format('HH:mm');
                        agendaData.ct = 40; // 持续40分钟
                        agendaData.evn = ss[r_i];
                        agendaData.rtjson = repert_1;
                        agendaData.todolist = __WEBPACK_IMPORTED_MODULE_7__data_enum__["D" /* ToDoListStatus */].On;
                        return [4 /*yield*/, this.eventService.saveAgenda(agendaData)];
                    case 25:
                        _b.sent();
                        _b.label = 26;
                    case 26:
                        i++;
                        return [3 /*break*/, 24];
                    case 27: 
                    // 下载公共日历
                    return [4 /*yield*/, this.calendarService.downloadPublicPlan("shanghai_animation_exhibition_2019", __WEBPACK_IMPORTED_MODULE_7__data_enum__["w" /* PlanType */].ActivityPlan)];
                    case 28:
                        // 下载公共日历
                        _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    TestDataService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_11__util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_12__util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_9__business_calendar_service__["a" /* CalendarService */],
            __WEBPACK_IMPORTED_MODULE_6__business_event_service__["b" /* EventService */],
            __WEBPACK_IMPORTED_MODULE_8__business_memo_service__["a" /* MemoService */]])
    ], TestDataService);
    return TestDataService;
}());

//# sourceMappingURL=testData.service.js.map

/***/ }),
/* 554 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LpPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lp_service__ = __webpack_require__(252);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_business_effect_service__ = __webpack_require__(163);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__data_mapping__ = __webpack_require__(20);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






/**
 * Generated class for the 登陆（密码） page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var LpPage = (function () {
    function LpPage(navCtrl, util, effectService, lpService) {
        this.navCtrl = navCtrl;
        this.util = util;
        this.effectService = effectService;
        this.lpService = lpService;
        this.statusBarColor = "#fff";
        this.login = new __WEBPACK_IMPORTED_MODULE_5__data_mapping__["i" /* PageLoginData */]();
        this.opa = "0.4";
    }
    LpPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad LpPage');
    };
    LpPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    LpPage.prototype.userAgreement = function () {
        this.navCtrl.push('PPage');
    };
    LpPage.prototype.toPf = function () {
        this.navCtrl.push('PfPage');
    };
    LpPage.prototype.toR = function () {
        this.navCtrl.push('RPage');
    };
    LpPage.prototype.toLs = function () {
        this.navCtrl.push('LsPage');
    };
    LpPage.prototype.signIn = function () {
        var _this = this;
        if (this.checkPhone()) {
            if (this.login.userpassword == null || this.login.userpassword == "") {
                this.util.popoverStart("密码不能为空");
            }
            else {
                this.util.loadingStart();
                this.lpService.login(this.login).then(function (data) {
                    if (!data || data.code != 0)
                        throw data;
                    return _this.lpService.getPersonMessage(data);
                }).then(function (data) {
                    if (data == "-1")
                        throw data;
                    return _this.lpService.getOther();
                }).then(function (data) {
                    // 拉取完整同步数据
                    _this.effectService.syncInitial();
                    _this.util.loadingEnd();
                    _this.navCtrl.setRoot('MPage');
                }).catch(function (error) {
                    _this.util.loadingEnd();
                    if (error && error.code && error.message != undefined && error.message != null && error.message != "") {
                        console.log(error.message);
                        _this.util.toastStart(error.message, 1500);
                    }
                    else {
                        console.log("手机密码登录失败");
                        _this.util.toastStart("网络异常", 1500);
                    }
                });
            }
        }
    };
    LpPage.prototype.checkPhone = function () {
        if (!this.util.checkPhone(this.login.phoneno)) {
            this.util.popoverStart("请填写正确的手机号");
        }
        return this.util.checkPhone(this.login.phoneno);
    };
    LpPage.prototype.format = function () {
        if (this.login.phoneno.length == 11) {
            if (this.checkPhone() && this.login.userpassword != "" && this.login.userpassword.length >= 4) {
                this.opa = "1";
            }
            else {
                this.opa = "0.4";
            }
        }
    };
    LpPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-lp',
            template: "\n  <ion-content>\n    <h1>\u8D26\u53F7\u767B\u5F55</h1>\n    <ion-grid class=\"grid-login-basic no-padding-lr\">\n      <ion-row justify-content-start align-items-center>\n        <div class=\"w-auto\">\n          <ion-input class=\"login-tel\" type=\"tel\" placeholder=\"\u5F00\u59CB\u8F93\u5165\u8D26\u53F7\" [(ngModel)]=\"login.phoneno\" (input)=\"format()\"></ion-input>\n        </div>\n      </ion-row>\n      <ion-row justify-content-between align-items-center>\n        <div class=\"w-auto\">\n          <ion-input class=\"login-pwd\" type=\"password\" placeholder=\"\u5BC6\u7801\" [(ngModel)]=\"login.userpassword\" (input)=\"format()\"></ion-input>\n        </div>\n       <div>\n         <button ion-fab class=\"login-enter\" [ngStyle]=\"{'opacity': opa }\" (click)=\"signIn()\">\n           <ion-icon class=\"fal fa-sign-in-alt\"></ion-icon>\n         </button>\n       </div>\n      </ion-row>\n    </ion-grid>\n\n    <div class=\"login-div\" (click)=\"toPf()\">\u5FD8\u8BB0\u5BC6\u7801?</div>\n    <div class=\"login-div\" (click)=\"toLs()\">\u6539\u4E3A\u7528\u77ED\u4FE1\u767B\u5F55</div>\n    <div class=\"login-div\" (click)=\"toR()\">\u6CA1\u6709\u8D26\u53F7\uFF0C\u7ACB\u5373\u6CE8\u518C</div>\n\n    <p class=\"text-agreement\">\u521B\u5EFA\u5E10\u6237\u5373\u8868\u793A\u60A8\u540C\u610F\u6211\u4EEC\u7684 <a class=\"text-anchor\" (click)=\"userAgreement()\">\u670D\u52A1\u6761\u6B3E</a> \u548C <a class=\"text-anchor\" (click)=\"userAgreement()\">\u9690\u79C1\u653F\u7B56</a> \u3002</p>\n  </ion-content>"
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_4__service_business_effect_service__["a" /* EffectService */],
            __WEBPACK_IMPORTED_MODULE_2__lp_service__["a" /* LpService */]])
    ], LpPage);
    return LpPage;
}());

//# sourceMappingURL=lp.js.map

/***/ }),
/* 555 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DispatchService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__process_factory__ = __webpack_require__(556);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_sqlite_tbl_log_tbl__ = __webpack_require__(104);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_util_service_sqlite_exec__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







/**
 * 消息处理分发
 *
 * create by wzy on 2018/11/30.
 */
var DispatchService = (function () {
    function DispatchService(factory, util, sqlite) {
        this.factory = factory;
        this.util = util;
        this.sqlite = sqlite;
    }
    DispatchService.prototype.dispatch = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var log, model, currenttime, serverratio, contextRetMap, starttime, i, len, opt, wsContent, e_1, steptime;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        //消息格式化
                        console.log("******************dispatch  message:" + message);
                        log = new __WEBPACK_IMPORTED_MODULE_4__service_sqlite_tbl_log_tbl__["a" /* LogTbl */]();
                        log.id = this.util.getUuid();
                        log.su = message;
                        log.ss = new Date().valueOf();
                        log.t = 2;
                        model = JSON.parse(message);
                        currenttime = __WEBPACK_IMPORTED_MODULE_2_moment__().valueOf();
                        if (model && model.context && model.context.client && model.context.client.time) {
                            serverratio = currenttime - model.context.client.time;
                            model.context.client['serverratio'] = serverratio;
                            model.context.client.time = currenttime;
                        }
                        if (model.context && model.context.server)
                            __WEBPACK_IMPORTED_MODULE_3__service_config_data_config__["a" /* DataConfig */].wsServerContext = model.context.server;
                        contextRetMap = new Map();
                        starttime = currenttime;
                        i = 0, len = model.header.describe.length;
                        _a.label = 1;
                    case 1:
                        if (!(i < len)) return [3 /*break*/, 7];
                        opt = model.header.describe[i];
                        wsContent = model.content[i];
                        //保存上下文
                        wsContent.thisContext = model;
                        console.log("******************dispatch  process: " + opt);
                        _a.label = 2;
                    case 2:
                        _a.trys.push([2, 4, 5, 6]);
                        return [4 /*yield*/, this.factory.getProcess(opt).gowhen(wsContent, contextRetMap)];
                    case 3:
                        contextRetMap = _a.sent();
                        return [3 /*break*/, 6];
                    case 4:
                        e_1 = _a.sent();
                        console.log('\r\n', e_1, '\r\n', e_1.stack);
                        return [3 /*break*/, 7];
                    case 5:
                        //存在客户端上下文的情况下
                        if (model && model.context && model.context.client && model.context.client.ratios) {
                            steptime = __WEBPACK_IMPORTED_MODULE_2_moment__().valueOf();
                            model.context.client.ratios.push({ operation: opt, ratio: (steptime - starttime) });
                            starttime = steptime;
                        }
                        return [7 /*endfinally*/];
                    case 6:
                        i++;
                        return [3 /*break*/, 1];
                    case 7:
                        log.ss = new Date().valueOf() - log.ss;
                        log.st = true;
                        this.sqlite.noteLog(log);
                        return [2 /*return*/];
                }
            });
        });
    };
    DispatchService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__process_factory__["a" /* ProcessFactory */], __WEBPACK_IMPORTED_MODULE_5__service_util_service_util_service__["a" /* UtilService */], __WEBPACK_IMPORTED_MODULE_6__service_util_service_sqlite_exec__["a" /* SqliteExec */]])
    ], DispatchService);
    return DispatchService;
}());

//# sourceMappingURL=dispatch.service.js.map

/***/ }),
/* 556 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProcessFactory; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__process_cudscd_process__ = __webpack_require__(557);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__process_remind_process__ = __webpack_require__(559);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__process_third_process__ = __webpack_require__(560);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__process_speech_process__ = __webpack_require__(561);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__process_default_process__ = __webpack_require__(254);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__process_find_process__ = __webpack_require__(562);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__process_option_process__ = __webpack_require__(563);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__process_context_process__ = __webpack_require__(565);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__process_receive_process__ = __webpack_require__(566);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__process_setting_process__ = __webpack_require__(567);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__process_agendas_process__ = __webpack_require__(255);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__process_markup_process__ = __webpack_require__(568);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__process_notification_process__ = __webpack_require__(569);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__process_specialdata_process__ = __webpack_require__(570);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__process_datasync_process__ = __webpack_require__(571);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
















/**
 * webSocket公用处理方法
 *
 * create by wzy on 2018/11/30.
 */
var ProcessFactory = (function () {
    function ProcessFactory(cudscdProcess, remindProcess, speechProcess, thirdProcess, defaultProcess, findProcess, optionProcess, contextProcess, receiveProcess, settingProcess, agendasProcess, markupProcess, datasyncProcess, specialDataProcess, notificationProcess) {
        this.cudscdProcess = cudscdProcess;
        this.remindProcess = remindProcess;
        this.speechProcess = speechProcess;
        this.thirdProcess = thirdProcess;
        this.defaultProcess = defaultProcess;
        this.findProcess = findProcess;
        this.optionProcess = optionProcess;
        this.contextProcess = contextProcess;
        this.receiveProcess = receiveProcess;
        this.settingProcess = settingProcess;
        this.agendasProcess = agendasProcess;
        this.markupProcess = markupProcess;
        this.datasyncProcess = datasyncProcess;
        this.specialDataProcess = specialDataProcess;
        this.notificationProcess = notificationProcess;
        this.factory = new Map();
        this.factory.set("S", this.speechProcess);
        this.factory.set("F", this.findProcess);
        this.factory.set("SS", this.cudscdProcess);
        this.factory.set("R", this.remindProcess);
        this.factory.set("T", this.thirdProcess);
        this.factory.set("O", this.optionProcess);
        this.factory.set("SC", this.contextProcess);
        this.factory.set("SH", this.receiveProcess);
        this.factory.set("SY", this.settingProcess);
        this.factory.set("AG", this.agendasProcess);
        this.factory.set("MK", this.markupProcess);
        this.factory.set("SD", this.specialDataProcess);
        this.factory.set("PN", this.notificationProcess);
        this.factory.set("DS", this.datasyncProcess);
    }
    ProcessFactory.prototype.getProcess = function (processKey) {
        var process = this.factory.get(processKey);
        if (process == null)
            return this.defaultProcess;
        return process;
    };
    ProcessFactory = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__process_cudscd_process__["a" /* CudscdProcess */],
            __WEBPACK_IMPORTED_MODULE_2__process_remind_process__["a" /* RemindProcess */],
            __WEBPACK_IMPORTED_MODULE_4__process_speech_process__["a" /* SpeechProcess */],
            __WEBPACK_IMPORTED_MODULE_3__process_third_process__["a" /* ThirdProcess */],
            __WEBPACK_IMPORTED_MODULE_5__process_default_process__["a" /* DefaultProcess */],
            __WEBPACK_IMPORTED_MODULE_6__process_find_process__["a" /* FindProcess */],
            __WEBPACK_IMPORTED_MODULE_7__process_option_process__["a" /* OptionProcess */],
            __WEBPACK_IMPORTED_MODULE_8__process_context_process__["a" /* ContextProcess */],
            __WEBPACK_IMPORTED_MODULE_9__process_receive_process__["a" /* ReceiveProcess */],
            __WEBPACK_IMPORTED_MODULE_10__process_setting_process__["a" /* SettingProcess */],
            __WEBPACK_IMPORTED_MODULE_11__process_agendas_process__["a" /* AgendasProcess */],
            __WEBPACK_IMPORTED_MODULE_12__process_markup_process__["a" /* MarkupProcess */],
            __WEBPACK_IMPORTED_MODULE_15__process_datasync_process__["a" /* DataSyncProcess */],
            __WEBPACK_IMPORTED_MODULE_14__process_specialdata_process__["a" /* SpecialDataProcess */],
            __WEBPACK_IMPORTED_MODULE_13__process_notification_process__["a" /* NotificationProcess */]])
    ], ProcessFactory);
    return ProcessFactory;
}());

//# sourceMappingURL=process.factory.js.map

/***/ }),
/* 557 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CudscdProcess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__model_proces_rs__ = __webpack_require__(558);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__wsdata_config__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__base_process__ = __webpack_require__(54);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





/**
 * 日历修改处理
 *
 * create by zhangjy on 2019/03/28.
 */
var CudscdProcess = (function (_super) {
    __extends(CudscdProcess, _super);
    function CudscdProcess() {
        return _super.call(this) || this;
    }
    CudscdProcess.prototype.gowhen = function (content, contextRetMap) {
        return __awaiter(this, void 0, void 0, function () {
            var option, processor, scd, fs, rf, fun, prv;
            return __generator(this, function (_a) {
                option = contextRetMap.get(__WEBPACK_IMPORTED_MODULE_3__wsdata_config__["a" /* WsDataConfig */].OPTION4SPEECH);
                processor = contextRetMap.get(__WEBPACK_IMPORTED_MODULE_3__wsdata_config__["a" /* WsDataConfig */].PROCESSOR4SPEECH);
                scd = new Array();
                scd = this.input(content, contextRetMap, "agendas", __WEBPACK_IMPORTED_MODULE_3__wsdata_config__["a" /* WsDataConfig */].SCD, scd);
                fs = new Array();
                fs = this.input(content, contextRetMap, "contacts", __WEBPACK_IMPORTED_MODULE_3__wsdata_config__["a" /* WsDataConfig */].FS, fs);
                //process处理符合条件则执行
                if (content.when && content.when != "") {
                    rf = false;
                    try {
                        fun = eval("(" + content.when + ")");
                        rf = fun(content, scd, fs);
                    }
                    catch (e) {
                        rf = false;
                    }
                    if (!rf) {
                        return [2 /*return*/, contextRetMap];
                    }
                }
                prv = new __WEBPACK_IMPORTED_MODULE_1__model_proces_rs__["a" /* ProcesRs */]();
                //保存上下文
                prv.scd = scd;
                prv.fs = fs;
                __WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].putWsContext(prv);
                __WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].putWsOpt(option ? option : "");
                __WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].putWsProcessor(processor ? processor : "");
                //上下文内放置创建的或修改的日程
                this.output(content, contextRetMap, 'agendas', __WEBPACK_IMPORTED_MODULE_3__wsdata_config__["a" /* WsDataConfig */].SCD, prv.scd);
                //上下文内放置创建的或修改的日程联系人
                this.output(content, contextRetMap, 'contacts', __WEBPACK_IMPORTED_MODULE_3__wsdata_config__["a" /* WsDataConfig */].FS, prv.fs);
                return [2 /*return*/, contextRetMap];
            });
        });
    };
    CudscdProcess = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], CudscdProcess);
    return CudscdProcess;
}(__WEBPACK_IMPORTED_MODULE_4__base_process__["a" /* BaseProcess */]));

//# sourceMappingURL=cudscd.process.js.map

/***/ }),
/* 558 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProcesRs; });
var ProcesRs = (function () {
    function ProcesRs() {
        //参与人
        this.fs = [];
        //日程
        this.scd = [];
        this.option4Speech = "";
    }
    return ProcesRs;
}());

//# sourceMappingURL=proces.rs.js.map

/***/ }),
/* 559 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RemindProcess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__model_ws_enum__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_sqlite_tbl_e_tbl__ = __webpack_require__(119);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__wsdata_config__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__base_process__ = __webpack_require__(54);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








/**
 * 提醒设置
 *
 * create by zhangjy on 2019/03/14.
 */
var RemindProcess = (function (_super) {
    __extends(RemindProcess, _super);
    function RemindProcess(utitl, sqliteExec) {
        var _this = _super.call(this) || this;
        _this.utitl = utitl;
        _this.sqliteExec = sqliteExec;
        return _this;
    }
    RemindProcess.prototype.gowhen = function (content, contextRetMap) {
        return __awaiter(this, void 0, void 0, function () {
            var rf, fun, rdData, scd, rightnow, _i, scd_1, eachscd;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        //process处理符合条件则执行
                        if (content.when && content.when != "") {
                            rf = false;
                            try {
                                fun = eval("(" + content.when + ")");
                                rf = fun(content);
                            }
                            catch (e) {
                                rf = false;
                            }
                            ;
                            if (!rf) {
                                return [2 /*return*/, contextRetMap];
                            }
                        }
                        rdData = content.parameters;
                        scd = new Array();
                        scd = this.input(content, contextRetMap, "agendas", __WEBPACK_IMPORTED_MODULE_6__wsdata_config__["a" /* WsDataConfig */].SCD, scd);
                        if (!(content.option == __WEBPACK_IMPORTED_MODULE_1__model_ws_enum__["f" /* R */].N)) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.saveETbl1(rdData)];
                    case 1:
                        _a.sent();
                        return [3 /*break*/, 8];
                    case 2:
                        if (!(content.option == __WEBPACK_IMPORTED_MODULE_1__model_ws_enum__["f" /* R */].T)) return [3 /*break*/, 4];
                        rightnow = __WEBPACK_IMPORTED_MODULE_5_moment__();
                        if (rdData.h) {
                            rightnow.add(rdData.h, "hours");
                        }
                        if (rdData.m) {
                            rightnow.add(rdData.m, "minutes");
                        }
                        if (rdData.s) {
                            rightnow.add(rdData.s, "seconds");
                        }
                        rdData.d = rightnow.format("YYYY/MM/DD");
                        rdData.t = rightnow.format("HH:mm:ss");
                        return [4 /*yield*/, this.saveETbl1(rdData)];
                    case 3:
                        _a.sent();
                        return [3 /*break*/, 8];
                    case 4:
                        if (!(content.option == __WEBPACK_IMPORTED_MODULE_1__model_ws_enum__["f" /* R */].C)) return [3 /*break*/, 8];
                        if (!(scd != null && scd.length > 0)) return [3 /*break*/, 8];
                        _i = 0, scd_1 = scd;
                        _a.label = 5;
                    case 5:
                        if (!(_i < scd_1.length)) return [3 /*break*/, 8];
                        eachscd = scd_1[_i];
                        return [4 /*yield*/, this.saveETbl2(rdData, eachscd)];
                    case 6:
                        _a.sent();
                        _a.label = 7;
                    case 7:
                        _i++;
                        return [3 /*break*/, 5];
                    case 8: return [2 /*return*/, contextRetMap];
                }
            });
        });
    };
    //保存提醒表无日程管理
    RemindProcess.prototype.saveETbl1 = function (rdData) {
        return __awaiter(this, void 0, void 0, function () {
            var etbl;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        etbl = new __WEBPACK_IMPORTED_MODULE_2__service_sqlite_tbl_e_tbl__["a" /* ETbl */]();
                        etbl.wi = this.utitl.getUuid();
                        etbl.st = "闹铃";
                        etbl.wd = rdData.d;
                        etbl.wt = rdData.t;
                        return [4 /*yield*/, this.sqliteExec.save(etbl)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    //保存提醒表管理日程
    RemindProcess.prototype.saveETbl2 = function (rdData, c) {
        return __awaiter(this, void 0, void 0, function () {
            var etbl, tmp;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        etbl = new __WEBPACK_IMPORTED_MODULE_2__service_sqlite_tbl_e_tbl__["a" /* ETbl */]();
                        etbl.wi = this.utitl.getUuid();
                        etbl.si = c.si;
                        etbl.st = c.sn;
                        etbl.wd = rdData.d;
                        etbl.wt = rdData.t;
                        return [4 /*yield*/, this.sqliteExec.delete(etbl)];
                    case 1:
                        _a.sent();
                        //提前延后时间设置
                        if (rdData.s != null) {
                            tmp = __WEBPACK_IMPORTED_MODULE_5_moment__(c.sd + "T" + c.st).add(parseInt(rdData.s), 'h');
                            etbl.wd = tmp.format("YYYY/MM/DD");
                            etbl.wt = tmp.format("HH:mm");
                        }
                        return [4 /*yield*/, this.sqliteExec.save(etbl)];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    RemindProcess = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_4__service_util_service_sqlite_exec__["a" /* SqliteExec */]])
    ], RemindProcess);
    return RemindProcess;
}(__WEBPACK_IMPORTED_MODULE_7__base_process__["a" /* BaseProcess */]));

//# sourceMappingURL=remind.process.js.map

/***/ }),
/* 560 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ThirdProcess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};

/**
 * webSocket公用处理方法
 *
 * create by wzy on 2018/11/30.
 */
var ThirdProcess = (function () {
    function ThirdProcess() {
    }
    ThirdProcess.prototype.gowhen = function (content, contextRetMap) {
        return __awaiter(this, void 0, void 0, function () {
            var rf, fun;
            return __generator(this, function (_a) {
                //process处理符合条件则执行
                if (content.when && content.when != "") {
                    rf = false;
                    try {
                        fun = eval("(" + content.when + ")");
                        rf = fun(content);
                    }
                    catch (e) {
                        rf = false;
                    }
                    ;
                    if (!rf) {
                        return [2 /*return*/, contextRetMap];
                    }
                }
                return [2 /*return*/, contextRetMap];
            });
        });
    };
    ThirdProcess = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], ThirdProcess);
    return ThirdProcess;
}());

//# sourceMappingURL=third.process.js.map

/***/ }),
/* 561 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SpeechProcess; });
/* unused harmony export isFuturefulltime */
/* unused harmony export isFutureparttime */
/* unused harmony export isfulltime */
/* unused harmony export isparttime */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_cordova_assistant_service__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_sqlite_tbl_su_tbl__ = __webpack_require__(253);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__model_ws_enum__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__wsdata_config__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__base_process__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__service_config_data_config__ = __webpack_require__(9);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};












/**
 * 播报类型处理
 *
 * create by wzy on 2018/11/30.
 */
var SpeechProcess = (function (_super) {
    __extends(SpeechProcess, _super);
    function SpeechProcess(assistant, sqliteExec, utilService, emitService) {
        var _this = _super.call(this) || this;
        _this.assistant = assistant;
        _this.sqliteExec = sqliteExec;
        _this.utilService = utilService;
        _this.emitService = emitService;
        return _this;
    }
    SpeechProcess.prototype.gowhen = function (content, contextRetMap) {
        var _this = this;
        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            var user, serverratio, ratios, currentratio, ti, spData, prvOpt, openListener, speakText, type, branchcode, branchtype, agendas, showagendas, contacts, sutbl, tfun, count, _i, _a, txt, expvalue, count, rf, fun, emspeech, cscdLS, _b, showagendas_1, scd, scdEm, scdEm, _c, _d, btbl, fri;
            return __generator(this, function (_e) {
                switch (_e.label) {
                    case 0:
                        user = __WEBPACK_IMPORTED_MODULE_8__service_config_user_config__["b" /* UserConfig */].user;
                        serverratio = content.thisContext.context.client.serverratio;
                        ratios = "";
                        if (content.thisContext.context.client.ratios && content.thisContext.context.client.ratios.length > 1) {
                            ratios = content.thisContext.context.client.ratios.reduce(function (accumulator, currentValue) {
                                if (accumulator && typeof accumulator != "object") {
                                    return accumulator + ", " + currentValue['operation'] + ": " + currentValue['ratio'];
                                }
                                else {
                                    return accumulator['operation'] + ": " + accumulator['ratio'] + ", " + currentValue['operation'] + ": " + currentValue['ratio'];
                                }
                            });
                        }
                        if (content.thisContext.context.client.ratios && content.thisContext.context.client.ratios.length == 1) {
                            currentratio = content.thisContext.context.client.ratios[0];
                            ratios = currentratio['operation'] + ": " + currentratio['ratio'];
                        }
                        ti = __WEBPACK_IMPORTED_MODULE_7_moment__().valueOf() - content.thisContext.context.client.time;
                        spData = content.parameters;
                        prvOpt = "";
                        openListener = false;
                        speakText = spData.an;
                        type = __WEBPACK_IMPORTED_MODULE_9__wsdata_config__["a" /* WsDataConfig */].TYPE_EMPTY;
                        branchcode = '';
                        branchtype = '';
                        agendas = new Array();
                        showagendas = new Array();
                        contacts = new Array();
                        sutbl = new __WEBPACK_IMPORTED_MODULE_2__service_sqlite_tbl_su_tbl__["a" /* SuTbl */]();
                        //获取上下文前处理分支代码 (由各处理自定义)
                        branchcode = this.input(content, contextRetMap, "branchcode", __WEBPACK_IMPORTED_MODULE_9__wsdata_config__["a" /* WsDataConfig */].BRANCHCODE, branchcode);
                        //获取上下文前处理分支类型 (由各处理自定义)
                        branchtype = this.input(content, contextRetMap, "branchtype", __WEBPACK_IMPORTED_MODULE_9__wsdata_config__["a" /* WsDataConfig */].BRANCHTYPE, branchtype);
                        if (!(content.option != __WEBPACK_IMPORTED_MODULE_6__model_ws_enum__["g" /* S */].AN)) return [3 /*break*/, 2];
                        //获取上下文内日程创建结果
                        agendas = this.input(content, contextRetMap, "agendas", __WEBPACK_IMPORTED_MODULE_9__wsdata_config__["a" /* WsDataConfig */].SCD, agendas);
                        //获取上下文内日程查询结果
                        showagendas = this.input(content, contextRetMap, "showagendas", __WEBPACK_IMPORTED_MODULE_9__wsdata_config__["a" /* WsDataConfig */].SCD, showagendas);
                        //获取上下文内人员信息
                        contacts = this.input(content, contextRetMap, "contacts", __WEBPACK_IMPORTED_MODULE_9__wsdata_config__["a" /* WsDataConfig */].FS, contacts);
                        //获取上下文前动作信息
                        prvOpt = this.input(content, contextRetMap, "prvoption", __WEBPACK_IMPORTED_MODULE_9__wsdata_config__["a" /* WsDataConfig */].PRVOPTION, prvOpt);
                        if (content.input && (content.input.type || content.input.type == "")) {
                            if (content.input.type == "") {
                                type = __WEBPACK_IMPORTED_MODULE_9__wsdata_config__["a" /* WsDataConfig */].TYPE_EMPTY;
                            }
                            else {
                                if (content.input.type.startsWith("function")) {
                                    try {
                                        tfun = eval("(" + content.input.type + ")");
                                        type = tfun(agendas, showagendas, prvOpt, user, branchtype, branchcode);
                                    }
                                    catch (e) {
                                        type = __WEBPACK_IMPORTED_MODULE_9__wsdata_config__["a" /* WsDataConfig */].TYPE_EMPTY;
                                    }
                                    ;
                                }
                                else {
                                    type = content.input.type;
                                }
                            }
                        }
                        else {
                            count = 0;
                            if (agendas) {
                                count = agendas.length;
                            }
                            if (count == 0)
                                type = __WEBPACK_IMPORTED_MODULE_9__wsdata_config__["a" /* WsDataConfig */].TYPE_NONE;
                            if (count == 1)
                                type = __WEBPACK_IMPORTED_MODULE_9__wsdata_config__["a" /* WsDataConfig */].TYPE_ONE;
                            if (count > 1)
                                type = __WEBPACK_IMPORTED_MODULE_9__wsdata_config__["a" /* WsDataConfig */].TYPE_MULTI;
                        }
                        if (!spData.t) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.assistant.getSpeakTextObject(spData.t, type)];
                    case 1:
                        //TODO 0的时候包含了不需要判断0的场合，需要区分出来
                        sutbl = _e.sent();
                        speakText = sutbl.suc;
                        openListener = (sutbl.sus == 'true' ? true : false);
                        //TODO 变量替换不全，当前用户UserConfig
                        if (content.input && content.input.textvariables) {
                            for (_i = 0, _a = content.input.textvariables; _i < _a.length; _i++) {
                                txt = _a[_i];
                                expvalue = "";
                                if (txt.value || txt.value == "") {
                                    expvalue = txt.value;
                                }
                                else if (txt.expression) {
                                    try {
                                        expvalue = eval(txt.expression);
                                    }
                                    catch (e) {
                                        expvalue = txt.default;
                                    }
                                    if (!expvalue) {
                                        expvalue = txt.default;
                                    }
                                }
                                else {
                                    expvalue = txt.default;
                                }
                                speakText = speakText.replace("{" + txt.name + "}", expvalue);
                            }
                        }
                        else {
                            if (agendas) {
                                count = agendas.length;
                                speakText = speakText.replace("{count}", count + "");
                            }
                        }
                        _e.label = 2;
                    case 2:
                        //process处理符合条件则执行
                        if (content.when && content.when != "") {
                            rf = false;
                            try {
                                fun = eval("(" + content.when + ")");
                                rf = fun(agendas, showagendas, contacts, branchtype, branchcode);
                            }
                            catch (e) {
                                rf = false;
                            }
                            ;
                            if (!rf) {
                                resolve(contextRetMap);
                                return [2 /*return*/];
                            }
                        }
                        emspeech = new __WEBPACK_IMPORTED_MODULE_5__service_util_service_emit_service__["e" /* SpeechEmData */]();
                        if (__WEBPACK_IMPORTED_MODULE_11__service_config_data_config__["a" /* DataConfig */].isdebug) {
                            if (ratios)
                                emspeech.an = speakText + " #" + serverratio + ", " + ti + "(" + ratios + ")" + "#";
                            else
                                emspeech.an = speakText + " #" + serverratio + ", " + ti + "#";
                        }
                        else {
                            emspeech.an = speakText;
                        }
                        emspeech.org = content.thisContext.original;
                        this.emitService.emitSpeech(emspeech);
                        //处理结果
                        resolve(contextRetMap);
                        this.assistant.speakText(speakText).then(function (data) {
                            // 播报后启动语音监听
                            if (openListener) {
                                _this.assistant.listenAudio();
                            }
                        });
                        // 多个日程操作显示
                        if (showagendas && showagendas.length > 1) {
                            cscdLS = new __WEBPACK_IMPORTED_MODULE_5__service_util_service_emit_service__["d" /* ScdLsEmData */]();
                            cscdLS.desc = speakText;
                            for (_b = 0, showagendas_1 = showagendas; _b < showagendas_1.length; _b++) {
                                scd = showagendas_1[_b];
                                scdEm = new __WEBPACK_IMPORTED_MODULE_5__service_util_service_emit_service__["c" /* ScdEmData */]();
                                scdEm.id = scd.si;
                                scdEm.d = scd.sd;
                                scdEm.t = scd.st;
                                scdEm.ti = scd.sn;
                                scdEm.gs = scd.gs;
                                cscdLS.datas.push(scdEm);
                            }
                            cscdLS.scdTip = sutbl.sut;
                            this.emitService.emitScdLs(cscdLS);
                        }
                        // 单个日程操作显示
                        if (showagendas && showagendas.length == 1) {
                            scdEm = new __WEBPACK_IMPORTED_MODULE_5__service_util_service_emit_service__["c" /* ScdEmData */]();
                            scdEm.id = showagendas[0].si;
                            scdEm.d = showagendas[0].sd;
                            scdEm.t = showagendas[0].st;
                            scdEm.ti = showagendas[0].sn;
                            scdEm.gs = showagendas[0].gs;
                            scdEm.scdTip = sutbl.sut;
                            for (_c = 0, _d = showagendas[0].fss; _c < _d.length; _c++) {
                                btbl = _d[_c];
                                fri = new __WEBPACK_IMPORTED_MODULE_5__service_util_service_emit_service__["b" /* FriendEmData */]();
                                fri.id = btbl.pwi;
                                fri.p = btbl.ranpy;
                                fri.m = btbl.rc;
                                fri.a = btbl.bhiu;
                                fri.n = btbl.ran;
                                fri.uid = btbl.ui;
                                scdEm.datas.push(fri);
                            }
                            this.emitService.emitScd(scdEm);
                        }
                        return [2 /*return*/];
                }
            });
        }); });
    };
    SpeechProcess = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_cordova_assistant_service__["a" /* AssistantService */],
            __WEBPACK_IMPORTED_MODULE_3__service_util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__["a" /* UtilService */], __WEBPACK_IMPORTED_MODULE_5__service_util_service_emit_service__["a" /* EmitService */]])
    ], SpeechProcess);
    return SpeechProcess;
}(__WEBPACK_IMPORTED_MODULE_10__base_process__["a" /* BaseProcess */]));

function isFuturefulltime(agendas) {
    if (agendas && agendas.length > 1) {
        return true;
    }
    else {
        return false;
    }
}
function isFutureparttime(agendas) {
    if (agendas && agendas.length == 1) {
        return true;
    }
    else {
        return false;
    }
}
function isfulltime(agendas) {
    if (agendas && agendas.length > 1) {
        var mytime = [];
        for (var _i = 0, agendas_1 = agendas; _i < agendas_1.length; _i++) {
            var scd = agendas_1[_i];
            var st = scd.st;
            var st1 = st.split(":");
            if (mytime.indexOf(st1[0]) == -1) {
                mytime.push(st1[0]);
            }
        }
        if (mytime.length == 24) {
            return true;
        }
        else {
            return false;
        }
    }
    else {
        return false;
    }
}
function isparttime(agendas) {
    if (agendas && agendas.length == 1) {
        return true;
    }
    else {
        var mytime = [];
        for (var _i = 0, agendas_2 = agendas; _i < agendas_2.length; _i++) {
            var scd = agendas_2[_i];
            var st = scd.st;
            var st1 = st.split(":");
            if (mytime.indexOf(st1[0]) == -1) {
                mytime.push(st1[0]);
            }
        }
        if (mytime.length == 24) {
            return true;
        }
        else {
            return false;
        }
    }
}
//# sourceMappingURL=speech.process.js.map

/***/ }),
/* 562 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FindProcess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__model_ws_enum__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_fs_fs_service__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__pages_gl_gl_service__ = __webpack_require__(121);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__wsdata_config__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__base_process__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__service_business_event_service__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__service_business_calendar_service__ = __webpack_require__(30);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};












/**
 * 查询联系人和日历
 *
 * create by wzy on 2018/11/30.
 */
var FindProcess = (function (_super) {
    __extends(FindProcess, _super);
    function FindProcess(sqliteExec, fsService, calendarService, glService, util, eventService, userConfig) {
        var _this = _super.call(this) || this;
        _this.sqliteExec = sqliteExec;
        _this.fsService = fsService;
        _this.calendarService = calendarService;
        _this.glService = glService;
        _this.util = util;
        _this.eventService = eventService;
        _this.userConfig = userConfig;
        return _this;
    }
    FindProcess.prototype.gowhen = function (content, contextRetMap) {
        return __awaiter(this, void 0, void 0, function () {
            var rf, fun, findData, fs, scd, sortedData;
            return __generator(this, function (_a) {
                //process处理符合条件则执行
                if (content.when && content.when != "") {
                    rf = false;
                    try {
                        fun = eval("(" + content.when + ")");
                        rf = fun(content, contextRetMap);
                    }
                    catch (e) {
                        rf = false;
                    }
                    if (!rf) {
                        return [2 /*return*/, contextRetMap];
                    }
                }
                findData = content.parameters;
                fs = new Array();
                scd = new Array();
                if (content.option == __WEBPACK_IMPORTED_MODULE_1__model_ws_enum__["c" /* F */].C) {
                    // TODO 增加根据人查询日程
                    if (fs) {
                        findData.scd.fs = fs;
                    }
                    //TODO 使用findActivities ,该方法联系人尚未完善
                    //let ctbls = await this.findScd(findData.scd);
                    //    for (let j = 0, len = ctbls.length; j < len; j++) {
                    //      let fss : Array<FsData> = new Array<FsData>();
                    //      fss = await this.findScdFss(ctbls[j].si);
                    //let cfs :FsData = new FsData();
                    //cfs = this.userConfig.GetOneBTbl(ctbls[j].ui);
                    //防止在服务器与客户端交互时，因图像太大而出错
                    //      if (cfs){
                    //        cfs.bhiu = "";
                    //      }else{
                    //        cfs  = {} as Parter;
                    //      }
                    //
                    //      let c :ScdData = new ScdData();
                    //      Object.assign(c,ctbls[j]);
                    //      c.fs = cfs;
                    //      c.fss = fss;
                    //      scd.push(c);
                    //    }
                }
                //增加排序处理
                if (scd && scd.length > 1) {
                    sortedData = scd.sort(function (a, b) {
                        if (a.st != '99:99' && b.st == '99:99') {
                            return 1;
                        }
                        if (a.st == '99:99' && b.st != '99:99') {
                            return -1;
                        }
                        if (a.st > b.st) {
                            return 1;
                        }
                        if (a.st < b.st) {
                            return -1;
                        }
                        return 0;
                    });
                }
                //服务器要求上下文内放置日程查询结果
                this.output(content, contextRetMap, 'agendas', __WEBPACK_IMPORTED_MODULE_7__wsdata_config__["a" /* WsDataConfig */].SCD, scd);
                //服务器要求上下文内放置日程的创建人员信息或查询条件用的人员信息
                this.output(content, contextRetMap, 'contacts', __WEBPACK_IMPORTED_MODULE_7__wsdata_config__["a" /* WsDataConfig */].FS, fs);
                return [2 /*return*/, contextRetMap];
            });
        });
    };
    FindProcess.prototype.findfs = function (ns) {
        var res = new Array();
        var rsbs = new Map();
        if (!ns || ns.length == 0) {
            return new Array();
        }
        //TODO 联系人和群组是否要放入环境中，每次取性能有影响
        //获取群组列表
        var gs = this.glService.getGroups(null);
        //循环参数中的pingy数组
        for (var _i = 0, ns_1 = ns; _i < ns_1.length; _i++) {
            var n = ns_1[_i];
            var piny = n.n;
            //首先查找群组
            for (var _a = 0, gs_1 = gs; _a < gs_1.length; _a++) {
                var g = gs_1[_a];
                if (piny.indexOf(g.gnpy) > -1) {
                    piny = piny.replace(g.gnpy, "");
                    for (var _b = 0, _c = g.fsl; _b < _c.length; _b++) {
                        var b1 = _c[_b];
                        rsbs.set(b1.ranpy, b1);
                    }
                }
            }
        }
        //获取联系人列表
        var bs = this.fsService.getfriend(null);
        for (var _d = 0, ns_2 = ns; _d < ns_2.length; _d++) {
            var n = ns_2[_d];
            var piny = n.n;
            //首先查找群组
            for (var _e = 0, bs_1 = bs; _e < bs_1.length; _e++) {
                var b3 = bs_1[_e];
                if (piny.indexOf(b3.ranpy) > -1 || piny.indexOf(b3.rnpy) > -1) {
                    piny = piny.replace(b3.ranpy, "").replace(b3.rnpy, "");
                    rsbs.set(b3.ranpy, b3);
                }
            }
        }
        rsbs.forEach(function (value, key, map) {
            res.push(value);
        });
        return res;
    };
    // 根据相似性匹配本地联系人
    FindProcess.prototype.findsimilarityfs = function (ns) {
        var res = new Array();
        var rsbs = new Map();
        if (!ns || ns.length == 0) {
            return new Array();
        }
        //TODO 联系人和群组是否要放入环境中，每次取性能有影响
        //获取群组列表
        var gs = this.glService.getGroups(null);
        //循环参数中的pingy数组
        for (var _i = 0, ns_3 = ns; _i < ns_3.length; _i++) {
            var n = ns_3[_i];
            //根据帐户id或者手机号查询时，不查询群组
            if (!n.n && (n.ai || n.mpn))
                continue;
            var piny = n.n;
            //首先查找群组
            for (var _a = 0, gs_2 = gs; _a < gs_2.length; _a++) {
                var g = gs_2[_a];
                var simulary = this.util.compareTwoStrings(piny, g.gnpy);
                console.log(piny + ' <=> ' + g.gnpy + ' distance ' + simulary);
                if (simulary > 0.8) {
                    //piny = piny.replace(g.gnpy, "");
                    for (var _b = 0, _c = g.fsl; _b < _c.length; _b++) {
                        var b1 = _c[_b];
                        rsbs.set(b1.ranpy, b1);
                    }
                }
            }
        }
        //获取联系人列表
        var bs = this.fsService.getfriend(null);
        var b3ran = new Array();
        var b3rn = new Array();
        for (var _d = 0, bs_2 = bs; _d < bs_2.length; _d++) {
            var b3 = bs_2[_d];
            b3ran.push(b3.ranpy);
            b3rn.push(b3.rnpy);
        }
        for (var _e = 0, ns_4 = ns; _e < ns_4.length; _e++) {
            var n = ns_4[_e];
            //根据帐户id或者手机号查询时，不查询群组
            if (!n.n && (n.ai || n.mpn)) {
                for (var _f = 0, bs_3 = bs; _f < bs_3.length; _f++) {
                    var b1 = bs_3[_f];
                    //注册用户存在用户ID
                    if (n.ai && b1.ui && n.ai == b1.ui) {
                        res.push(b1);
                        continue;
                    }
                    //非注册用户不存在用户ID
                    if (n.mpn && b1.rc && n.mpn == b1.rc) {
                        res.push(b1);
                    }
                }
            }
            if (n.n) {
                var piny = n.n;
                //查找联系人
                var simularyranrs = this.util.findBestMatch(piny, b3ran);
                var simularyrnrs = this.util.findBestMatch(piny, b3rn);
                if (simularyranrs.bestMatch.rating > 0.5) {
                    var index = 0;
                    for (var _g = 0, _h = simularyranrs.ratings; _g < _h.length; _g++) {
                        var rating = _h[_g];
                        if (rating.rating > 0.8) {
                            console.log(piny + ' <=> ' + b3ran[index] + ' distance ' + rating.rating);
                            rsbs.set(b3ran[index], bs[index]);
                        }
                        index++;
                    }
                }
                if (simularyrnrs.bestMatch.rating > 0.5) {
                    var index = 0;
                    for (var _j = 0, _k = simularyrnrs.ratings; _j < _k.length; _j++) {
                        var rating = _k[_j];
                        if (rating.rating > 0.8) {
                            console.log(piny + ' <=> ' + b3rn[index] + ' distance ' + rating.rating);
                            rsbs.set(b3ran[index], bs[index]);
                        }
                        index++;
                    }
                }
            }
        }
        rsbs.forEach(function (value, key, map) {
            res.push(value);
        });
        return res;
    };
    //ying 20190901 add 注释:根据日程事件ID获取参与人
    FindProcess.prototype.findScdFss = function (si) {
        return __awaiter(this, void 0, void 0, function () {
            var res, sql, fss;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        res = new Array();
                        sql = "select b.pwi ,b.ran ,b.ranpy  ,b.hiu ,b.rn ,b.rnpy ,b.rc   ," +
                            " b.rel ,b.ui,b.wtt " +
                            " from gtd_d d inner join gtd_b b on d.si = '" + si + "' and d.ai = b.pwi";
                        fss = new Array();
                        return [4 /*yield*/, this.sqliteExec.getExtList(sql)];
                    case 1:
                        fss = _a.sent();
                        Object.assign(res, fss);
                        return [2 /*return*/, res];
                }
            });
        });
    };
    //ying 20190901 add 注释:获取日程事件
    FindProcess.prototype.findScd = function (scd) {
        var _this = this;
        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {
            var res, sql, _i, _a, mark, _b, _c, onefs;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        console.log("============ mq查询日程scd：" + JSON.stringify(scd));
                        res = new Array();
                        if (!(scd.de ||
                            scd.ds ||
                            scd.te ||
                            scd.ti ||
                            scd.ts ||
                            (scd.fs && scd.fs.length > 0))) return [3 /*break*/, 2];
                        sql = "select distinct c.si,\n                                           c.sn,\n                                           c.ui,\n                                           sp.sd     sd,\n                                           c.st,\n                                           c.ed,\n                                           c.et,\n                                           c.rt,\n                                           c.ji,\n                                           c.sr,\n                                           c.bz,\n                                           sp.wtt    wtt,\n                                           c.tx,\n                                           c.pni,\n                                           c.du,\n                                           c.gs\n                           from gtd_sp sp\n                                  inner join gtd_c c on sp.si = c.si\n                                  left join gtd_d d on d.si = c.si\n                           where 1 = 1 and (c.gs = '0' or c.gs = '1' or c.gs = '2')";
                        if (scd.ti) {
                            // 增加标签查找
                            if (scd.marks && scd.marks.length > 0) {
                                sql = sql + (" and (c.sn like \"%" + scd.ti + "%\" or c.si in (select mk.si from gtd_mk mk where 1=1");
                                for (_i = 0, _a = scd.marks; _i < _a.length; _i++) {
                                    mark = _a[_i];
                                    sql = sql + (" and mk.mkl like \"%" + mark + "%\"");
                                }
                                sql = sql + "))";
                            }
                            else {
                                sql = sql + (" and c.sn like \"%" + scd.ti + "%\"");
                            }
                        }
                        if (scd.ds) {
                            sql = sql + (" and sp.sd >= \"" + scd.ds + "\"");
                        }
                        else {
                            sql = sql + (" and sp.sd >= \"" + __WEBPACK_IMPORTED_MODULE_3_moment__().subtract(30, 'd').format('YYYY/MM/DD') + "\"");
                        }
                        if (scd.de) {
                            sql = sql + (" and sp.sd <= \"" + scd.de + "\"");
                        }
                        else {
                            sql = sql + (" and sp.sd <= \"" + __WEBPACK_IMPORTED_MODULE_3_moment__().add(30, 'd').format('YYYY/MM/DD') + "\"");
                        }
                        if (scd.ts) {
                            sql = sql + (" and (sp.st >= \"" + scd.ts + "\" or sp.st = '99:99')");
                        }
                        if (scd.te) {
                            sql = sql + (" and (sp.st <= \"" + scd.te + "\" or sp.st = '99:99')");
                        }
                        // 根据人物查询
                        if (scd.fs && scd.fs.length > 0) {
                            sql = sql + " and ( 1 > 1 ";
                            for (_b = 0, _c = scd.fs; _b < _c.length; _b++) {
                                onefs = _c[_b];
                                sql = sql + (" or c.ui = \"" + onefs.ui + "\"");
                                sql = sql + (" or d.ai = \"" + onefs.pwi + "\"");
                            }
                            sql = sql + " )";
                        }
                        console.log("============ mq查询日程：" + sql);
                        return [4 /*yield*/, this.sqliteExec.getExtList(sql)];
                    case 1:
                        res = _d.sent();
                        _d.label = 2;
                    case 2:
                        resolve(res);
                        return [2 /*return*/, res];
                }
            });
        }); });
    };
    FindProcess = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__service_util_service_sqlite_exec__["a" /* SqliteExec */], __WEBPACK_IMPORTED_MODULE_4__pages_fs_fs_service__["a" /* FsService */], __WEBPACK_IMPORTED_MODULE_11__service_business_calendar_service__["a" /* CalendarService */],
            __WEBPACK_IMPORTED_MODULE_5__pages_gl_gl_service__["a" /* GlService */], __WEBPACK_IMPORTED_MODULE_6__service_util_service_util_service__["a" /* UtilService */], __WEBPACK_IMPORTED_MODULE_10__service_business_event_service__["b" /* EventService */],
            __WEBPACK_IMPORTED_MODULE_9__service_config_user_config__["b" /* UserConfig */]])
    ], FindProcess);
    return FindProcess;
}(__WEBPACK_IMPORTED_MODULE_8__base_process__["a" /* BaseProcess */]));

//# sourceMappingURL=find.process.js.map

/***/ }),
/* 563 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OptionProcess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__model_ws_enum__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_pagecom_pgbusi_service__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__pages_fs_fs_service__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__optprocess_factory__ = __webpack_require__(564);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__wsdata_config__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__base_process__ = __webpack_require__(54);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};









/**
 * 确认操作
 *
 * create by wzy on 2018/11/30.
 */
var OptionProcess = (function (_super) {
    __extends(OptionProcess, _super);
    function OptionProcess(emitService, busiService, fsServer, factoryOpt) {
        var _this = _super.call(this) || this;
        _this.emitService = emitService;
        _this.busiService = busiService;
        _this.fsServer = fsServer;
        _this.factoryOpt = factoryOpt;
        return _this;
    }
    OptionProcess.prototype.gowhen = function (content, contextRetMap) {
        return __awaiter(this, void 0, void 0, function () {
            var opt, prvOpt, prvprocessor, scd, fs, rf, fun;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log("******************option gowhen start");
                        opt = content.option;
                        prvOpt = "";
                        prvOpt = this.input(content, contextRetMap, "prvoption", __WEBPACK_IMPORTED_MODULE_7__wsdata_config__["a" /* WsDataConfig */].PRVOPTION, prvOpt);
                        prvprocessor = "";
                        prvprocessor = this.input(content, contextRetMap, "prvprocessor", __WEBPACK_IMPORTED_MODULE_7__wsdata_config__["a" /* WsDataConfig */].PRVPROCESSOR, prvprocessor);
                        scd = new Array();
                        scd = this.input(content, contextRetMap, "agendas", __WEBPACK_IMPORTED_MODULE_7__wsdata_config__["a" /* WsDataConfig */].SCD, scd);
                        fs = new Array();
                        fs = this.input(content, contextRetMap, "contacts", __WEBPACK_IMPORTED_MODULE_7__wsdata_config__["a" /* WsDataConfig */].FS, fs);
                        //process处理符合条件则执行
                        if (content.when && content.when != "") {
                            rf = false;
                            try {
                                fun = eval("(" + content.when + ")");
                                rf = fun(content, scd, fs);
                            }
                            catch (e) {
                                rf = false;
                            }
                            ;
                            if (!rf) {
                                return [2 /*return*/, contextRetMap];
                            }
                        }
                        console.log("******************option  opt " + opt);
                        if (!(opt == __WEBPACK_IMPORTED_MODULE_2__model_ws_enum__["d" /* O */].O)) return [3 /*break*/, 2];
                        console.log("******************option  ok");
                        return [4 /*yield*/, this.factoryOpt.getOptProcess(prvprocessor).do(content, contextRetMap)];
                    case 1:
                        contextRetMap = _a.sent();
                        //取消操作 清除上下文
                        __WEBPACK_IMPORTED_MODULE_3__service_config_data_config__["a" /* DataConfig */].clearWsOpts();
                        __WEBPACK_IMPORTED_MODULE_3__service_config_data_config__["a" /* DataConfig */].clearWsContext();
                        __WEBPACK_IMPORTED_MODULE_3__service_config_data_config__["a" /* DataConfig */].clearWsProcessor();
                        return [3 /*break*/, 3];
                    case 2:
                        if (opt == __WEBPACK_IMPORTED_MODULE_2__model_ws_enum__["d" /* O */].S) {
                            //追问操作
                        }
                        else {
                        }
                        _a.label = 3;
                    case 3: return [2 /*return*/, contextRetMap];
                }
            });
        });
    };
    OptionProcess = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__service_util_service_emit_service__["a" /* EmitService */], __WEBPACK_IMPORTED_MODULE_4__service_pagecom_pgbusi_service__["a" /* PgBusiService */],
            __WEBPACK_IMPORTED_MODULE_5__pages_fs_fs_service__["a" /* FsService */], __WEBPACK_IMPORTED_MODULE_6__optprocess_factory__["a" /* OptProcessFactory */]])
    ], OptionProcess);
    return OptionProcess;
}(__WEBPACK_IMPORTED_MODULE_8__base_process__["a" /* BaseProcess */]));

//# sourceMappingURL=option.process.js.map

/***/ }),
/* 564 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OptProcessFactory; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__process_default_process__ = __webpack_require__(254);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__process_agendas_process__ = __webpack_require__(255);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * webSocket公用处理方法
 *
 * create by wzy on 2018/11/30.
 */
var OptProcessFactory = (function () {
    function OptProcessFactory(defaultProcess, agendasProcess) {
        this.defaultProcess = defaultProcess;
        this.agendasProcess = agendasProcess;
        this.factoryOpt = new Map();
        this.factoryOpt.set("AG", this.agendasProcess);
    }
    OptProcessFactory.prototype.getOptProcess = function (processKey) {
        var process = this.factoryOpt.get(processKey);
        if (process == null)
            return this.defaultProcess;
        return process;
    };
    OptProcessFactory = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__process_default_process__["a" /* DefaultProcess */],
            __WEBPACK_IMPORTED_MODULE_2__process_agendas_process__["a" /* AgendasProcess */]])
    ], OptProcessFactory);
    return OptProcessFactory;
}());

//# sourceMappingURL=optprocess.factory.js.map

/***/ }),
/* 565 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContextProcess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__model_proces_rs__ = __webpack_require__(558);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__wsdata_config__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__base_process__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_config_data_config__ = __webpack_require__(9);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





/**
 * 日程修改（获取上下文中） SC
 *
 * create by wzy on 2018/11/30.
 */
var ContextProcess = (function (_super) {
    __extends(ContextProcess, _super);
    function ContextProcess() {
        return _super.call(this) || this;
    }
    ContextProcess.prototype.gowhen = function (content, contextRetMap) {
        return __awaiter(this, void 0, void 0, function () {
            var prv, rf, fun, prvOpt, prvprocessor;
            return __generator(this, function (_a) {
                console.log("******************sc gowhen start");
                __WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].wsContext = content.thisContext.context.client.cxt;
                prv = new __WEBPACK_IMPORTED_MODULE_1__model_proces_rs__["a" /* ProcesRs */]();
                if (__WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].wsContext && __WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].wsContext.length > 0) {
                    prv = __WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].wsContext.splice(__WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].wsContext.length - 1, 1)[0];
                }
                //process处理符合条件则执行
                if (content.when && content.when != "") {
                    console.log("******************sc gowhen content.when" + content.when);
                    rf = false;
                    try {
                        fun = eval("(" + content.when + ")");
                        rf = fun(content, prv.scd, prv.fs);
                    }
                    catch (e) {
                        rf = false;
                    }
                    if (!rf) {
                        return [2 /*return*/, contextRetMap];
                    }
                }
                //服务器要求上下文内放置语音上下文前动作标志
                __WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].wsWsOpt = content.thisContext.context.client.option;
                prvOpt = "";
                if (__WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].wsWsOpt && __WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].wsWsOpt.length > 0) {
                    prvOpt = __WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].wsWsOpt.splice(__WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].wsWsOpt.length - 1, 1)[0];
                }
                this.output(content, contextRetMap, 'prvoption', __WEBPACK_IMPORTED_MODULE_2__wsdata_config__["a" /* WsDataConfig */].PRVOPTION, prvOpt);
                //服务器要求上下文内放置语音上下文前process标志
                __WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].wsWsProcessor = content.thisContext.context.client.processor;
                prvprocessor = "";
                if (__WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].wsWsProcessor && __WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].wsWsProcessor.length > 0) {
                    prvprocessor = __WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].wsWsProcessor.splice(__WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].wsWsProcessor.length - 1, 1)[0];
                }
                this.output(content, contextRetMap, 'prvprocessor', __WEBPACK_IMPORTED_MODULE_2__wsdata_config__["a" /* WsDataConfig */].PRVPROCESSOR, prvprocessor);
                //服务器要求上下文内放置语音上下文日程
                this.output(content, contextRetMap, 'agendas', __WEBPACK_IMPORTED_MODULE_2__wsdata_config__["a" /* WsDataConfig */].SCD, prv.scd);
                //服务器要求上下文内放置日程人员信息
                this.output(content, contextRetMap, 'contacts', __WEBPACK_IMPORTED_MODULE_2__wsdata_config__["a" /* WsDataConfig */].FS, prv.fs);
                console.log("******************sc gowhen end");
                return [2 /*return*/, contextRetMap];
            });
        });
    };
    ContextProcess = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], ContextProcess);
    return ContextProcess;
}(__WEBPACK_IMPORTED_MODULE_3__base_process__["a" /* BaseProcess */]));

//# sourceMappingURL=context.process.js.map

/***/ }),
/* 566 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ReceiveProcess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__model_ws_enum__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_pagecom_pgbusi_service__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_cordova_notifications_service__ = __webpack_require__(120);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__data_mapping__ = __webpack_require__(20);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






/**
 * 日程修改（获取上下文中）
 *
 * create by wzy on 2018/11/30.
 */
var ReceiveProcess = (function () {
    function ReceiveProcess(emitService, busiService, notificationsService) {
        this.emitService = emitService;
        this.busiService = busiService;
        this.notificationsService = notificationsService;
    }
    ReceiveProcess.prototype.gowhen = function (content, contextRetMap) {
        return __awaiter(this, void 0, void 0, function () {
            var rf, fun, scudPara, scudPara, scd;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        //process处理符合条件则执行
                        if (content.when && content.when != "") {
                            rf = false;
                            try {
                                fun = eval("(" + content.when + ")");
                                rf = fun(content);
                            }
                            catch (e) {
                                rf = false;
                            }
                            ;
                            if (!rf) {
                                return [2 /*return*/, contextRetMap];
                            }
                        }
                        if (!(content.option == __WEBPACK_IMPORTED_MODULE_0__model_ws_enum__["h" /* SH */].D)) return [3 /*break*/, 2];
                        scudPara = content.parameters;
                        return [4 /*yield*/, this.busiService.pullDel(scudPara.id)];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        if (!(content.option == __WEBPACK_IMPORTED_MODULE_0__model_ws_enum__["h" /* SH */].C || content.option == __WEBPACK_IMPORTED_MODULE_0__model_ws_enum__["h" /* SH */].U)) return [3 /*break*/, 4];
                        scudPara = content.parameters;
                        scd = new __WEBPACK_IMPORTED_MODULE_5__data_mapping__["q" /* ScdData */]();
                        return [4 /*yield*/, this.busiService.pullAgd(scudPara.id)];
                    case 3:
                        scd = _a.sent();
                        if (scd != null) {
                            this.emitService.emit("on.agendashare.saved", scd);
                            //消息提醒统一使用极光推送
                            //this.notificationsService.newSms(scd);
                        }
                        _a.label = 4;
                    case 4: return [2 /*return*/, contextRetMap];
                }
            });
        });
    };
    ReceiveProcess = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_util_service_emit_service__["a" /* EmitService */], __WEBPACK_IMPORTED_MODULE_3__service_pagecom_pgbusi_service__["a" /* PgBusiService */], __WEBPACK_IMPORTED_MODULE_4__service_cordova_notifications_service__["a" /* NotificationsService */]])
    ], ReceiveProcess);
    return ReceiveProcess;
}());

//# sourceMappingURL=receive.process.js.map

/***/ }),
/* 567 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SettingProcess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__model_ws_enum__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_ss_ss_service__ = __webpack_require__(157);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_fd_fd_service__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__data_mapping__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__wsdata_config__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__base_process__ = __webpack_require__(54);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








/**
 * 设置
 *
 * create by wzy on 2018/11/30.
 */
var SettingProcess = (function (_super) {
    __extends(SettingProcess, _super);
    function SettingProcess(ssService, fdService) {
        var _this = _super.call(this) || this;
        _this.ssService = ssService;
        _this.fdService = fdService;
        return _this;
    }
    SettingProcess.prototype.gowhen = function (content, contextRetMap) {
        return __awaiter(this, void 0, void 0, function () {
            var rf, fun, setPara, set, setting, setPara, set, setting, fs, fdData, _i, fs_1, btbl;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        //process处理符合条件则执行
                        if (content.when && content.when != "") {
                            rf = false;
                            try {
                                fun = eval("(" + content.when + ")");
                                rf = fun(content);
                            }
                            catch (e) {
                                rf = false;
                            }
                            ;
                            if (!rf) {
                                return [2 /*return*/, contextRetMap];
                            }
                        }
                        if (!(content.option == __WEBPACK_IMPORTED_MODULE_1__model_ws_enum__["i" /* SY */].S)) return [3 /*break*/, 2];
                        setPara = content.parameters;
                        set = new __WEBPACK_IMPORTED_MODULE_5__data_mapping__["n" /* PageY */]();
                        setting = new __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["a" /* Setting */]();
                        setting = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].settins.get(setPara.k);
                        set.yi = setting.yi; //偏好主键ID
                        set.ytn = setting.bname; //偏好设置类型名称
                        set.yt = setting.typeB; //偏好设置类型
                        set.yn = setting.name; //偏好设置名称
                        set.yk = setting.type; //偏好设置key
                        set.yv = setPara.v ? "1" : "0"; //偏好设置value
                        return [4 /*yield*/, this.ssService.save(set)];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        if (!(content.option == __WEBPACK_IMPORTED_MODULE_1__model_ws_enum__["i" /* SY */].FO)) return [3 /*break*/, 4];
                        setPara = content.parameters;
                        set = new __WEBPACK_IMPORTED_MODULE_5__data_mapping__["n" /* PageY */]();
                        setting = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].getSettingWithType(setPara.t, setPara.k) || new __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["a" /* Setting */]();
                        set.yi = setting.yi; //偏好主键ID
                        set.ytn = setting.bname || setPara.tn; //偏好设置类型名称
                        set.yt = setting.typeB || setPara.t; //偏好设置类型
                        set.yn = setting.name || setPara.kn; //偏好设置名称
                        set.yk = setting.type || setPara.k; //偏好设置key
                        set.yv = setPara.vs; //偏好设置value
                        return [4 /*yield*/, this.ssService.save(set)];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4:
                        //用户黑名单
                        if (content.option == __WEBPACK_IMPORTED_MODULE_1__model_ws_enum__["i" /* SY */].B) {
                            fs = new Array();
                            fs = this.input(content, contextRetMap, "contacts", __WEBPACK_IMPORTED_MODULE_6__wsdata_config__["a" /* WsDataConfig */].FS, fs);
                            fdData = new __WEBPACK_IMPORTED_MODULE_5__data_mapping__["c" /* FsData */]();
                            for (_i = 0, fs_1 = fs; _i < fs_1.length; _i++) {
                                btbl = fs_1[_i];
                                fdData.ui = btbl.ui;
                                fdData.rc = btbl.rc;
                                fdData.rn = btbl.rn;
                                fdData.hiu = btbl.hiu;
                                this.fdService.putBlack(fdData);
                            }
                        }
                        return [2 /*return*/, contextRetMap];
                }
            });
        });
    };
    SettingProcess = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__pages_ss_ss_service__["a" /* SsService */], __WEBPACK_IMPORTED_MODULE_4__pages_fd_fd_service__["a" /* FdService */]])
    ], SettingProcess);
    return SettingProcess;
}(__WEBPACK_IMPORTED_MODULE_7__base_process__["a" /* BaseProcess */]));

//# sourceMappingURL=setting.process.js.map

/***/ }),
/* 568 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MarkupProcess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_pagecom_pgbusi_service__ = __webpack_require__(68);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


/**
 * 标注日程语义标签
 *
 * create by xilj on 2019/05/28.
 */
var MarkupProcess = (function () {
    function MarkupProcess(busiService) {
        this.busiService = busiService;
    }
    MarkupProcess.prototype.gowhen = function (content, contextRetMap) {
        return __awaiter(this, void 0, void 0, function () {
            var rf, fun, markupPara, _i, _a, mk;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        //process处理符合条件则执行
                        if (content.when && content.when != "") {
                            rf = false;
                            try {
                                fun = eval("(" + content.when + ")");
                                rf = fun(content);
                            }
                            catch (e) {
                                rf = false;
                            }
                            ;
                            if (!rf) {
                                return [2 /*return*/, contextRetMap];
                            }
                        }
                        markupPara = content.parameters;
                        if (!(markupPara.mks && markupPara.mks.length > 0)) return [3 /*break*/, 4];
                        _i = 0, _a = markupPara.mks;
                        _b.label = 1;
                    case 1:
                        if (!(_i < _a.length)) return [3 /*break*/, 4];
                        mk = _a[_i];
                        return [4 /*yield*/, this.busiService.markup(mk.id, mk.mkl, mk.mkt)];
                    case 2:
                        _b.sent();
                        _b.label = 3;
                    case 3:
                        _i++;
                        return [3 /*break*/, 1];
                    case 4: return [2 /*return*/, contextRetMap];
                }
            });
        });
    };
    MarkupProcess = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_pagecom_pgbusi_service__["a" /* PgBusiService */]])
    ], MarkupProcess);
    return MarkupProcess;
}());

//# sourceMappingURL=markup.process.js.map

/***/ }),
/* 569 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotificationProcess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__model_ws_enum__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_pagecom_pgbusi_service__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_cordova_notifications_service__ = __webpack_require__(120);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__wsdata_config__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__base_process__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_moment__);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








/**
 * 通知
 *
 * create by xilj on 2019/6/1.
 */
var NotificationProcess = (function (_super) {
    __extends(NotificationProcess, _super);
    function NotificationProcess(emitService, busiService, notificationsService) {
        var _this = _super.call(this) || this;
        _this.emitService = emitService;
        _this.busiService = busiService;
        _this.notificationsService = notificationsService;
        return _this;
    }
    NotificationProcess.prototype.gowhen = function (content, contextRetMap) {
        return __awaiter(this, void 0, void 0, function () {
            var agendas, contacts, rf, fun, dailySummary, title, text, day, data, feedback, title, text, _i, _a, txt, expvalue, data;
            return __generator(this, function (_b) {
                agendas = new Array();
                agendas = this.input(content, contextRetMap, "agendas", __WEBPACK_IMPORTED_MODULE_5__wsdata_config__["a" /* WsDataConfig */].SCD, agendas);
                contacts = new Array();
                contacts = this.input(content, contextRetMap, "contacts", __WEBPACK_IMPORTED_MODULE_5__wsdata_config__["a" /* WsDataConfig */].FS, contacts);
                //process处理符合条件则执行
                if (content.when && content.when != "") {
                    rf = false;
                    try {
                        fun = eval("(" + content.when + ")");
                        rf = fun(content, contacts);
                    }
                    catch (e) {
                        rf = false;
                    }
                    ;
                    if (!rf) {
                        return [2 /*return*/, contextRetMap];
                    }
                }
                //处理区分
                if (content.option == __WEBPACK_IMPORTED_MODULE_0__model_ws_enum__["e" /* PN */].DR) {
                    dailySummary = content.parameters;
                    title = '每日简报';
                    text = '';
                    if (dailySummary && dailySummary.timestamp) {
                        day = __WEBPACK_IMPORTED_MODULE_7_moment__(dailySummary.timestamp);
                        text = day.format("M月D日 dddd");
                    }
                    data = { eventhandler: 'on.dailyreport.message.click', eventdata: dailySummary };
                    this.notificationsService.newMessage(title, text, data);
                }
                //反馈消息
                if (content.option == __WEBPACK_IMPORTED_MODULE_0__model_ws_enum__["e" /* PN */].FB) {
                    feedback = content.parameters;
                    title = feedback.title;
                    text = feedback.text;
                    //参数替换
                    if (content.input && content.input.textvariables) {
                        for (_i = 0, _a = content.input.textvariables; _i < _a.length; _i++) {
                            txt = _a[_i];
                            expvalue = "";
                            if (txt.value || txt.value == "") {
                                expvalue = txt.value;
                            }
                            else if (txt.expression) {
                                try {
                                    expvalue = eval(txt.expression);
                                }
                                catch (e) {
                                    expvalue = txt.default;
                                }
                                if (!expvalue) {
                                    expvalue = txt.default;
                                }
                            }
                            else {
                                expvalue = txt.default;
                            }
                            title = title.replace("{" + txt.name + "}", expvalue);
                            text = text.replace("{" + txt.name + "}", expvalue);
                        }
                    }
                    data = { eventhandler: 'on.feedback.message.click', eventdata: feedback };
                    //this.notificationsService.newMessage(title, text, data);
                }
                return [2 /*return*/, contextRetMap];
            });
        });
    };
    NotificationProcess = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_util_service_emit_service__["a" /* EmitService */], __WEBPACK_IMPORTED_MODULE_3__service_pagecom_pgbusi_service__["a" /* PgBusiService */], __WEBPACK_IMPORTED_MODULE_4__service_cordova_notifications_service__["a" /* NotificationsService */]])
    ], NotificationProcess);
    return NotificationProcess;
}(__WEBPACK_IMPORTED_MODULE_6__base_process__["a" /* BaseProcess */]));

//# sourceMappingURL=notification.process.js.map

/***/ }),
/* 570 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SpecialDataProcess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_business_calendar_service__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_process__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__data_enum__ = __webpack_require__(18);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






/**
 * 特殊数据接收
 *
 * create by xilj on 2019/06/16.
 */
var SpecialDataProcess = (function (_super) {
    __extends(SpecialDataProcess, _super);
    function SpecialDataProcess(calendarService, emitService) {
        var _this = _super.call(this) || this;
        _this.calendarService = calendarService;
        _this.emitService = emitService;
        return _this;
    }
    SpecialDataProcess.prototype.gowhen = function (content, contextRetMap) {
        return __awaiter(this, void 0, void 0, function () {
            var rf, fun, specialDataPara, hasWeather, _i, _a, data, current, origin;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        //process处理符合条件则执行
                        if (content.when && content.when != "") {
                            rf = false;
                            try {
                                fun = eval("(" + content.when + ")");
                                rf = fun(content);
                            }
                            catch (e) {
                                rf = false;
                            }
                            ;
                            if (!rf) {
                                return [2 /*return*/, contextRetMap];
                            }
                        }
                        specialDataPara = content.parameters;
                        if (!(specialDataPara.datas && specialDataPara.datas.length > 0)) return [3 /*break*/, 8];
                        hasWeather = false;
                        _i = 0, _a = specialDataPara.datas;
                        _b.label = 1;
                    case 1:
                        if (!(_i < _a.length)) return [3 /*break*/, 7];
                        data = _a[_i];
                        if (data.type == "weather") {
                            hasWeather = true;
                        }
                        current = {};
                        current.jtt = __WEBPACK_IMPORTED_MODULE_5__data_enum__["v" /* PlanItemType */].Weather;
                        current.jtc = __WEBPACK_IMPORTED_MODULE_5__data_enum__["y" /* SelfDefineType */].System;
                        current.sd = data.fordate;
                        current.del = __WEBPACK_IMPORTED_MODULE_5__data_enum__["d" /* DelType */].undel;
                        return [4 /*yield*/, this.calendarService.findPlanItem(current)];
                    case 2:
                        current = (_b.sent()) || current;
                        if (!(current && current.jti)) return [3 /*break*/, 4];
                        origin = {};
                        Object.assign(origin, current);
                        current.jtn = data.title;
                        current.st = __WEBPACK_IMPORTED_MODULE_4_moment__().format("HH:mm");
                        current.ji = "";
                        current.bz = data.desc;
                        current.ext = JSON.stringify(data.ext); //.replace(/\"/g, `""`);
                        return [4 /*yield*/, this.calendarService.savePlanItem(current, origin)];
                    case 3:
                        _b.sent();
                        return [3 /*break*/, 6];
                    case 4:
                        current.jtn = data.title;
                        current.st = __WEBPACK_IMPORTED_MODULE_4_moment__().format("HH:mm");
                        current.ji = "";
                        current.bz = data.desc;
                        current.ext = JSON.stringify(data.ext); //.replace(/\"/g, `""`);
                        return [4 /*yield*/, this.calendarService.savePlanItem(current)];
                    case 5:
                        _b.sent();
                        _b.label = 6;
                    case 6:
                        _i++;
                        return [3 /*break*/, 1];
                    case 7:
                        if (hasWeather)
                            this.emitService.emit("mwxing.weather.received");
                        _b.label = 8;
                    case 8: return [2 /*return*/, contextRetMap];
                }
            });
        });
    };
    SpecialDataProcess = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_business_calendar_service__["a" /* CalendarService */],
            __WEBPACK_IMPORTED_MODULE_3__service_util_service_emit_service__["a" /* EmitService */]])
    ], SpecialDataProcess);
    return SpecialDataProcess;
}(__WEBPACK_IMPORTED_MODULE_2__base_process__["a" /* BaseProcess */]));

//# sourceMappingURL=specialdata.process.js.map

/***/ }),
/* 571 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DataSyncProcess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__model_ws_enum__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_business_calendar_service__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_business_event_service__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_business_memo_service__ = __webpack_require__(85);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__data_enum__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_cordova_contacts_service__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_sqlite_tbl_b_tbl__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__service_restful_personsev__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__service_util_service_sqlite_exec__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};












/**
 * 数据同步
 *
 * create by leonxi on 2019/09/30.
 */
var DataSyncProcess = (function () {
    function DataSyncProcess(emitService, contactsServ, calendarService, eventService, memoService, personRestful, sqlExce) {
        this.emitService = emitService;
        this.contactsServ = contactsServ;
        this.calendarService = calendarService;
        this.eventService = eventService;
        this.memoService = memoService;
        this.personRestful = personRestful;
        this.sqlExce = sqlExce;
    }
    DataSyncProcess.prototype.gowhen = function (content, contextRetMap) {
        return __awaiter(this, void 0, void 0, function () {
            var rf, fun, dsPara, dsPara, dsPara, dsPara, dsPara, plan, planitem, unknowncontacts_1, fsdatas, originmembers, bsqls, _i, fsdatas_1, fsdata, userinfo, bt, member, sharestate, datastate, invitestate, _loop_1, this_1, _a, unknowncontacts_2, unknown, agenda, unknowncontacts_3, fsdatas, originmembers, bsqls, _b, fsdatas_2, fsdata, userinfo, bt, member, sharestate, datastate, invitestate, todostate, _loop_2, this_2, _c, unknowncontacts_4, unknown, memo, attachment;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        //process处理符合条件则执行
                        if (content.when && content.when != "") {
                            rf = false;
                            try {
                                fun = eval("(" + content.when + ")");
                                rf = fun(content);
                            }
                            catch (e) {
                                rf = false;
                            }
                            ;
                            if (!rf) {
                                return [2 /*return*/, contextRetMap];
                            }
                        }
                        if (!(content.option == __WEBPACK_IMPORTED_MODULE_0__model_ws_enum__["b" /* DS */].SD)) return [3 /*break*/, 10];
                        dsPara = content.parameters;
                        if (!(dsPara.type == "Plan")) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.calendarService.acceptSyncPrivatePlans([dsPara.id])];
                    case 1:
                        _d.sent();
                        _d.label = 2;
                    case 2:
                        if (!(dsPara.type == "PlanItem")) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.calendarService.acceptSyncPlanItems([dsPara.id])];
                    case 3:
                        _d.sent();
                        _d.label = 4;
                    case 4:
                        if (!(dsPara.type == "Agenda")) return [3 /*break*/, 6];
                        return [4 /*yield*/, this.eventService.acceptSyncAgendas([dsPara.id])];
                    case 5:
                        _d.sent();
                        _d.label = 6;
                    case 6:
                        if (!(dsPara.type == "Memo")) return [3 /*break*/, 8];
                        return [4 /*yield*/, this.memoService.acceptSyncMemos([dsPara.id])];
                    case 7:
                        _d.sent();
                        _d.label = 8;
                    case 8:
                        if (!(dsPara.type == "Attachment")) return [3 /*break*/, 10];
                        return [4 /*yield*/, this.eventService.acceptSyncAttachments([dsPara.id])];
                    case 9:
                        _d.sent();
                        _d.label = 10;
                    case 10:
                        if (!(content.option == __WEBPACK_IMPORTED_MODULE_0__model_ws_enum__["b" /* DS */].SA)) return [3 /*break*/, 20];
                        dsPara = content.parameters;
                        if (!(dsPara.type == "Plan")) return [3 /*break*/, 12];
                        return [4 /*yield*/, this.calendarService.receivedPlan(dsPara.id)];
                    case 11:
                        _d.sent();
                        _d.label = 12;
                    case 12:
                        if (!(dsPara.type == "PlanItem")) return [3 /*break*/, 14];
                        return [4 /*yield*/, this.calendarService.receivedPlanItem(dsPara.id)];
                    case 13:
                        _d.sent();
                        _d.label = 14;
                    case 14:
                        if (!(dsPara.type == "Agenda")) return [3 /*break*/, 16];
                        return [4 /*yield*/, this.eventService.receivedAgenda(dsPara.id)];
                    case 15:
                        _d.sent();
                        _d.label = 16;
                    case 16:
                        if (!(dsPara.type == "Memo")) return [3 /*break*/, 18];
                        return [4 /*yield*/, this.memoService.receivedMemo(dsPara.id)];
                    case 17:
                        _d.sent();
                        _d.label = 18;
                    case 18:
                        if (!(dsPara.type == "Attachment")) return [3 /*break*/, 20];
                        return [4 /*yield*/, this.eventService.receivedAttachment(dsPara.id)];
                    case 19:
                        _d.sent();
                        _d.label = 20;
                    case 20:
                        if (!(content.option == __WEBPACK_IMPORTED_MODULE_0__model_ws_enum__["b" /* DS */].OA)) return [3 /*break*/, 30];
                        dsPara = content.parameters;
                        if (!(dsPara.type == "Plan")) return [3 /*break*/, 22];
                        return [4 /*yield*/, this.calendarService.receivedPlan(dsPara.id)];
                    case 21:
                        _d.sent();
                        _d.label = 22;
                    case 22:
                        if (!(dsPara.type == "PlanItem")) return [3 /*break*/, 24];
                        return [4 /*yield*/, this.calendarService.receivedPlanItem(dsPara.id)];
                    case 23:
                        _d.sent();
                        _d.label = 24;
                    case 24:
                        if (!(dsPara.type == "Agenda")) return [3 /*break*/, 26];
                        return [4 /*yield*/, this.eventService.receivedAgenda(dsPara.id)];
                    case 25:
                        _d.sent();
                        _d.label = 26;
                    case 26:
                        if (!(dsPara.type == "Memo")) return [3 /*break*/, 28];
                        return [4 /*yield*/, this.memoService.receivedMemo(dsPara.id)];
                    case 27:
                        _d.sent();
                        _d.label = 28;
                    case 28:
                        if (!(dsPara.type == "Attachment")) return [3 /*break*/, 30];
                        return [4 /*yield*/, this.eventService.receivedAttachment(dsPara.id)];
                    case 29:
                        _d.sent();
                        _d.label = 30;
                    case 30:
                        if (!(content.option == __WEBPACK_IMPORTED_MODULE_0__model_ws_enum__["b" /* DS */].SP)) return [3 /*break*/, 40];
                        dsPara = content.parameters;
                        if (!(dsPara.type == "Plan")) return [3 /*break*/, 32];
                        return [4 /*yield*/, this.calendarService.receivedPlan(dsPara.id)];
                    case 31:
                        _d.sent();
                        _d.label = 32;
                    case 32:
                        if (!(dsPara.type == "PlanItem")) return [3 /*break*/, 34];
                        return [4 /*yield*/, this.calendarService.receivedPlanItem(dsPara.id)];
                    case 33:
                        _d.sent();
                        _d.label = 34;
                    case 34:
                        if (!(dsPara.type == "Agenda")) return [3 /*break*/, 36];
                        return [4 /*yield*/, this.eventService.receivedAgenda(dsPara.id)];
                    case 35:
                        _d.sent();
                        _d.label = 36;
                    case 36:
                        if (!(dsPara.type == "Memo")) return [3 /*break*/, 38];
                        return [4 /*yield*/, this.memoService.receivedMemo(dsPara.id)];
                    case 37:
                        _d.sent();
                        _d.label = 38;
                    case 38:
                        if (!(dsPara.type == "Attachment")) return [3 /*break*/, 40];
                        return [4 /*yield*/, this.eventService.receivedAttachment(dsPara.id)];
                    case 39:
                        _d.sent();
                        _d.label = 40;
                    case 40:
                        if (!(content.option == __WEBPACK_IMPORTED_MODULE_0__model_ws_enum__["b" /* DS */].DS)) return [3 /*break*/, 72];
                        dsPara = content.parameters;
                        if (!(dsPara.type == "Plan")) return [3 /*break*/, 42];
                        plan = {};
                        Object.assign(plan, dsPara.data);
                        return [4 /*yield*/, this.calendarService.receivedPlanData(plan, this.convertSyncStatus(dsPara.status))];
                    case 41:
                        _d.sent();
                        _d.label = 42;
                    case 42:
                        if (!(dsPara.type == "PlanItem")) return [3 /*break*/, 55];
                        planitem = {};
                        Object.assign(planitem, dsPara.data);
                        if (!(dsPara.to && dsPara.to.length > 0)) return [3 /*break*/, 53];
                        unknowncontacts_1 = new (Array.bind.apply(Array, [void 0].concat(dsPara.to)))();
                        fsdatas = __WEBPACK_IMPORTED_MODULE_7__service_config_user_config__["b" /* UserConfig */].friends.filter(function (element, index, array) {
                            var pos = unknowncontacts_1.indexOf(element.rc);
                            if (pos >= 0)
                                unknowncontacts_1.splice(pos, 1); // 移出已知联系人
                            return (pos >= 0);
                        });
                        originmembers = planitem.members;
                        planitem.members = new Array();
                        bsqls = new Array();
                        _i = 0, fsdatas_1 = fsdatas;
                        _d.label = 43;
                    case 43:
                        if (!(_i < fsdatas_1.length)) return [3 /*break*/, 47];
                        fsdata = fsdatas_1[_i];
                        if (!(fsdata.ui == "")) return [3 /*break*/, 45];
                        return [4 /*yield*/, this.personRestful.get(fsdata.rc)];
                    case 44:
                        userinfo = _d.sent();
                        if (userinfo && userinfo.openid) {
                            fsdata.ui = userinfo.openid;
                            bt = new __WEBPACK_IMPORTED_MODULE_9__service_sqlite_tbl_b_tbl__["a" /* BTbl */]();
                            bt.pwi = fsdata.pwi;
                            bt.ui = fsdata.ui;
                            bsqls.push(bt.upT());
                        }
                        _d.label = 45;
                    case 45:
                        member = {};
                        Object.assign(member, fsdata);
                        sharestate = dsPara.share[member['rc']];
                        if (sharestate) {
                            datastate = sharestate['datastate'];
                            invitestate = sharestate['invitestate'];
                            if (datastate == __WEBPACK_IMPORTED_MODULE_6__data_enum__["d" /* DelType */].del) {
                                member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].Removed;
                            }
                            else {
                                if (invitestate == __WEBPACK_IMPORTED_MODULE_6__data_enum__["j" /* InviteState */].Accepted) {
                                    member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].Accepted;
                                }
                                else if (invitestate == __WEBPACK_IMPORTED_MODULE_6__data_enum__["j" /* InviteState */].Rejected) {
                                    member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].Rejected;
                                }
                                else {
                                    member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].AcceptWait;
                                }
                            }
                        }
                        else {
                            member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].AcceptWait;
                        }
                        planitem.members.push(member);
                        _d.label = 46;
                    case 46:
                        _i++;
                        return [3 /*break*/, 43];
                    case 47:
                        if (!(bsqls.length > 0)) return [3 /*break*/, 49];
                        return [4 /*yield*/, this.sqlExce.batExecSql(bsqls)];
                    case 48:
                        _d.sent();
                        _d.label = 49;
                    case 49:
                        _loop_1 = function (unknown) {
                            var origins, origin, btbl, one, member, sharestate, datastate, invitestate;
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        if (!originmembers)
                                            return [2 /*return*/, "continue"]; // 存在历史错误的数据,没有参与人数据
                                        origins = originmembers.filter(function (element) {
                                            return element.rc == unknown;
                                        });
                                        origin = (origins && origins.length > 0) ? origins[0] : null;
                                        btbl = new __WEBPACK_IMPORTED_MODULE_9__service_sqlite_tbl_b_tbl__["a" /* BTbl */]();
                                        if (origin) {
                                            Object.assign(btbl, origin);
                                        }
                                        else {
                                            btbl = null;
                                        }
                                        return [4 /*yield*/, this_1.contactsServ.addSharedContact(unknown, btbl)];
                                    case 1:
                                        one = _a.sent();
                                        if (one && one.rc) {
                                            member = {};
                                            Object.assign(member, one);
                                            sharestate = dsPara.share[member['rc']];
                                            if (sharestate) {
                                                datastate = sharestate['datastate'];
                                                invitestate = sharestate['invitestate'];
                                                if (datastate == __WEBPACK_IMPORTED_MODULE_6__data_enum__["d" /* DelType */].del) {
                                                    member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].Removed;
                                                }
                                                else {
                                                    if (invitestate == __WEBPACK_IMPORTED_MODULE_6__data_enum__["j" /* InviteState */].Accepted) {
                                                        member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].Accepted;
                                                    }
                                                    else if (invitestate == __WEBPACK_IMPORTED_MODULE_6__data_enum__["j" /* InviteState */].Rejected) {
                                                        member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].Rejected;
                                                    }
                                                    else {
                                                        member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].AcceptWait;
                                                    }
                                                }
                                            }
                                            else {
                                                member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].AcceptWait;
                                            }
                                            planitem.members.push(member);
                                        }
                                        else {
                                        }
                                        return [2 /*return*/];
                                }
                            });
                        };
                        this_1 = this;
                        _a = 0, unknowncontacts_2 = unknowncontacts_1;
                        _d.label = 50;
                    case 50:
                        if (!(_a < unknowncontacts_2.length)) return [3 /*break*/, 53];
                        unknown = unknowncontacts_2[_a];
                        return [5 /*yield**/, _loop_1(unknown)];
                    case 51:
                        _d.sent();
                        _d.label = 52;
                    case 52:
                        _a++;
                        return [3 /*break*/, 50];
                    case 53: return [4 /*yield*/, this.calendarService.receivedPlanItemData([planitem], this.convertSyncStatus(dsPara.status))];
                    case 54:
                        _d.sent();
                        _d.label = 55;
                    case 55:
                        if (!(dsPara.type == "Agenda")) return [3 /*break*/, 68];
                        agenda = {};
                        Object.assign(agenda, dsPara.data);
                        if (!(dsPara.to && dsPara.to.length > 0)) return [3 /*break*/, 66];
                        unknowncontacts_3 = new (Array.bind.apply(Array, [void 0].concat(dsPara.to)))();
                        fsdatas = __WEBPACK_IMPORTED_MODULE_7__service_config_user_config__["b" /* UserConfig */].friends.filter(function (element, index, array) {
                            var pos = unknowncontacts_3.indexOf(element.rc);
                            if (pos >= 0)
                                unknowncontacts_3.splice(pos, 1); // 移出已知联系人
                            return (pos >= 0);
                        });
                        originmembers = agenda.members;
                        agenda.members = new Array();
                        bsqls = new Array();
                        _b = 0, fsdatas_2 = fsdatas;
                        _d.label = 56;
                    case 56:
                        if (!(_b < fsdatas_2.length)) return [3 /*break*/, 60];
                        fsdata = fsdatas_2[_b];
                        if (!(fsdata.ui == "")) return [3 /*break*/, 58];
                        return [4 /*yield*/, this.personRestful.get(fsdata.rc)];
                    case 57:
                        userinfo = _d.sent();
                        if (userinfo && userinfo.openid) {
                            fsdata.ui = userinfo.openid;
                            bt = new __WEBPACK_IMPORTED_MODULE_9__service_sqlite_tbl_b_tbl__["a" /* BTbl */]();
                            bt.pwi = fsdata.pwi;
                            bt.ui = fsdata.ui;
                            bsqls.push(bt.upT());
                        }
                        _d.label = 58;
                    case 58:
                        member = {};
                        Object.assign(member, fsdata);
                        sharestate = dsPara.share[member['rc']];
                        if (sharestate) {
                            datastate = sharestate['datastate'];
                            invitestate = sharestate['invitestate'];
                            todostate = sharestate['todostate'];
                            if (datastate == __WEBPACK_IMPORTED_MODULE_6__data_enum__["d" /* DelType */].del) {
                                member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].Removed;
                            }
                            else {
                                if (invitestate == __WEBPACK_IMPORTED_MODULE_6__data_enum__["j" /* InviteState */].Accepted) {
                                    member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].Accepted;
                                }
                                else if (invitestate == __WEBPACK_IMPORTED_MODULE_6__data_enum__["j" /* InviteState */].Rejected) {
                                    member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].Rejected;
                                }
                                else {
                                    member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].AcceptWait;
                                }
                            }
                            if (todostate == __WEBPACK_IMPORTED_MODULE_6__data_enum__["a" /* CompleteState */].Completed) {
                                member.wc = __WEBPACK_IMPORTED_MODULE_6__data_enum__["f" /* EventFinishStatus */].Finished;
                            }
                            else {
                                member.wc = __WEBPACK_IMPORTED_MODULE_6__data_enum__["f" /* EventFinishStatus */].NonFinish;
                            }
                        }
                        else {
                            member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].AcceptWait;
                            member.wc = __WEBPACK_IMPORTED_MODULE_6__data_enum__["f" /* EventFinishStatus */].NonFinish;
                        }
                        agenda.members.push(member);
                        _d.label = 59;
                    case 59:
                        _b++;
                        return [3 /*break*/, 56];
                    case 60:
                        if (!(bsqls.length > 0)) return [3 /*break*/, 62];
                        return [4 /*yield*/, this.sqlExce.batExecSql(bsqls)];
                    case 61:
                        _d.sent();
                        _d.label = 62;
                    case 62:
                        _loop_2 = function (unknown) {
                            var origins, origin, btbl, one, member, sharestate, datastate, invitestate, todostate;
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        if (!originmembers)
                                            return [2 /*return*/, "continue"]; // 存在历史错误数据，忽略处理
                                        origins = originmembers.filter(function (element) {
                                            return element.rc == unknown;
                                        });
                                        origin = (origins && origins.length > 0) ? origins[0] : null;
                                        btbl = new __WEBPACK_IMPORTED_MODULE_9__service_sqlite_tbl_b_tbl__["a" /* BTbl */]();
                                        if (origin) {
                                            Object.assign(btbl, origin);
                                        }
                                        else {
                                            btbl = null;
                                        }
                                        return [4 /*yield*/, this_2.contactsServ.addSharedContact(unknown, btbl)];
                                    case 1:
                                        one = _a.sent();
                                        if (one && one.rc) {
                                            member = {};
                                            Object.assign(member, one);
                                            sharestate = dsPara.share[member['rc']];
                                            if (sharestate) {
                                                datastate = sharestate['datastate'];
                                                invitestate = sharestate['invitestate'];
                                                todostate = sharestate['todostate'];
                                                if (datastate == __WEBPACK_IMPORTED_MODULE_6__data_enum__["d" /* DelType */].del) {
                                                    member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].Removed;
                                                }
                                                else {
                                                    if (invitestate == __WEBPACK_IMPORTED_MODULE_6__data_enum__["j" /* InviteState */].Accepted) {
                                                        member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].Accepted;
                                                    }
                                                    else if (invitestate == __WEBPACK_IMPORTED_MODULE_6__data_enum__["j" /* InviteState */].Rejected) {
                                                        member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].Rejected;
                                                    }
                                                    else {
                                                        member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].AcceptWait;
                                                    }
                                                }
                                                if (todostate == __WEBPACK_IMPORTED_MODULE_6__data_enum__["a" /* CompleteState */].Completed) {
                                                    member.wc = __WEBPACK_IMPORTED_MODULE_6__data_enum__["f" /* EventFinishStatus */].Finished;
                                                }
                                                else {
                                                    member.wc = __WEBPACK_IMPORTED_MODULE_6__data_enum__["f" /* EventFinishStatus */].NonFinish;
                                                }
                                            }
                                            else {
                                                member.sdt = __WEBPACK_IMPORTED_MODULE_6__data_enum__["n" /* MemberShareState */].AcceptWait;
                                                member.wc = __WEBPACK_IMPORTED_MODULE_6__data_enum__["f" /* EventFinishStatus */].NonFinish;
                                            }
                                            agenda.members.push(member);
                                        }
                                        else {
                                        }
                                        return [2 /*return*/];
                                }
                            });
                        };
                        this_2 = this;
                        _c = 0, unknowncontacts_4 = unknowncontacts_3;
                        _d.label = 63;
                    case 63:
                        if (!(_c < unknowncontacts_4.length)) return [3 /*break*/, 66];
                        unknown = unknowncontacts_4[_c];
                        return [5 /*yield**/, _loop_2(unknown)];
                    case 64:
                        _d.sent();
                        _d.label = 65;
                    case 65:
                        _c++;
                        return [3 /*break*/, 63];
                    case 66: return [4 /*yield*/, this.eventService.receivedAgendaData([agenda], this.convertSyncStatus(dsPara.status))];
                    case 67:
                        _d.sent();
                        _d.label = 68;
                    case 68:
                        if (!(dsPara.type == "Memo")) return [3 /*break*/, 70];
                        memo = {};
                        Object.assign(memo, dsPara.data);
                        return [4 /*yield*/, this.memoService.receivedMemoData(memo, this.convertSyncStatus(dsPara.status))];
                    case 69:
                        _d.sent();
                        _d.label = 70;
                    case 70:
                        if (!(dsPara.type == "Attachment")) return [3 /*break*/, 72];
                        attachment = {};
                        Object.assign(attachment, dsPara.data);
                        return [4 /*yield*/, this.eventService.receivedAttachmentData([attachment], this.convertSyncStatus(dsPara.status))];
                    case 71:
                        _d.sent();
                        _d.label = 72;
                    case 72: return [2 /*return*/, contextRetMap];
                }
            });
        });
    };
    DataSyncProcess.prototype.convertSyncStatus = function (status) {
        if (status == __WEBPACK_IMPORTED_MODULE_6__data_enum__["B" /* SyncDataStatus */].Deleted) {
            return __WEBPACK_IMPORTED_MODULE_6__data_enum__["B" /* SyncDataStatus */].Deleted;
        }
        if (status == __WEBPACK_IMPORTED_MODULE_6__data_enum__["B" /* SyncDataStatus */].UnDeleted) {
            return __WEBPACK_IMPORTED_MODULE_6__data_enum__["B" /* SyncDataStatus */].UnDeleted;
        }
        return __WEBPACK_IMPORTED_MODULE_6__data_enum__["B" /* SyncDataStatus */].UnDeleted;
    };
    DataSyncProcess = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_util_service_emit_service__["a" /* EmitService */],
            __WEBPACK_IMPORTED_MODULE_8__service_cordova_contacts_service__["a" /* ContactsService */],
            __WEBPACK_IMPORTED_MODULE_3__service_business_calendar_service__["a" /* CalendarService */],
            __WEBPACK_IMPORTED_MODULE_4__service_business_event_service__["b" /* EventService */],
            __WEBPACK_IMPORTED_MODULE_5__service_business_memo_service__["a" /* MemoService */],
            __WEBPACK_IMPORTED_MODULE_10__service_restful_personsev__["a" /* PersonRestful */],
            __WEBPACK_IMPORTED_MODULE_11__service_util_service_sqlite_exec__["a" /* SqliteExec */]])
    ], DataSyncProcess);
    return DataSyncProcess;
}());

//# sourceMappingURL=datasync.process.js.map

/***/ }),
/* 572 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PermissionsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ionic_native_android_permissions__ = __webpack_require__(573);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/**
 * 请求权限service
 * create by wzy on 2018/05/28.
 */
var PermissionsService = (function () {
    function PermissionsService(androidPermissions) {
        this.androidPermissions = androidPermissions;
        //APP使用权限 4 android
        this.list_all = [
            this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE,
            this.androidPermissions.PERMISSION.RECORD_AUDIO,
            this.androidPermissions.PERMISSION.ACCESS_NETWORK_STATE,
            this.androidPermissions.PERMISSION.READ_PHONE_STATE,
            this.androidPermissions.PERMISSION.MODIFY_AUDIO_SETTINGS,
            this.androidPermissions.PERMISSION.WRITE_SETTINGS,
            this.androidPermissions.PERMISSION.ACCESS_WIFI_STATE,
            this.androidPermissions.PERMISSION.CHANGE_WIFI_STATE,
            this.androidPermissions.PERMISSION.READ_CALENDAR,
            this.androidPermissions.PERMISSION.WRITE_CALENDAR,
            this.androidPermissions.PERMISSION.RECEIVE_BOOT_COMPLETED,
            this.androidPermissions.PERMISSION.WAKE_LOCK,
            this.androidPermissions.PERMISSION.VIBRATE,
            this.androidPermissions.PERMISSION.BLUETOOTH,
            this.androidPermissions.PERMISSION.READ_CONTACTS,
            this.androidPermissions.PERMISSION.ACCESS_FINE_LOCATION,
            this.androidPermissions.PERMISSION.CAMERA,
            this.androidPermissions.PERMISSION.MOUNT_UNMOUNT_FILESYSTEMS,
        ];
    }
    PermissionsService.prototype.checkAllPermissions = function () {
        var _this = this;
        var i = 0;
        return this.checkPermission(this.list_all[i++])
            .then(function (res) {
            return _this.checkPermission(_this.list_all[i++]);
        })
            .then(function (res) {
            return _this.checkPermission(_this.list_all[i++]);
        }).then(function (res) {
            return _this.checkPermission(_this.list_all[i++]);
        }).then(function (res) {
            return _this.checkPermission(_this.list_all[i++]);
        }).then(function (res) {
            return _this.checkPermission(_this.list_all[i++]);
        }).then(function (res) {
            return _this.checkPermission(_this.list_all[i++]);
        }).then(function (res) {
            return _this.checkPermission(_this.list_all[i++]);
        }).then(function (res) {
            return _this.checkPermission(_this.list_all[i++]);
        }).then(function (res) {
            return _this.checkPermission(_this.list_all[i++]);
        }).then(function (res) {
            return _this.checkPermission(_this.list_all[i++]);
        }).then(function (res) {
            return _this.checkPermission(_this.list_all[i++]);
        }).then(function (res) {
            return _this.checkPermission(_this.list_all[i++]);
        }).then(function (res) {
            return _this.checkPermission(_this.list_all[i++]);
        }).then(function (res) {
            return _this.checkPermission(_this.list_all[i++]);
        }).then(function (res) {
            return _this.checkPermission(_this.list_all[i++]);
        }).then(function (res) {
            return _this.checkPermission(_this.list_all[i++]);
        }).then(function (res) {
            return _this.checkPermission(_this.list_all[i++]);
        }).catch(function (err) {
            return;
        });
    };
    PermissionsService.prototype.checkPermission = function (permission) {
        var _this = this;
        return this.androidPermissions.checkPermission(permission).then(function (result) {
            if (!result.hasPermission) {
                return _this.androidPermissions.requestPermission(permission);
            }
        });
    };
    PermissionsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__ionic_native_android_permissions__["a" /* AndroidPermissions */]])
    ], PermissionsService);
    return PermissionsService;
}());

//# sourceMappingURL=permissions.service.js.map

/***/ }),
/* 573 */,
/* 574 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SqliteInit; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__tbl_sp_tbl__ = __webpack_require__(249);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__tbl_a_tbl__ = __webpack_require__(89);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__tbl_b_tbl__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__tbl_bx_tbl__ = __webpack_require__(154);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__tbl_c_tbl__ = __webpack_require__(247);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__tbl_d_tbl__ = __webpack_require__(152);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__tbl_e_tbl__ = __webpack_require__(119);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__tbl_g_tbl__ = __webpack_require__(153);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__tbl_jh_tbl__ = __webpack_require__(248);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__tbl_s_tbl__ = __webpack_require__(491);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__tbl_u_tbl__ = __webpack_require__(109);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__tbl_y_tbl__ = __webpack_require__(84);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__restful_syncsev__ = __webpack_require__(112);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__tbl_st_tbl__ = __webpack_require__(947);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__tbl_bh_tbl__ = __webpack_require__(145);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__tbl_jt_tbl__ = __webpack_require__(545);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__tbl_log_tbl__ = __webpack_require__(104);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__tbl_su_tbl__ = __webpack_require__(253);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__tbl_mk_tbl__ = __webpack_require__(549);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__tbl_mo_tbl__ = __webpack_require__(575);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__tbl_jha_tbl__ = __webpack_require__(223);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__tbl_mom_tbl__ = __webpack_require__(225);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__tbl_jta_tbl__ = __webpack_require__(505);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__tbl_ev_tbl__ = __webpack_require__(221);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__tbl_ca_tbl__ = __webpack_require__(503);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__tbl_t_tbl__ = __webpack_require__(502);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__tbl_wa_tbl__ = __webpack_require__(504);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__tbl_fj_tbl__ = __webpack_require__(224);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__tbl_mrk_tbl__ = __webpack_require__(948);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__tbl_par_tbl__ = __webpack_require__(222);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__data_enum__ = __webpack_require__(18);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


































/**
 * create by on 2019/3/5
 */
var SqliteInit = (function () {
    function SqliteInit(sqlexec, util, syncRestful) {
        this.sqlexec = sqlexec;
        this.util = util;
        this.syncRestful = syncRestful;
    }
    /**
     * 创建/更新表
     * @param {string} updateSql 更新SQL
     * @returns {Promise<any>}
     */
    SqliteInit.prototype.createTables = function () {
        return __awaiter(this, void 0, void 0, function () {
            var a, b, bx, c, d, e, g, jh, s, sp, u, y, st, bh, jt, su, mk, mo, mom, jha, jta, ev, ca, t, wa, fj, mrk, par;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        a = new __WEBPACK_IMPORTED_MODULE_2__tbl_a_tbl__["a" /* ATbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(a)];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(a)];
                    case 2:
                        _a.sent();
                        b = new __WEBPACK_IMPORTED_MODULE_3__tbl_b_tbl__["a" /* BTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(b)];
                    case 3:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(b)];
                    case 4:
                        _a.sent();
                        bx = new __WEBPACK_IMPORTED_MODULE_4__tbl_bx_tbl__["a" /* BxTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(bx)];
                    case 5:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(bx)];
                    case 6:
                        _a.sent();
                        c = new __WEBPACK_IMPORTED_MODULE_5__tbl_c_tbl__["a" /* CTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(c)];
                    case 7:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(c)];
                    case 8:
                        _a.sent();
                        d = new __WEBPACK_IMPORTED_MODULE_6__tbl_d_tbl__["a" /* DTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(d)];
                    case 9:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(d)];
                    case 10:
                        _a.sent();
                        e = new __WEBPACK_IMPORTED_MODULE_7__tbl_e_tbl__["a" /* ETbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(e)];
                    case 11:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(e)];
                    case 12:
                        _a.sent();
                        g = new __WEBPACK_IMPORTED_MODULE_8__tbl_g_tbl__["a" /* GTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(g)];
                    case 13:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(g)];
                    case 14:
                        _a.sent();
                        jh = new __WEBPACK_IMPORTED_MODULE_9__tbl_jh_tbl__["a" /* JhTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(jh)];
                    case 15:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(jh)];
                    case 16:
                        _a.sent();
                        s = new __WEBPACK_IMPORTED_MODULE_10__tbl_s_tbl__["a" /* STbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(s)];
                    case 17:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(s)];
                    case 18:
                        _a.sent();
                        sp = new __WEBPACK_IMPORTED_MODULE_1__tbl_sp_tbl__["a" /* SpTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(sp)];
                    case 19:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(sp)];
                    case 20:
                        _a.sent();
                        u = new __WEBPACK_IMPORTED_MODULE_11__tbl_u_tbl__["a" /* UTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(u)];
                    case 21:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(u)];
                    case 22:
                        _a.sent();
                        y = new __WEBPACK_IMPORTED_MODULE_12__tbl_y_tbl__["a" /* YTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(y)];
                    case 23:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(y)];
                    case 24:
                        _a.sent();
                        st = new __WEBPACK_IMPORTED_MODULE_16__tbl_st_tbl__["a" /* StTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(st)];
                    case 25:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(st)];
                    case 26:
                        _a.sent();
                        bh = new __WEBPACK_IMPORTED_MODULE_17__tbl_bh_tbl__["a" /* BhTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(bh)];
                    case 27:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(bh)];
                    case 28:
                        _a.sent();
                        jt = new __WEBPACK_IMPORTED_MODULE_18__tbl_jt_tbl__["a" /* JtTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(jt)];
                    case 29:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(jt)];
                    case 30:
                        _a.sent();
                        su = new __WEBPACK_IMPORTED_MODULE_20__tbl_su_tbl__["a" /* SuTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(su)];
                    case 31:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(su)];
                    case 32:
                        _a.sent();
                        mk = new __WEBPACK_IMPORTED_MODULE_21__tbl_mk_tbl__["a" /* MkTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(mk)];
                    case 33:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(mk)];
                    case 34:
                        _a.sent();
                        mo = new __WEBPACK_IMPORTED_MODULE_22__tbl_mo_tbl__["a" /* MoTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(mo)];
                    case 35:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(mo)];
                    case 36:
                        _a.sent();
                        mom = new __WEBPACK_IMPORTED_MODULE_24__tbl_mom_tbl__["a" /* MomTbl */]();
                        return [4 /*yield*/, this.sqlexec.dropByParam(mom)];
                    case 37:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.createByParam(mom)];
                    case 38:
                        _a.sent();
                        jha = new __WEBPACK_IMPORTED_MODULE_23__tbl_jha_tbl__["a" /* JhaTbl */]();
                        return [4 /*yield*/, this.sqlexec.dropByParam(jha)];
                    case 39:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.createByParam(jha)];
                    case 40:
                        _a.sent();
                        jta = new __WEBPACK_IMPORTED_MODULE_25__tbl_jta_tbl__["a" /* JtaTbl */]();
                        return [4 /*yield*/, this.sqlexec.dropByParam(jta)];
                    case 41:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.createByParam(jta)];
                    case 42:
                        _a.sent();
                        ev = new __WEBPACK_IMPORTED_MODULE_26__tbl_ev_tbl__["a" /* EvTbl */]();
                        return [4 /*yield*/, this.sqlexec.dropByParam(ev)];
                    case 43:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.createByParam(ev)];
                    case 44:
                        _a.sent();
                        ca = new __WEBPACK_IMPORTED_MODULE_27__tbl_ca_tbl__["a" /* CaTbl */]();
                        return [4 /*yield*/, this.sqlexec.dropByParam(ca)];
                    case 45:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.createByParam(ca)];
                    case 46:
                        _a.sent();
                        t = new __WEBPACK_IMPORTED_MODULE_28__tbl_t_tbl__["a" /* TTbl */]();
                        return [4 /*yield*/, this.sqlexec.dropByParam(t)];
                    case 47:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.createByParam(t)];
                    case 48:
                        _a.sent();
                        wa = new __WEBPACK_IMPORTED_MODULE_29__tbl_wa_tbl__["a" /* WaTbl */]();
                        return [4 /*yield*/, this.sqlexec.dropByParam(wa)];
                    case 49:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.createByParam(wa)];
                    case 50:
                        _a.sent();
                        fj = new __WEBPACK_IMPORTED_MODULE_30__tbl_fj_tbl__["a" /* FjTbl */]();
                        return [4 /*yield*/, this.sqlexec.dropByParam(fj)];
                    case 51:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.createByParam(fj)];
                    case 52:
                        _a.sent();
                        mrk = new __WEBPACK_IMPORTED_MODULE_31__tbl_mrk_tbl__["a" /* MrkTbl */]();
                        return [4 /*yield*/, this.sqlexec.dropByParam(mrk)];
                    case 53:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.createByParam(mrk)];
                    case 54:
                        _a.sent();
                        par = new __WEBPACK_IMPORTED_MODULE_32__tbl_par_tbl__["a" /* ParTbl */]();
                        return [4 /*yield*/, this.sqlexec.dropByParam(par)];
                    case 55:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.createByParam(par)];
                    case 56:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 创建/更新表
     * @param {string} updateSql 更新SQL
     * @returns {Promise<any>}
     */
    SqliteInit.prototype.createTablespath = function (version, from) {
        return __awaiter(this, void 0, void 0, function () {
            var log, su, deviceUUIDTbl, mk, dailyReportTbl, dailyReportParamTbl, mo, altercols, defaultJhParamTbl, defaultjhs, jh;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(version == 1)) return [3 /*break*/, 3];
                        log = new __WEBPACK_IMPORTED_MODULE_19__tbl_log_tbl__["a" /* LogTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(log)];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(log)];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 22];
                    case 3:
                        if (!(version == 2)) return [3 /*break*/, 6];
                        su = new __WEBPACK_IMPORTED_MODULE_20__tbl_su_tbl__["a" /* SuTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(su)];
                    case 4:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(su)];
                    case 5:
                        _a.sent();
                        return [3 /*break*/, 22];
                    case 6:
                        if (!(version == 3)) return [3 /*break*/, 8];
                        deviceUUIDTbl = new __WEBPACK_IMPORTED_MODULE_12__tbl_y_tbl__["a" /* YTbl */]();
                        deviceUUIDTbl.yi = this.util.getUuid();
                        deviceUUIDTbl.yt = "DI";
                        deviceUUIDTbl.yk = "DI";
                        deviceUUIDTbl.yv = this.util.deviceId();
                        return [4 /*yield*/, this.sqlexec.save(deviceUUIDTbl)];
                    case 7:
                        _a.sent();
                        return [3 /*break*/, 22];
                    case 8:
                        if (!(version == 4)) return [3 /*break*/, 11];
                        mk = new __WEBPACK_IMPORTED_MODULE_21__tbl_mk_tbl__["a" /* MkTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(mk)];
                    case 9:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(mk)];
                    case 10:
                        _a.sent();
                        return [3 /*break*/, 22];
                    case 11:
                        if (!(version == 5)) return [3 /*break*/, 17];
                        if (!(from > 0 && from < 5)) return [3 /*break*/, 14];
                        dailyReportTbl = new __WEBPACK_IMPORTED_MODULE_12__tbl_y_tbl__["a" /* YTbl */]();
                        dailyReportTbl.yi = this.util.getUuid();
                        dailyReportTbl.yt = "DR";
                        dailyReportTbl.yk = "DR";
                        dailyReportTbl.ytn = "每日简报";
                        dailyReportTbl.yn = "每日简报";
                        dailyReportTbl.yv = "1";
                        return [4 /*yield*/, this.sqlexec.save(dailyReportTbl)];
                    case 12:
                        _a.sent();
                        dailyReportParamTbl = new __WEBPACK_IMPORTED_MODULE_12__tbl_y_tbl__["a" /* YTbl */]();
                        dailyReportParamTbl.yi = this.util.getUuid();
                        dailyReportParamTbl.yt = "DRP1";
                        dailyReportParamTbl.yk = "DRP1";
                        dailyReportParamTbl.ytn = "每日简报";
                        dailyReportParamTbl.yn = "每日简报 通知时间";
                        dailyReportParamTbl.yv = "08:30";
                        return [4 /*yield*/, this.sqlexec.save(dailyReportParamTbl)];
                    case 13:
                        _a.sent();
                        _a.label = 14;
                    case 14:
                        mo = new __WEBPACK_IMPORTED_MODULE_22__tbl_mo_tbl__["a" /* MoTbl */]();
                        return [4 /*yield*/, this.sqlexec.drop(mo)];
                    case 15:
                        _a.sent();
                        return [4 /*yield*/, this.sqlexec.create(mo)];
                    case 16:
                        _a.sent();
                        return [3 /*break*/, 22];
                    case 17:
                        if (!(version == 6)) return [3 /*break*/, 22];
                        if (!(from > 0 && from < 6)) return [3 /*break*/, 20];
                        altercols = new Array();
                        altercols.push("alter table gtd_jt add column fjt varchar(20);");
                        altercols.push("alter table gtd_jt add column fjn varchar(20);");
                        altercols.push("alter table gtd_jt add column fj varchar(50);");
                        return [4 /*yield*/, this.sqlexec.batExecSql(altercols)];
                    case 18:
                        _a.sent();
                        defaultJhParamTbl = new __WEBPACK_IMPORTED_MODULE_12__tbl_y_tbl__["a" /* YTbl */]();
                        defaultJhParamTbl.yi = this.util.getUuid();
                        defaultJhParamTbl.yt = "DJH";
                        defaultJhParamTbl.yk = "DJH";
                        defaultJhParamTbl.ytn = "缺省日历";
                        defaultJhParamTbl.yn = "日程创建 缺省日历 个人";
                        defaultJhParamTbl.yv = "personalcalendar";
                        return [4 /*yield*/, this.sqlexec.save(defaultJhParamTbl)];
                    case 19:
                        _a.sent();
                        _a.label = 20;
                    case 20:
                        defaultjhs = new Array();
                        jh = new __WEBPACK_IMPORTED_MODULE_9__tbl_jh_tbl__["a" /* JhTbl */]();
                        jh.ji = 'personalcalendar';
                        jh.jn = '个人';
                        jh.jg = '个人';
                        jh.jc = '#735e46';
                        jh.jt = '2';
                        defaultjhs.push(jh.inT());
                        jh = new __WEBPACK_IMPORTED_MODULE_9__tbl_jh_tbl__["a" /* JhTbl */]();
                        jh.ji = 'workcalendar';
                        jh.jn = '工作';
                        jh.jg = '工作';
                        jh.jc = '#876a29';
                        jh.jt = '2';
                        defaultjhs.push(jh.inT());
                        return [4 /*yield*/, this.sqlexec.batExecSql(defaultjhs)];
                    case 21:
                        _a.sent();
                        _a.label = 22;
                    case 22: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 初始化表数据
     * @param {BsModel} data
     * @returns {Promise<any>}
     */
    SqliteInit.prototype.initDataSub = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            console.log("-------------------系统 ------------------");
            _this.syncRestful.initData().then(function (data) { return __awaiter(_this, void 0, void 0, function () {
                var s, urlList, _i, _a, apil, stbl, su, _b, _c, vrs, sutbl;
                return __generator(this, function (_d) {
                    switch (_d.label) {
                        case 0:
                            s = new __WEBPACK_IMPORTED_MODULE_10__tbl_s_tbl__["a" /* STbl */]();
                            return [4 /*yield*/, this.sqlexec.drop(s)];
                        case 1:
                            _d.sent();
                            return [4 /*yield*/, this.sqlexec.create(s)];
                        case 2:
                            _d.sent();
                            urlList = [];
                            for (_i = 0, _a = data.apil; _i < _a.length; _i++) {
                                apil = _a[_i];
                                stbl = new __WEBPACK_IMPORTED_MODULE_10__tbl_s_tbl__["a" /* STbl */]();
                                stbl.si = this.util.getUuid();
                                stbl.st = "URL";
                                stbl.stn = "URL";
                                stbl.sn = apil.desc;
                                stbl.yk = apil.name;
                                stbl.yv = apil.value;
                                urlList.push(stbl.inT());
                            }
                            su = new __WEBPACK_IMPORTED_MODULE_20__tbl_su_tbl__["a" /* SuTbl */]();
                            return [4 /*yield*/, this.sqlexec.drop(su)];
                        case 3:
                            _d.sent();
                            return [4 /*yield*/, this.sqlexec.create(su)];
                        case 4:
                            _d.sent();
                            //服务器 语音数据
                            for (_b = 0, _c = data.vrs; _b < _c.length; _b++) {
                                vrs = _c[_b];
                                //v2版本
                                if (vrs.needAnswer) {
                                    sutbl = new __WEBPACK_IMPORTED_MODULE_20__tbl_su_tbl__["a" /* SuTbl */]();
                                    sutbl.sui = this.util.getUuid();
                                    sutbl.subt = vrs.name;
                                    sutbl.sust = vrs.type;
                                    sutbl.sus = vrs.needAnswer;
                                    sutbl.suc = vrs.value;
                                    sutbl.sum = vrs.desc;
                                    sutbl.subtsn = "";
                                    sutbl.sustsn = "";
                                    sutbl.sut = vrs.tips ? vrs.tips : "";
                                    urlList.push(sutbl.inT());
                                }
                            }
                            //web端
                            this.sqlexec.batExecSql(urlList).then(function (data) {
                                resolve(data);
                            });
                            return [2 /*return*/];
                    }
                });
            }); }).catch(function (err) {
                resolve(err);
            });
        });
    };
    /**
     * 初始化表数据
     * @param {BsModel} data
     * @returns {Promise<any>}
     */
    SqliteInit.prototype.initData = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            console.log("-------------------BaseSqlite initData table  data to start ------------------");
            _this.syncRestful.initData().then(function (data) { return __awaiter(_this, void 0, void 0, function () {
                var s, urlList, _i, _a, apil, stbl, _b, _c, bipl, jhatbl, _d, _e, dpfu, ytbl, su, _f, _g, vrs, sutbl;
                return __generator(this, function (_h) {
                    switch (_h.label) {
                        case 0:
                            s = new __WEBPACK_IMPORTED_MODULE_10__tbl_s_tbl__["a" /* STbl */]();
                            return [4 /*yield*/, this.sqlexec.drop(s)];
                        case 1:
                            _h.sent();
                            return [4 /*yield*/, this.sqlexec.create(s)];
                        case 2:
                            _h.sent();
                            urlList = new Array();
                            for (_i = 0, _a = data.apil; _i < _a.length; _i++) {
                                apil = _a[_i];
                                stbl = new __WEBPACK_IMPORTED_MODULE_10__tbl_s_tbl__["a" /* STbl */]();
                                stbl.si = this.util.getUuid();
                                stbl.st = "URL";
                                stbl.stn = "URL";
                                stbl.sn = apil.desc;
                                stbl.yk = apil.name;
                                stbl.yv = apil.value;
                                urlList.push(stbl.inT());
                            }
                            //服务器 计划数据
                            for (_b = 0, _c = data.bipl; _b < _c.length; _b++) {
                                bipl = _c[_b];
                                jhatbl = new __WEBPACK_IMPORTED_MODULE_23__tbl_jha_tbl__["a" /* JhaTbl */]();
                                jhatbl.ji = bipl.planid;
                                jhatbl.jn = bipl.planname;
                                jhatbl.jg = bipl.plandesc;
                                jhatbl.jc = bipl.planmark;
                                jhatbl.jt = "1";
                                jhatbl.tb = __WEBPACK_IMPORTED_MODULE_33__data_enum__["C" /* SyncType */].synch;
                                jhatbl.del = __WEBPACK_IMPORTED_MODULE_33__data_enum__["d" /* DelType */].undel;
                                jhatbl.jtd = "0";
                                urlList.push(jhatbl.inTParam());
                            }
                            //服务器 用户偏好数据
                            for (_d = 0, _e = data.dpfu; _d < _e.length; _d++) {
                                dpfu = _e[_d];
                                ytbl = new __WEBPACK_IMPORTED_MODULE_12__tbl_y_tbl__["a" /* YTbl */]();
                                ytbl.yi = this.util.getUuid();
                                ;
                                ytbl.yt = dpfu.name;
                                ytbl.ytn = dpfu.desc;
                                ytbl.yn = dpfu.desc;
                                ytbl.yk = dpfu.name;
                                ytbl.yv = dpfu.value;
                                urlList.push(ytbl.inT());
                            }
                            su = new __WEBPACK_IMPORTED_MODULE_20__tbl_su_tbl__["a" /* SuTbl */]();
                            return [4 /*yield*/, this.sqlexec.drop(su)];
                        case 3:
                            _h.sent();
                            return [4 /*yield*/, this.sqlexec.create(su)];
                        case 4:
                            _h.sent();
                            //服务器 语音数据
                            for (_f = 0, _g = data.vrs; _f < _g.length; _f++) {
                                vrs = _g[_f];
                                //v2版本
                                if (vrs.needAnswer) {
                                    sutbl = new __WEBPACK_IMPORTED_MODULE_20__tbl_su_tbl__["a" /* SuTbl */]();
                                    sutbl.sui = this.util.getUuid();
                                    sutbl.subt = vrs.name;
                                    sutbl.sust = vrs.type;
                                    sutbl.sus = vrs.needAnswer;
                                    sutbl.suc = vrs.value;
                                    sutbl.sum = vrs.desc;
                                    sutbl.subtsn = "";
                                    sutbl.sustsn = "";
                                    sutbl.sut = vrs.tips ? vrs.tips : "";
                                    urlList.push(sutbl.inT());
                                }
                            }
                            //web端
                            this.sqlexec.batExecSqlByParam(urlList).then(function (data) {
                                resolve(data);
                            });
                            return [2 /*return*/];
                    }
                });
            }); }).catch(function (error) {
                resolve(error);
            });
        });
    };
    SqliteInit = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_13__util_service_sqlite_exec__["a" /* SqliteExec */], __WEBPACK_IMPORTED_MODULE_14__util_service_util_service__["a" /* UtilService */], __WEBPACK_IMPORTED_MODULE_15__restful_syncsev__["a" /* SyncRestful */]])
    ], SqliteInit);
    return SqliteInit;
}());

//# sourceMappingURL=sqlite.init.js.map

/***/ }),
/* 575 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MoTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/4/16
 */
var MoTbl = (function () {
    function MoTbl() {
        this.moi = "";
        this.si = "";
        this.ji = "";
        this.mon = "";
        this.sd = "";
        this.st = "";
        this.ed = "";
        this.et = "";
        this.wtt = 0;
    }
    MoTbl.prototype.cT = function () {
        var sq = ' create table if not exists gtd_mo(moi varchar(50) primary key ,' +
            'si varchar(50)  ,ji varchar(50)  ,mon varchar(50)  ,sd varchar(20)' +
            ' ,st varchar(20)  ,ed varchar(20)  ,et varchar(20), ' +
            'wtt integer);';
        return sq;
    };
    MoTbl.prototype.upT = function () {
        var sq = '';
        if (this.moi != null && this.moi != "") {
            sq = sq + ', moi="' + this.moi + '"';
        }
        if (this.mon != null && this.mon != "") {
            sq = sq + ', mon="' + this.mon + '"';
        }
        if (this.sd != null && this.sd != "") {
            sq = sq + ', sd="' + this.sd + '"';
        }
        if (this.st != null && this.st != "") {
            sq = sq + ', st="' + this.st + '"';
        }
        if (this.ed != null && this.ed != "") {
            sq = sq + ', ed="' + this.ed + '"';
        }
        if (this.et != null && this.et != "") {
            sq = sq + ', et="' + this.et + '"';
        }
        if (this.ji != null && this.ji != "") {
            sq = sq + ', ji="' + this.ji + '"';
        }
        if (this.si != null && this.si != "") {
            sq = sq + ', si="' + this.si + '"';
        }
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = 'update gtd_mo set  ' + sq + ' where moi = "' + this.moi + '";';
        return sq;
    };
    MoTbl.prototype.dT = function () {
        var sq = 'delete from gtd_mo where 1=1 ';
        if (this.moi != null && this.moi != "") {
            sq = sq + 'and  moi ="' + this.moi + '"';
        }
        if (this.ji != null && this.ji != "") {
            sq = sq + 'and  ji ="' + this.ji + '"';
        }
        if (this.si != null && this.si != "") {
            sq = sq + 'and  si ="' + this.si + '"';
        }
        sq = sq + ';';
        return sq;
    };
    MoTbl.prototype.sloT = function () {
        var sq = 'select * from gtd_mo where moi = "' + this.moi + '";';
        return sq;
    };
    MoTbl.prototype.slT = function () {
        var sq = 'select * from  gtd_mo where  1=1 ';
        if (this.mon != null && this.mon != "") {
            sq = sq + ' and mon="' + this.mon + '"';
        }
        if (this.sd != null && this.sd != "") {
            sq = sq + ' and sd="' + this.sd + '"';
        }
        if (this.st != null && this.st != "") {
            sq = sq + ' and st="' + this.st + '"';
        }
        if (this.ed != null && this.ed != "") {
            sq = sq + ' and ed="' + this.ed + '"';
        }
        if (this.et != null && this.et != "") {
            sq = sq + ' and et="' + this.et + '"';
        }
        if (this.ji != null && this.ji != "") {
            sq = sq + ' and ji="' + this.ji + '"';
        }
        if (this.si != null && this.si != "") {
            sq = sq + ' and si="' + this.si + '"';
        }
        if (this.moi != null && this.moi != "") {
            sq = sq + ' and moi="' + this.moi + '"';
        }
        sq = sq + ';';
        return sq;
    };
    MoTbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_mo;';
        return sq;
    };
    MoTbl.prototype.inT = function () {
        var sq = 'insert into gtd_mo ' +
            '( moi ,si , ji ,mon ,sd ,st ,ed ,et ,px ,bz ,wtt) values("' + this.moi + '","' + this.si + '","' + this.ji + '","' + this.mon + '"' +
            ',"' + this.sd + '","' + this.st + '","' + this.ed + '","' + this.et + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    MoTbl.prototype.rpT = function () {
        var sq = 'replace into gtd_mo ' +
            '( moi ,si ,ji ,mon ,sd ,st ,ed ,et ,wtt) values("' + this.moi + '","' + this.si + '","' + this.ji + '","' + this.mon + '"' +
            ',"' + this.sd + '","' + this.st + '","' + this.ed + '","' + this.et + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    MoTbl.prototype.preT = function () {
        var sq = 'insert into gtd_mo ' +
            '( moi ,si , ji ,mon ,sd ,st ,ed ,et ,px ,bz ,wtt) values(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    return MoTbl;
}());

//# sourceMappingURL=mo.tbl.js.map

/***/ }),
/* 576 */,
/* 577 */,
/* 578 */,
/* 579 */,
/* 580 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LsPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ls_service__ = __webpack_require__(164);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_business_effect_service__ = __webpack_require__(163);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__data_mapping__ = __webpack_require__(20);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






/**
 * Generated class for the 登陆（短信） page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var LsPage = (function () {
    function LsPage(navCtrl, util, effectService, lsService) {
        this.navCtrl = navCtrl;
        this.util = util;
        this.effectService = effectService;
        this.lsService = lsService;
        this.statusBarColor = "#fff";
        this.login = new __WEBPACK_IMPORTED_MODULE_5__data_mapping__["i" /* PageLoginData */]();
        this.timeText = "获取验证码";
        this.opa = "0.4";
        this.enableSendSMS = true;
    }
    LsPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    LsPage.prototype.userAgreement = function () {
        this.navCtrl.push('PPage');
    };
    LsPage.prototype.toR = function () {
        this.navCtrl.push('RPage');
    };
    LsPage.prototype.toLp = function () {
        this.navCtrl.push('LpPage');
    };
    LsPage.prototype.sendSms = function () {
        var _this = this;
        if (this.checkPhone()) {
            this.enableSendSMS = false;
            this.lsService.getSMSCode(this.login.phoneno).then(function (data) {
                console.log("短信发送成功" + JSON.stringify(data));
                //短信验证码KEY 赋值给验证码登录信息
                _this.login.verifykey = data.verifykey;
                _this.util.toastStart("短信发送成功", 1500);
                _this.timeText = 60;
                console.log("开始" + _this.timeText + "定时器");
                _this.timer = setInterval(function () {
                    _this.timeText--;
                    if (_this.timeText <= 0) {
                        clearTimeout(_this.timer);
                        console.log("清除定时器");
                        _this.timeText = "发送验证码";
                        _this.enableSendSMS = true;
                    }
                }, 1000);
            }).catch(function (error) {
                clearTimeout(_this.timer);
                _this.timeText = "发送验证码";
                _this.enableSendSMS = true;
                _this.util.toastStart("短信发送失败", 1500);
            });
        }
    };
    LsPage.prototype.signIn = function () {
        var _this = this;
        if (this.checkPhone()) {
            if (this.login.verifycode == null || this.login.verifycode == "") {
                this.util.toastStart("验证码不能为空", 1500);
            }
            else if (this.login.verifykey == null || this.login.verifykey == "") {
                this.util.toastStart("请发送短信并填写正确的短信验证码", 1500);
            }
            else {
                this.util.loadingStart();
                this.lsService.login(this.login).then(function (data) {
                    if (!data || data.code != 0)
                        throw data;
                    return _this.lsService.getPersonMessage(data);
                }).then(function (data) {
                    if (data == "-1")
                        throw data;
                    return _this.lsService.getOther();
                }).then(function (data) {
                    // 拉取完整同步数据
                    _this.effectService.syncInitial();
                    _this.util.loadingEnd();
                    _this.navCtrl.setRoot('MPage');
                }).catch(function (error) {
                    _this.util.loadingEnd();
                    if (error && error.code && error.message != undefined && error.message != null && error.message != "") {
                        console.log(error.message);
                        _this.util.toastStart(error.message, 1500);
                    }
                    else {
                        console.log("手机验证码登录失败");
                        _this.util.toastStart("网络异常", 1500);
                    }
                });
            }
        }
    };
    LsPage.prototype.checkPhone = function () {
        if (!this.util.checkPhone(this.login.phoneno)) {
            this.util.popoverStart("请填写正确的手机号");
        }
        return this.util.checkPhone(this.login.phoneno);
    };
    LsPage.prototype.format = function () {
        if (this.login.phoneno.length == 11) {
            if (this.checkPhone() && this.login.verifycode != "" && this.login.verifycode.length == 6) {
                this.opa = "1";
            }
            else {
                this.opa = "0.4";
            }
        }
    };
    LsPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-ls',
            template: "\n  <ion-content>\n    <h1>\u77ED\u4FE1\u767B\u5F55</h1>\n    <ion-grid class=\"grid-login-basic no-padding-lr\">\n      <ion-row justify-content-between align-items-center>\n        <div >\n          <ion-input class=\"login-tel\" type=\"tel\" placeholder=\"\u5F00\u59CB\u8F93\u5165\u624B\u673A\u53F7\" [(ngModel)]=\"login.phoneno\" (input)=\"format()\"></ion-input>\n        </div>\n        <div>\n          <button ion-button  class=\"send-sms\" (click)=\"sendSms()\" [disabled]=\"!enableSendSMS\">{{timeText}}</button>\n        </div>\n      </ion-row>\n      <ion-row justify-content-between align-items-center>\n        <div >\n          <ion-input class=\"login-code\"  type=\"number\" placeholder=\"\u77ED\u4FE1\u9A8C\u8BC1\u7801\" [(ngModel)]=\"login.verifycode\" (input)=\"format()\"></ion-input>\n        </div>\n        <div>\n          <button ion-fab class=\"login-enter\" [ngStyle]=\"{'opacity': opa }\" (click)=\"signIn()\">\n            <ion-icon class=\"fal fa-sign-in-alt\"></ion-icon>\n          </button>\n        </div>\n      </ion-row>\n    </ion-grid>\n\n    <div class=\"login-div\" (click)=\"toLp()\">\u6539\u4E3A\u7528\u5BC6\u7801\u767B\u5F55</div>\n    <div class=\"login-div\" (click)=\"toR()\">\u6CA1\u6709\u8D26\u53F7\uFF0C\u7ACB\u5373\u6CE8\u518C</div>\n\n    <p class=\"text-agreement\">\u521B\u5EFA\u5E10\u6237\u5373\u8868\u793A\u60A8\u540C\u610F\u6211\u4EEC\u7684 <a class=\"text-anchor\" (click)=\"userAgreement()\">\u670D\u52A1\u6761\u6B3E</a> \u548C <a class=\"text-anchor\" (click)=\"userAgreement()\">\u9690\u79C1\u653F\u7B56</a> \u3002</p>\n  </ion-content>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_4__service_business_effect_service__["a" /* EffectService */],
            __WEBPACK_IMPORTED_MODULE_2__ls_service__["a" /* LsService */]])
    ], LsPage);
    return LsPage;
}());

//# sourceMappingURL=ls.js.map

/***/ }),
/* 581 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PfPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ls_ls_service__ = __webpack_require__(164);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ps_ps_service__ = __webpack_require__(122);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__data_mapping__ = __webpack_require__(20);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






/**
 * Generated class for the PfPage 忘记密码 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var PfPage = (function () {
    function PfPage(navCtrl, navParams, util, psService, lsService) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.util = util;
        this.psService = psService;
        this.lsService = lsService;
        this.login = new __WEBPACK_IMPORTED_MODULE_5__data_mapping__["i" /* PageLoginData */]();
        this.timeText = "获取验证码";
        this.opa = "0.4";
    }
    PfPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad PfPage');
    };
    PfPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    PfPage.prototype.userAgreement = function () {
        this.navCtrl.push('PPage');
    };
    PfPage.prototype.toR = function () {
        this.navCtrl.push('RPage');
    };
    PfPage.prototype.toLp = function () {
        this.navCtrl.push('LpPage');
    };
    PfPage.prototype.sendSms = function () {
        var _this = this;
        if (this.checkPhone()) {
            this.lsService.getSMSCode(this.login.phoneno).then(function (data) {
                //短信验证码KEY 赋值给验证码登录信息
                _this.login.verifykey = data.verifykey;
                _this.util.toastStart("短信发送成功", 2000);
                _this.timeText = 60;
                console.log("开始" + _this.timeText + "定时器");
                _this.timer = setInterval(function () {
                    _this.timeText--;
                    if (_this.timeText <= 0) {
                        clearTimeout(_this.timer);
                        console.log("清除定时器");
                        _this.timeText = "发送验证码";
                    }
                }, 1000);
            }).catch(function (error) {
                _this.util.toastStart("短信发送失败", 2000);
            });
        }
    };
    PfPage.prototype.signIn = function () {
        var _this = this;
        if (this.checkPhone()) {
            if (this.login.verifycode == null || this.login.verifycode == "") {
                this.util.popoverStart("验证码不能为空");
            }
            else if (this.login.userpassword == null || this.login.userpassword == "") {
                this.util.popoverStart("密码不能为空");
            }
            else if (this.login.verifykey == null || this.login.verifykey == "") {
                this.util.popoverStart("请发送短信并填写正确的短信验证码");
            }
            else {
                this.util.loadingStart();
                var unionid_1;
                this.lsService.login(this.login).then(function (data) {
                    if (data.code != 0)
                        throw data;
                    unionid_1 = data.data.unionid;
                    if (unionid_1 == "")
                        throw data;
                    return _this.lsService.getPersonMessage(data);
                }).then(function (data) {
                    return _this.lsService.getOther();
                }).then(function (data) {
                    return _this.psService.editPass(_this.login.userpassword, unionid_1);
                }).then(function (data) {
                    _this.util.loadingEnd();
                    _this.navCtrl.setRoot('MPage');
                    _this.util.popoverStart("忘记密码修改成功");
                }).catch(function (error) {
                    _this.util.loadingEnd();
                    _this.psService.deleteUser();
                    _this.util.popoverStart("忘记密码修改失败");
                });
            }
        }
    };
    PfPage.prototype.checkPhone = function () {
        if (!this.util.checkPhone(this.login.phoneno)) {
            this.util.popoverStart("请填写正确的手机号");
        }
        return this.util.checkPhone(this.login.phoneno);
    };
    PfPage.prototype.format = function () {
        if (this.login.phoneno.length == 11) {
            if (this.checkPhone() && this.login.verifycode != "" && this.login.verifycode.length == 6 && this.login.userpassword != "" && this.login.userpassword.length >= 4) {
                this.opa = "1";
            }
            else {
                this.opa = "0.4";
            }
        }
    };
    PfPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-pf',
            template: "\n    <ion-content>\n      <h1>\u5FD8\u8BB0\u5BC6\u7801</h1>\n      <ion-grid class=\"grid-login-basic no-padding-lr\">\n        <ion-row justify-content-between align-items-center>\n          <div >\n            <ion-input class=\"login-tel\" type=\"tel\" placeholder=\"\u5F00\u59CB\u8F93\u5165\u624B\u673A\u53F7\" [(ngModel)]=\"login.phoneno\" (input)=\"format()\"></ion-input>\n          </div>\n          <div>\n            <button ion-button class=\"send-sms\" (click)=\"sendSms()\">{{timeText}}</button>\n          </div>\n        </ion-row>\n        <ion-row justify-content-between align-items-center>\n          <div >\n            <ion-input class=\"login-code\"  type=\"number\" placeholder=\"\u77ED\u4FE1\u9A8C\u8BC1\u7801\" [(ngModel)]=\"login.verifycode\" (input)=\"format()\"></ion-input>\n          </div>\n        </ion-row>\n        <ion-row justify-content-between align-items-center>\n          <div >\n            <ion-input class=\"login-pwd\" type=\"password\" placeholder=\"\u5BC6\u7801\" [(ngModel)]=\"login.userpassword\" (input)=\"format()\"></ion-input>\n          </div>\n          <div>\n            <button ion-fab class=\"login-enter\" [ngStyle]=\"{'opacity': opa }\" (click)=\"signIn()\">\n              <ion-icon class=\"fal fa-sign-in-alt\"></ion-icon>\n            </button>\n          </div>\n        </ion-row>\n      </ion-grid>\n\n      <div class=\"login-div\" (click)=\"toLp()\">\u6539\u4E3A\u7528\u5BC6\u7801\u767B\u5F55</div>\n      <div class=\"login-div\" (click)=\"toR()\">\u6CA1\u6709\u8D26\u53F7\uFF0C\u7ACB\u5373\u6CE8\u518C</div>\n\n      <p class=\"text-agreement\">\u521B\u5EFA\u5E10\u6237\u5373\u8868\u793A\u60A8\u540C\u610F\u6211\u4EEC\u7684 <a class=\"text-anchor\" (click)=\"userAgreement()\">\u670D\u52A1\u6761\u6B3E</a> \u548C <a class=\"text-anchor\" (click)=\"userAgreement()\">\u9690\u79C1\u653F\u7B56</a> \u3002</p>\n    </ion-content>\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_4__ps_ps_service__["a" /* PsService */],
            __WEBPACK_IMPORTED_MODULE_3__ls_ls_service__["a" /* LsService */]])
    ], PfPage);
    return PfPage;
}());

//# sourceMappingURL=pf.js.map

/***/ }),
/* 582 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/**
 * Generated class for the 条款 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var PPage = (function () {
    function PPage(navCtrl, navParams) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.buttons = {
            remove: false,
            share: false,
            save: false,
            cancel: true
        };
    }
    PPage.prototype.ionViewDidLoad = function () {
    };
    PPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    PPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-p',
            template: "\n    <page-box title=\"\u670D\u52A1\u6761\u6B3E\u548C\u9690\u79C1\u653F\u7B56\" [buttons]=\"buttons\" (onBack)=\"goBack()\">\n\n      <ion-content padding class=\"font-normal\">\n        <p>\n          \u672C\u5E94\u7528\u5C0A\u91CD\u5E76\u4FDD\u62A4\u6240\u6709\u4F7F\u7528\u670D\u52A1\u7528\u6237\u7684\u4E2A\u4EBA\u9690\u79C1\u6743\u3002<br/>\n          \u4E3A\u4E86\u7ED9\u60A8\u63D0\u4F9B\u66F4\u51C6\u786E\u3001\u66F4\u6709\u4E2A\u6027\u5316\u7684\u670D\u52A1\uFF0C\u672C\u5E94\u7528\u4F1A\u6309\u7167\u672C\u9690\u79C1\u6743\u653F\u7B56\u7684\u89C4\u5B9A\u4F7F\u7528\u548C\u62AB\u9732\u60A8\u7684\u4E2A\u4EBA\u4FE1\u606F\u3002<br/>\n          \u4F46\u672C\u5E94\u7528\u5C06\u4EE5\u9AD8\u5EA6\u7684\u52E4\u52C9\u3001\u5BA1\u614E\u4E49\u52A1\u5BF9\u5F85\u8FD9\u4E9B\u4FE1\u606F\u3002<br/>\n          \u9664\u672C\u9690\u79C1\u6743\u653F\u7B56\u53E6\u6709\u89C4\u5B9A\u5916\uFF0C\u5728\u672A\u5F81\u5F97\u60A8\u4E8B\u5148\u8BB8\u53EF\u7684\u60C5\u51B5\u4E0B\uFF0C\u672C\u5E94\u7528\u4E0D\u4F1A\u5C06\u8FD9\u4E9B\u4FE1\u606F\u5BF9\u5916\u62AB\u9732\u6216\u5411\u7B2C\u4E09\u65B9\u63D0\u4F9B\u3002<br/>\n          \u672C\u5E94\u7528\u4F1A\u4E0D\u65F6\u66F4\u65B0\u672C\u9690\u79C1\u6743\u653F\u7B56\u3002 <br/>\n          \u60A8\u5728\u540C\u610F\u672C\u5E94\u7528\u670D\u52A1\u4F7F\u7528\u534F\u8BAE\u4E4B\u65F6\uFF0C\u5373\u89C6\u4E3A\u60A8\u5DF2\u7ECF\u540C\u610F\u672C\u9690\u79C1\u6743\u653F\u7B56\u5168\u90E8\u5185\u5BB9\u3002<br/>\n          \u672C\u9690\u79C1\u6743\u653F\u7B56\u5C5E\u4E8E\u672C\u5E94\u7528\u670D\u52A1\u4F7F\u7528\u534F\u8BAE\u4E0D\u53EF\u5206\u5272\u7684\u4E00\u90E8\u5206\u3002\n        </p>\n        <p>\n          \u9002\u7528\u8303\u56F4<br/>\n          (a) \u5728\u60A8\u6CE8\u518C\u672C\u5E94\u7528\u5E10\u53F7\u65F6\uFF0C\u60A8\u6839\u636E\u672C\u5E94\u7528\u8981\u6C42\u63D0\u4F9B\u7684\u4E2A\u4EBA\u6CE8\u518C\u4FE1\u606F\uFF1B<br/>\n          (b) \u5728\u60A8\u4F7F\u7528\u672C\u5E94\u7528\u7F51\u7EDC\u670D\u52A1\uFF0C\u6216\u8BBF\u95EE\u672C\u5E94\u7528\u5E73\u53F0\u7F51\u9875\u65F6\uFF0C\u672C\u5E94\u7528\u81EA\u52A8\u63A5\u6536\u5E76\u8BB0\u5F55\u7684\u60A8\u7684\u6D4F\u89C8\u5668\u548C\u8BA1\u7B97\u673A\u4E0A\u7684\u4FE1\u606F\uFF0C\u5305\u62EC\u4F46\u4E0D\u9650\u4E8E\u60A8\u7684IP\u5730\u5740\u3001\u6D4F\u89C8\u5668\u7684\u7C7B\u578B\u3001\u4F7F\u7528\u7684\u8BED\u8A00\u3001\u8BBF\u95EE\u65E5\u671F\u548C\u65F6\u95F4\u3001\u8F6F\u786C\u4EF6\u7279\u5F81\u4FE1\u606F\u53CA\u60A8\u9700\u6C42\u7684\u7F51\u9875\u8BB0\u5F55\u7B49\u6570\u636E\uFF1B<br/>\n          (c) \u672C\u5E94\u7528\u901A\u8FC7\u5408\u6CD5\u9014\u5F84\u4ECE\u5546\u4E1A\u4F19\u4F34\u5904\u53D6\u5F97\u7684\u7528\u6237\u4E2A\u4EBA\u6570\u636E\u3002\n        </p>\n        <p>\n          \u60A8\u4E86\u89E3\u5E76\u540C\u610F\uFF0C\u4EE5\u4E0B\u4FE1\u606F\u4E0D\u9002\u7528\u672C\u9690\u79C1\u6743\u653F\u7B56\uFF1A<br/>\n          (a) \u60A8\u5728\u4F7F\u7528\u672C\u5E94\u7528\u5E73\u53F0\u63D0\u4F9B\u7684\u641C\u7D22\u670D\u52A1\u65F6\u8F93\u5165\u7684\u5173\u952E\u5B57\u4FE1\u606F\uFF1B<br/>\n          (b) \u672C\u5E94\u7528\u6536\u96C6\u5230\u7684\u60A8\u5728\u672C\u5E94\u7528\u53D1\u5E03\u7684\u6709\u5173\u4FE1\u606F\u6570\u636E\uFF0C\u5305\u62EC\u4F46\u4E0D\u9650\u4E8E\u53C2\u4E0E\u6D3B\u52A8\u3001\u6210\u4EA4\u4FE1\u606F\u53CA\u8BC4\u4EF7\u8BE6\u60C5\uFF1B<br/>\n          (c) \u8FDD\u53CD\u6CD5\u5F8B\u89C4\u5B9A\u6216\u8FDD\u53CD\u672C\u5E94\u7528\u89C4\u5219\u884C\u4E3A\u53CA\u672C\u5E94\u7528\u5DF2\u5BF9\u60A8\u91C7\u53D6\u7684\u63AA\u65BD\u3002\n        </p>\n        <p>\n          \u4FE1\u606F\u4F7F\u7528<br/>\n          (a)\u672C\u5E94\u7528\u4E0D\u4F1A\u5411\u4EFB\u4F55\u65E0\u5173\u7B2C\u4E09\u65B9\u63D0\u4F9B\u3001\u51FA\u552E\u3001\u51FA\u79DF\u3001\u5206\u4EAB\u6216\u4EA4\u6613\u60A8\u7684\u4E2A\u4EBA\u4FE1\u606F\uFF0C\u9664\u975E\u4E8B\u5148\u5F97\u5230\u60A8\u7684\u8BB8\u53EF\uFF0C\u6216\u8BE5\u7B2C\u4E09\u65B9\u548C\u672C\u5E94\u7528\uFF08\u542B\u672C\u5E94\u7528\u5173\u8054\u516C\u53F8\uFF09\u5355\u72EC\u6216\u5171\u540C\u4E3A\u60A8\u63D0\u4F9B\u670D\u52A1\uFF0C\u4E14\u5728\u8BE5\u670D\u52A1\u7ED3\u675F\u540E\uFF0C\u5176\u5C06\u88AB\u7981\u6B62\u8BBF\u95EE\u5305\u62EC\u5176\u4EE5\u524D\u80FD\u591F\u8BBF\u95EE\u7684\u6240\u6709\u8FD9\u4E9B\u8D44\u6599\u3002<br/>\n          (b) \u672C\u5E94\u7528\u4EA6\u4E0D\u5141\u8BB8\u4EFB\u4F55\u7B2C\u4E09\u65B9\u4EE5\u4EFB\u4F55\u624B\u6BB5\u6536\u96C6\u3001\u7F16\u8F91\u3001\u51FA\u552E\u6216\u8005\u65E0\u507F\u4F20\u64AD\u60A8\u7684\u4E2A\u4EBA\u4FE1\u606F\u3002\u4EFB\u4F55\u672C\u5E94\u7528\u5E73\u53F0\u7528\u6237\u5982\u4ECE\u4E8B\u4E0A\u8FF0\u6D3B\u52A8\uFF0C\u4E00\u7ECF\u53D1\u73B0\uFF0C\u672C\u5E94\u7528\u6709\u6743\u7ACB\u5373\u7EC8\u6B62\u4E0E\u8BE5\u7528\u6237\u7684\u670D\u52A1\u534F\u8BAE\u3002<br/>\n          (c) \u4E3A\u670D\u52A1\u7528\u6237\u7684\u76EE\u7684\uFF0C\u672C\u5E94\u7528\u53EF\u80FD\u901A\u8FC7\u4F7F\u7528\u60A8\u7684\u4E2A\u4EBA\u4FE1\u606F\uFF0C\u5411\u60A8\u63D0\u4F9B\u60A8\u611F\u5174\u8DA3\u7684\u4FE1\u606F\uFF0C\u5305\u62EC\u4F46\u4E0D\u9650\u4E8E\u5411\u60A8\u53D1\u51FA\u4EA7\u54C1\u548C\u670D\u52A1\u4FE1\u606F\uFF0C\u6216\u8005\u4E0E\u672C\u5E94\u7528\u5408\u4F5C\u4F19\u4F34\u5171\u4EAB\u4FE1\u606F\u4EE5\u4FBF\u4ED6\u4EEC\u5411\u60A8\u53D1\u9001\u6709\u5173\u5176\u4EA7\u54C1\u548C\u670D\u52A1\u7684\u4FE1\u606F\uFF08\u540E\u8005\u9700\u8981\u60A8\u7684\u4E8B\u5148\u540C\u610F\uFF09\u3002\n        </p>\n        <p>\n          \u4FE1\u606F\u62AB\u9732<br/>\n          \u5728\u5982\u4E0B\u60C5\u51B5\u4E0B\uFF0C\u672C\u5E94\u7528\u5C06\u4F9D\u636E\u60A8\u7684\u4E2A\u4EBA\u610F\u613F\u6216\u6CD5\u5F8B\u7684\u89C4\u5B9A\u5168\u90E8\u6216\u90E8\u5206\u7684\u62AB\u9732\u60A8\u7684\u4E2A\u4EBA\u4FE1\u606F\uFF1A<br/>\n          (a) \u7ECF\u60A8\u4E8B\u5148\u540C\u610F\uFF0C\u5411\u7B2C\u4E09\u65B9\u62AB\u9732\uFF1B<br/>\n          (b)\u4E3A\u63D0\u4F9B\u60A8\u6240\u8981\u6C42\u7684\u4EA7\u54C1\u548C\u670D\u52A1\uFF0C\u800C\u5FC5\u987B\u548C\u7B2C\u4E09\u65B9\u5206\u4EAB\u60A8\u7684\u4E2A\u4EBA\u4FE1\u606F\uFF1B<br/>\n          (c) \u6839\u636E\u6CD5\u5F8B\u7684\u6709\u5173\u89C4\u5B9A\uFF0C\u6216\u8005\u884C\u653F\u6216\u53F8\u6CD5\u673A\u6784\u7684\u8981\u6C42\uFF0C\u5411\u7B2C\u4E09\u65B9\u6216\u8005\u884C\u653F\u3001\u53F8\u6CD5\u673A\u6784\u62AB\u9732\uFF1B<br/>\n          (d) \u5982\u60A8\u51FA\u73B0\u8FDD\u53CD\u4E2D\u56FD\u6709\u5173\u6CD5\u5F8B\u3001\u6CD5\u89C4\u6216\u8005\u672C\u5E94\u7528\u670D\u52A1\u534F\u8BAE\u6216\u76F8\u5173\u89C4\u5219\u7684\u60C5\u51B5\uFF0C\u9700\u8981\u5411\u7B2C\u4E09\u65B9\u62AB\u9732\uFF1B<br/>\n          (e) \u5982\u60A8\u662F\u9002\u683C\u7684\u77E5\u8BC6\u4EA7\u6743\u6295\u8BC9\u4EBA\u5E76\u5DF2\u63D0\u8D77\u6295\u8BC9\uFF0C\u5E94\u88AB\u6295\u8BC9\u4EBA\u8981\u6C42\uFF0C\u5411\u88AB\u6295\u8BC9\u4EBA\u62AB\u9732\uFF0C\u4EE5\u4FBF\u53CC\u65B9\u5904\u7406\u53EF\u80FD\u7684\u6743\u5229\u7EA0\u7EB7\uFF1B<br/>\n          (f) \u5728\u672C\u5E94\u7528\u5E73\u53F0\u4E0A\u521B\u5EFA\u7684\u67D0\u4E00\u4EA4\u6613\u4E2D\uFF0C\u5982\u4EA4\u6613\u4EFB\u4F55\u4E00\u65B9\u5C65\u884C\u6216\u90E8\u5206\u5C65\u884C\u4E86\u4EA4\u6613\u4E49\u52A1\u5E76\u63D0\u51FA\u4FE1\u606F\u62AB\u9732\u8BF7\u6C42\u7684\uFF0C\u672C\u5E94\u7528\u6709\u6743\u51B3\u5B9A\u5411\u8BE5\u7528\u6237\u63D0\u4F9B\u5176\u4EA4\u6613\u5BF9\u65B9\u7684\u8054\u7EDC\u65B9\u5F0F\u7B49\u5FC5\u8981\u4FE1\u606F\uFF0C\u4EE5\u4FC3\u6210\u4EA4\u6613\u7684\u5B8C\u6210\u6216\u7EA0\u7EB7\u7684\u89E3\u51B3\u3002<br/>\n          (g) \u5176\u5B83\u672C\u5E94\u7528\u6839\u636E\u6CD5\u5F8B\u3001\u6CD5\u89C4\u6216\u8005\u7F51\u7AD9\u653F\u7B56\u8BA4\u4E3A\u5408\u9002\u7684\u62AB\u9732\u3002\n        </p>\n        <p>\n          \u4FE1\u606F\u5B58\u50A8\u548C\u4EA4\u6362<br/>\n          \u672C\u5E94\u7528\u6536\u96C6\u7684\u6709\u5173\u60A8\u7684\u4FE1\u606F\u548C\u8D44\u6599\u5C06\u4FDD\u5B58\u5728\u672C\u5E94\u7528\u53CA\uFF08\u6216\uFF09\u5176\u5173\u8054\u516C\u53F8\u7684\u670D\u52A1\u5668\u4E0A\uFF0C\u8FD9\u4E9B\u4FE1\u606F\u548C\u8D44\u6599\u53EF\u80FD\u4F20\u9001\u81F3\u60A8\u6240\u5728\u56FD\u5BB6\u3001\u5730\u533A\u6216\u672C\u5E94\u7528\u6536\u96C6\u4FE1\u606F\u548C\u8D44\u6599\u6240\u5728\u5730\u7684\u5883\u5916\u5E76\u5728\u5883\u5916\u88AB\u8BBF\u95EE\u3001\u5B58\u50A8\u548C\u5C55\u793A\u3002\n        </p>\n        <p>\n          Cookie\u7684\u4F7F\u7528<br/>\n          (a) \u5728\u60A8\u672A\u62D2\u7EDD\u63A5\u53D7cookies\u7684\u60C5\u51B5\u4E0B\uFF0C\u672C\u5E94\u7528\u4F1A\u5728\u60A8\u7684\u8BA1\u7B97\u673A\u4E0A\u8BBE\u5B9A\u6216\u53D6\u7528cookies\n          \uFF0C\u4EE5\u4FBF\u60A8\u80FD\u767B\u5F55\u6216\u4F7F\u7528\u4F9D\u8D56\u4E8Ecookies\u7684\u672C\u5E94\u7528\u5E73\u53F0\u670D\u52A1\u6216\u529F\u80FD\u3002\u672C\u5E94\u7528\u4F7F\u7528cookies\u53EF\u4E3A\u60A8\u63D0\u4F9B\u66F4\u52A0\u5468\u5230\u7684\u4E2A\u6027\u5316\u670D\u52A1\uFF0C\u5305\u62EC\u63A8\u5E7F\u670D\u52A1\u3002<br/>\n          (b) \u60A8\u6709\u6743\u9009\u62E9\u63A5\u53D7\u6216\u62D2\u7EDD\u63A5\u53D7cookies\u3002\u60A8\u53EF\u4EE5\u901A\u8FC7\u4FEE\u6539\u6D4F\u89C8\u5668\u8BBE\u7F6E\u7684\u65B9\u5F0F\u62D2\u7EDD\u63A5\u53D7cookies\u3002\u4F46\u5982\u679C\u60A8\u9009\u62E9\u62D2\u7EDD\u63A5\u53D7cookies\uFF0C\u5219\u60A8\u53EF\u80FD\u65E0\u6CD5\u767B\u5F55\u6216\u4F7F\u7528\u4F9D\u8D56\u4E8Ecookies\u7684\u672C\u5E94\u7528\u7F51\u7EDC\u670D\u52A1\u6216\u529F\u80FD\u3002<br/>\n          (c) \u901A\u8FC7\u672C\u5E94\u7528\u6240\u8BBEcookies\u6240\u53D6\u5F97\u7684\u6709\u5173\u4FE1\u606F\uFF0C\u5C06\u9002\u7528\u672C\u653F\u7B56\u3002\n        </p>\n        <p>\n          \u4FE1\u606F\u5B89\u5168<br/>\n          (a)\n          \u672C\u5E94\u7528\u5E10\u53F7\u5747\u6709\u5B89\u5168\u4FDD\u62A4\u529F\u80FD\uFF0C\u8BF7\u59A5\u5584\u4FDD\u7BA1\u60A8\u7684\u7528\u6237\u540D\u53CA\u5BC6\u7801\u4FE1\u606F\u3002\u672C\u5E94\u7528\u5C06\u901A\u8FC7\u5BF9\u7528\u6237\u5BC6\u7801\u8FDB\u884C\u52A0\u5BC6\u7B49\u5B89\u5168\u63AA\u65BD\u786E\u4FDD\u60A8\u7684\u4FE1\u606F\u4E0D\u4E22\u5931\uFF0C\u4E0D\u88AB\u6EE5\u7528\u548C\u53D8\u9020\u3002\u5C3D\u7BA1\u6709\u524D\u8FF0\u5B89\u5168\u63AA\u65BD\uFF0C\u4F46\u540C\u65F6\u4E5F\u8BF7\u60A8\u6CE8\u610F\u5728\u4FE1\u606F\u7F51\u7EDC\u4E0A\u4E0D\u5B58\u5728\u201C\u5B8C\u5584\u7684\u5B89\u5168\u63AA\u65BD\u201D\u3002<br/>\n          (b)\n          \u5728\u4F7F\u7528\u672C\u5E94\u7528\u7F51\u7EDC\u670D\u52A1\u8FDB\u884C\u7F51\u4E0A\u4EA4\u6613\u65F6\uFF0C\u60A8\u4E0D\u53EF\u907F\u514D\u7684\u8981\u5411\u4EA4\u6613\u5BF9\u65B9\u6216\u6F5C\u5728\u7684\u4EA4\u6613\u5BF9\u65B9\u62AB\u9732\u81EA\u5DF1\u7684\u4E2A\u4EBA\u4FE1\u606F\uFF0C\u5982\u8054\u7EDC\u65B9\u5F0F\u6216\u8005\u90AE\u653F\u5730\u5740\u3002\u8BF7\u60A8\u59A5\u5584\u4FDD\u62A4\u81EA\u5DF1\u7684\u4E2A\u4EBA\u4FE1\u606F\uFF0C\u4EC5\u5728\u5FC5\u8981\u7684\u60C5\u5F62\u4E0B\u5411\u4ED6\u4EBA\u63D0\u4F9B\u3002\u5982\u60A8\u53D1\u73B0\u81EA\u5DF1\u7684\u4E2A\u4EBA\u4FE1\u606F\u6CC4\u5BC6\uFF0C\u5C24\u5176\u662F\u672C\u5E94\u7528\u7684\u7528\u6237\u540D\u53CA\u5BC6\u7801\u53D1\u751F\u6CC4\u9732\uFF0C\u8BF7\u60A8\u7ACB\u5373\u8054\u7EDC\u672C\u5E94\u7528\u5BA2\u670D\uFF0C\u4EE5\u4FBF\u672C\u5E94\u7528\u91C7\u53D6\u76F8\u5E94\u63AA\u65BD\u3002\n        </p>\n        <p>\n          \u672C\u9690\u79C1\u653F\u7B56\u7684\u66F4\u6539<br/>\n          (a)\u5982\u679C\u51B3\u5B9A\u66F4\u6539\u9690\u79C1\u653F\u7B56\uFF0C\u6211\u4EEC\u4F1A\u5728\u672C\u653F\u7B56\u4E2D\u3001\u672C\u516C\u53F8\u7F51\u7AD9\u4E2D\u4EE5\u53CA\u6211\u4EEC\u8BA4\u4E3A\u9002\u5F53\u7684\u4F4D\u7F6E\u53D1\u5E03\u8FD9\u4E9B\u66F4\u6539\uFF0C\u4EE5\u4FBF\u60A8\u4E86\u89E3\u6211\u4EEC\u5982\u4F55\u6536\u96C6\u3001\u4F7F\u7528\u60A8\u7684\u4E2A\u4EBA\u4FE1\u606F\uFF0C\u54EA\u4E9B\u4EBA\u53EF\u4EE5\u8BBF\u95EE\u8FD9\u4E9B\u4FE1\u606F\uFF0C\u4EE5\u53CA\u5728\u4EC0\u4E48\u60C5\u51B5\u4E0B\u6211\u4EEC\u4F1A\u900F\u9732\u8FD9\u4E9B\u4FE1\u606F\u3002<br/>\n          (b)\u672C\u516C\u53F8\u4FDD\u7559\u968F\u65F6\u4FEE\u6539\u672C\u653F\u7B56\u7684\u6743\u5229\uFF0C\u56E0\u6B64\u8BF7\u7ECF\u5E38\u67E5\u770B\u3002\u5982\u5BF9\u672C\u653F\u7B56\u4F5C\u51FA\u91CD\u5927\u66F4\u6539\uFF0C\u672C\u516C\u53F8\u4F1A\u901A\u8FC7\u7F51\u7AD9\u901A\u77E5\u7684\u5F62\u5F0F\u544A\u77E5\u3002\n        </p>\n        <p>\n          \u8BF7\u60A8\u59A5\u5584\u4FDD\u62A4\u81EA\u5DF1\u7684\u4E2A\u4EBA\u4FE1\u606F\uFF0C\u4EC5\u5728\u5FC5\u8981\u7684\u60C5\u5F62\u4E0B\u5411\u4ED6\u4EBA\u63D0\u4F9B\u3002<br/>\n          \u5982\u60A8\u53D1\u73B0\u81EA\u5DF1\u7684\u4E2A\u4EBA\u4FE1\u606F\u6CC4\u5BC6\uFF0C\u5C24\u5176\u662F\u672C\u5E94\u7528\u7528\u6237\u540D\u53CA\u5BC6\u7801\u53D1\u751F\u6CC4\u9732\uFF0C\u8BF7\u60A8\u7ACB\u5373\u8054\u7EDC\u672C\u5E94\u7528\u5BA2\u670D\uFF0C\u4EE5\u4FBF\u672C\u5E94\u7528\u91C7\u53D6\u76F8\u5E94\u63AA\u65BD\u3002<br/>\n          \u5982\u60A8\u5BF9\u672C\u653F\u7B56\u6216\u5176\u4ED6\u76F8\u5173\u4E8B\u5B9C\u6709\u7591\u95EE\uFF0C\u8BF7\u901A\u8FC7 https://pluto.guobaa.com/ \u4E0E\u6211\u4EEC\u8054\u7CFB\u3002<br/>\n          \u60A8\u4E5F\u53EF\u5C06\u60A8\u7684\u95EE\u9898\u53D1\u9001\u81F3 jy-zhang@zakj.info \u6216\u5BC4\u5230\u5982\u4E0B\u5730\u5740 \u4E0A\u6D77\u5E02\u95F5\u884C\u533A\u4E03\u8398\u8DEF1188\u5F04\u4E03\u661F\u521B\u4E1A\u56EDA\u5EA7513\u5BA4 \u3002\n        </p>\n      </ion-content>\n    </page-box>   \n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"]])
    ], PPage);
    return PPage;
}());

//# sourceMappingURL=p.js.map

/***/ }),
/* 583 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_cordova_jpush_service__ = __webpack_require__(257);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ps_ps_service__ = __webpack_require__(122);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_cordova_rabbitmq_service__ = __webpack_require__(162);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__data_enum__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__providers_settings_settings__ = __webpack_require__(92);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











/**
 * Generated class for the 菜单 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var MPage = (function () {
    function MPage(modalController, plt, jpush, psService, util, emitService, rabbitmq, settings) {
        var _this = this;
        this.modalController = modalController;
        this.plt = plt;
        this.jpush = jpush;
        this.psService = psService;
        this.util = util;
        this.emitService = emitService;
        this.rabbitmq = rabbitmq;
        this.settings = settings;
        this.hPage = __WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].PAGE._H_PAGE;
        this.avatar = __WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].HUIBASE64;
        this.maxEdgeStart = 150;
        //真机的时候获取JPush注册ID，并保存到服务器注册用户信息
        if (this.util.isMobile()) {
            this.emitService.register("on.jpush.registerid.loaded", function () {
                _this.psService.saveUser(__WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].user.id, {
                    device: {
                        uuid: _this.util.deviceId(),
                        type: _this.util.deviceType(),
                        platforms: _this.plt.platforms(),
                        jpush: {
                            id: _this.jpush.registerid
                        }
                    }
                });
            });
            this.jpush.checkStatus(__WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].user.id, false); //触发注册ID已加载事件
            // 获取到用户信息之后, 启动后台RabbitMQ AMQP协议接收数据
            if (__WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].user && __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].account) {
                console.log("Start RabbitMQ plugin initing...");
                this.rabbitmq.init(__WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].user.id, __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].account.device, __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].account.mq);
            }
        }
        // if (UserConfig.account.id == "13585820972") {
        //   this.emitService.register("mwxing.weather.received", () => {
        //     this.modalController.create(DataConfig.PAGE._GLORY_PAGE).present();
        //   });
        // }
        settings.setStatusBarColor(__WEBPACK_IMPORTED_MODULE_9__data_enum__["z" /* StatusType */].home);
    }
    MPage.prototype.ionViewDidLoad = function () {
        this.isdebug = __WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].isdebug;
        this.maxEdgeStart = this.plt.width() / 2;
        console.log('ionViewDidLoad MPage');
    };
    MPage.prototype.ionViewDidEnter = function () {
        this.getData();
    };
    MPage.prototype.getData = function () {
        this.phone = this.util.mask(__WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].account.phone, 3, 4);
        this.name = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].user.name;
        if (__WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].user.avatar != undefined && __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].user.avatar != '') {
            this.avatar = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].user.avatar;
        }
    };
    //计划
    MPage.prototype.goPlPage = function () {
        this.modalController.create(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].PAGE._PL_PAGE).present();
    };
    //系统设置
    MPage.prototype.goSsPage = function () {
        this.modalController.create(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].PAGE._SS_PAGE).present();
    };
    //备份
    MPage.prototype.goBrPage = function () {
        this.modalController.create(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].PAGE._BR_PAGE).present();
    };
    // 群组列表
    MPage.prototype.goGlPage = function () {
        this.modalController.create(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].PAGE._GL_PAGE).present();
    };
    // 个人设置
    MPage.prototype.goPsPage = function () {
        var _this = this;
        //this.modalController.create(DataConfig.PAGE._PS_PAGE).present();
        var modal = this.modalController.create(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].PAGE._PS_PAGE);
        modal.onDidDismiss(function (data) {
            _this.getData();
        });
        modal.present();
    };
    // 黑名单
    MPage.prototype.goBlPage = function () {
        this.modalController.create(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].PAGE._BL_PAGE).present();
    };
    //日志
    MPage.prototype.gologPage = function () {
        this.modalController.create(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].PAGE._LOG_PAGE).present();
    };
    //日志
    MPage.prototype.goatPage = function () {
        this.modalController.create(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].PAGE._AT_PAGE).present();
    };
    MPage.prototype.ionClose = function ($evnet) {
        this.settings.popStatusBarColor();
    };
    MPage.prototype.ionOpen = function ($evnet) {
        this.settings.setStatusBarColor(__WEBPACK_IMPORTED_MODULE_9__data_enum__["z" /* StatusType */].meun);
    };
    MPage.prototype.ionDrag = function ($evnet) {
    };
    MPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-m',
            providers: [],
            template: "\n\n    <ion-menu [content]=\"ha\" side=\"left\" swipeEnabled=\"true\"  type=\"scalePush\" class=\"menu\" id=\"scalePush\"\n              (ionClose) = \"ionClose($evnet)\" (ionOpen) = \"ionOpen($evnet)\" (ionDrag) = \"ionDrag($evnet)\" >\n        <ion-grid>\n          <ion-row (click)=\"goPsPage()\">\n\n                  <h1>\u51A5\u738B\u661F</h1>\n                  <h4>{{phone}}</h4>\n            <!--<span>-->\n                  <!--<h2>{{name}}</h2>-->\n                  <!--<p>{{phone}}</p>-->\n            <!--</span>-->\n          </ion-row>\n          <ion-row >\n          </ion-row>\n          <ion-row (click)=\"goPsPage()\">\n            <h3>\u4E2A\u4EBA\u8BBE\u7F6E</h3>\n          </ion-row>\n          <ion-row (click)=\"goGlPage()\">\n            <h3>\u7FA4\u7EC4</h3>\n          </ion-row>\n          <ion-row (click)=\"goPlPage()\">\n            <h3>\u6D3B\u52A8\u65E5\u5386</h3>\n          </ion-row>\n          <ion-row (click)=\"goBlPage()\">\n            <h3>\u9ED1\u540D\u5355</h3>\n          </ion-row>\n          <ion-row (click)=\"goSsPage()\">\n            <h3>\u8BBE\u7F6E</h3>\n          </ion-row>\n            <ion-row (click)=\"goBrPage()\">\n              <h3>\u5907\u4EFD\u4E0E\u6062\u590D</h3>\n            </ion-row>\n          <ion-row *ngIf=\"isdebug\" (click)=\"gologPage()\">\n            <h3>\u65E5\u5FD7</h3>\n          </ion-row>\n          <ion-row (click)=\"goatPage()\">\n            <h3>\u5173\u4E8E</h3>\n          </ion-row>\n        </ion-grid>\n    </ion-menu>\n\n    <ion-nav #ha [root]=\"hPage\"></ion-nav>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Platform"],
            __WEBPACK_IMPORTED_MODULE_6__service_cordova_jpush_service__["a" /* JPushService */],
            __WEBPACK_IMPORTED_MODULE_7__ps_ps_service__["a" /* PsService */],
            __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_5__service_util_service_emit_service__["a" /* EmitService */],
            __WEBPACK_IMPORTED_MODULE_8__service_cordova_rabbitmq_service__["a" /* RabbitMQService */],
            __WEBPACK_IMPORTED_MODULE_10__providers_settings_settings__["a" /* SettingsProvider */]])
    ], MPage);
    return MPage;
}());

//# sourceMappingURL=m.js.map

/***/ }),
/* 584 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__r_service__ = __webpack_require__(585);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__data_mapping__ = __webpack_require__(20);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






/**
 * Generated class for the 注册 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var RPage = (function () {
    function RPage(navCtrl, util, rService) {
        this.navCtrl = navCtrl;
        this.util = util;
        this.rService = rService;
        this.statusBarColor = "#fff";
        this.login = new __WEBPACK_IMPORTED_MODULE_5__data_mapping__["i" /* PageLoginData */]();
        this.timeText = "获取验证码";
        this.opa = "0.4";
    }
    RPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad RPage');
    };
    RPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    RPage.prototype.userAgreement = function () {
        this.navCtrl.push('PPage');
    };
    RPage.prototype.toLp = function () {
        this.navCtrl.push('LpPage');
    };
    RPage.prototype.toLs = function () {
        this.navCtrl.push('LsPage');
    };
    RPage.prototype.sendSms = function () {
        var _this = this;
        if (this.checkPhone()) {
            this.rService.getSMSCode(this.login.phoneno).then(function (data) {
                //console.log("短信发送成功" + JSON.stringify(data));
                //短信验证码KEY 赋值给验证码登录信息
                _this.login.verifykey = data.verifykey;
                _this.util.toastStart("短信发送成功", 1500);
                _this.timeText = 60;
                console.log("开始" + _this.timeText + "定时器");
                _this.timer = setInterval(function () {
                    _this.timeText--;
                    if (_this.timeText <= 0) {
                        clearTimeout(_this.timer);
                        console.log("清除定时器");
                        _this.timeText = "发送验证码";
                    }
                }, 1000);
            }).catch(function (error) {
                console.log("短信发送失败" + JSON.stringify(error));
                clearTimeout(_this.timer);
                _this.timeText = "发送验证码";
                //this.util.toastStart("短信发送失败",1500);
            });
        }
    };
    RPage.prototype.register = function () {
        var _this = this;
        if (this.checkPhone()) {
            if (this.login.verifycode == null || this.login.verifycode == "") {
                this.util.toastStart("短信验证码不能为空", 1500);
            }
            else if (this.login.username == null || this.login.username == "") {
                this.util.toastStart("用户名不能为空", 1500);
            }
            else if (this.login.userpassword == null || this.login.userpassword == "") {
                this.util.toastStart("密码不能为空", 1500);
            }
            else if (this.login.verifykey == null || this.login.verifykey == "") {
                this.util.toastStart("请发送短信并填写正确的短信验证码", 1500);
            }
            else {
                this.util.loadingStart();
                this.rService.register(this.login).then(function (data) {
                    clearTimeout(_this.timer);
                    _this.util.loadingEnd();
                    _this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].PAGE._M_PAGE);
                }).catch(function (error) {
                    _this.util.loadingEnd();
                    if (error && error.code && error.message != undefined && error.message != null && error.message != "") {
                        console.log(error.message);
                        _this.util.toastStart(error.message, 1500);
                    }
                    else {
                        console.log("注册以及密码登录失败");
                        _this.util.toastStart("网络异常", 1500);
                    }
                });
            }
        }
    };
    RPage.prototype.checkPhone = function () {
        if (!this.util.checkPhone(this.login.phoneno)) {
            this.util.toastStart("请填写正确的手机号", 1500);
        }
        return this.util.checkPhone(this.login.phoneno);
    };
    RPage.prototype.format = function () {
        if (this.login.phoneno.length == 11) {
            if (this.checkPhone()
                && this.login.verifycode != "" && this.login.verifycode.length == 6
                && this.login.username != "" && this.login.username.length >= 2
                && this.login.userpassword != "" && this.login.userpassword.length >= 4) {
                this.opa = "1";
            }
            else {
                this.opa = "0.4";
            }
        }
    };
    RPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-r',
            template: "\n    <ion-content>\n      <h1>\u6CE8\u518C\u8D26\u53F7</h1>\n      <ion-grid class=\"grid-login-basic no-padding-lr\">\n        <ion-row justify-content-between align-items-center>\n          <div >\n            <ion-input class=\"login-tel\" type=\"tel\" placeholder=\"\u5F00\u59CB\u8F93\u5165\u7535\u8BDD\u53F7\u7801\" [(ngModel)]=\"login.phoneno\" (input)=\"format()\"></ion-input>\n          </div>\n          <div>\n            <button ion-button class=\"send-sms\" (click)=\"sendSms()\">{{timeText}}</button>\n          </div>\n        </ion-row>\n        <ion-row justify-content-between align-items-center>\n          <div >\n            <ion-input class=\"login-r-code\"  type=\"number\" placeholder=\"\u77ED\u4FE1\u9A8C\u8BC1\u7801\" [(ngModel)]=\"login.verifycode\" (input)=\"format()\"></ion-input>\n          </div>\n        </ion-row>\n        <ion-row justify-content-between align-items-center>\n          <div >\n            <ion-input class=\"login-tel\"  type=\"text\" placeholder=\"\u60A8\u7684\u5C0A\u79F0\" [(ngModel)]=\"login.username\" (input)=\"format()\"></ion-input>\n          </div>\n        </ion-row>\n        <ion-row justify-content-between align-items-center>\n          <div >\n            <ion-input class=\"login-r-pwd\" type=\"password\" placeholder=\"\u5BC6\u7801\" [(ngModel)]=\"login.userpassword\" (input)=\"format()\"></ion-input>\n          </div>\n          <div>\n            <button ion-fab class=\"login-enter\" [ngStyle]=\"{'opacity': opa }\" (click)=\"register()\">\n              <ion-icon class=\"fal fa-sign-in-alt\"></ion-icon>\n            </button>\n          </div>\n        </ion-row>\n      </ion-grid>\n\n     <div class=\"login-div\" (click)=\"toLp()\">\u6539\u4E3A\u7528\u8D26\u53F7\u767B\u5F55</div>\n      <div class=\"login-div\" (click)=\"toLs()\">\u6539\u4E3A\u7528\u77ED\u4FE1\u9A8C\u8BC1\u7801\u767B\u5F55</div>\n\n      <p class=\"text-agreement\">\u521B\u5EFA\u5E10\u6237\u5373\u8868\u793A\u60A8\u540C\u610F\u6211\u4EEC\u7684 <a class=\"text-anchor\" (click)=\"userAgreement()\">\u670D\u52A1\u6761\u6B3E</a> \u548C <a class=\"text-anchor\" (click)=\"userAgreement()\">\u9690\u79C1\u653F\u7B56</a> \u3002</p>\n    </ion-content>\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_2__r_service__["a" /* RService */]])
    ], RPage);
    return RPage;
}());

//# sourceMappingURL=r.js.map

/***/ }),
/* 585 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_restful_smssev__ = __webpack_require__(258);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lp_lp_service__ = __webpack_require__(252);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_restful_authsev__ = __webpack_require__(155);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var RService = (function () {
    function RService(authRestful, smsRestful, lpService) {
        this.authRestful = authRestful;
        this.smsRestful = smsRestful;
        this.lpService = lpService;
    }
    //注册
    RService.prototype.register = function (rdata) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            //restful 注册用户
            var loginData = new __WEBPACK_IMPORTED_MODULE_3__service_restful_authsev__["b" /* LoginData */]();
            Object.assign(loginData, rdata);
            return _this.authRestful.signup(loginData).then(function (data) {
                if (data.code != 0)
                    throw data;
                //登陆(密码)service登陆逻辑
                return _this.lpService.login(rdata);
            }).then(function (data) {
                if (!data || data.code != 0)
                    throw data;
                return _this.lpService.getPersonMessage(data);
            }).then(function (data) {
                if (data == "-1")
                    throw data;
                return _this.lpService.getOther();
            }).then(function (data) {
                resolve(data);
            }).catch(function (err) {
                reject(err);
            });
        });
    };
    //获取验证码
    RService.prototype.getSMSCode = function (mobile) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.smsRestful.getcode(mobile).then(function (data) {
                resolve(data);
            }).catch(function (err) {
                reject(err);
            });
        });
    };
    RService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__service_restful_authsev__["a" /* AuthRestful */],
            __WEBPACK_IMPORTED_MODULE_1__service_restful_smssev__["a" /* SmsRestful */],
            __WEBPACK_IMPORTED_MODULE_2__lp_lp_service__["a" /* LpService */]])
    ], RService);
    return RService;
}());

//# sourceMappingURL=r.service.js.map

/***/ }),
/* 586 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pl_service__ = __webpack_require__(158);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__ = __webpack_require__(4);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





/**
 * Generated class for the PlPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var PlPage = (function () {
    function PlPage(navCtrl, plService, util, modalController) {
        var _this = this;
        this.navCtrl = navCtrl;
        this.plService = plService;
        this.util = util;
        this.modalController = modalController;
        this.buttons = {
            cancel: true
        };
        this.hasplan = false;
        this.xtJhs = new Array();
        this.zdyJhs = new Array();
        this.plService.getPlan().then(function (data) {
            _this.xtJhs = data.xtJh;
            _this.zdyJhs = data.zdyJh;
            if (_this.zdyJhs.length == 0) {
                _this.hasplan = false;
            }
            else {
                _this.hasplan = true;
            }
        }).catch(function (error) {
            _this.util.toastStart('获取计划失败', 1500);
        });
    }
    PlPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    PlPage.prototype.newPlan = function () {
        var _this = this;
        var modal = this.modalController.create(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].PAGE._PC_PAGE);
        modal.onDidDismiss(function (data) {
            _this.plService.getPlan().then(function (data) {
                _this.xtJhs = data.xtJh;
                _this.zdyJhs = data.zdyJh;
                if (_this.zdyJhs.length == 0) {
                    _this.hasplan = false;
                }
                else {
                    _this.hasplan = true;
                }
            }).catch(function (error) {
                _this.util.toastStart('获取计划失败', 1500);
            });
        });
        modal.present();
    };
    PlPage.prototype.toPd = function (jh) {
        var go = true;
        if (jh.jt == "1" || jh.jt == "0") {
            if (jh.jtd == "0") {
                go = false;
            }
        }
        if (go) {
            this.modalController.create(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].PAGE._PD_PAGE, { 'jh': jh }).present();
        }
    };
    PlPage.prototype.delPlan = function (jh) {
        var _this = this;
        if (jh.jtd == '0') {
        }
        else {
            this.util.alterStart('2', function () { _this.delete(jh); });
        }
    };
    PlPage.prototype.delete = function (jh) {
        var _this = this;
        this.util.loadingStart();
        var count = jh.js;
        this.plService.delete(jh).then(function (data) {
            if (data && data.jt == "2") {
                var index = _this.zdyJhs.findIndex(function (element) {
                    return element.ji == data.ji;
                });
                _this.zdyJhs.splice(index, 1);
                if (_this.zdyJhs.length == 0) {
                    _this.hasplan = false;
                }
                else {
                    _this.hasplan = true;
                }
            }
            else {
                jh.jtd = '0'; //系统计划 jtd 变更
                jh.js = '?';
            }
            _this.util.loadingEnd();
        }).catch(function (error) {
            jh.jtd = '1';
            jh.js = count;
            _this.util.toastStart('删除系统计划：' + jh.jn + ' 失败', 1500);
            _this.util.loadingEnd();
        });
    };
    PlPage.prototype.download = function (jh) {
        var _this = this;
        this.util.loadingStart();
        var message;
        if (jh.jtd == '0') {
            message = '下载';
        }
        else {
            message = '刷新';
        }
        this.plService.downloadPlan(jh).then(function (data) {
            jh.js = data == null || data == 0 ? 0 : data;
            jh.jtd = '1';
            _this.util.loadingEnd();
        }).catch(function (error) {
            _this.util.toastStart(message + '失败', 1500);
            _this.util.loadingEnd();
        });
    };
    PlPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-pl',
            template: "\n    <page-box title=\"\u5F52\u7C7B\u65E5\u5386\" [buttons]=\"buttons\" (onBack)=\"goBack()\"   nobottom>\n      <ion-scroll scrollY=\"true\" scrollheightAuto>\n        <ion-list>\n          <ion-list-header>\n            \u5B9A\u4E49\u4E86<span class=\"count\"> {{zdyJhs.length}} </span>\u4E2A\u65E5\u5386\n          </ion-list-header>\n          <ion-item   *ngFor=\"let option of zdyJhs\" (press)=\"delPlan(option)\" (click)=\"toPd(option)\" [style.touch-action]=\"'pan-y'\">\n            <ion-label >\n              {{option.jn}}<span class=\"font-small\">({{option.js}})</span>\n            </ion-label>\n            <ion-icon class=\"fas fa-circle fontgit-large-x\"   [ngStyle]=\"{'color': option.jc }\" item-end></ion-icon>\n          </ion-item>\n          \n          <ion-item  (click)=\"newPlan()\" [class.noplan]=\"!hasplan\" class=\"addplan\">\n            <ion-label class=\"font-large\">\n              <ion-icon class=\"fas fa-plus-circle\" ></ion-icon>\n              \u6DFB\u52A0\u81EA\u5B9A\u4E49\u65E5\u5386\n            </ion-label>\n          </ion-item>\n        </ion-list>\n\n\n        <ion-list>\n          <ion-list-header>\n            \u7CFB\u7EDF\u65E5\u5386<span class=\"count\"> {{xtJhs.length}} </span>\u4E2A <small>\uFF08\u957F\u6309\u65E5\u5386\u540D\u79F0\u53EF\u6E05\u9664\uFF09</small>\n          </ion-list-header>\n          <ion-item   *ngFor=\"let option of xtJhs\" (press)=\"delPlan(option)\" [style.touch-action]=\"'pan-y'\" >\n            <ion-label>\n              {{option.jn}}<span class=\"font-small\">({{option.js}})</span>\n            </ion-label>\n            <ion-icon class=\"fal fa-download\" *ngIf=\"option.jtd == '0'\" (click)=\"download(option)\" item-end [ngStyle]=\"{'color': option.jc }\"></ion-icon>\n            <ion-icon class=\"fal fa-sync\" *ngIf=\"option.jtd =='1'\"(click)=\"download(option)\" item-end [ngStyle]=\"{'color': option.jc }\"></ion-icon>\n          </ion-item>\n        </ion-list>\n      </ion-scroll>\n    </page-box>\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_3__pl_service__["a" /* PlService */],
            __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"]])
    ], PlPage);
    return PlPage;
}());

//# sourceMappingURL=pl.js.map

/***/ }),
/* 587 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PcPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pc_service__ = __webpack_require__(588);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__data_mapping__ = __webpack_require__(20);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





/**
 * Generated class for the 计划新建 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var PcPage = (function () {
    function PcPage(navCtrl, util, pcService) {
        this.navCtrl = navCtrl;
        this.util = util;
        this.pcService = pcService;
        this.colors = [
            { color: '#308158', name: "氧化铁绿" },
            { color: '#3591A5', name: "深水蓝" },
            { color: '#51AAF2', name: "天蓝色" },
            { color: '#453B93', name: "亮紫" },
            { color: '#C077DB', name: "淡紫" },
            { color: '#AD8387', name: "粉红色" },
            { color: '#AF2B24', name: "橙色" },
            { color: '#CF4425', name: "橙黄" },
            { color: '#996A29', name: "向日葵黄" },
            { color: '#9B5E4B', name: "牛皮棕" },
            { color: '#308158', name: "氧化铁绿" },
            { color: '#3591A5', name: "深水蓝" },
            { color: '#51AAF2', name: "天蓝色" },
            { color: '#453B93', name: "亮紫" },
            { color: '#C077DB', name: "淡紫" },
            { color: '#AD8387', name: "粉红色" },
            { color: '#AF2B24', name: "橙色" },
            { color: '#CF4425', name: "橙黄" },
            { color: '#996A29', name: "向日葵黄" },
            { color: '#9B5E4B', name: "牛皮棕" },
        ];
        this.buttons = {
            remove: false,
            share: false,
            save: true,
            cancel: true
        };
        this.jhcData = new __WEBPACK_IMPORTED_MODULE_4__data_mapping__["k" /* PagePcPro */]();
        this.jhcData.jc = "#9B5E4B"; // 默认选中颜色  牛皮棕
    }
    PcPage.prototype.ionViewDidLoad = function () {
    };
    PcPage.prototype.ionViewDidEnter = function () {
        var _this = this;
        setTimeout(function () {
            _this.input.setFocus(); //为输入框设置焦点
        }, 150);
    };
    PcPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    PcPage.prototype.save = function () {
        var _this = this;
        if (this.jhcData.jn != "" && this.jhcData.jn != null) {
            if (this.jhcData.jc != "" && this.jhcData.jc != null) {
                this.pcService.savePlan(this.jhcData).then(function (data) {
                    _this.navCtrl.pop();
                }).catch(function (res) {
                });
            }
            else {
                this.util.popoverStart('日历颜色不能为空');
            }
        }
        else {
            this.util.popoverStart('日历名称不能为空');
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('input'),
        __metadata("design:type", Object)
    ], PcPage.prototype, "input", void 0);
    PcPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-pc',
            template: "    \n    <modal-box title=\"\u6DFB\u52A0\u65E5\u5386\" [buttons]=\"buttons\" (onSave)=\"save()\" (onCancel)=\"goBack()\">\n      <div class=\"plantitle font-large\">\n        <ion-input #input type=\"text\" placeholder=\"\u8F93\u5165\u65E5\u5386\u540D\u79F0\" [(ngModel)]=\"jhcData.jn\"></ion-input>\n      </div>\n        <ion-scroll scrollY=\"true\" scrollheightAuto>\n          <ion-list radio-group [(ngModel)]=\"jhcData.jc\" class=\"onlyone\">\n            <ion-list-header class=\"plan-list-item\">\n              \u9009\u62E9\u989C\u8272\n            </ion-list-header>\n            <ion-item *ngFor=\"let color of colors\">\n              <ion-label>\n                <ion-icon class=\"fas fa-circle font-large-x\"\n                          [ngStyle]=\"{'color': color.color}\" *ngIf=\"jhcData.jc !=  color.color\"></ion-icon>\n                <ion-icon class=\"fas fa-dot-circle font-large-x\"\n                          [ngStyle]=\"{'color':  color.color}\" *ngIf=\"jhcData.jc ==  color.color\"></ion-icon>\n                {{color.name}}\n\n              </ion-label>\n              <ion-radio value=\"{{color.color}}\"  class=\"noshow\" ></ion-radio>\n            </ion-item>\n          </ion-list>\n        </ion-scroll>\n    </modal-box>    \n",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_2__pc_service__["a" /* PcService */]])
    ], PcPage);
    return PcPage;
}());

//# sourceMappingURL=pc.js.map

/***/ }),
/* 588 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PcService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_business_calendar_service__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__data_enum__ = __webpack_require__(18);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var PcService = (function () {
    function PcService(sqlExce, util, calendarService) {
        this.sqlExce = sqlExce;
        this.util = util;
        this.calendarService = calendarService;
    }
    //保存计划
    PcService.prototype.savePlan = function (pcData) {
        return __awaiter(this, void 0, void 0, function () {
            var plan;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        plan = {};
                        Object.assign(plan, pcData);
                        plan.jt = __WEBPACK_IMPORTED_MODULE_4__data_enum__["w" /* PlanType */].PrivatePlan;
                        return [4 /*yield*/, this.calendarService.savePlan(plan)];
                    case 1:
                        plan = _a.sent();
                        return [2 /*return*/, plan];
                }
            });
        });
    };
    PcService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_3__service_business_calendar_service__["a" /* CalendarService */]])
    ], PcService);
    return PcService;
}());

//# sourceMappingURL=pc.service.js.map

/***/ }),
/* 589 */,
/* 590 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PdService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_restful_shaesev__ = __webpack_require__(107);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_business_calendar_service__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pd__ = __webpack_require__(259);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var PdService = (function () {
    function PdService(shareRestful, calendarService) {
        this.shareRestful = shareRestful;
        this.calendarService = calendarService;
    }
    //获取计划 计划详情
    PdService.prototype.getPlan = function (pid, jt) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var pdItems, paList, tmpyear, getDatetime;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        pdItems = new Array();
                        return [4 /*yield*/, this.calendarService.getPlan(pid, true)];
                    case 1:
                        paList = _a.sent();
                        tmpyear = -1;
                        getDatetime = function (element) {
                            var datetime = __WEBPACK_IMPORTED_MODULE_4_moment__().format("YYYY/MM/DD HH:mm");
                            var activityType = _this.calendarService.getActivityType(element);
                            switch (activityType) {
                                case "PlanItemData":
                                    var item = {};
                                    Object.assign(item, element);
                                    datetime = item.sd + " " + item.st;
                                    break;
                                case "AgendaData":
                                case "TaskData":
                                case "MiniTaskData":
                                    var event_1 = {};
                                    Object.assign(event_1, element);
                                    datetime = event_1.evd + " " + event_1.evt;
                                    break;
                                case "MemoData":
                                    var memo = {};
                                    Object.assign(memo, element);
                                    datetime = __WEBPACK_IMPORTED_MODULE_4_moment__(memo.wtt).format("YYYY/MM/DD HH:mm");
                                    break;
                            }
                            return datetime;
                        };
                        paList.items.sort(function (first, second) {
                            var firstdt = getDatetime(first);
                            var seconddt = getDatetime(second);
                            return __WEBPACK_IMPORTED_MODULE_4_moment__(firstdt, "YYYY/MM/DD HH:mm").diff(seconddt);
                        });
                        paList.items.forEach(function (v, i, a) {
                            var activityType = _this.calendarService.getActivityType(v);
                            // 取得活动日期
                            var pdItem = new __WEBPACK_IMPORTED_MODULE_3__pd__["a" /* PdItem */]();
                            pdItem.type = activityType;
                            var tmp;
                            switch (activityType) {
                                case "PlanItemData":
                                    pdItem.planItemData = v;
                                    tmp = __WEBPACK_IMPORTED_MODULE_4_moment__(pdItem.planItemData.sd);
                                    pdItem.yearitem = tmp.get("year");
                                    pdItem.date = tmp.format("YYYY/MM/DD");
                                    pdItem.time = pdItem.planItemData.st;
                                    break;
                                case "AgendaData":
                                    pdItem.agendaData = v;
                                    tmp = __WEBPACK_IMPORTED_MODULE_4_moment__(pdItem.agendaData.evd);
                                    pdItem.yearitem = tmp.get("year");
                                    pdItem.date = tmp.format("YYYY/MM/DD");
                                    pdItem.time = pdItem.agendaData.evt;
                                    break;
                                case "TaskData":
                                    pdItem.taskData = v;
                                    tmp = __WEBPACK_IMPORTED_MODULE_4_moment__(pdItem.taskData.evd);
                                    pdItem.yearitem = tmp.get("year");
                                    pdItem.date = tmp.format("YYYY/MM/DD");
                                    pdItem.time = pdItem.taskData.evt;
                                    break;
                                case "MiniTaskData":
                                    pdItem.miniTaskData = v;
                                    tmp = __WEBPACK_IMPORTED_MODULE_4_moment__(pdItem.miniTaskData.evd);
                                    pdItem.yearitem = tmp.get("year");
                                    pdItem.date = tmp.format("YYYY/MM/DD");
                                    pdItem.time = pdItem.miniTaskData.evt;
                                    break;
                                case "MemoData":
                                    pdItem.memoData = v;
                                    tmp = __WEBPACK_IMPORTED_MODULE_4_moment__(pdItem.memoData.sd);
                                    pdItem.yearitem = tmp.get("year");
                                    pdItem.date = tmp.format("YYYY/MM/DD");
                                    pdItem.time = pdItem.memoData.st;
                                    break;
                                default:
                                    break;
                            }
                            if (tmpyear != pdItem.yearitem) {
                                tmpyear = pdItem.yearitem;
                                var pdyearItem = new __WEBPACK_IMPORTED_MODULE_3__pd__["a" /* PdItem */]();
                                pdyearItem.yearitem = tmpyear;
                                pdyearItem.type = "YearData";
                                pdItems.push(pdyearItem);
                            }
                            pdItems.push(pdItem);
                        });
                        // pdItems.sort((first, second) => {
                        //   let firstdt: string = first.date? (first.date + " " + first.time) : (first.yearitem + "/01/01 00:00");
                        //   let seconddt: string = second.date? (second.date + " " + second.time) : (second.yearitem + "/01/01 00:00");
                        //   return moment(firstdt, "YYYY/MM/DD HH:mm").diff(seconddt);
                        // });
                        // 返出参
                        return [2 /*return*/, pdItems];
                }
            });
        });
    };
    //分享计划
    PdService.prototype.sharePlan = function (plan) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            console.log('---------- PdService sharePlan 分享计划开始 ----------------');
            var shareData = new __WEBPACK_IMPORTED_MODULE_1__service_restful_shaesev__["e" /* ShareData */]();
            shareData.ompn = "";
            shareData.oai = "";
            // plan.pn.pt = plan.pn.jn; // pt 计划分享使用
            // shareData.d.p.pn = plan.pn;
            // shareData.d.p.pa = plan.pa;
            //restful上传计划
            _this.shareRestful.share(shareData).then(function (data) {
                console.log('---------- PdService sharePlan 分享计划结束 ----------------');
                // 返出参
                resolve(data);
            });
        });
    };
    //删除计划
    PdService.prototype.delete = function (jh) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/];
            });
        });
    };
    PdService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_restful_shaesev__["d" /* ShaeRestful */], __WEBPACK_IMPORTED_MODULE_2__service_business_calendar_service__["a" /* CalendarService */]])
    ], PdService);
    return PdService;
}());

//# sourceMappingURL=pd.service.js.map

/***/ }),
/* 591 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SsPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ss_service__ = __webpack_require__(157);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__pl_pl_service__ = __webpack_require__(158);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__data_mapping__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__providers_settings_settings__ = __webpack_require__(92);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








/**
 * Generated class for the 设置画面 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var SsPage = (function () {
    function SsPage(modalController, navCtrl, ssService, plService, _renderer, settings) {
        this.modalController = modalController;
        this.navCtrl = navCtrl;
        this.ssService = ssService;
        this.plService = plService;
        this._renderer = _renderer;
        this.settings = settings;
        this.buttons = {
            cancel: true
        };
        this.github = false; //项目跟进 GitHub
        this.travisci = false; //项目跟进 Travis CI
        this.firim = false; //项目跟进 Fir.IM
        this.spfon = false; //项目跟进 智能提醒
        this.lfsloading = false; //导入本地联系人处理状态
        this.localfriends = 0; //本地联系人导入数
        var memFirIMDef = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].settins.get(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].SYS_FOFIR);
        var memGithubDef = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].settins.get(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].SYS_FOGH);
        var memTravisCIDef = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].settins.get(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].SYS_FOTRACI);
        if (memFirIMDef) {
            this.sfirim = memFirIMDef;
            this.firim = memFirIMDef.value == "1" ? true : false;
        }
        if (memGithubDef) {
            this.sgithub = memGithubDef;
            this.github = memGithubDef.value == "1" ? true : false;
        }
        if (memTravisCIDef) {
            this.stravisci = memTravisCIDef;
            this.travisci = memTravisCIDef.value == "1" ? true : false;
        }
        if (this.github || this.firim || this.travisci) {
            this.spfon = true;
        }
        else {
            this.spfon = false;
        }
        this.getData();
    }
    SsPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad SsPage');
    };
    SsPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    SsPage.prototype.save = function (setting, value) {
        var set = new __WEBPACK_IMPORTED_MODULE_6__data_mapping__["n" /* PageY */]();
        set.yi = setting.yi; //偏好主键ID
        set.ytn = setting.bname; //偏好设置类型名称
        set.yt = setting.typeB; //偏好设置类型
        set.yn = setting.name; //偏好设置名称
        set.yk = setting.type; //偏好设置key
        set.yv = (value) ? "1" : "0"; //偏好设置value
        this.ssService.save(set);
    };
    // //智能提醒 每日简报设置
    // gotodrsetting() {
    //   let modal = this.modalController.create(DataConfig.PAGE._DR_PAGE);
    //   modal.onDidDismiss((data) => {
    //     this.getData();
    //
    //     this.ssService.putDailySummary(
    //       UserConfig.account.id,
    //       moment('2019/6/3 ' + this.sdrp1 + ':00').unix() * 1000,
    //       this.bdr
    //     );
    //   });
    //   modal.present();
    // }
    SsPage.prototype.gotodjhsetting = function () {
        var _this = this;
        var modal = this.modalController.create(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].PAGE._JH_PAGE, this.sdjho);
        modal.onDidDismiss(function (data) {
            _this.sdjho = data.jh;
            _this.sdjhn = data.jh.jn;
            _this.sdjh = data.jh.ji;
            _this.djh.value = data.jh.ji;
            var set = new __WEBPACK_IMPORTED_MODULE_6__data_mapping__["n" /* PageY */]();
            set.yi = _this.djh.yi; //偏好主键ID
            set.ytn = _this.djh.bname; //偏好设置类型名称
            set.yt = _this.djh.typeB; //偏好设置类型
            set.yn = _this.djh.name; //偏好设置名称
            set.yk = _this.djh.type; //偏好设置key
            set.yv = data.jh.ji; //偏好设置value
            _this.ssService.save(set);
        });
        modal.present();
    };
    // gotopjfollowsetting() {
    //   let modal = this.modalController.create(DataConfig.PAGE._FO_PAGE);
    //   modal.onDidDismiss((data) => {
    //     if (data) {
    //       if (data.github) {
    //         this.sgithub = data.github;
    //         this.github = data.github.value == "1" ? true : false;
    //       }
    //       if (data.travisci) {
    //         this.stravisci = data.travisci;
    //         this.travisci = data.travisci.value == "1" ? true : false;
    //       }
    //       if (data.firim) {
    //         this.sfirim = data.firim;
    //         this.firim = data.firim.value == "1" ? true : false;
    //       }
    //
    //       if (this.github || this.firim || this.travisci) {
    //         this.spfon = true;
    //       } else {
    //         this.spfon = false;
    //       }
    //     }
    //   });
    //   modal.present();
    // }
    SsPage.prototype.getData = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.h = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].settins.get(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].SYS_H);
                        this.t = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].settins.get(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].SYS_T);
                        this.b = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].settins.get(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].SYS_B);
                        this.z = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].settins.get(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].SYS_Z);
                        this.dr = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].settins.get(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].SYS_DR);
                        this.drp1 = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].settins.get(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].SYS_DRP1);
                        this.djh = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].settins.get(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].SYS_DJH);
                        this.theme = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].settins.get(__WEBPACK_IMPORTED_MODULE_2__service_config_data_config__["a" /* DataConfig */].SYS_THEME);
                        this.bh = (this.h.value == "1") ? true : false;
                        this.bt = (this.t.value == "1") ? true : false;
                        this.bb = (this.b.value == "1") ? true : false;
                        this.bz = (this.z.value == "1") ? true : false;
                        this.bdr = (this.dr.value == "1") ? true : false;
                        this.sdrp1 = (this.drp1 && this.drp1.value) ? this.drp1.value : "08:30";
                        this.sdjh = this.djh.value;
                        _a = this;
                        return [4 /*yield*/, this.plService.getJh(this.sdjh)];
                    case 1:
                        _a.sdjho = _b.sent();
                        if (this.sdjho)
                            this.sdjhn = this.sdjho.jn;
                        this.localfriends = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].friends ? __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].friends.length : 0;
                        return [2 /*return*/];
                }
            });
        });
    };
    //刷新本地联系人
    SsPage.prototype.resfriend = function () {
        var _this = this;
        this.lfsloading = true;
        this.ssService.resfriend().then(function (d) {
            _this.lfsloading = false;
        });
    };
    SsPage.prototype.changetheme = function (setting) {
        if (setting) {
            var set = new __WEBPACK_IMPORTED_MODULE_6__data_mapping__["n" /* PageY */]();
            set.yi = setting.yi; //偏好主键ID
            set.ytn = setting.bname; //偏好设置类型名称
            set.yt = setting.typeB; //偏好设置类型
            set.yn = setting.name; //偏好设置名称
            set.yk = setting.type; //偏好设置key
            set.yv = setting.value; //偏好设置value
            this.ssService.save(set);
            this.settings.setActiveTheme(set.yv);
        }
    };
    SsPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-ss',
            template: "\n    <page-box title=\"\u8BBE\u7F6E\" [buttons]=\"buttons\" (onBack)=\"goBack()\" nobackgroud nobottom>\n\n      <ion-list>\n        <ion-list-header>\n          <ion-label>\u65B0\u6D88\u606F</ion-label>\n        </ion-list-header>\n\n        <ion-item no-lines no-padding no-margin no-border>\n          <ion-label>\u65B0\u6D88\u606F\u63D0\u9192</ion-label>\n          <ion-toggle [(ngModel)]=\"bt\" (ionChange)=\"save(t, bt)\"></ion-toggle>\n        </ion-item>\n      </ion-list>\n      <ion-list>\n\n        <ion-list-header>\n          <ion-label>\u8BED\u97F3</ion-label>\n        </ion-list-header>\n\n        <ion-item no-lines no-padding no-margin no-border>\n          <ion-label>\u8BED\u97F3\u5524\u9192</ion-label>\n          <ion-toggle [(ngModel)]=\"bh\" (ionChange)=\"save(h, bh)\"></ion-toggle>\n        </ion-item>\n        <ion-item no-lines no-padding no-margin no-border>\n          <ion-label>\u8BED\u97F3\u64AD\u62A5</ion-label>\n          <ion-toggle [(ngModel)]=\"bb\" (ionChange)=\"save(b, bb)\"></ion-toggle>\n        </ion-item>\n        <ion-item no-lines no-padding no-margin no-border>\n          <ion-label>\u9707\u52A8\u97F3\u6548</ion-label>\n          <ion-toggle [(ngModel)]=\"bz\" (ionChange)=\"save(z, bz)\"></ion-toggle>\n        </ion-item>\n      </ion-list>\n      <ion-list>\n        <ion-list-header>\n          <ion-label>\u8054\u7CFB\u4EBA</ion-label>\n        </ion-list-header>\n\n        <ion-item no-lines no-padding no-margin no-border [attr.detail-push]=\"lfsloading? null : ''\"\n                  [attr.detail-none]=\"lfsloading? '' : null\" (click)=\"resfriend()\">\n          <ion-label>\u672C\u5730\u8054\u7CFB\u4EBA</ion-label>\n          <ion-note *ngIf=\"!lfsloading\" item-end>{{localfriends}}</ion-note>\n          <ion-spinner *ngIf=\"lfsloading\" icon=\"circles\" item-end></ion-spinner>\n        </ion-item>\n      </ion-list>\n      <!--<ion-list>-->\n        <!--<ion-list-header>-->\n          <!--<ion-label>\u667A\u80FD\u63D0\u9192</ion-label>-->\n        <!--</ion-list-header>-->\n\n        <!--<ion-item no-lines no-padding no-margin no-border>-->\n          <!--<ion-label>\u6BCF\u65E5\u7B80\u62A5</ion-label>-->\n          <!--<ion-note item-end (click)=\"gotodrsetting()\">{{bdr ? sdrp1 : '\u5173\u95ED'}}</ion-note>-->\n        <!--</ion-item>-->\n        <!--<ion-item no-lines no-padding no-margin no-border detail-push (click)=\"gotopjfollowsetting()\">-->\n          <!--<ion-label>\u9879\u76EE\u8DDF\u8FDB</ion-label>-->\n          <!--<ion-note item-end *ngIf=\"!spfon\">\u6253\u5F00</ion-note>-->\n          <!--<ion-note item-end *ngIf=\"spfon\" class=\"inline-icons\">-->\n            <!--<ion-icon *ngIf=\"spfon && github\" ios=\"logo-github\" md=\"logo-github\"></ion-icon>-->\n            <!--&lt;!&ndash; Travis CI\u8BBE\u7F6E\u9009\u9879\u9690\u85CF &ndash;&gt;-->\n            <!--&lt;!&ndash;-->\n                            <!--<img *ngIf=\"spfon && travisci\" src=\"assets/imgs/travisci/travisci-worker-logo.svg\">-->\n            <!--&ndash;&gt;-->\n            <!--<ion-icon *ngIf=\"spfon && firim\" ios=\"logo-dropbox\" md=\"logo-dropbox\"></ion-icon>-->\n          <!--</ion-note>-->\n        <!--</ion-item>-->\n      <!--</ion-list>-->\n      <ion-list>\n        <ion-list-header>\n          <ion-label>\u4E3B\u9898</ion-label>\n        </ion-list-header>\n\n        <ion-item no-lines no-padding no-margin no-border>\n          <div item-content radio-group class=\"themeselect\" (ionChange)=\"changetheme(theme)\" [(ngModel)]=\"theme.value\">\n            <div class=\"waper\" ion-item [class.themen-select] = \"theme.value == 'black-theme'\">\n              <ion-radio value=\"black-theme\"  class=\"noshow\" no-margin [disabled]=\"false\"></ion-radio>\n              <ion-label><img src=\"./assets/imgs/black.png\"></ion-label>\n            </div>\n            <div class=\"waper\" ion-item [class.themen-select] = \"theme.value == 'white-theme'\">\n              <ion-radio  value=\"white-theme\"  class=\"noshow\"  no-margin [disabled]=\"false\"></ion-radio>\n              <ion-label><img src=\"./assets/imgs/white.png\"></ion-label>\n            </div>\n          </div>\n        </ion-item>\n      </ion-list>\n\n      <ion-list>\n        <ion-list-header>\n          <ion-label>\u65E5\u5386</ion-label>\n        </ion-list-header>\n\n        <ion-item no-lines no-padding no-margin no-border detail-push (click)=\"gotodjhsetting()\">\n          <ion-label>\u9ED8\u8BA4\u65E5\u5386</ion-label>\n          <ion-note item-end>{{sdjhn}}</ion-note>\n        </ion-item>\n\n      </ion-list>\n\n    </page-box>\n\n\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_4__ss_service__["a" /* SsService */],
            __WEBPACK_IMPORTED_MODULE_5__pl_pl_service__["a" /* PlService */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"],
            __WEBPACK_IMPORTED_MODULE_7__providers_settings_settings__["a" /* SettingsProvider */]])
    ], SsPage);
    return SsPage;
}());

//# sourceMappingURL=ss.js.map

/***/ }),
/* 592 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HlPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/**
 * Generated class for the 帮助 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var HlPage = (function () {
    function HlPage(navCtrl, navParams, element) {
        var _this = this;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.element = element;
        this.backButtonClick = function (e) {
            // 重写返回方法
            _this.navCtrl.pop();
        };
    }
    HlPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad HlPage');
        this.navBar.backButtonClick = this.backButtonClick;
        this.navBar.setBackButtonText("");
    };
    HlPage.prototype.updateEditor = function () {
        var el = this.element.nativeElement.querySelector("textarea");
        el.style.overflow = "hidden";
        el.style.height = "auto";
        if (el['scrollHeight'] >= 120) {
            el['style'].height = el['scrollHeight'] + "px";
        }
        else {
            el['style'].height = "120px";
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"])
    ], HlPage.prototype, "navBar", void 0);
    HlPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-hl',
            template: '<ion-header>' +
                '  <ion-navbar>' +
                '    <ion-title>意见反馈</ion-title>' +
                '    <ion-buttons right>' +
                '      <button icon-only ion-button style="padding-right: 10px;">' +
                '        完成' +
                '      </button>' +
                '    </ion-buttons>' +
                '  </ion-navbar>' +
                '</ion-header>' +
                '<ion-content padding>' +
                '  <ion-label>问题描述</ion-label>' +
                '  <ion-textarea placeholder="请描述你遇到的问题" (input)="updateEditor()"></ion-textarea>' +
                '  <div ion-item no-padding>' +
                '    <div>' +
                '      <ion-thumbnail ion-button color="light" float-left class="padding-0">' +
                '        <img src="http://pics.sc.chinaz.com/files/pic/pic9/201811/bpic9202.jpg" style="border-radius: 5px">' +
                '      </ion-thumbnail>' +
                '    </div>' +
                '    <div>' +
                '      <ion-thumbnail ion-button color="light" class="div-add-border" >' +
                '        <ion-icon name="add"></ion-icon>' +
                '      </ion-thumbnail>' +
                '    </div>' +
                '  </div>' +
                '</ion-content>'
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"]])
    ], HlPage);
    return HlPage;
}());

//# sourceMappingURL=hl.js.map

/***/ }),
/* 593 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GlPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__gc_gc_service__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_util_service_util_service__ = __webpack_require__(4);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






/**
 * Generated class for the 群组列表 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var GlPage = (function () {
    function GlPage(navCtrl, navParams, view, gcService, modalCtrl, util) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.view = view;
        this.gcService = gcService;
        this.modalCtrl = modalCtrl;
        this.util = util;
        this.buttons = {
            create: true,
            cancel: true
        };
        this.gl = new Array();
        this.getGroups();
    }
    GlPage.prototype.toGroupMember = function (g) {
        this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_3__service_config_data_config__["a" /* DataConfig */].PAGE._GC_PAGE, { g: g }).present();
    };
    GlPage.prototype.toGroupCreate = function () {
        var _this = this;
        var profileModal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_3__service_config_data_config__["a" /* DataConfig */].PAGE._GA_PAGE);
        profileModal.onDidDismiss(function (data) {
            _this.getGroups();
        });
        profileModal.present();
    };
    GlPage.prototype.getGroups = function () {
        this.gl = __WEBPACK_IMPORTED_MODULE_4__service_config_user_config__["b" /* UserConfig */].groups;
    };
    GlPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    GlPage.prototype.delGroup = function (g) {
        var _this = this;
        //删除群
        this.util.alterStart("2", function () {
            _this.gcService.delete(g.gi).then(function (data) {
                _this.getGroups();
            }).catch(function (error) {
            });
        });
    };
    GlPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-gl',
            template: "\n  <page-box title=\"\u5FEB\u6377\u7FA4\u7EC4\" [buttons]=\"buttons\" (onBack)=\"goBack()\" (onCreate)=\"toGroupCreate()\"  nobackgroud nobottom>\n    <ion-scroll scrollY=\"true\" scrollheightAuto>\n      <ion-list>\n        <ion-list-header>\n          <span class=\"count\">{{gl.length}}</span> \u4E2A\u7FA4\n        </ion-list-header>\n        <ion-item  *ngFor=\"let g of gl\">          \n          <ion-label (click)=\"toGroupMember(g)\" >\n            {{g.gn}}({{g.gc}})\n          </ion-label>\n          <ion-icon class=\"fal fa-minus-circle font-large-x\" (click)=\"delGroup(g)\"  item-end></ion-icon>\n        </ion-item>\n      </ion-list>\n    </ion-scroll>\n  </page-box>    \n",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"],
            __WEBPACK_IMPORTED_MODULE_2__gc_gc_service__["a" /* GcService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"],
            __WEBPACK_IMPORTED_MODULE_5__service_util_service_util_service__["a" /* UtilService */]])
    ], GlPage);
    return GlPage;
}());

//# sourceMappingURL=gl.js.map

/***/ }),
/* 594 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GcPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__gc_service__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__fs_fs_service__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__data_mapping__ = __webpack_require__(20);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







/**
 * Generated class for the 群组编辑 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var GcPage = (function () {
    function GcPage(navCtrl, navParams, gcService, fsService, util, modalCtrl) {
        var _this = this;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.gcService = gcService;
        this.fsService = fsService;
        this.util = util;
        this.modalCtrl = modalCtrl;
        this.buttons = {
            create: true,
            cancel: true
        };
        this.dc = new __WEBPACK_IMPORTED_MODULE_6__data_mapping__["g" /* PageDcData */]();
        this.fsl = new Array();
        this.backButtonClick = function (e) {
            // 重写返回方法
            _this.navCtrl.pop();
        };
        this.dc = this.navParams.get("g");
    }
    GcPage.prototype.ionViewDidEnter = function () {
        this.getData();
    };
    GcPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    GcPage.prototype.toAddGroupMember = function () {
        var _this = this;
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].PAGE._FS4G_PAGE, { tpara: this.dc });
        modal.onDidDismiss(function (data) {
            _this.getData();
        });
        modal.present();
    };
    GcPage.prototype.delete = function (g) {
        var _this = this;
        //删除群成员
        this.util.alterStart("2", function () {
            _this.gcService.deleteBx(_this.dc.gi, g.pwi).then(function (data) {
                _this.getData();
            });
        });
    };
    GcPage.prototype.getData = function () {
        this.fsl = this.fsService.getfriendgroup(this.dc.gi);
        this.dc.gc = this.fsl.length;
    };
    ;
    /**
     * 人员详情
     */
    GcPage.prototype.toMemberInfo = function (g) {
        var _this = this;
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].PAGE._FD_PAGE, { fsData: g });
        modal.onDidDismiss(function (data) {
            console.log(JSON.stringify(data));
            _this.getData();
        });
        modal.present();
    };
    GcPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-gc',
            template: "\n\n     <modal-box title=\"{{dc.gn}}\" [buttons]=\"buttons\" (onCancel)=\"goBack()\" (onCreate) = \"toAddGroupMember()\">\n\n       <ion-scroll scrollY=\"true\" scrollheightAuto>\n         <ion-list>\n           <ion-item *ngFor=\"let g of fsl\" >\n             <ion-label (click)=\"toMemberInfo(g)\" >\n               {{g.ran}}\n\n               <span *ngIf=\"g.rel ==1\">\uFF08\u6CE8\u518C\uFF09</span>\n               <span *ngIf=\"g.rel !=1\">\uFF08\u672A\u6CE8\u518C\uFF09</span>\n             </ion-label>\n             <ion-icon class=\"fal fa-minus-circle font-large-x\" (click)=\"delete(g)\"  item-end></ion-icon>\n           </ion-item>\n         </ion-list>\n       </ion-scroll>\n     </modal-box>\n   ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__gc_service__["a" /* GcService */],
            __WEBPACK_IMPORTED_MODULE_3__fs_fs_service__["a" /* FsService */],
            __WEBPACK_IMPORTED_MODULE_5__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"]])
    ], GcPage);
    return GcPage;
}());

//# sourceMappingURL=gc.js.map

/***/ }),
/* 595 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GaPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__gc_gc_service__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__data_mapping__ = __webpack_require__(20);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





/**
 * Generated class for the GaPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 * 添加群组
 */
var GaPage = (function () {
    function GaPage(navCtrl, navParams, viewCtrl, util, gcService) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.viewCtrl = viewCtrl;
        this.util = util;
        this.gcService = gcService;
        this.buttons = {
            save: true,
            cancel: true
        };
    }
    GaPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad GaPage');
    };
    GaPage.prototype.ionViewDidEnter = function () {
        var _this = this;
        console.log("3.0 ionViewDidEnter 当进入页面时触发");
        setTimeout(function () {
            _this.nameInput.setFocus(); //为输入框设置焦点
        }, 150);
    };
    GaPage.prototype.goBack = function () {
        console.log('GaPage跳转GlPage');
        this.viewCtrl.dismiss();
    };
    //保存群名称
    GaPage.prototype.save = function () {
        var _this = this;
        var dc = new __WEBPACK_IMPORTED_MODULE_4__data_mapping__["g" /* PageDcData */]();
        dc.gn = this.tt;
        if (!this.tt || this.tt == null || this.tt == '') {
            this.util.popoverStart("群名称不能为空");
            return;
        }
        // this.util.popMsgbox("1",()=>{
        this.gcService.save(dc).then(function (data) {
            if (data) {
                _this.viewCtrl.dismiss();
            }
            else {
                _this.util.popoverStart("添加群名称失败");
            }
        });
        // });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('nameInput'),
        __metadata("design:type", Object)
    ], GaPage.prototype, "nameInput", void 0);
    GaPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-ga',
            template: "\n\n    <modal-box title=\"\u6DFB\u52A0\u7FA4\u7EC4\" [buttons]=\"buttons\" (onSave)=\"save()\" (onCancel)=\"goBack()\">\n      <ion-input  #nameInput placeholder=\"\u8F93\u5165\u7FA4\u7EC4\u540D\u79F0\"  class=\"memo-set\" rows=\"8\" [(ngModel)]=\"tt\" class=\"font-large-x\"></ion-input>\n    </modal-box>\n",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"],
            __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_2__gc_gc_service__["a" /* GcService */]])
    ], GaPage);
    return GaPage;
}());

//# sourceMappingURL=ga.js.map

/***/ }),
/* 596 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Fs4gPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__fs_service__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__gc_gc_service__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__data_mapping__ = __webpack_require__(20);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






/**
 * Generated class for the 群组参与人选择 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var Fs4gPage = (function () {
    function Fs4gPage(navCtrl, navParams, fsService, viewCtrl, util, gsService, modalCtrl) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.fsService = fsService;
        this.viewCtrl = viewCtrl;
        this.util = util;
        this.gsService = gsService;
        this.modalCtrl = modalCtrl;
        this.buttons = {
            save: true,
            cancel: true
        };
        this.pageFsl = new Array();
        this.selFsl = new Array();
        this.dc = this.navParams.get('tpara');
    }
    Fs4gPage.prototype.ionViewDidEnter = function () {
        this.getContacts();
    };
    Fs4gPage.prototype.rmSelected = function (fs) {
        var index = this.selFsl.findIndex(function (value) {
            return fs.pwi == value.pwi;
        });
        this.selFsl.splice(index, 1);
        this.checkedSet();
    };
    Fs4gPage.prototype.save = function () {
        var _this = this;
        var list = this.selFsl;
        if (list.length > 0) {
            this.dc.fsl = list;
            this.gsService.save(this.dc).then(function (data) {
                _this.goBack();
                //TODO 错误提示
            });
        }
        else {
            this.util.popoverStart("请先选择朋友");
        }
    };
    Fs4gPage.prototype.addsel = function (fs) {
        if (fs.checked) {
            this.selFsl.push(fs);
        }
        else {
            var index = this.selFsl.findIndex(function (value) {
                return fs.pwi == value.pwi;
            });
            this.selFsl.splice(index, 1);
        }
    };
    Fs4gPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    Fs4gPage.prototype.getContacts = function () {
        var _this = this;
        this.pageFsl.splice(0, this.pageFsl.length);
        var fsl = this.fsService.getfriend(this.tel);
        fsl.forEach(function (value) {
            var fs = new __WEBPACK_IMPORTED_MODULE_5__data_mapping__["d" /* FsPageData */]();
            Object.assign(fs, value);
            fs.checked = false;
            _this.pageFsl.push(fs);
        });
        this.checkedSet();
    };
    Fs4gPage.prototype.checkedSet = function () {
        this.pageFsl.forEach(function (value) {
            value.checked = false;
        });
        var _loop_1 = function (f) {
            var t = this_1.pageFsl.find(function (value) {
                return value.pwi == f.pwi;
            });
            if (t)
                t.checked = true;
        };
        var this_1 = this;
        for (var _i = 0, _a = this.selFsl; _i < _a.length; _i++) {
            var f = _a[_i];
            _loop_1(f);
        }
    };
    Fs4gPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-fs4g',
            template: "\n\n    <modal-box title=\"{{dc.gn}}\" [buttons]=\"buttons\" (onSave)=\"save()\" (onCancel)=\"goBack()\">\n\n      <div class=\"searchbar\">\n        <ion-searchbar type=\"text\" placeholder=\"\u624B\u673A\u53F7 \u59D3\u540D\" (ionChange)=\"getContacts()\" [(ngModel)]=\"tel\"\n                       text-center></ion-searchbar>\n      </div>\n\n      <ion-scroll scrollY=\"true\" scrollheightAuto>\n        <ion-list>\n          <ion-list-header>\n            \u9009\u62E9(<span class=\"count\">{{selFsl.length}}</span>)\u4EBA\n          </ion-list-header>\n          <ion-item >\n            <ion-label>\n              <ul>\n                <li *ngFor=\"let g of selFsl\" (click)=\"rmSelected(g)\">\n                  <span> {{ g.ran }}</span>\n                </li>\n                <li>\n                </li>\n              </ul>\n            </ion-label>\n          </ion-item>\n        </ion-list>\n\n        <ion-list >\n          <ion-list-header>\n            \u9009\u62E9\u53C2\u4E0E\u4EBA\n          </ion-list-header>\n          <ion-item *ngFor=\"let g of pageFsl\" >\n\n            <ion-label>\n              {{g.ran}}\n              <span *ngIf=\"g.rel ==1\">\uFF08\u6CE8\u518C\uFF09</span>\n            </ion-label>\n\n            <ion-checkbox (click)=\"addsel(g)\" [(ngModel)]=\"g.checked\"></ion-checkbox>\n          </ion-item>\n        </ion-list>\n      </ion-scroll>\n    </modal-box>\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__fs_service__["a" /* FsService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"],
            __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_3__gc_gc_service__["a" /* GcService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"]])
    ], Fs4gPage);
    return Fs4gPage;
}());

//# sourceMappingURL=fs4g.js.map

/***/ }),
/* 597 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Fs4foPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__fs_service__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__gc_gc_service__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__data_mapping__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_config_user_config__ = __webpack_require__(8);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







/**
 * Generated class for the 项目跟进 通知人员选择 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var Fs4foPage = (function () {
    function Fs4foPage(navCtrl, navParams, fsService, viewCtrl, util, gsService, modalCtrl) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.fsService = fsService;
        this.viewCtrl = viewCtrl;
        this.util = util;
        this.gsService = gsService;
        this.modalCtrl = modalCtrl;
        this.buttons = {
            save: true,
            cancel: true
        };
        this.pageFsl = new Array();
        this.selFsl = new Array();
    }
    Fs4foPage.prototype.ionViewDidEnter = function () {
        var selected = new Array();
        if (this.navParams.get('selected')) {
            selected = this.navParams.get('selected');
        }
        this.getContacts(selected);
    };
    Fs4foPage.prototype.rmSelected = function (fs) {
        var index = this.selFsl.findIndex(function (value) {
            return fs.pwi == value.pwi;
        });
        this.selFsl.splice(index, 1);
        this.checkedSet();
    };
    Fs4foPage.prototype.save = function () {
        var selected = new Array();
        for (var _i = 0, _a = this.selFsl; _i < _a.length; _i++) {
            var p = _a[_i];
            selected.push(p.rc);
        }
        this.viewCtrl.dismiss({ selected: selected });
    };
    Fs4foPage.prototype.addsel = function (fs) {
        if (fs.checked) {
            this.selFsl.push(fs);
        }
        else {
            var index = this.selFsl.findIndex(function (value) {
                return fs.pwi == value.pwi;
            });
            this.selFsl.splice(index, 1);
        }
    };
    Fs4foPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    Fs4foPage.prototype.getContacts = function (selected) {
        var _this = this;
        this.pageFsl.splice(0, this.pageFsl.length);
        var fsl = this.fsService.getfriend(this.tel);
        fsl.forEach(function (value) {
            var fs = new __WEBPACK_IMPORTED_MODULE_5__data_mapping__["d" /* FsPageData */]();
            Object.assign(fs, value);
            if (fs.rel == '1' && fs.rc != __WEBPACK_IMPORTED_MODULE_6__service_config_user_config__["b" /* UserConfig */].account.id) {
                if (selected.indexOf(fs.rc) > -1) {
                    fs.checked = true;
                    _this.selFsl.push(fs);
                }
                else {
                    fs.checked = false;
                }
                _this.pageFsl.push(fs);
            }
        });
        this.checkedSet();
    };
    Fs4foPage.prototype.checkedSet = function () {
        this.pageFsl.forEach(function (value) {
            value.checked = false;
        });
        var _loop_1 = function (f) {
            var t = this_1.pageFsl.find(function (value) {
                return value.pwi == f.pwi;
            });
            if (t)
                t.checked = true;
        };
        var this_1 = this;
        for (var _i = 0, _a = this.selFsl; _i < _a.length; _i++) {
            var f = _a[_i];
            _loop_1(f);
        }
    };
    Fs4foPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-fs4fo',
            template: "\n\n\n    <modal-box title=\"{{dc.gn}}\" [buttons]=\"buttons\" (onSave)=\"save()\" (onCancel)=\"goBack()\">\n\n      <div class=\"searchbar\">\n        <ion-searchbar type=\"text\" placeholder=\"\u624B\u673A\u53F7 \u59D3\u540D\" (ionChange)=\"getContacts()\" [(ngModel)]=\"tel\"\n                       text-center></ion-searchbar>\n      </div>\n\n      <ion-scroll scrollY=\"true\" scrollheightAuto>\n        <ion-list>\n          <ion-list-header>\n            \u9009\u62E9(<span class=\"count\">{{selFsl.length}}</span>)\u4EBA\n          </ion-list-header>\n          <ion-item >\n            <ion-label>\n              <ul>\n                <li *ngFor=\"let g of selFsl\" (click)=\"rmSelected(g)\">\n                  <span> {{ g.ran }}</span>\n                </li>\n                <li>\n                </li>\n              </ul>\n            </ion-label>\n          </ion-item>\n        </ion-list>\n\n        <ion-list >\n          <ion-list-header>\n            \u9009\u62E9\u53C2\u4E0E\u4EBA\n          </ion-list-header>\n          <ion-item *ngFor=\"let g of pageFsl\" >\n\n            <ion-label>\n              {{g.ran}}\n              <span *ngIf=\"g.rel ==1\">\uFF08\u6CE8\u518C\uFF09</span>\n            </ion-label>\n\n            <ion-checkbox (click)=\"addsel(g)\" [(ngModel)]=\"g.checked\"></ion-checkbox>\n          </ion-item>\n        </ion-list>\n      </ion-scroll>\n    </modal-box>   \n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__fs_service__["a" /* FsService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"],
            __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_3__gc_gc_service__["a" /* GcService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"]])
    ], Fs4foPage);
    return Fs4foPage;
}());

//# sourceMappingURL=fs4fo.js.map

/***/ }),
/* 598 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FdPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__fd_service__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__data_mapping__ = __webpack_require__(20);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





/**
 * Generated class for the 参与人详情 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var FdPage = (function () {
    function FdPage(navCtrl, fdService, viewCtrl, util, navParams) {
        this.navCtrl = navCtrl;
        this.fdService = fdService;
        this.viewCtrl = viewCtrl;
        this.util = util;
        this.navParams = navParams;
        this.buttons = {
            cancel: true
        };
        this.fd = new __WEBPACK_IMPORTED_MODULE_4__data_mapping__["c" /* FsData */]();
        this.buttonText = '';
    }
    FdPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad FdPage');
        this.fd = this.navParams.get('fsData');
    };
    FdPage.prototype.ionViewDidEnter = function () {
        this.getDetail();
    };
    FdPage.prototype.getDetail = function () {
        var _this = this;
        this.fdService.get(this.fd).then(function (data) {
            if (data) {
                _this.fd = data;
                if (!_this.fd.ran || _this.fd.ran == '') {
                    _this.fd.ran = _this.fd.rn;
                }
            }
            return _this.fdService.getBlack(_this.fd.rc);
        }).then(function (data) {
            _this.fd.isbla = data;
        });
    };
    FdPage.prototype.dismiss = function () {
        this.viewCtrl.dismiss();
    };
    FdPage.prototype.black = function (b) {
        var _this = this;
        if (!b) {
            this.util.alterStart("是否确认移出黑名单？", function () {
                _this.rbl();
            });
        }
        else {
            this.util.alterStart("是否确认移入黑名单？", function () {
                _this.abl();
            });
        }
    };
    /**
     * 移除黑名单
     */
    FdPage.prototype.rbl = function () {
        var _this = this;
        this.fdService.removeBlack(this.fd.rc).then(function (data) {
            _this.getDetail();
            //alert("移出成功")
        });
    };
    /**
     * 移入黑名单
     */
    FdPage.prototype.abl = function () {
        var _this = this;
        this.fdService.putBlack(this.fd).then(function (data) {
            _this.getDetail();
            //alert("移入成功")
        });
    };
    FdPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-fd',
            template: "\n    <modal-box title=\"{{fd.ran}}\" [buttons]=\"buttons\" (onSave)=\"save()\" (onCancel)=\"dismiss()\">      \n\n      <div ion-item no-border no-padding no-lines no-margin class=\"itemwarp font-normal\">\n        <ion-label>\u8054\u7CFB\u4EBA\u522B\u79F0</ion-label>\n        <ion-label item-end text-end > {{fd.ran}}</ion-label>\n      </div>\n      <div ion-item no-border no-padding no-lines no-margin class=\"itemwarp font-normal\">\n        <ion-label>\u59D3\u540D</ion-label>\n        <ion-label item-end text-end > {{fd.rn}}</ion-label>\n      </div>\n      <div ion-item no-border no-padding no-lines no-margin class=\"itemwarp font-normal\">\n        <ion-label>\u8054\u7CFB\u65B9\u5F0F</ion-label>\n        <ion-label item-end text-end >{{fd.rc}}</ion-label>\n      </div>\n      <div ion-item no-border no-padding no-lines no-margin class=\"itemwarp font-normal\">\n        <ion-label>\u6CE8\u518C\u72B6\u6001</ion-label>\n        <ion-label item-end text-end *ngIf=\"fd.rel == 0\">\u672A\u6CE8\u518C</ion-label>\n        <ion-label item-end text-end *ngIf=\"fd.rel == 1\">\u6CE8\u518C</ion-label>\n      </div>\n      <div ion-item no-border no-padding no-lines no-margin class=\"itemwarp font-normal\">\n        <ion-label>\u6D3B\u52A8\u63A5\u6536</ion-label>\n        <ion-label item-end text-end >150\u4E2A</ion-label>\n      </div>\n      <div ion-item no-border no-padding no-lines no-margin class=\"itemwarp font-normal\">\n        <ion-label>\u65E5\u5386\u9879\u63A5\u6536</ion-label>\n        <ion-label item-end text-end >250\u4E2A</ion-label>\n      </div>\n      <div ion-item no-border no-padding no-lines no-margin class=\"itemwarp font-normal\">\n        <ion-label>\u6D3B\u52A8\u5171\u4EAB</ion-label>\n        <ion-label item-end text-end >30\u4E2A</ion-label>\n      </div>\n      <div ion-item no-border no-padding no-lines no-margin class=\"itemwarp font-normal\">\n        <ion-label>\u65E5\u5386\u9879\u5171\u4EAB</ion-label>\n        <ion-label item-end text-end >2\u4E2A</ion-label>\n      </div>\n      \n      <div ion-item no-border no-padding no-lines no-margin class=\"itemwarp font-normal\">\n        <ion-label>\u6765\u6E90</ion-label>\n        <ion-label item-end text-end >{{fd.src}}</ion-label>\n      </div>\n      \n      <div ion-item no-border no-padding no-lines no-margin class=\"itemwarp font-normal\">\n        <ion-label>\u9ED1\u540D\u5355</ion-label>\n        <ion-toggle [(ngModel)]=\"fd.isbla\" (ionChange)=\"black(fd.isbla)\"></ion-toggle>\n      </div>\n    </modal-box>\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_2__fd_service__["a" /* FdService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"],
            __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"]])
    ], FdPage);
    return FdPage;
}());

//# sourceMappingURL=fd.js.map

/***/ }),
/* 599 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BlPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__bl_service__ = __webpack_require__(600);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__fd_fd_service__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_util_service_util_service__ = __webpack_require__(4);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






/**
 * Generated class for the 黑名单列表 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var BlPage = (function () {
    function BlPage(navCtrl, navParams, blService, fdService, util, modalCtrl) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.blService = blService;
        this.fdService = fdService;
        this.util = util;
        this.modalCtrl = modalCtrl;
        this.bls = new Array();
        this.buttons = {
            cancel: true
        };
    }
    BlPage.prototype.ionViewDidEnter = function () {
        var _this = this;
        this.blService.get().then(function (data) {
            if (data != null) {
                _this.bls = data;
            }
        });
    };
    BlPage.prototype.goBack = function () {
        //this.navCtrl.push(DataConfig.PAGE._M_PAGE);
        // this.navCtrl.setRoot(DataConfig.PAGE._M_PAGE);
        this.navCtrl.pop();
    };
    BlPage.prototype.toAdd = function () {
        var profileModal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].PAGE._FS4G_PAGE, { addType: 'bl' });
        profileModal.present();
    };
    //删除黑名单
    BlPage.prototype.delete = function (g) {
        var _this = this;
        //this.util.popMsgbox("2",()=>{
        this.fdService.removeBlack(g.ui).then(function (data) {
            _this.blService.get().then(function (data) {
                if (data != null) {
                    _this.bls = data;
                }
            });
            _this.util.popoverStart('删除黑名单成功！');
        });
    };
    BlPage.prototype.goTofsDetail = function (fs) {
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].PAGE._FD_PAGE, { fsData: fs });
        modal.present();
    };
    BlPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-bl',
            template: "\n    <page-box title=\"\u9ED1\u540D\u5355\" [buttons]=\"buttons\"  (onBack)=\"goBack()\"  nobackgroud nobottom>\n      <ion-scroll scrollY=\"true\" scrollheightAuto>\n        <ion-list>\n          <ion-list-header>\n            \u62D2\u7EDD\u63A5\u53D7 <span class=\"count\">{{bls.length}}</span> \u4E2A\u4EBA\u7684\u65E5\u7A0B\u63A8\u9001 \n          </ion-list-header>\n          <ion-item *ngFor=\"let g of bls\" >\n            <ion-label (click)=\"goTofsDetail(g)\" >\n              {{g.ran}}\n\n              <span *ngIf=\"g.rel ==1\">\uFF08\u6CE8\u518C\uFF09</span>\n              <span *ngIf=\"g.rel !=1\">\uFF08\u672A\u6CE8\u518C\uFF09</span>\n            </ion-label>\n            <ion-icon class=\"fal fa-minus-circle font-large-x\" (click)=\"delete(g)\"  item-end></ion-icon>\n          </ion-item>\n        </ion-list>\n      </ion-scroll>\n    </page-box>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__bl_service__["a" /* BlService */],
            __WEBPACK_IMPORTED_MODULE_3__fd_fd_service__["a" /* FdService */],
            __WEBPACK_IMPORTED_MODULE_5__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"]])
    ], BlPage);
    return BlPage;
}());

//# sourceMappingURL=bl.js.map

/***/ }),
/* 600 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BlService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_restful_blasev__ = __webpack_require__(256);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_cordova_contacts_service__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_config_data_config__ = __webpack_require__(9);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var BlService = (function () {
    function BlService(blaRes, contacts, util) {
        this.blaRes = blaRes;
        this.contacts = contacts;
        this.util = util;
    }
    //获取黑名单列表
    BlService.prototype.get = function () {
        return __awaiter(this, void 0, void 0, function () {
            var blfss, blaList, _loop_1, this_1, _i, blaList_1, fs;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        blfss = new Array();
                        this.util.loadingStart();
                        return [4 /*yield*/, this.blaRes.list()];
                    case 1:
                        blaList = _a.sent();
                        _loop_1 = function (fs) {
                            var fsData;
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        if (!(fs.ai && fs.ai != '')) return [3 /*break*/, 3];
                                        fsData = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].friends.find(function (value) { return value.ui == fs.ai; });
                                        if (!!fsData) return [3 /*break*/, 2];
                                        return [4 /*yield*/, this_1.contacts.updateOneFs(fs.ai)];
                                    case 1:
                                        fsData = _a.sent();
                                        _a.label = 2;
                                    case 2:
                                        if (!fsData.ui || fsData.ui == null || fsData.ui == '') {
                                            fsData.ui = fs.ai;
                                        }
                                        if (!fsData.rc || fsData.rc == null || fsData.rc == '') {
                                            fsData.rc = fs.mpn;
                                        }
                                        if (!fsData.ran || fsData.ran == null || fsData.ran == '') {
                                            fsData.ran = fs.n;
                                        }
                                        if (!fsData.bhiu || fsData.bhiu == null || fsData.bhiu == '') {
                                            fsData.bhiu = __WEBPACK_IMPORTED_MODULE_5__service_config_data_config__["a" /* DataConfig */].HUIBASE64;
                                        }
                                        blfss.push(fsData);
                                        _a.label = 3;
                                    case 3: return [2 /*return*/];
                                }
                            });
                        };
                        this_1 = this;
                        _i = 0, blaList_1 = blaList;
                        _a.label = 2;
                    case 2:
                        if (!(_i < blaList_1.length)) return [3 /*break*/, 5];
                        fs = blaList_1[_i];
                        return [5 /*yield**/, _loop_1(fs)];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4:
                        _i++;
                        return [3 /*break*/, 2];
                    case 5:
                        this.util.loadingEnd();
                        return [2 /*return*/, blfss];
                }
            });
        });
    };
    BlService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_restful_blasev__["b" /* BlaRestful */],
            __WEBPACK_IMPORTED_MODULE_4__service_cordova_contacts_service__["a" /* ContactsService */],
            __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__["a" /* UtilService */]])
    ], BlService);
    return BlService;
}());

//# sourceMappingURL=bl.service.js.map

/***/ }),
/* 601 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PsPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ps_service__ = __webpack_require__(122);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__data_mapping__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_keyboard__ = __webpack_require__(80);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__components_date_picker_date_picker__ = __webpack_require__(260);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};










/**
 * Generated class for the 个人设置 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var PsPage = (function () {
    function PsPage(navCtrl, psService, actionSheetController, util, keyboard, _renderer) {
        this.navCtrl = navCtrl;
        this.psService = psService;
        this.actionSheetController = actionSheetController;
        this.util = util;
        this.keyboard = keyboard;
        this._renderer = _renderer;
        this.buttons = {
            remove: false,
            share: false,
            save: true,
            cancel: true
        };
        this.today = new Date();
        this.sex = '';
        this.birthday = '';
        this.avatar = __WEBPACK_IMPORTED_MODULE_5__service_config_data_config__["a" /* DataConfig */].HUIBASE64;
        this.uo = new __WEBPACK_IMPORTED_MODULE_6__data_mapping__["m" /* PageUData */]();
        this.olduo = new __WEBPACK_IMPORTED_MODULE_6__data_mapping__["m" /* PageUData */]();
    }
    PsPage.prototype.commentFocus = function () {
        if (this.keyboard) {
            this._renderer.setStyle(this.grid.nativeElement, "transform", "translateY(-80px)");
        }
    };
    PsPage.prototype.commentBlur = function () {
        this._renderer.setStyle(this.grid.nativeElement, "transform", "translateY(0px)");
    };
    PsPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad UcPage');
        Object.assign(this.uo.user, __WEBPACK_IMPORTED_MODULE_4__service_config_user_config__["b" /* UserConfig */].user);
        Object.assign(this.uo.account, __WEBPACK_IMPORTED_MODULE_4__service_config_user_config__["b" /* UserConfig */].account);
        Object.assign(this.olduo.user, __WEBPACK_IMPORTED_MODULE_4__service_config_user_config__["b" /* UserConfig */].user);
        Object.assign(this.olduo.account, __WEBPACK_IMPORTED_MODULE_4__service_config_user_config__["b" /* UserConfig */].account);
        this.avatar = __WEBPACK_IMPORTED_MODULE_4__service_config_user_config__["b" /* UserConfig */].user.avatar;
        if (__WEBPACK_IMPORTED_MODULE_4__service_config_user_config__["b" /* UserConfig */].user.sex != undefined && __WEBPACK_IMPORTED_MODULE_4__service_config_user_config__["b" /* UserConfig */].user.sex != '') {
            if (__WEBPACK_IMPORTED_MODULE_4__service_config_user_config__["b" /* UserConfig */].user.sex == "0") {
                this.sex = "未知";
            }
            else {
                this.sex = __WEBPACK_IMPORTED_MODULE_4__service_config_user_config__["b" /* UserConfig */].user.sex == "1" ? "男" : "女";
            }
        }
        this.birthday = __WEBPACK_IMPORTED_MODULE_4__service_config_user_config__["b" /* UserConfig */].user.bothday.replace(new RegExp('/', 'g'), '-');
        this.birthdaypicker.max = __WEBPACK_IMPORTED_MODULE_9_moment__().format("YYYY-MM-DD");
    };
    PsPage.prototype.ionViewDidEnter = function () {
        this.getData();
    };
    PsPage.prototype.getData = function () {
        var _this = this;
        this.psService.findPerson(__WEBPACK_IMPORTED_MODULE_4__service_config_user_config__["b" /* UserConfig */].user.id).then(function (data) {
            _this.uo.user = __WEBPACK_IMPORTED_MODULE_4__service_config_user_config__["b" /* UserConfig */].user;
            _this.avatar = _this.uo.user.avatar;
            if (_this.uo.user.sex != undefined && _this.uo.user.sex != '') {
                if (_this.uo.user.sex == "0") {
                    _this.sex = "未知";
                }
                else {
                    _this.sex = _this.uo.user.sex == "1" ? "男" : "女";
                }
            }
            _this.birthday = _this.uo.user.bothday.replace(new RegExp('/', 'g'), '-');
        });
    };
    PsPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    PsPage.prototype.ionViewWillLeave = function () {
        if (this.actionSheet !== undefined) {
            this.actionSheet.dismiss();
        }
        //console.log(this.dateTimes.toArray());
        for (var i = 0; i < this.dateTimes.toArray().length; i++) {
            if (this.dateTimes.toArray()[i]._picker != undefined) {
                this.dateTimes.toArray()[i]._picker.dismiss();
            }
        }
    };
    PsPage.prototype.save = function () {
        var _this = this;
        var inData;
        var isUpd = false;
        if (this.olduo.user.sex != this.uo.user.sex) {
            isUpd = true;
            inData = { sex: this.uo.user.sex };
        }
        if (this.olduo.user.bothday != this.uo.user.bothday) {
            isUpd = true;
            inData = { birthday: this.uo.user.bothday };
        }
        if (this.olduo.user.contact != this.uo.user.contact) {
            isUpd = true;
            inData = { contact: this.uo.user.contact };
        }
        if (this.olduo.user.realname != this.uo.user.realname) {
            isUpd = true;
            inData = { realname: this.uo.user.realname };
        }
        if (this.olduo.user.No != this.uo.user.No) {
            isUpd = true;
            inData = { ic: this.uo.user.No };
        }
        if (isUpd) {
            this.psService.saveUser(this.uo.user.id, inData).then(function (data) {
                _this.getData();
                Object.assign(_this.olduo.user, _this.uo.user); //替换旧数据
            }).catch(function (error) {
                _this.util.popoverStart(error);
            });
        }
    };
    PsPage.prototype.getDtPickerSel = function (evt) {
        var el = document.getElementsByClassName("picker-opt-selected");
        if (el && el.length == 3) {
            this.birthday = el[0].textContent + "-" + el[1].textContent + "-" + el[2].textContent;
            this.uo.user.bothday = this.birthday.replace(new RegExp('-', 'g'), '/');
            this.save();
        }
    };
    PsPage.prototype.selectSex = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = this;
                        return [4 /*yield*/, this.actionSheetController.create({
                                buttons: [{
                                        text: '男',
                                        handler: function () {
                                            _this.uo.user.sex = '1';
                                            console.log("男:" + _this.uo.user.sex);
                                            _this.sex = _this.uo.user.sex == "1" ? "男" : "女";
                                            _this.save();
                                        }
                                    }, {
                                        text: '女',
                                        handler: function () {
                                            _this.uo.user.sex = '2';
                                            console.log("女:" + _this.uo.user.sex);
                                            _this.sex = _this.uo.user.sex == "1" ? "男" : "女";
                                            _this.save();
                                        }
                                    }]
                            })];
                    case 1:
                        _a.actionSheet = _b.sent();
                        return [4 /*yield*/, this.actionSheet.present()];
                    case 2:
                        _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChildren"])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["DateTime"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["QueryList"])
    ], PsPage.prototype, "dateTimes", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("birthdaypicker"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_8__components_date_picker_date_picker__["a" /* DatePickerComponent */])
    ], PsPage.prototype, "birthdaypicker", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("grid"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], PsPage.prototype, "grid", void 0);
    PsPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-ps',
            providers: [],
            template: "\n    <page-box title=\"\u4E2A\u4EBA\u4FE1\u606F\" [buttons]=\"buttons\" (onSave)=\"save()\" (onBack)=\"goBack()\" nobackgroud nobottom>\n      <ion-list>\n        <ion-item no-lines no-padding no-margin no-border>\n          <ion-label>\u7528\u6237\u540D</ion-label>\n          <ion-input type=\"text\" [(ngModel)]=\"uo.user.name\" item-end text-end readonly=\"true\"></ion-input>\n        </ion-item>\n        <ion-item no-lines no-padding no-margin no-border>\n          <ion-label>\u6CE8\u518C\u624B\u673A</ion-label>\n          <ion-input type=\"text\" [(ngModel)]=\"uo.user.aid\" item-end text-end readonly=\"true\"></ion-input>\n        </ion-item>\n        <ion-item no-lines no-padding no-margin no-border>\n          <ion-label>\u59D3\u540D</ion-label>\n          <ion-input type=\"text\" [(ngModel)]=\"uo.user.realname\" item-end text-end></ion-input>\n        </ion-item>\n      </ion-list>\n      <ion-list>\n        <ion-item (click)=\"selectSex()\" no-lines no-padding no-margin no-border>\n          <ion-label>\u6027\u522B</ion-label>\n          <ion-icon item-end text-end class=\"fal fa-male font-large\" *ngIf=\"uo.user.sex == 1\">\u7537</ion-icon>\n          <ion-icon item-end text-end class=\"fal fa-female font-large\" *ngIf=\"uo.user.sex == 2\">\u5973</ion-icon>\n        </ion-item>\n        <ion-item no-lines no-padding no-margin no-border>\n          <ion-label>\u751F\u65E5</ion-label>\n          <date-picker #birthdaypicker item-content displayFormat=\"YYYY\u5E74MM\u6708DD\u65E5\" [(ngModel)]=\"birthday\"\n                       min=\"1919-01-01\" cancelText=\"\u53D6\u6D88\" doneText=\"\u786E\u8BA4\"></date-picker>\n        </ion-item>\n        <ion-item no-lines no-padding no-margin no-border>\n          <ion-label>\u8EAB\u4EFD\u8BC1</ion-label>\n          <ion-input type=\"tel\" item-end text-end [(ngModel)]=\"uo.user.No\"></ion-input>\n        </ion-item>\n        <ion-item no-lines no-padding no-margin no-border>\n          <ion-label>\u8054\u7CFB\u65B9\u5F0F</ion-label>\n          <ion-input type=\"tel\" text-end [(ngModel)]=\"uo.user.contact\"></ion-input>\n        </ion-item>\n      </ion-list>\n    </page-box>\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_2__ps_service__["a" /* PsService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_7__ionic_native_keyboard__["a" /* Keyboard */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"]])
    ], PsPage);
    return PsPage;
}());

//# sourceMappingURL=ps.js.map

/***/ }),
/* 602 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BrPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__br_service__ = __webpack_require__(165);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__ = __webpack_require__(4);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/**
 * Generated class for the 备份恢复 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var BrPage = (function () {
    function BrPage(navCtrl, brService, util, _renderer) {
        this.navCtrl = navCtrl;
        this.brService = brService;
        this.util = util;
        this._renderer = _renderer;
        this.buttons = {
            cancel: true
        };
        this.isRecover = false;
        this.is = true;
    }
    BrPage.prototype.ionViewDidEnter = function () {
        this.getLastDate();
    };
    BrPage.prototype.getLastDate = function () {
        var _this = this;
        this.brService.getLastDt().then(function (data) {
            _this.bts = data.bts;
            if (_this.bts && _this.bts != '') {
                _this.isRecover = true;
            }
            console.log('获取最后更新时间：' + _this.bts);
        }).catch(function (error) {
            console.log('获取最后更新时间失败' + JSON.stringify(error));
        });
    };
    BrPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    BrPage.prototype.backup = function () {
        var _this = this;
        if (this.is) {
            this.is = false;
            this._renderer.addClass(this.resRef.nativeElement, "spinanimation");
            this.brService.backup().then(function (data) {
                _this.util.toastStart('备份完成', 1500);
                _this.getLastDate();
                _this.is = true;
                _this._renderer.removeClass(_this.resRef.nativeElement, "spinanimation");
            }).catch(function (error) {
                _this.util.toastStart('备份失败', 1500);
                _this.is = true;
                _this._renderer.removeClass(_this.resRef.nativeElement, "spinanimation");
            });
        }
    };
    BrPage.prototype.recover = function () {
        var _this = this;
        if (this.isRecover && this.is) {
            this.is = false;
            this._renderer.addClass(this.resRef.nativeElement, "spinanimation");
            this.brService.recover(Number(this.bts)).then(function (data) {
                _this.util.toastStart('恢复成功', 1500);
                _this.is = true;
                _this._renderer.removeClass(_this.resRef.nativeElement, "spinanimation");
            }).catch(function (error) {
                _this.util.toastStart('恢复失败', 1500);
                _this.is = true;
                _this._renderer.removeClass(_this.resRef.nativeElement, "spinanimation");
            });
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("resRef"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], BrPage.prototype, "resRef", void 0);
    BrPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-br',
            template: "\n\n\n    <page-box title=\"\u5907\u4EFD\u6062\u590D\u6570\u636E\" [buttons]=\"buttons\" (onBack)=\"goBack()\">\n\n      <div #resRef  >\n        <div class=\"img\"  >\n          <ion-icon class=\"fal fa-spinner\"></ion-icon>\n        </div>\n      </div>\n      <div ion-item no-border no-padding no-lines no-margin class=\"itemwarp font-normal\">\n        <ion-label>\u65E5\u7A0B/\u8054\u7CFB\u4EBA/\u7FA4\u7EC4/\u8BA1\u5212/\u63D0\u9192/\u8BBE\u7F6E</ion-label>\n      </div>\n      <div ion-item no-border no-padding no-lines no-margin class=\"itemwarp font-normal\">\n        <ion-label>\n          \u4E0A\u6B21\u5907\u4EFD\u65F6\u95F4\uFF1A<small>{{bts  * 1000 | date:\"yyyy\u5E74MM\u6708dd\u65E5 HH:mm:ss\"}}</small></ion-label>\n      </div>\n\n      <div ion-item no-border no-padding no-lines no-margin class=\"itemwarp\">\n          <button item-left padding (click)=\"backup(is)\" [ngStyle]=\"{'opacity': is ? 1 : 0.2 }\">\n            <ion-icon class=\"fal fa-cloud-upload-alt\"></ion-icon>\n          </button>\n          <button item-right padding (click)=\"recover(isRecover,is)\" [ngStyle]=\"{'opacity': isRecover && is ? 1 : 0.2 }\">\n            <ion-icon class=\"fal fa-cloud-download-alt\"></ion-icon>\n          </button>\n      </div>\n\n    </page-box>\n    \n\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_2__br_service__["a" /* BrService */],
            __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"]])
    ], BrPage);
    return BrPage;
}());

//# sourceMappingURL=br.js.map

/***/ }),
/* 603 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AlPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__al_service__ = __webpack_require__(159);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__data_mapping__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_cordova_rabbitmq_service__ = __webpack_require__(162);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






/**
 * Generated class for the AlPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var AlPage = (function () {
    function AlPage(alService, nav, rabbitmq, app) {
        this.alService = alService;
        this.nav = nav;
        this.rabbitmq = rabbitmq;
        this.app = app;
        this.alData = new __WEBPACK_IMPORTED_MODULE_4__data_mapping__["a" /* AlData */]();
        this.alData.text = "正在初始化";
    }
    AlPage.prototype.ionViewDidEnter = function () {
        this.alinit();
        this.app.setElementClass("white-theme", true);
    };
    AlPage.prototype.alinit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, _b, _c, _d, _e, _f;
            return __generator(this, function (_g) {
                switch (_g.label) {
                    case 0:
                        // let scd:ScdData= new ScdData();
                        // scd.sn ="ddddddd";
                        // let reData: Array<ETbl> = new Array<ETbl>();
                        // let t:ETbl = new ETbl();
                        // t.st = "拉拉拉拉";
                        // reData.push(t);
                        // this.dd.remind(reData);
                        _a = this;
                        return [4 /*yield*/, this.alService.checkAllPermissions()];
                    case 1:
                        // let scd:ScdData= new ScdData();
                        // scd.sn ="ddddddd";
                        // let reData: Array<ETbl> = new Array<ETbl>();
                        // let t:ETbl = new ETbl();
                        // t.st = "拉拉拉拉";
                        // reData.push(t);
                        // this.dd.remind(reData);
                        _a.alData = _g.sent();
                        _b = this;
                        return [4 /*yield*/, this.alService.createDB()];
                    case 2:
                        _b.alData = _g.sent();
                        _c = this;
                        return [4 /*yield*/, this.alService.checkSystem()];
                    case 3:
                        _c.alData = _g.sent();
                        _d = this;
                        return [4 /*yield*/, this.alService.createSystemData()];
                    case 4:
                        _d.alData = _g.sent();
                        _e = this;
                        return [4 /*yield*/, this.alService.setSetting()];
                    case 5:
                        _e.alData = _g.sent();
                        _f = this;
                        return [4 /*yield*/, this.alService.checkUserInfo()];
                    case 6:
                        _f.alData = _g.sent();
                        if (!this.alData.islogin) {
                            this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_3__service_config_data_config__["a" /* DataConfig */].PAGE._LP_PAGE);
                        }
                        else {
                            this.alData.text = "正在连接服务器。。。";
                            this.alService.connWebSocket();
                            this.alData.text = "进入您的日历";
                            this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_3__service_config_data_config__["a" /* DataConfig */].PAGE._M_PAGE);
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    AlPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-al',
            template: "\n      <div class=\"progress-wrapper\">\n        <div class=\"loader\">\n          <div class=\"face\">\n            <div class=\"circle\"></div>\n          </div>\n          <div class=\"face\">\n            <div class=\"circle\"></div>\n          </div>\n        </div>\n      </div>\n      <div class=\"text\">{{ alData.text }}</div>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__al_service__["a" /* AlService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Nav"],
            __WEBPACK_IMPORTED_MODULE_5__service_cordova_rabbitmq_service__["a" /* RabbitMQService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["App"]])
    ], AlPage);
    return AlPage;
}());

//# sourceMappingURL=al.js.map

/***/ }),
/* 604 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LogPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_sqlite_tbl_log_tbl__ = __webpack_require__(104);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





/**
 * Generated class for the 备份恢复 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var LogPage = (function () {
    function LogPage(navCtrl, sqlite) {
        this.navCtrl = navCtrl;
        this.sqlite = sqlite;
        this.buttons = {
            remove: true,
            cancel: true
        };
        this.logs = new Array();
        this.search = new __WEBPACK_IMPORTED_MODULE_3__service_sqlite_tbl_log_tbl__["a" /* LogTbl */]();
    }
    LogPage.prototype.ionViewDidLoad = function () {
        this.search.t = 0;
        this.search.st = true;
        this.list();
    };
    LogPage.prototype.list1 = function (x) {
        this.search.t = x;
        this.list();
    };
    LogPage.prototype.list2 = function (b) {
        this.search.st = b;
        this.list();
    };
    LogPage.prototype.list = function () {
        var _this = this;
        this.sqlite.getLogs(this.search).then(function (data) {
            _this.logs = new Array();
            for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {
                var log = data_1[_i];
                var logPage = new LogPageData();
                logPage.date = __WEBPACK_IMPORTED_MODULE_4_moment__(log.wtt).format("YYYY-MM-DD HH:ss:mm");
                logPage.url = log.su;
                logPage.sub = log.ss;
                logPage.status = log.st ? "成功" : "失败";
                logPage.err = log.er;
                _this.logs.push(logPage);
            }
        });
    };
    LogPage.prototype.clear = function () {
        var _this = this;
        this.sqlite.delete(new __WEBPACK_IMPORTED_MODULE_3__service_sqlite_tbl_log_tbl__["a" /* LogTbl */]()).then(function (d) {
            _this.list();
        });
    };
    LogPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    LogPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-log',
            template: "\n\n    <page-box title=\"\u65E5\u5FD7\" [buttons]=\"buttons\" (onBack)=\"goBack()\" (onRemove)=\"clear()\" nobackgroud nobottom>\n      <ion-toolbar>\n        <div radio-group class=\"typegroup\" [ngModel]=\"search.t\">\n          <button>\n            <ion-label>sqlite</ion-label>\n            <ion-radio value=\"0\" (click)=\"list1(0)\"></ion-radio>\n          </button>\n          <button>\n            <ion-label>restful</ion-label>\n            <ion-radio value=\"1\" (click)=\"list1(1)\"></ion-radio>\n          </button>\n          <button>\n            <ion-label>ws</ion-label>\n            <ion-radio value=\"2\" (click)=\"list1(2)\"></ion-radio>\n          </button>\n        </div>\n        <div radio-group class=\"status\" [ngModel]=\"search.st\">\n\n          <button>\n            <ion-label>\u6210\u529F</ion-label>\n            <ion-radio value=\"true\" (click)=\"list2(true)\"></ion-radio>\n          </button>\n\n          <button>\n            <ion-label>\u5931\u8D25</ion-label>\n            <ion-radio value=\"false\" (click)=\"list2(false)\"></ion-radio>\n          </button>\n        </div>\n      </ion-toolbar>\n\n\n      <ion-scroll scrollY=\"true\" scrollheightAuto>\n        <ion-list no-lines>\n          <ion-list-header>\n            \u65E5\u5FD7\uFF0C\u4E34\u65F6\u9875\u9762\n          </ion-list-header>\n          <ion-item *ngFor=\"let log of logs\">\n            <h2>{{log.date}}</h2>\n            <h3>{{log.url}}</h3>\n            <h3>{{log.sub / 1000}}\u79D2</h3>\n            <p>{{log.status}}</p>\n            <p>{{log.err}}</p>\n          </ion-item>\n        </ion-list>\n      </ion-scroll>\n    </page-box>\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_2__service_util_service_sqlite_exec__["a" /* SqliteExec */]])
    ], LogPage);
    return LogPage;
}());

var LogPageData = (function () {
    function LogPageData() {
    }
    return LogPageData;
}());
//# sourceMappingURL=log.js.map

/***/ }),
/* 605 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AtPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_config_restful_config__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_cordova_network_service__ = __webpack_require__(161);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_app_version__ = __webpack_require__(606);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








/**
 * Generated class for the 关于冥王星 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var AtPage = (function () {
    function AtPage(navCtrl, appVersion, networkService, util, sqlite) {
        this.navCtrl = navCtrl;
        this.appVersion = appVersion;
        this.networkService = networkService;
        this.util = util;
        this.sqlite = sqlite;
        this.client = { mainversion: 'v1', version: '1' };
        this.server = { version: '1', datacenter: '' };
        this.network = { type: '未知', connected: false };
        this.build = "";
    }
    AtPage.prototype.ionViewDidLoad = function () {
        var _this = this;
        if (this.util.hasCordova()) {
            this.appVersion.getVersionCode().then(function (buildnumber) {
                if (buildnumber) {
                    _this.build = buildnumber;
                }
            });
        }
        var restfulHeader = new __WEBPACK_IMPORTED_MODULE_4__service_config_restful_config__["b" /* RestFulHeader */]();
        this.client.mainversion = restfulHeader.pv ? restfulHeader.pv.replace(/v/, 'v0.') : 'v0.0';
        this.client.version = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].getClientVersion();
        this.network.type = this.networkService.getNetworkTypeName();
        this.network.connected = this.networkService.isConnected();
        if (__WEBPACK_IMPORTED_MODULE_4__service_config_restful_config__["a" /* RestFulConfig */].INIT_DATA_URL.indexOf('tag=mwxing') > 0)
            this.server.datacenter += '开发';
        if (__WEBPACK_IMPORTED_MODULE_4__service_config_restful_config__["a" /* RestFulConfig */].INIT_DATA_URL.indexOf('debug=true') > 0)
            this.server.datacenter += '内部';
        if (__WEBPACK_IMPORTED_MODULE_4__service_config_restful_config__["a" /* RestFulConfig */].INIT_DATA_URL.indexOf('?') < 0)
            this.server.datacenter += '公测';
        this.server.datacenter += '数据中心';
    };
    AtPage.prototype.userAgreement = function () {
        this.navCtrl.push('PPage');
    };
    AtPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    AtPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-at',
            template: "\n    <ion-header no-border>\n      <ion-toolbar>\n        <ion-buttons left>\n          <button ion-button icon-only (click)=\"goBack()\">\n            <ion-icon class=\"fal fa-undo\"></ion-icon>\n          </button>\n        </ion-buttons>\n        <ion-title>\u5173\u4E8E</ion-title>\n      </ion-toolbar>\n    </ion-header>\n\n    <ion-content padding>\n    <ion-grid class=\"h70\">\n      <ion-row class=\"h100\" align-items-center>\n        <ion-grid>\n          <ion-row justify-content-center>\n            <ion-avatar>\n              <img class=\"img-logo\" src=\"./assets/imgs/logo.png\">\n            </ion-avatar>\n          </ion-row>\n          <ion-row justify-content-center>\n            <p></p>\n          </ion-row>\n          <ion-row justify-content-center>\n            <h1 class=\"app-title\">\u51A5\u738B\u661F</h1>\n          </ion-row>\n          <ion-row justify-content-center>\n            <h3 class=\"app-description\">\u4EBA\u5DE5\u667A\u80FD\u63A5\u89E6\u751F\u6D3B\u3001\u5DE5\u4F5C\u4E0E\u68A6\u60F3</h3>\n          </ion-row>\n          <ion-row justify-content-center>\n            <h3 class=\"app-description\">\u8FF8\u53D1\u51FA\u7684\u706B\u82B1</h3>\n          </ion-row>\n          <ion-row justify-content-center>\n            <p></p>\n          </ion-row>\n          <ion-row justify-content-center>\n            <span class=\"app-profiles\">\u7248\u672C</span>\n          </ion-row>\n          <ion-row justify-content-center>\n            <span class=\"app-profiles\">{{client.mainversion}}.{{client.version}}{{build==\"\"? \"\" : (\" build \" + build)}}</span>\n          </ion-row>\n          <ion-row justify-content-center>\n            <span class=\"app-profiles\">{{server.datacenter}}</span>\n          </ion-row>\n          <ion-row justify-content-center>\n            <span class=\"app-profiles\">v{{server.version}}</span>\n          </ion-row>\n          <ion-row justify-content-center>\n            <p></p>\n          </ion-row>\n          <ion-row justify-content-center>\n            <span class=\"app-profiles\">\u7F51\u7EDC</span>\n          </ion-row>\n          <ion-row justify-content-center>\n            <span class=\"app-profiles\">{{network.type}} {{network.connected? \"\u5DF2\u8FDE\u63A5\" : \"\u5DF2\u65AD\u5F00\"}}</span>\n          </ion-row>\n        </ion-grid>\n      </ion-row>\n    </ion-grid>\n    </ion-content>\n\n    <ion-footer>\n      <ion-toolbar>\n        <ion-buttons left>\n          <button ion-button icon-only (click)=\"userAgreement()\" color=\"danger\">\n            \u670D\u52A1\u6761\u6B3E\n          </button>\n        </ion-buttons>\n\n        <ion-buttons right>\n          <button ion-button icon-only (click)=\"userAgreement()\" color=\"danger\">\n            \u9690\u79C1\u653F\u7B56\n          </button>\n        </ion-buttons>\n      </ion-toolbar>\n  </ion-footer>"
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_7__ionic_native_app_version__["a" /* AppVersion */],
            __WEBPACK_IMPORTED_MODULE_6__service_cordova_network_service__["a" /* NetworkService */],
            __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_5__service_util_service_sqlite_exec__["a" /* SqliteExec */]])
    ], AtPage);
    return AtPage;
}());

//# sourceMappingURL=at.js.map

/***/ }),
/* 606 */,
/* 607 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DoPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_async_dist_async_js__ = __webpack_require__(226);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_async_dist_async_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_async_dist_async_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__do_service__ = __webpack_require__(608);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__data_mapping__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__service_cordova_feedback_service__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__service_business_calendar_service__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__service_business_event_service__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__data_enum__ = __webpack_require__(18);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};















/**
 * Generated class for the 待处理/已处理任务一览 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var DoPage = (function () {
    function DoPage(navCtrl, navParams, changedetector, modalCtr, emitService, doService, util, feedback, calendarService, eventService, sqlite) {
        var _this = this;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.changedetector = changedetector;
        this.modalCtr = modalCtr;
        this.emitService = emitService;
        this.doService = doService;
        this.util = util;
        this.feedback = feedback;
        this.calendarService = calendarService;
        this.eventService = eventService;
        this.sqlite = sqlite;
        this.buttons = {
            remove: false,
            share: false,
            save: false,
            create: true,
            cancel: true
        };
        this.currentuser = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].account.id;
        this.friends = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].friends;
        this.privateplans = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].privateplans;
        this.days = new Array();
        this.topday = __WEBPACK_IMPORTED_MODULE_6_moment__().format("YYYY/MM/DD");
        this.bottomday = __WEBPACK_IMPORTED_MODULE_6_moment__().format("YYYY/MM/DD");
        __WEBPACK_IMPORTED_MODULE_6_moment__["locale"]('zh-cn');
        this.todosqueue = __WEBPACK_IMPORTED_MODULE_5_async_dist_async_js__["queue"](function (_a, callback) {
            var data = _a.data;
            return __awaiter(_this, void 0, void 0, function () {
                var _i, data_1, single, activityType, _a, activityType, _b;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0:
                            if (!(data instanceof Array)) return [3 /*break*/, 5];
                            _i = 0, data_1 = data;
                            _c.label = 1;
                        case 1:
                            if (!(_i < data_1.length)) return [3 /*break*/, 4];
                            single = data_1[_i];
                            if (!single.evi) return [3 /*break*/, 3];
                            activityType = this.eventService.getEventType(single);
                            if (!(activityType == "AgendaData")) return [3 /*break*/, 3];
                            _a = this;
                            return [4 /*yield*/, this.eventService.mergeTodolist(this.cachedtasks, single)];
                        case 2:
                            _a.cachedtasks = _c.sent();
                            _c.label = 3;
                        case 3:
                            _i++;
                            return [3 /*break*/, 1];
                        case 4: return [3 /*break*/, 7];
                        case 5:
                            if (!data.evi) return [3 /*break*/, 7];
                            activityType = this.eventService.getEventType(data);
                            if (!(activityType == "AgendaData")) return [3 /*break*/, 7];
                            _b = this;
                            return [4 /*yield*/, this.eventService.mergeTodolist(this.cachedtasks, data)];
                        case 6:
                            _b.cachedtasks = _c.sent();
                            _c.label = 7;
                        case 7:
                            callback();
                            return [2 /*return*/];
                    }
                });
            });
        });
    }
    DoPage.prototype.ionViewDidLoad = function () {
        //this.doService.createTestDatas()
        // .then(() => {
        //   this.days.push(moment().format("YYYY/MM/DD"));
        // });
        this.days.push(__WEBPACK_IMPORTED_MODULE_6_moment__().format("YYYY/MM/DD"));
    };
    DoPage.prototype.ngOnDestroy = function () {
        if (this.onrefresh) {
            this.onrefresh.unsubscribe();
            this.onrefresh = undefined;
        }
    };
    DoPage.prototype.pagedown = function (target) {
        if (this.days.indexOf(this.topday) >= 0) {
            target.cancel();
        }
        else {
            this.days.unshift(this.topday);
            target.complete();
        }
    };
    DoPage.prototype.pageup = function (target) {
        if (this.days.indexOf(this.bottomday) >= 0) {
            target.cancel();
        }
        else {
            this.days.push(this.bottomday);
            target.complete();
        }
    };
    DoPage.prototype.getData = function (target, day) {
        var _this = this;
        var direction = __WEBPACK_IMPORTED_MODULE_14__data_enum__["t" /* PageDirection */].PageInit;
        if (this.days.length > 1 && this.days.indexOf(day) == (this.days.length - 1)) {
            direction = __WEBPACK_IMPORTED_MODULE_14__data_enum__["t" /* PageDirection */].PageUp;
        }
        if (this.days.length > 1 && this.days.indexOf(day) == 0) {
            direction = __WEBPACK_IMPORTED_MODULE_14__data_enum__["t" /* PageDirection */].PageDown;
        }
        this.eventService.todolist()
            .then(function (d) {
            if (d) {
                if (!_this.onrefresh) {
                    _this.onrefresh = _this.emitService.register("mwxing.calendar.activities.changed", function (data) { return __awaiter(_this, void 0, void 0, function () {
                        var _this = this;
                        return __generator(this, function (_a) {
                            if (!data) {
                                return [2 /*return*/];
                            }
                            this.todosqueue.push({ data: data }, function () {
                                // 用于更新日历下待处理任务的汇总显示
                                _this.summarytasks = _this.cachedtasks.reduce(function (target, element) {
                                    target.push(element);
                                    return target;
                                }, new Array());
                            });
                            return [2 /*return*/];
                        });
                    }); });
                }
                _this.cachedtasks = d;
                _this.summarytasks = _this.cachedtasks;
                if (d.length > 0) {
                    _this.topday = d[0].evd;
                    _this.bottomday = d[d.length - 1].evd;
                }
                target.tasklist = _this.cachedtasks;
            }
        });
    };
    DoPage.prototype.gotoDetail = function (event) {
        if (event && event.value) {
            var target = event.value;
            var p = new __WEBPACK_IMPORTED_MODULE_8__data_mapping__["r" /* ScdPageParamter */]();
            p.si = target.evi;
            p.d = __WEBPACK_IMPORTED_MODULE_6_moment__(target.evd);
            this.feedback.audioClick();
            this.modalCtr.create(__WEBPACK_IMPORTED_MODULE_10__service_config_data_config__["a" /* DataConfig */].PAGE._AGENDA_PAGE, p).present();
        }
    };
    DoPage.prototype.goErease = function (target) {
        return __awaiter(this, void 0, void 0, function () {
            var origin;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.eventService.getAgenda(target.evi)];
                    case 1:
                        origin = _a.sent();
                        this.eventService.removeAgenda(origin, __WEBPACK_IMPORTED_MODULE_14__data_enum__["r" /* OperateType */].OnlySel);
                        return [2 /*return*/];
                }
            });
        });
    };
    DoPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    DoPage.prototype.goCreate = function () {
        var p = new __WEBPACK_IMPORTED_MODULE_8__data_mapping__["r" /* ScdPageParamter */]();
        p.d = __WEBPACK_IMPORTED_MODULE_6_moment__();
        p.todolist = true;
        this.feedback.audioPress();
        this.modalCtr.create(__WEBPACK_IMPORTED_MODULE_10__service_config_data_config__["a" /* DataConfig */].PAGE._AGENDA_PAGE, p).present();
    };
    DoPage.prototype.complete = function (target) {
        return __awaiter(this, void 0, void 0, function () {
            var origin, complete;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.eventService.getAgenda(target.evi)];
                    case 1:
                        origin = _a.sent();
                        complete = {};
                        Object.assign(complete, origin);
                        complete.wc = __WEBPACK_IMPORTED_MODULE_14__data_enum__["f" /* EventFinishStatus */].Finished;
                        return [4 /*yield*/, this.eventService.saveAgenda(complete, origin, __WEBPACK_IMPORTED_MODULE_14__data_enum__["r" /* OperateType */].OnlySel)];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChildren"])("tasklist"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["QueryList"])
    ], DoPage.prototype, "tasklists", void 0);
    DoPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-do',
            template: "\n      <page-box title=\"\u91CD\u8981\u4E8B\u9879\" [buttons]=\"buttons\" [data]=\"summarytasks\" [plans]=\"privateplans\" (onCreate)=\"goCreate()\" (onBack)=\"goBack()\">\n      <ng-container *ngFor=\"let day of days\">\n        <task-list [currentuser]=\"currentuser\" [friends]=\"friends\" [plans]=\"privateplans\" (onStartLoad)=\"getData($event, day)\" (onCreateNew)=\"goCreate()\" (onCardClick)=\"gotoDetail($event)\" (onErease)=\"goErease($event)\" (onComplete)=\"complete($event)\" #tasklist></task-list>\n      </ng-container>\n      </page-box>\n    "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ChangeDetectorRef"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"],
            __WEBPACK_IMPORTED_MODULE_9__service_util_service_emit_service__["a" /* EmitService */],
            __WEBPACK_IMPORTED_MODULE_7__do_service__["a" /* DoService */],
            __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_11__service_cordova_feedback_service__["a" /* FeedbackService */],
            __WEBPACK_IMPORTED_MODULE_12__service_business_calendar_service__["a" /* CalendarService */],
            __WEBPACK_IMPORTED_MODULE_13__service_business_event_service__["b" /* EventService */],
            __WEBPACK_IMPORTED_MODULE_4__service_util_service_sqlite_exec__["a" /* SqliteExec */]])
    ], DoPage);
    return DoPage;
}());

//# sourceMappingURL=do.js.map

/***/ }),
/* 608 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DoService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_pagecom_pgbusi_service__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_cordova_assistant_service__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_business_event_service__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__data_enum__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_util_service_util_service__ = __webpack_require__(4);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







var DoService = (function () {
    function DoService(pgservice, util, eventService, assistantService) {
        this.pgservice = pgservice;
        this.util = util;
        this.eventService = eventService;
        this.assistantService = assistantService;
        __WEBPACK_IMPORTED_MODULE_1_moment__["locale"]('zh-cn');
    }
    DoService.prototype.createTestDatas = function () {
        return __awaiter(this, void 0, void 0, function () {
            var task, subtask1, subtask2, subtask3, subtask1_1, subtask1_1_1, subtask1_1_2, subtask1_1_3, subtask1_1_4, subtask1_1_5, subtask1_1_6, share, subtask1_2, subtask1_3, subtask2_1, subtask2_2, subtask2_3;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        task = {};
                        task.evn = "冥王星三期";
                        task.evd = "2019/06/01";
                        return [4 /*yield*/, this.eventService.saveTask(task)];
                    case 1:
                        task = _a.sent();
                        subtask1 = {};
                        subtask1.evn = "设计";
                        subtask1.evd = "2019/06/02";
                        subtask1.rtevi = task.evi;
                        return [4 /*yield*/, this.eventService.saveTask(subtask1)];
                    case 2:
                        subtask1 = _a.sent();
                        subtask2 = {};
                        subtask2.evn = "开发";
                        subtask2.evd = "2019/06/03";
                        subtask2.rtevi = task.evi;
                        return [4 /*yield*/, this.eventService.saveTask(subtask2)];
                    case 3:
                        subtask2 = _a.sent();
                        subtask3 = {};
                        subtask3.evn = "测试";
                        subtask3.evd = "2019/06/04";
                        subtask3.rtevi = task.evi;
                        return [4 /*yield*/, this.eventService.saveTask(subtask3)];
                    case 4:
                        subtask3 = _a.sent();
                        subtask1_1 = {};
                        subtask1_1.evn = "画面UI设计";
                        subtask1_1.evd = "2019/06/05";
                        subtask1_1.rtevi = subtask1.evi;
                        subtask1_1.cs = __WEBPACK_IMPORTED_MODULE_5__data_enum__["l" /* IsSuccess */].success;
                        return [4 /*yield*/, this.eventService.saveTask(subtask1_1)];
                    case 5:
                        subtask1_1 = _a.sent();
                        subtask1_1_1 = {};
                        subtask1_1_1.evn = "画面首页设计";
                        subtask1_1_1.evd = "2019/06/06";
                        subtask1_1_1.rtevi = subtask1_1.evi;
                        subtask1_1_1.cs = __WEBPACK_IMPORTED_MODULE_5__data_enum__["l" /* IsSuccess */].success;
                        return [4 /*yield*/, this.eventService.saveTask(subtask1_1_1)];
                    case 6:
                        subtask1_1_1 = _a.sent();
                        subtask1_1_2 = {};
                        subtask1_1_2.evn = "画面待处理一览设计";
                        subtask1_1_2.evd = "2019/06/07";
                        subtask1_1_2.rtevi = subtask1_1.evi;
                        subtask1_1_2.cs = __WEBPACK_IMPORTED_MODULE_5__data_enum__["l" /* IsSuccess */].success;
                        return [4 /*yield*/, this.eventService.saveTask(subtask1_1_2)];
                    case 7:
                        subtask1_1_2 = _a.sent();
                        subtask1_1_3 = {};
                        subtask1_1_3.evn = "画面新建任务设计";
                        subtask1_1_3.evd = "2019/06/08";
                        subtask1_1_3.rtevi = subtask1_1.evi;
                        subtask1_1_3.cs = __WEBPACK_IMPORTED_MODULE_5__data_enum__["l" /* IsSuccess */].success;
                        return [4 /*yield*/, this.eventService.saveTask(subtask1_1_3)];
                    case 8:
                        subtask1_1_3 = _a.sent();
                        subtask1_1_4 = {};
                        subtask1_1_4.evn = "画面新建日程设计";
                        subtask1_1_4.evd = "2019/06/09";
                        subtask1_1_4.rtevi = subtask1_1.evi;
                        subtask1_1_4.cs = __WEBPACK_IMPORTED_MODULE_5__data_enum__["l" /* IsSuccess */].success;
                        return [4 /*yield*/, this.eventService.saveTask(subtask1_1_4)];
                    case 9:
                        subtask1_1_4 = _a.sent();
                        subtask1_1_5 = {};
                        subtask1_1_5.evn = "画面新建日程设计";
                        subtask1_1_5.evd = "2019/06/10";
                        subtask1_1_5.rtevi = subtask1_1.evi;
                        subtask1_1_5.cs = __WEBPACK_IMPORTED_MODULE_5__data_enum__["l" /* IsSuccess */].success;
                        return [4 /*yield*/, this.eventService.saveTask(subtask1_1_5)];
                    case 10:
                        subtask1_1_5 = _a.sent();
                        subtask1_1_6 = {};
                        subtask1_1_6.evn = "画面新建日历项设计";
                        subtask1_1_6.evd = "2019/08/30";
                        subtask1_1_6.rtevi = subtask1_1.evi;
                        return [4 /*yield*/, this.eventService.saveTask(subtask1_1_6)];
                    case 11:
                        subtask1_1_6 = _a.sent();
                        share = {};
                        Object.assign(share, subtask1_1_6);
                        share.evi = this.util.getUuid();
                        share.evn = "画面任务一览设计";
                        share.ui = "13564242673";
                        return [4 /*yield*/, this.eventService.acceptReceivedTask(share, __WEBPACK_IMPORTED_MODULE_5__data_enum__["B" /* SyncDataStatus */].UnDeleted)];
                    case 12:
                        _a.sent();
                        subtask1_2 = {};
                        subtask1_2.evn = "前端服务设计";
                        subtask1_2.evd = "2019/06/06";
                        subtask1_2.rtevi = subtask1.evi;
                        subtask1_2.cs = __WEBPACK_IMPORTED_MODULE_5__data_enum__["l" /* IsSuccess */].success;
                        return [4 /*yield*/, this.eventService.saveTask(subtask1_2)];
                    case 13:
                        subtask1_2 = _a.sent();
                        subtask1_3 = {};
                        subtask1_3.evn = "后端云服务设计";
                        subtask1_3.evd = "2019/06/07";
                        subtask1_3.rtevi = subtask1.evi;
                        return [4 /*yield*/, this.eventService.saveTask(subtask1_3)];
                    case 14:
                        subtask1_3 = _a.sent();
                        subtask2_1 = {};
                        subtask2_1.evn = "页面UI开发";
                        subtask2_1.evd = "2019/09/01";
                        subtask2_1.rtevi = subtask2.evi;
                        return [4 /*yield*/, this.eventService.saveTask(subtask2_1)];
                    case 15:
                        subtask2_1 = _a.sent();
                        subtask2_2 = {};
                        subtask2_2.evn = "后端云服务开发";
                        subtask2_2.evd = "2019/09/11";
                        subtask2_2.rtevi = subtask2.evi;
                        return [4 /*yield*/, this.eventService.saveTask(subtask2_2)];
                    case 16:
                        subtask2_2 = _a.sent();
                        subtask2_3 = {};
                        subtask2_3.evn = "前端服务开发";
                        subtask2_3.evd = "2019/08/18";
                        subtask2_3.rtevi = subtask2.evi;
                        subtask2_3.cs = __WEBPACK_IMPORTED_MODULE_5__data_enum__["l" /* IsSuccess */].success;
                        return [4 /*yield*/, this.eventService.saveTask(subtask2_3)];
                    case 17:
                        subtask2_3 = _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 显示选中日期对应类型
     * @param {string} day 格式（YYYY-MM-DD）
     * @returns {string}
     */
    DoService.prototype.countDay = function (day) {
        var date = __WEBPACK_IMPORTED_MODULE_1_moment__(day);
        var str = '今天';
        var nowDate = __WEBPACK_IMPORTED_MODULE_1_moment__(__WEBPACK_IMPORTED_MODULE_1_moment__(new Date()).format("YYYY/MM/DD"));
        var days = date.diff(nowDate, 'days');
        var months = date.diff(nowDate, 'months');
        var years = date.diff(nowDate, 'years');
        if (years > 0) {
            str = years + '年后';
        }
        else if (years <= -1) {
            str = Math.abs(years) + '年前';
        }
        else if (months > 0) {
            str = months + '月后';
        }
        else if (months < 0) {
            str = Math.abs(months) + '月前';
        }
        else if (days == 0) {
            str = '今天';
        }
        else if (days == 1) {
            str = '明天';
        }
        else if (days == 2) {
            str = '后天';
        }
        else if (days >= 3) {
            str = days - 1 + '天后';
        }
        else if (days == -1) {
            str = '昨天';
        }
        else if (days == -2) {
            str = '前天';
        }
        else if (days <= -3) {
            str = Math.abs(days) - 1 + '天前';
        }
        return str;
    };
    DoService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__service_pagecom_pgbusi_service__["a" /* PgBusiService */],
            __WEBPACK_IMPORTED_MODULE_6__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_4__service_business_event_service__["b" /* EventService */],
            __WEBPACK_IMPORTED_MODULE_3__service_cordova_assistant_service__["a" /* AssistantService */]])
    ], DoService);
    return DoService;
}());

//# sourceMappingURL=do.service.js.map

/***/ }),
/* 609 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AgendaPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__agenda_service__ = __webpack_require__(610);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_cordova_feedback_service__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__components_page_box_page_box__ = __webpack_require__(261);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__service_business_calendar_service__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__service_business_event_service__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__data_enum__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__ionic_native_keyboard__ = __webpack_require__(80);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
















/**
 * Generated class for the 日程创建/修改 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var AgendaPage = (function () {
    function AgendaPage(navCtrl, navParams, modalCtrl, actionSheetCtrl, emitService, agendaService, util, feedback, calendarService, eventService, sqlite, keyboard, changeDetectorRef) {
        var _this = this;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.modalCtrl = modalCtrl;
        this.actionSheetCtrl = actionSheetCtrl;
        this.emitService = emitService;
        this.agendaService = agendaService;
        this.util = util;
        this.feedback = feedback;
        this.calendarService = calendarService;
        this.eventService = eventService;
        this.sqlite = sqlite;
        this.keyboard = keyboard;
        this.changeDetectorRef = changeDetectorRef;
        this.buttons = {
            remove: false,
            share: false,
            save: false,
            record: true,
            speaker: true,
            accept: false,
            reject: false,
            cancel: true
        };
        this.currentuser = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].account.id;
        this.friends = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].friends;
        this.currentAgenda = {};
        this.originAgenda = {};
        this.privateplans = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].privateplans;
        this.snlength = 0;
        this.todoliston = __WEBPACK_IMPORTED_MODULE_13__data_enum__["D" /* ToDoListStatus */].On;
        this.todolistoff = __WEBPACK_IMPORTED_MODULE_13__data_enum__["D" /* ToDoListStatus */].Off;
        this.enablechange = __WEBPACK_IMPORTED_MODULE_13__data_enum__["p" /* ModiPower */].enable;
        this.repeatflag = __WEBPACK_IMPORTED_MODULE_13__data_enum__["x" /* RepeatFlag */].Repeat;
        this.nonrepeatflag = __WEBPACK_IMPORTED_MODULE_13__data_enum__["x" /* RepeatFlag */].NonRepeat;
        this.repeattonon = __WEBPACK_IMPORTED_MODULE_13__data_enum__["x" /* RepeatFlag */].RepeatToOnly;
        this.acceptedinvite = __WEBPACK_IMPORTED_MODULE_13__data_enum__["j" /* InviteState */].Accepted;
        this.rejectedinvite = __WEBPACK_IMPORTED_MODULE_13__data_enum__["j" /* InviteState */].Rejected;
        __WEBPACK_IMPORTED_MODULE_5_moment__["locale"]('zh-cn');
        if (this.navParams) {
            var paramter_1 = this.navParams.data;
            if (paramter_1.si) {
                this.currentAgenda.evi = paramter_1.si; // 预先赋值用于控制在加载日程的时候键盘不显示
                this.util.loadingStart().then(function () { return __awaiter(_this, void 0, void 0, function () {
                    var count, hasdata, agenda;
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0:
                                count = 0;
                                hasdata = false;
                                _a.label = 1;
                            case 1:
                                if (false) return [3 /*break*/, 3];
                                return [4 /*yield*/, this.eventService.getAgenda(paramter_1.si)];
                            case 2:
                                agenda = _a.sent();
                                if (agenda) {
                                    this.currentAgenda = agenda;
                                    this.util.cloneObj(this.originAgenda, agenda);
                                    this.snlength = this.currentAgenda.evn.length;
                                    if (this.currentAgenda.ui != this.currentuser && this.currentAgenda.invitestatus != __WEBPACK_IMPORTED_MODULE_13__data_enum__["j" /* InviteState */].Accepted && this.currentAgenda.invitestatus != __WEBPACK_IMPORTED_MODULE_13__data_enum__["j" /* InviteState */].Rejected) {
                                        this.buttons.record = false;
                                        this.buttons.accept = true;
                                        this.buttons.reject = true;
                                    }
                                    else {
                                        this.buttons.remove = true;
                                    }
                                    this.util.loadingEnd();
                                    hasdata = true;
                                    return [3 /*break*/, 3];
                                }
                                if (count >= 10) {
                                    return [3 /*break*/, 3];
                                }
                                count++;
                                return [3 /*break*/, 1];
                            case 3:
                                // 没有查询到数据，画面退出
                                if (!hasdata) {
                                    this.goBack();
                                }
                                return [2 /*return*/];
                        }
                    });
                }); });
            }
            else {
                this.currentAgenda.sd = paramter_1.d.format("YYYY/MM/DD");
                if (paramter_1.t) {
                    this.currentAgenda.st = paramter_1.t;
                }
                else {
                    this.currentAgenda.st = __WEBPACK_IMPORTED_MODULE_5_moment__().add(1, "h").format("HH:00");
                }
                if (paramter_1.sn)
                    this.currentAgenda.evn = paramter_1.sn;
                if (paramter_1.todolist) {
                    this.currentAgenda.todolist = __WEBPACK_IMPORTED_MODULE_13__data_enum__["D" /* ToDoListStatus */].On;
                }
            }
        }
    }
    AgendaPage.prototype.ionViewDidLoad = function () {
    };
    AgendaPage.prototype.ionViewDidEnter = function () {
        this.pageBoxComponent.setBoxContent();
    };
    AgendaPage.prototype.ionViewWillEnter = function () {
    };
    AgendaPage.prototype.ionViewWillLeave = function () {
        if (this.modifyConfirm !== undefined) {
            this.modifyConfirm.dismiss();
        }
    };
    AgendaPage.prototype.changeDatetime = function () {
        var _this = this;
        // 受邀人没有接受或者没有修改权限不能修改
        if (this.originAgenda.ui != this.currentuser && (this.originAgenda.md != __WEBPACK_IMPORTED_MODULE_13__data_enum__["p" /* ModiPower */].enable || this.originAgenda.invitestatus != __WEBPACK_IMPORTED_MODULE_13__data_enum__["j" /* InviteState */].Accepted)) {
            return;
        }
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_8__service_config_data_config__["a" /* DataConfig */].PAGE._DTSELECT_PAGE, {
            evd: this.currentAgenda.evd,
            evt: this.currentAgenda.evt,
            ct: this.currentAgenda.ct,
            al: this.currentAgenda.al,
            rfg: this.currentAgenda.rfg
        });
        modal.onDidDismiss(function (data) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (data) {
                    this.currentAgenda.al = data.al;
                    this.currentAgenda.evd = data.evd;
                    this.currentAgenda.evt = data.evt;
                    this.currentAgenda.sd = data.sd;
                    this.currentAgenda.st = data.st;
                    this.currentAgenda.ed = data.ed;
                    this.currentAgenda.et = data.et;
                    this.currentAgenda.ct = data.ct;
                }
                if (!this.eventService.isSameAgenda(this.currentAgenda, this.originAgenda)) {
                    this.buttons.save = true;
                }
                else {
                    this.buttons.save = false;
                }
                return [2 /*return*/];
            });
        }); });
        modal.present();
    };
    AgendaPage.prototype.changeTitle = function () {
        this.snlength = this.currentAgenda.evn.length;
        // 受邀人没有接受或者没有修改权限不能修改
        if (this.originAgenda.evi && this.originAgenda.ui != this.currentuser && (this.originAgenda.md != __WEBPACK_IMPORTED_MODULE_13__data_enum__["p" /* ModiPower */].enable || this.originAgenda.invitestatus != __WEBPACK_IMPORTED_MODULE_13__data_enum__["j" /* InviteState */].Accepted)) {
            return;
        }
        if (this.currentAgenda.evi) {
            if (this.currentAgenda.evn != "" && !this.eventService.isSameAgenda(this.currentAgenda, this.originAgenda)) {
                this.buttons.save = true;
            }
            else {
                this.buttons.save = false;
            }
        }
        else {
            if (this.currentAgenda.evn != "") {
                this.buttons.save = true;
            }
            else {
                this.buttons.save = false;
            }
        }
    };
    AgendaPage.prototype.changeTodolist = function () {
        // 受邀人没有接受不能修改
        if (this.originAgenda.ui != this.currentuser && this.originAgenda.invitestatus != __WEBPACK_IMPORTED_MODULE_13__data_enum__["j" /* InviteState */].Accepted) {
            return;
        }
        if (this.currentAgenda.todolist == __WEBPACK_IMPORTED_MODULE_13__data_enum__["D" /* ToDoListStatus */].On) {
            this.currentAgenda.todolist = __WEBPACK_IMPORTED_MODULE_13__data_enum__["D" /* ToDoListStatus */].Off;
        }
        else {
            this.currentAgenda.todolist = __WEBPACK_IMPORTED_MODULE_13__data_enum__["D" /* ToDoListStatus */].On;
        }
        if (!this.eventService.isSameAgenda(this.currentAgenda, this.originAgenda)) {
            this.buttons.save = true;
        }
        else {
            this.buttons.save = false;
        }
    };
    AgendaPage.prototype.changeAttach = function () {
        var _this = this;
        // 受邀人没有接受不能修改
        if (this.originAgenda.ui != this.currentuser && this.originAgenda.invitestatus != __WEBPACK_IMPORTED_MODULE_13__data_enum__["j" /* InviteState */].Accepted) {
            return;
        }
        var cloneattachments;
        if (this.currentAgenda.attachments && this.currentAgenda.attachments.length > 0) {
            cloneattachments = new (Array.bind.apply(Array, [void 0].concat(this.currentAgenda.attachments)))();
        }
        else {
            cloneattachments = new Array();
        }
        //参与人
        var clonemembers;
        if (this.currentAgenda.members && this.currentAgenda.members.length > 0) {
            clonemembers = new (Array.bind.apply(Array, [void 0].concat(this.currentAgenda.members)))();
        }
        else {
            clonemembers = new Array();
        }
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_8__service_config_data_config__["a" /* DataConfig */].PAGE._ATTACH_PAGE, {
            obt: __WEBPACK_IMPORTED_MODULE_13__data_enum__["q" /* ObjectType */].Event,
            obi: this.currentAgenda.evi,
            attach: cloneattachments,
            userId: this.currentuser,
            members: clonemembers
        });
        modal.onDidDismiss(function (data) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (!data)
                    return [2 /*return*/];
                //console.info("附件已经传递过来，data:"+JSON.stringify(data));
                //alert("附件已经传递过来，data:"+JSON.stringify(data));
                this.currentAgenda.attachments = data.attach;
                this.currentAgenda.fj = data.attach.length;
                if (!this.eventService.isSameAgenda(this.currentAgenda, this.originAgenda)) {
                    this.buttons.save = true;
                }
                else {
                    this.buttons.save = false;
                }
                return [2 /*return*/];
            });
        }); });
        modal.present();
    };
    AgendaPage.prototype.changeInvites = function () {
        // if (this.originAgenda.ui != this.currentuser && this.originAgenda.md != ModiPower.enable) { // 受邀人修改权限检查
        //   return;
        // }
        var _this = this;
        var clonemembers;
        if (this.currentAgenda.members && this.currentAgenda.members.length > 0) {
            clonemembers = new (Array.bind.apply(Array, [void 0].concat(this.currentAgenda.members)))();
        }
        else {
            clonemembers = new Array();
        }
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_8__service_config_data_config__["a" /* DataConfig */].PAGE._INVITES_PAGE, {
            ui: this.currentAgenda.ui,
            mine: this.currentAgenda.ui == this.currentuser,
            members: clonemembers,
            md: this.currentAgenda.md,
            iv: this.currentAgenda.iv
        });
        modal.onDidDismiss(function (data) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (!data)
                    return [2 /*return*/];
                this.currentAgenda.members = data.members;
                this.currentAgenda.pn = data.members.length;
                this.currentAgenda.md = data.md;
                this.currentAgenda.iv = data.iv;
                if (!this.eventService.isSameAgenda(this.currentAgenda, this.originAgenda)) {
                    this.buttons.save = true;
                }
                else {
                    this.buttons.save = false;
                }
                return [2 /*return*/];
            });
        }); });
        modal.present();
    };
    AgendaPage.prototype.changePlan = function () {
        var _this = this;
        // 受邀人没有接受不能修改
        if (this.originAgenda.ui != this.currentuser && this.originAgenda.invitestatus != __WEBPACK_IMPORTED_MODULE_13__data_enum__["j" /* InviteState */].Accepted) {
            return;
        }
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_8__service_config_data_config__["a" /* DataConfig */].PAGE._PLAN_PAGE, { ji: this.currentAgenda.ji });
        modal.onDidDismiss(function (data) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (!data)
                    return [2 /*return*/];
                this.currentAgenda.ji = data;
                if (!this.eventService.isSameAgenda(this.currentAgenda, this.originAgenda)) {
                    this.buttons.save = true;
                }
                else {
                    this.buttons.save = false;
                }
                return [2 /*return*/];
            });
        }); });
        modal.present();
    };
    AgendaPage.prototype.changeLocation = function () {
        var _this = this;
        // 受邀人没有接受不能修改
        if (this.originAgenda.ui != this.currentuser && this.originAgenda.invitestatus != __WEBPACK_IMPORTED_MODULE_13__data_enum__["j" /* InviteState */].Accepted) {
            return;
        }
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_8__service_config_data_config__["a" /* DataConfig */].PAGE._LOCATION_PAGE, {
            adr: this.currentAgenda.adr,
            adrx: this.currentAgenda.adrx,
            adry: this.currentAgenda.adry
        });
        modal.onDidDismiss(function (data) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (!data)
                    return [2 /*return*/];
                this.currentAgenda.adr = data.adr || "";
                this.currentAgenda.adrx = data.adrx || 0;
                this.currentAgenda.adry = data.adry || 0;
                if (!this.eventService.isSameAgenda(this.currentAgenda, this.originAgenda)) {
                    this.buttons.save = true;
                }
                else {
                    this.buttons.save = false;
                }
                return [2 /*return*/];
            });
        }); });
        modal.present();
    };
    AgendaPage.prototype.changeComment = function () {
        var _this = this;
        // 受邀人没有接受不能修改
        if (this.originAgenda.ui != this.currentuser && this.originAgenda.invitestatus != __WEBPACK_IMPORTED_MODULE_13__data_enum__["j" /* InviteState */].Accepted) {
            return;
        }
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_8__service_config_data_config__["a" /* DataConfig */].PAGE._COMMENT_PAGE, { value: this.currentAgenda.bz });
        modal.onDidDismiss(function (data) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (!data)
                    return [2 /*return*/];
                this.currentAgenda.bz = data.bz;
                if (!this.eventService.isSameAgenda(this.currentAgenda, this.originAgenda)) {
                    this.buttons.save = true;
                }
                else {
                    this.buttons.save = false;
                }
                return [2 /*return*/];
            });
        }); });
        modal.present();
    };
    AgendaPage.prototype.changeRepeat = function () {
        var _this = this;
        // 时间设置为结束时间，不能修改重复
        if (this.currentAgenda.al == __WEBPACK_IMPORTED_MODULE_13__data_enum__["m" /* IsWholeday */].EndSet) {
            return;
        }
        if (!this.currentAgenda.rtjson && this.currentAgenda.rt) {
            this.currentAgenda.rtjson = new __WEBPACK_IMPORTED_MODULE_12__service_business_event_service__["c" /* RtJson */]();
            var rtdata = JSON.parse(this.currentAgenda.rt);
            Object.assign(this.currentAgenda.rtjson, rtdata);
        }
        else if (!this.currentAgenda.rtjson && !this.currentAgenda.rt) {
            this.currentAgenda.rtjson = new __WEBPACK_IMPORTED_MODULE_12__service_business_event_service__["c" /* RtJson */]();
        }
        var data = new __WEBPACK_IMPORTED_MODULE_12__service_business_event_service__["c" /* RtJson */]();
        Object.assign(data, this.currentAgenda.rtjson);
        // 受邀人没有接受或者没有修改权限不能修改
        var enableRepeat = false;
        if (this.originAgenda.ui != this.currentuser) {
            enableRepeat = false;
        }
        else {
            enableRepeat = true;
        }
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_8__service_config_data_config__["a" /* DataConfig */].PAGE._REPEAT_PAGE, { value: data, enableRepeat: enableRepeat, sd: this.currentAgenda.sd });
        modal.onDidDismiss(function (data) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (data && data.rtjson) {
                    this.currentAgenda.rtjson = new __WEBPACK_IMPORTED_MODULE_12__service_business_event_service__["c" /* RtJson */]();
                    Object.assign(this.currentAgenda.rtjson, data.rtjson);
                    this.currentAgenda.rt = JSON.stringify(this.currentAgenda.rtjson);
                    this.currentAgenda.rts = this.currentAgenda.rtjson.text();
                    // 根据重复返回重新设置重复标志
                    if (this.currentAgenda.rtjson.cycletype == __WEBPACK_IMPORTED_MODULE_13__data_enum__["c" /* CycleType */].close) {
                        this.currentAgenda.rfg = __WEBPACK_IMPORTED_MODULE_13__data_enum__["x" /* RepeatFlag */].NonRepeat;
                    }
                    else {
                        if (this.originAgenda.rfg != __WEBPACK_IMPORTED_MODULE_13__data_enum__["x" /* RepeatFlag */].NonRepeat) {
                            this.currentAgenda.rfg = this.originAgenda.rfg;
                        }
                        else {
                            this.currentAgenda.rfg = __WEBPACK_IMPORTED_MODULE_13__data_enum__["x" /* RepeatFlag */].Repeat;
                        }
                    }
                    if (!this.eventService.isSameAgenda(this.currentAgenda, this.originAgenda)) {
                        this.buttons.save = true;
                    }
                    else {
                        this.buttons.save = false;
                    }
                }
                return [2 /*return*/];
            });
        }); });
        modal.present();
    };
    AgendaPage.prototype.changeRemind = function () {
        var _this = this;
        // 受邀人没有接受不能修改
        if (this.originAgenda.ui != this.currentuser && this.originAgenda.invitestatus != __WEBPACK_IMPORTED_MODULE_13__data_enum__["j" /* InviteState */].Accepted) {
            return;
        }
        if (!this.currentAgenda.txjson && this.currentAgenda.tx) {
            this.currentAgenda.txjson = new __WEBPACK_IMPORTED_MODULE_12__service_business_event_service__["d" /* TxJson */]();
            var txdata = JSON.parse(this.currentAgenda.tx);
            Object.assign(this.currentAgenda.txjson, txdata);
        }
        else if (!this.currentAgenda.txjson && !this.currentAgenda.tx) {
            this.currentAgenda.txjson = new __WEBPACK_IMPORTED_MODULE_12__service_business_event_service__["d" /* TxJson */]();
        }
        var data = new __WEBPACK_IMPORTED_MODULE_12__service_business_event_service__["d" /* TxJson */]();
        Object.assign(data, this.currentAgenda.txjson);
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_8__service_config_data_config__["a" /* DataConfig */].PAGE._REMIND_PAGE, {
            value: {
                txjson: data,
                evd: this.currentAgenda.evd,
                evt: this.currentAgenda.evt,
                al: this.currentAgenda.al
            }
        });
        modal.onDidDismiss(function (data) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (data && data.txjson) {
                    this.currentAgenda.txjson = new __WEBPACK_IMPORTED_MODULE_12__service_business_event_service__["d" /* TxJson */]();
                    Object.assign(this.currentAgenda.txjson, data.txjson);
                    this.currentAgenda.tx = JSON.stringify(this.currentAgenda.txjson);
                    this.currentAgenda.txs = this.currentAgenda.txjson.text();
                    if (!this.eventService.isSameAgenda(this.currentAgenda, this.originAgenda)) {
                        this.buttons.save = true;
                    }
                    else {
                        this.buttons.save = false;
                    }
                }
                return [2 /*return*/];
            });
        }); });
        modal.present();
    };
    AgendaPage.prototype.acceptInvite = function (event) {
        var _this = this;
        this.util.loadingStart().then(function () {
            event.invitestatus = __WEBPACK_IMPORTED_MODULE_13__data_enum__["j" /* InviteState */].Accepted;
            _this.eventService.acceptReceivedAgenda(event.evi)
                .then(function (agenda) {
                if (agenda) {
                    _this.currentAgenda = agenda;
                    Object.assign(_this.originAgenda, agenda);
                    _this.buttons.save = false;
                }
                _this.buttons.record = true;
                _this.buttons.remove = true;
                _this.buttons.accept = false;
                _this.buttons.reject = false;
                _this.util.loadingEnd();
            });
        });
    };
    AgendaPage.prototype.rejectInvite = function (event) {
        var _this = this;
        this.util.loadingStart().then(function () {
            event.invitestatus = __WEBPACK_IMPORTED_MODULE_13__data_enum__["j" /* InviteState */].Rejected;
            _this.eventService.rejectReceivedAgenda(event.evi)
                .then(function () {
                _this.util.loadingEnd();
                _this.goBack();
            });
        });
    };
    AgendaPage.prototype.doOptionRemove = function (op) {
        var _this = this;
        this.util.loadingStart().then(function () {
            _this.eventService.removeAgenda(_this.originAgenda, op)
                .then(function () {
                _this.util.loadingEnd();
                _this.goBack();
            });
        });
    };
    AgendaPage.prototype.goRemove = function () {
        if (this.modifyConfirm) {
            this.modifyConfirm.dismiss();
        }
        if (this.originAgenda.rfg == __WEBPACK_IMPORTED_MODULE_13__data_enum__["x" /* RepeatFlag */].Repeat) {
            this.modifyConfirm = this.createConfirm(ConfirmText.Remove);
        }
        else {
            this.modifyConfirm = this.createConfirm(ConfirmText.RemoveSimple);
        }
        this.modifyConfirm.present();
    };
    AgendaPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    AgendaPage.prototype.validCheck = function () {
        if (this.currentAgenda.evn && this.currentAgenda.evn != "") {
            return true;
        }
    };
    AgendaPage.prototype.createConfirm = function (confirmText, confirm) {
        var _this = this;
        if (confirm === void 0) { confirm = __WEBPACK_IMPORTED_MODULE_13__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll; }
        var buttons = new Array();
        var title = "";
        if (confirmText == ConfirmText.Remove) {
            title = "此为重复日程";
            buttons.push({
                text: '仅删除此日程',
                role: 'remove',
                handler: function () {
                    _this.doOptionRemove(__WEBPACK_IMPORTED_MODULE_13__data_enum__["r" /* OperateType */].OnlySel);
                }
            });
            buttons.push({
                text: '删除所有将来日程',
                role: 'remove',
                handler: function () {
                    _this.doOptionRemove(__WEBPACK_IMPORTED_MODULE_13__data_enum__["r" /* OperateType */].FromSel);
                }
            });
        }
        else if (confirmText == ConfirmText.RemoveSimple) {
            title = "是否删除";
            buttons.push({
                text: '确定',
                role: 'ok',
                handler: function () {
                    _this.doOptionRemove(__WEBPACK_IMPORTED_MODULE_13__data_enum__["r" /* OperateType */].OnlySel);
                }
            });
        }
        else {
            if (confirm == __WEBPACK_IMPORTED_MODULE_13__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll) {
                title = "此为重复日程";
                buttons.push({
                    text: '仅针对此日程存储',
                    role: 'modify',
                    handler: function () {
                        _this.doOptionSave(__WEBPACK_IMPORTED_MODULE_13__data_enum__["r" /* OperateType */].OnlySel);
                    }
                });
            }
            buttons.push({
                text: '针对将来日程存储',
                role: 'modify',
                handler: function () {
                    _this.doOptionSave(__WEBPACK_IMPORTED_MODULE_13__data_enum__["r" /* OperateType */].FromSel);
                }
            });
        }
        buttons.push({
            text: '取消',
            role: 'cancel',
            handler: function () {
                console.log('Cancel clicked');
            }
        });
        return this.actionSheetCtrl.create({
            title: title,
            buttons: buttons
        });
    };
    AgendaPage.prototype.doOptionSave = function (op) {
        var _this = this;
        this.util.loadingStart().then(function () {
            _this.eventService.saveAgenda(_this.currentAgenda, _this.originAgenda, op).then(function (agenda) {
                if (agenda && agenda.length > 0) {
                    _this.currentAgenda = agenda[0];
                    Object.assign(_this.originAgenda, agenda[0]);
                    _this.buttons.save = false;
                }
                _this.util.loadingEnd();
            });
        });
    };
    AgendaPage.prototype.save = function () {
        var _this = this;
        if (this.validCheck()) {
            if (this.currentAgenda.evi) {
                if (this.eventService.isSameAgenda(this.currentAgenda, this.originAgenda)) {
                    return;
                }
                var confirm_1 = this.eventService.hasAgendaModifyConfirm(this.originAgenda, this.currentAgenda);
                if (confirm_1 == __WEBPACK_IMPORTED_MODULE_13__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll || confirm_1 == __WEBPACK_IMPORTED_MODULE_13__data_enum__["b" /* ConfirmType */].FutureAll) {
                    if (this.modifyConfirm) {
                        this.modifyConfirm.dismiss();
                    }
                    this.modifyConfirm = this.createConfirm(ConfirmText.Update, confirm_1);
                    this.modifyConfirm.present();
                }
                else {
                    this.util.loadingStart().then(function () {
                        _this.eventService.saveAgenda(_this.currentAgenda, _this.originAgenda, __WEBPACK_IMPORTED_MODULE_13__data_enum__["r" /* OperateType */].OnlySel).then(function (agenda) {
                            if (agenda && agenda.length > 0) {
                                _this.currentAgenda = agenda[0];
                                Object.assign(_this.originAgenda, agenda[0]);
                                _this.buttons.save = false;
                            }
                            _this.util.loadingEnd();
                        });
                    });
                }
            }
            else {
                this.util.loadingStart().then(function () {
                    _this.eventService.saveAgenda(_this.currentAgenda).then(function (agenda) {
                        if (agenda && agenda.length > 0) {
                            _this.currentAgenda = agenda[0];
                            Object.assign(_this.originAgenda, agenda[0]);
                            _this.buttons.remove = true;
                            _this.buttons.save = false;
                        }
                        _this.util.loadingEnd();
                    });
                });
            }
        }
    };
    AgendaPage.prototype.record = function (text) {
        this.currentAgenda.evn = text;
        this.changeDetectorRef.markForCheck();
        this.changeDetectorRef.detectChanges();
    };
    AgendaPage.prototype.speaker = function () {
    };
    AgendaPage.prototype.openfriend = function (ui) {
        var friend = this.friends.find(function (val) {
            return ui == val.ui;
        });
        if (friend) {
            this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_8__service_config_data_config__["a" /* DataConfig */].PAGE._FD_PAGE, { fsData: friend }).present();
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_10__components_page_box_page_box__["a" /* PageBoxComponent */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_10__components_page_box_page_box__["a" /* PageBoxComponent */])
    ], AgendaPage.prototype, "pageBoxComponent", void 0);
    AgendaPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',
            template: "\n    <page-box title=\"\u6D3B\u52A8\" [buttons]=\"buttons\" [data]=\"currentAgenda.evi\" (onRemove)=\"goRemove()\" (onSave)=\"save()\"\n              (onBack)=\"goBack()\" (onRecord)=\"record($event)\" (onSpeaker)=\"speaker($event)\"\n              (onAccept)=\"acceptInvite(currentAgenda)\" (onReject)=\"rejectInvite(currentAgenda)\"\n              [speakData]=\"currentAgenda.evn\">\n\n      <ion-grid\n        [ngStyle]=\"{'border-left': (!currentAgenda.evi || !currentAgenda.ji || currentAgenda.ji == '')? '0' : ('0.6rem solid ' + (currentAgenda.ji | formatplan: 'color': privateplans)), 'padding-left': (!currentAgenda.evi || !currentAgenda.ji || currentAgenda.ji == '')? '1.2rem' : '0.6rem', 'border-radius': (!currentAgenda.evi || !currentAgenda.ji || currentAgenda.ji == '')? '0' : '4px'}\">\n        <!--<ion-grid>-->\n\n        <!--<div class=\"plan plan-right\"-->\n        <!--[ngStyle]=\"{'background-color': currentAgenda.ji == ''? 'transparent' : (currentAgenda.ji | formatplan: 'color': privateplans )}\">-->\n        <!--<span>{{currentAgenda.ji | formatplan: 'name': '': privateplans}}</span></div>-->\n\n        <ion-row class=\"limitRow font-small-x\">\n          <span>{{snlength}} / 80 </span>\n        </ion-row>\n\n        <ion-row class=\"snRow\">\n          <div class=\"sn font-large-x\">\n            <!--\u4E3B\u9898-->\n            <ion-textarea rows=\"8\" no-margin [(ngModel)]=\"currentAgenda.evn\" (ionChange)=\"changeTitle()\"\n                          [readonly]=\"originAgenda.evi && originAgenda.ui != currentuser && (originAgenda.md != enablechange || originAgenda.invitestatus != acceptedinvite)\"\n                          [maxlength]=\"80\"></ion-textarea>\n          </div>\n\n\n          <div class=\"agendatodo\" *ngIf=\"currentAgenda.evi && currentAgenda.todolist\">\n            <ion-icon (click)=\"changeTodolist()\" class=\"font-large-x  fa-star\"\n                      [class.fad]=\"currentAgenda.todolist == todoliston\"\n                      [class.fal]=\"currentAgenda.todolist != todoliston\"></ion-icon>\n\n          </div>\n        </ion-row>\n\n        <ion-row class=\"optionRow\">\n          <ion-grid>\n            <!--\u9644\u52A0\u5C5E\u6027\u64CD\u4F5C-->\n            <ion-row *ngIf=\"currentAgenda.evi\">\n              <div (click)=\"changeLocation()\" *ngIf=\"!currentAgenda.adr\">\n                <ion-icon class=\"fal fa-map-marker-alt font-normal\"></ion-icon>\n                <span class=\"font-normal\">\u5730\u5740</span>\n              </div>\n              <div (click)=\"changeComment()\" *ngIf=\"!currentAgenda.bz\">\n                <ion-icon class=\"fal fa-comment-edit font-normal\"></ion-icon>\n                <span class=\"font-normal\">\u5907\u6CE8</span>\n              </div>\n              <div (click)=\"changePlan()\" end>\n                <ion-icon class=\"fal fa-line-columns  font-normal\"></ion-icon>\n                <span class=\"font-normal\">{{currentAgenda.ji | formatplan: 'name' :'\u52A0\u5165\u65E5\u5386': privateplans}}</span>\n              </div>\n            </ion-row>\n\n            <ion-row *ngIf=\"currentAgenda.evi\">\n              <div>\n                <button ion-button clear (click)=\"changeInvites()\" class=\"font-normal\">\n                  <ion-icon class=\"fal fa-user-friends font-normal\"\n                            *ngIf=\"currentAgenda.pn <= 0\"></ion-icon>\n                  \u53C2\u4E0E\u4EBA\n                  <corner-badge fa-user-friends *ngIf=\"currentAgenda.pn > 0\"><p>{{currentAgenda.pn}}</p></corner-badge>\n                </button>\n              </div>\n              <div>\n                <button ion-button clear (click)=\"changeRemind()\" class=\"font-normal\">\n                  <ion-icon class=\"fal fa-bells font-normal\" *ngIf=\"!currentAgenda.txs\"></ion-icon>\n                  {{currentAgenda.txs || \"\u63D0\u9192\"}}\n                  <corner-badge fa-bells *ngIf=\"currentAgenda.txs\"><p>{{currentAgenda.txjson.reminds.length}}</p>\n                  </corner-badge>\n                </button>\n              </div>\n              <div>\n                <button ion-button clear icon-end (click)=\"changeAttach()\" class=\"font-normal\">\n                  <ion-icon class=\"fal fa-sparkles  font-normal\"\n                            *ngIf=\"!currentAgenda.fj || currentAgenda.fj == '0'\"></ion-icon>\n                  \u8865\u5145\n                  <corner-badge fa-sparkles *ngIf=\"currentAgenda.fj && currentAgenda.fj != '0'\">\n                    <p>{{currentAgenda.fj}}</p>\n                  </corner-badge>\n                </button>\n              </div>\n            </ion-row>\n\n            <ion-row *ngIf=\"currentAgenda.evi\">\n              <button ion-button clear (click)=\"changeRepeat()\" class=\"font-normal repeatButton\"\n                      [disabled]=\"originAgenda.evi && originAgenda.ui != currentuser && originAgenda.md != enablechange\">\n                <ion-icon class=\"fal fa-copy font-normal\" *ngIf=\"!currentAgenda.rts\"></ion-icon>\n                {{currentAgenda.rts || \"\u91CD\u590D\"}}\n                <!--<corner-badge *ngIf=\"currentAgenda.rts\" fa-copy><p><i class=\"fa fa-copy \"></i></p></corner-badge>-->\n              </button>\n            </ion-row>\n            <ion-row *ngIf=\"currentAgenda.bz\" (click)=\"changeComment()\" class=\"contentdata\">\n              <span class=\"content font-normal\">\n                  \u5907\u6CE8\uFF1A{{currentAgenda.bz}}\n              </span>\n              <span class=\"content font-normal\">\n                <ion-icon class=\"fal fa-comment-edit font-normal\"></ion-icon>  \n              </span>\n                \n            </ion-row>\n\n            <ion-row *ngIf=\"currentAgenda.adr \" (click)=\"changeLocation()\" class=\"contentdata\">\n              <span class=\"content font-normal\">\n                \u5730\u5740\uFF1A{{currentAgenda.adr}}\n                </span>\n              <span class=\"content font-normal\">\n                <ion-icon class=\"fal fa-map-marker-alt font-normal\"></ion-icon>\n              </span>\n            </ion-row>\n            <ion-row *ngIf=\"currentAgenda.evd\"  class=\"contentdata\">\n              <div (click)=\"changeDatetime()\" class=\"pickDate\">\n                <span class=\"content font-normal agendaDate\">\n                  \u65E5\u671F\uFF1A{{currentAgenda.evd | formatedate: \"YYYY\u5E74M\u6708D\u65E5\"}}\n                  <ion-icon class=\"fal fa-calendar-check \"></ion-icon>\n                </span>\n                <span class=\"content font-normal agendaDate\">\n                  \u65F6\u95F4\uFF1A{{currentAgenda.evd + \" \" + currentAgenda.evt | formatedate: \"A HH:mm\"}}\n                  ({{currentAgenda.ct | transfromdate: \"duration\"}})\n                </span>\n              </div>\n              <div end *ngIf=\"currentAgenda.evi && currentAgenda.ui != currentuser\"\n                   (click)=\"openfriend(currentAgenda.ui)\">\n                <span class=\"content  font-normal person\">\n                   \u53D1\u8D77\u4EBA\uFF1A{{currentAgenda.ui | formatuser: currentuser: friends}}\n                  </span>\n              </div>\n            </ion-row>\n          </ion-grid>\n        </ion-row>\n      </ion-grid>\n    </page-box>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_7__service_util_service_emit_service__["a" /* EmitService */],
            __WEBPACK_IMPORTED_MODULE_6__agenda_service__["a" /* AgendaService */],
            __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_9__service_cordova_feedback_service__["a" /* FeedbackService */],
            __WEBPACK_IMPORTED_MODULE_11__service_business_calendar_service__["a" /* CalendarService */],
            __WEBPACK_IMPORTED_MODULE_12__service_business_event_service__["b" /* EventService */],
            __WEBPACK_IMPORTED_MODULE_4__service_util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_14__ionic_native_keyboard__["a" /* Keyboard */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ChangeDetectorRef"]])
    ], AgendaPage);
    return AgendaPage;
}());

var ConfirmText;
(function (ConfirmText) {
    ConfirmText["Update"] = "Update";
    ConfirmText["Remove"] = "Remove";
    ConfirmText["RemoveSimple"] = "RemoveSimple";
})(ConfirmText || (ConfirmText = {}));
//# sourceMappingURL=agenda.js.map

/***/ }),
/* 610 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AgendaService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_cordova_assistant_service__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_business_event_service__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__ = __webpack_require__(4);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AgendaService = (function () {
    function AgendaService(util, eventService, assistantService) {
        this.util = util;
        this.eventService = eventService;
        this.assistantService = assistantService;
        __WEBPACK_IMPORTED_MODULE_1_moment__["locale"]('zh-cn');
    }
    AgendaService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_3__service_business_event_service__["b" /* EventService */],
            __WEBPACK_IMPORTED_MODULE_2__service_cordova_assistant_service__["a" /* AssistantService */]])
    ], AgendaService);
    return AgendaService;
}());

//# sourceMappingURL=agenda.service.js.map

/***/ }),
/* 611 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MemoPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_cordova_feedback_service__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_keyboard__ = __webpack_require__(80);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







/**
 * Generated class for the 备忘创建/修改 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var MemoPage = (function () {
    function MemoPage(navCtrl, navParams, modalCtrl, viewCtrl, actionSheetCtrl, emitService, util, feedback, keyboard) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.modalCtrl = modalCtrl;
        this.viewCtrl = viewCtrl;
        this.actionSheetCtrl = actionSheetCtrl;
        this.emitService = emitService;
        this.util = util;
        this.feedback = feedback;
        this.keyboard = keyboard;
        this.buttons = {
            remove: false,
            share: false,
            save: true,
            cancel: true
        };
        this.day = __WEBPACK_IMPORTED_MODULE_6_moment__().format("YYYY/MM/DD");
        this.memo = "";
        __WEBPACK_IMPORTED_MODULE_6_moment__["locale"]('zh-cn');
        if (this.navParams) {
            var data = this.navParams.data;
            this.day = data.day;
            if (data.memo && typeof data.memo === "string") {
                this.origin = undefined;
                this.memo = data.memo;
            }
            if (data.memo && typeof data.memo !== "string") {
                this.origin = data.memo;
                this.memo = this.origin.mon;
            }
        }
    }
    MemoPage.prototype.ionViewDidEnter = function () {
        var _this = this;
        setTimeout(function () {
            var el = _this._bzRef.nativeElement.querySelector('textarea');
            el.focus();
            _this.keyboard.show(); //for android
        }, 500);
    };
    MemoPage.prototype.save = function () {
        if (this.origin) {
            this.origin.mon = this.memo;
        }
        var data = {
            day: this.day,
            memo: this.origin ? this.origin : this.memo
        };
        this.viewCtrl.dismiss(data);
    };
    MemoPage.prototype.cancel = function () {
        this.navCtrl.pop();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("bzRef", { read: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"] }),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], MemoPage.prototype, "_bzRef", void 0);
    MemoPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-memo',
            template: "  \n    <page-box title=\"\u6DFB\u52A0\u5907\u5FD8\" [buttons]=\"buttons\" (onSave)=\"save()\" (onBack)=\"cancel()\">\n      <ion-textarea placeholder=\"\u4F60\u60F3\u8BB0\u5F55\u4EC0\u4E48\u3002\u3002\u3002\u3002\"  rows=\"8\" [(ngModel)]=\"memo\" class=\"memo-set\"  #bzRef></ion-textarea>\n      </page-box>"
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_2__service_util_service_emit_service__["a" /* EmitService */],
            __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_3__service_cordova_feedback_service__["a" /* FeedbackService */],
            __WEBPACK_IMPORTED_MODULE_5__ionic_native_keyboard__["a" /* Keyboard */]])
    ], MemoPage);
    return MemoPage;
}());

//# sourceMappingURL=memo.js.map

/***/ }),
/* 612 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return JhPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_business_calendar_service__ = __webpack_require__(30);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var JhPage = (function () {
    function JhPage(navCtrl, navParams, viewCtrl, calendarService, util) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.viewCtrl = viewCtrl;
        this.calendarService = calendarService;
        this.util = util;
        this.buttons = {
            cancel: true
        };
        this.jhoptions = new Array();
        this.selected = "";
        this.selectedJh = "";
        if (this.navParams && this.navParams.data) {
            this.selectedJh = this.navParams.data;
            this.selected = this.navParams.data.ji;
        }
    }
    JhPage.prototype.ionViewDidEnter = function () {
        this.getAllJh();
    };
    JhPage.prototype.getAllJh = function () {
        var _this = this;
        this.util.loadingStart();
        this.calendarService.fetchPrivatePlans().then(function (data) {
            _this.jhoptions = data;
            _this.util.loadingEnd();
        }).catch(function (error) {
            _this.util.toastStart('获取计划失败', 1500);
            _this.util.loadingEnd();
        });
    };
    JhPage.prototype.jhChanged = function () {
        for (var _i = 0, _a = this.jhoptions; _i < _a.length; _i++) {
            var option = _a[_i];
            if (option.ji == this.selected) {
                this.selectedJh = option;
                break;
            }
        }
    };
    JhPage.prototype.close = function () {
        var data = { jh: this.selectedJh };
        this.viewCtrl.dismiss(data);
    };
    JhPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-jh',
            template: "\n\n    <modal-box title=\"\u65E5\u5386\" [buttons]=\"buttons\" (onCancel)=\"close()\">\n\n\n      <ion-scroll scrollY=\"true\" scrollheightAuto>\n        <ion-list radio-group [(ngModel)]=\"selected\" (ionChange)=\"jhChanged()\">\n          <ion-list-header>\n            \u9009\u62E9\u65E5\u5386\n          </ion-list-header>\n          <ion-item *ngFor=\"let option of jhoptions\">\n            <ion-label><i class=\"color-dot\" [ngStyle]=\"{'background-color': option.jc }\"></i> {{option.jn}}</ion-label>\n            <ion-radio [checked]=\"option.ji == selected\" [value]=\"option.ji\"></ion-radio>\n          </ion-item>\n        </ion-list>\n      </ion-scroll>\n     \n    </modal-box>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"],
            __WEBPACK_IMPORTED_MODULE_3__service_business_calendar_service__["a" /* CalendarService */],
            __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__["a" /* UtilService */]])
    ], JhPage);
    return JhPage;
}());

//# sourceMappingURL=jh.js.map

/***/ }),
/* 613 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CommentPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_modal_box_modal_box__ = __webpack_require__(166);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var CommentPage = (function () {
    function CommentPage(navCtrl, modalCtrl, viewCtrl, navParams, changeDetectorRef) {
        this.navCtrl = navCtrl;
        this.modalCtrl = modalCtrl;
        this.viewCtrl = viewCtrl;
        this.navParams = navParams;
        this.changeDetectorRef = changeDetectorRef;
        this.buttons = {
            record: true,
            save: true,
            cancel: true
        };
        this.snlength = 0;
        this.bz = ""; //备注
        if (this.navParams && this.navParams.data) {
            var value = this.navParams.data.value;
            if (value) {
                this.bz = value;
                this.snlength = this.bz.length;
            }
        }
    }
    CommentPage.prototype.ionViewDidEnter = function () {
    };
    CommentPage.prototype.ngAfterViewInit = function () {
        this.modalBoxComponent.setBoxContent();
    };
    CommentPage.prototype.save = function () {
        var data = { bz: this.bz };
        this.viewCtrl.dismiss(data);
    };
    CommentPage.prototype.cancel = function () {
        this.navCtrl.pop();
    };
    CommentPage.prototype.record = function (text) {
        this.bz = text;
        this.changeDetectorRef.markForCheck();
        this.changeDetectorRef.detectChanges();
    };
    CommentPage.prototype.changeTitle = function () {
        this.snlength = this.bz.length;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_2__components_modal_box_modal_box__["a" /* ModalBoxComponent */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2__components_modal_box_modal_box__["a" /* ModalBoxComponent */])
    ], CommentPage.prototype, "modalBoxComponent", void 0);
    CommentPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-comment',
            template: "\n  <modal-box title=\"\u5907\u6CE8\" [buttons]=\"buttons\" (onSave)=\"save()\" (onCancel)=\"cancel()\" (onRecord)=\"record($event)\">\n\n    <ion-grid>\n\n      <ion-row class=\"limitRow font-small-x\">\n        <span>{{snlength}} / 80 </span>\n      </ion-row>\n\n      <ion-row class=\"snRow\">\n        <div class=\"sn font-large-x\">\n          <ion-textarea   placeholder=\"\u5907\u6CE8\"  class=\"memo-set\" rows=\"8\" [(ngModel)]=\"bz\" class=\"font-large-x\" [maxlength]=\"80\"  (ionChange)=\"changeTitle()\" ></ion-textarea>\n        </div>\n      </ion-row>\n    </ion-grid>\n  </modal-box>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ChangeDetectorRef"]])
    ], CommentPage);
    return CommentPage;
}());

//# sourceMappingURL=comment.js.map

/***/ }),
/* 614 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RepeatPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_keyboard__ = __webpack_require__(80);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_date_picker_date_picker__ = __webpack_require__(260);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_business_event_service__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__data_enum__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_util_service_util_service__ = __webpack_require__(4);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var RepeatPage = (function () {
    function RepeatPage(navCtrl, keyboard, modalCtrl, viewCtrl, navParams, util) {
        this.navCtrl = navCtrl;
        this.keyboard = keyboard;
        this.modalCtrl = modalCtrl;
        this.viewCtrl = viewCtrl;
        this.navParams = navParams;
        this.util = util;
        this.buttons = {
            remove: false,
            share: false,
            save: true,
            cancel: true
        };
        this.items = new Array();
        this.itemRanges = new Array();
        this.itemRangeOptions = new Array();
        this.itemMonthDayRangeOptions = new Array();
        this.title = "重复关闭。";
        this.cfType = "";
        this.minDate = __WEBPACK_IMPORTED_MODULE_4_moment__().format("YYYY-MM-DD");
        //每日选择参数
        this.cfDayOptions = {
            frequency: "",
            freqOption: "",
            endType: "never",
            afterTimes: 1,
            toSomeDay: ""
        };
        //每周选择参数
        this.cfWeekOptions = {
            frequency: "",
            freqOption: "",
            endType: "never",
            afterTimes: 1,
            toSomeDay: ""
        };
        //每月选择参数
        this.cfMonthOptions = {
            frequency: "",
            freqOption: "",
            endType: "never",
            afterTimes: 1,
            toSomeDay: ""
        };
        //每年选择参数
        this.cfYearOptions = {
            frequency: "",
            freqOption: "",
            endType: "never",
            afterTimes: 1,
            toSomeDay: ""
        };
        this.optionCaptions = {
            sunday: "星期日",
            monday: "星期一",
            tuesday: "星期二",
            wednesday: "星期三",
            thursday: "星期四",
            friday: "星期五",
            saturday: "星期六",
        };
        this.enableRepeat = false;
        if (this.navParams && this.navParams.data) {
            var value = this.navParams.data.value;
            this.startDate = this.navParams.data.sd;
            if (value) {
                this.originRepeat = value;
                this.enableRepeat = this.navParams.data.enableRepeat;
                if (!this.enableRepeat) {
                    this.buttons.save = false;
                }
                this.currentRepeat = new __WEBPACK_IMPORTED_MODULE_5__service_business_event_service__["c" /* RtJson */]();
                this.util.cloneObj(this.currentRepeat, this.originRepeat);
            }
        }
        this.items.push({ value: "", caption: "关闭" });
        this.items.push({ value: "day", caption: "每日" });
        this.items.push({ value: "week", caption: "每周" });
        this.items.push({ value: "month", caption: "每月" });
        this.items.push({ value: "year", caption: "每年" });
        this.itemRanges.push({ value: "remove", icon: "fa-minus-square" });
        this.itemRanges.push({ value: "add", icon: "fa-plus-square" });
        this.itemRangeOptions.push({ value: "sunday", caption: "日" });
        this.itemRangeOptions.push({ value: "monday", caption: "一" });
        this.itemRangeOptions.push({ value: "tuesday", caption: "二" });
        this.itemRangeOptions.push({ value: "wednesday", caption: "三" });
        this.itemRangeOptions.push({ value: "thursday", caption: "四" });
        this.itemRangeOptions.push({ value: "friday", caption: "五" });
        this.itemRangeOptions.push({ value: "saturday", caption: "六" });
        for (var day = 1; day <= 31; day++) {
            this.itemMonthDayRangeOptions.push({ value: "" + day, caption: "" + day });
        }
        this.initRepeatShow();
    }
    RepeatPage.prototype.ionViewDidEnter = function () {
    };
    RepeatPage.prototype.save = function () {
        this.util.cloneObj(this.originRepeat, this.currentRepeat);
        var data = { rtjson: this.originRepeat };
        this.viewCtrl.dismiss(data);
    };
    RepeatPage.prototype.cancel = function () {
        this.navCtrl.pop();
    };
    RepeatPage.prototype.getFreqTitle = function (title, option) {
        var freqtitle = title;
        if (option.frequency) {
            freqtitle = (option.frequency == 1 ? "" : option.frequency) + freqtitle;
            if (option.freqOption) {
                var caption = this.optionCaptions[option.freqOption];
                freqtitle += " " + (caption ? caption : "");
            }
        }
        return freqtitle;
    };
    RepeatPage.prototype.getEndTitle = function (option) {
        var endtitle = "永不";
        switch (option.endType) {
            case "never":
                endtitle = "永不";
                break;
            case "aftertimes":
                endtitle = option.afterTimes + "次";
                break;
            case "tosomeday":
                endtitle = "直到 " + option.toSomeDay;
                break;
            default:
                break;
        }
        return endtitle;
    };
    RepeatPage.prototype.resetTitle = function (cfType) {
        switch (cfType) {
            case "day":
                this.title = "重复周期 " + this.getFreqTitle("日", this.cfDayOptions) + ", " + this.getEndTitle(this.cfDayOptions);
                break;
            case "week":
                this.title = "重复周期 " + this.getFreqTitle("周", this.cfWeekOptions) + ", " + this.getEndTitle(this.cfWeekOptions);
                break;
            case "month":
                this.title = "重复周期 " + this.getFreqTitle("月", this.cfMonthOptions) + ", " + this.getEndTitle(this.cfMonthOptions);
                break;
            case "year":
                this.title = "重复周期 " + this.getFreqTitle("年", this.cfYearOptions) + ", " + this.getEndTitle(this.cfYearOptions);
                break;
            default:
                this.title = "重复关闭。";
                break;
        }
    };
    RepeatPage.prototype.initRepeatShow = function () {
        var _this = this;
        switch (this.currentRepeat.cycletype) {
            case __WEBPACK_IMPORTED_MODULE_6__data_enum__["c" /* CycleType */].day:
                this.cfType = "day";
                this.cfDayOptions.frequency = this.currentRepeat.cyclenum;
                switch (this.currentRepeat.over.type) {
                    case __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].fornever:
                        this.cfDayOptions.endType = "never";
                        break;
                    case __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].times:
                        this.cfDayOptions.endType = "aftertimes";
                        this.cfDayOptions.afterTimes = this.currentRepeat.over.value;
                        break;
                    case __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].limitdate:
                        this.cfDayOptions.endType = "tosomeday";
                        this.cfDayOptions.toSomeDay = __WEBPACK_IMPORTED_MODULE_4_moment__(this.currentRepeat.over.value, "YYYY/MM/DD").format("YYYY-MM-DD");
                        break;
                    default:
                        break;
                }
                break;
            case __WEBPACK_IMPORTED_MODULE_6__data_enum__["c" /* CycleType */].week:
                this.cfType = "week";
                this.cfWeekOptions.frequency = this.currentRepeat.cyclenum;
                if (this.currentRepeat.openway && this.currentRepeat.openway.length > 0) {
                    this.cfWeekOptions.freqOption = new Array();
                    this.cfWeekOptions.freqOption = this.itemRangeOptions.reduce(function (target, val, index) {
                        if (_this.currentRepeat.openway.indexOf(index) >= 0) {
                            target.push(val.value);
                        }
                        else {
                            target.push(null);
                        }
                        return target;
                    }, this.cfWeekOptions.freqOption);
                }
                switch (this.currentRepeat.over.type) {
                    case __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].fornever:
                        this.cfWeekOptions.endType = "never";
                        break;
                    case __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].times:
                        this.cfWeekOptions.endType = "aftertimes";
                        this.cfWeekOptions.afterTimes = this.currentRepeat.over.value;
                        break;
                    case __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].limitdate:
                        this.cfWeekOptions.endType = "tosomeday";
                        this.cfWeekOptions.toSomeDay = __WEBPACK_IMPORTED_MODULE_4_moment__(this.currentRepeat.over.value, "YYYY/MM/DD").format("YYYY-MM-DD");
                        break;
                    default:
                        break;
                }
                break;
            case __WEBPACK_IMPORTED_MODULE_6__data_enum__["c" /* CycleType */].month:
                this.cfType = "month";
                this.cfMonthOptions.frequency = this.currentRepeat.cyclenum;
                if (this.currentRepeat.openway && this.currentRepeat.openway.length > 0) {
                    this.cfMonthOptions.freqOption = new Array();
                    this.cfMonthOptions.freqOption = this.itemMonthDayRangeOptions.reduce(function (target, val, index) {
                        if (_this.currentRepeat.openway.indexOf(index) >= 0) {
                            target.push(val.value);
                        }
                        else {
                            target.push(null);
                        }
                        return target;
                    }, this.cfMonthOptions.freqOption);
                }
                switch (this.currentRepeat.over.type) {
                    case __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].fornever:
                        this.cfMonthOptions.endType = "never";
                        break;
                    case __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].times:
                        this.cfMonthOptions.endType = "aftertimes";
                        this.cfMonthOptions.afterTimes = this.currentRepeat.over.value;
                        break;
                    case __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].limitdate:
                        this.cfMonthOptions.endType = "tosomeday";
                        this.cfMonthOptions.toSomeDay = __WEBPACK_IMPORTED_MODULE_4_moment__(this.currentRepeat.over.value, "YYYY/MM/DD").format("YYYY-MM-DD");
                        break;
                    default:
                        break;
                }
                break;
            case __WEBPACK_IMPORTED_MODULE_6__data_enum__["c" /* CycleType */].year:
                this.cfType = "year";
                this.cfYearOptions.frequency = this.currentRepeat.cyclenum;
                switch (this.currentRepeat.over.type) {
                    case __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].fornever:
                        this.cfDayOptions.endType = "never";
                        break;
                    case __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].times:
                        this.cfYearOptions.endType = "aftertimes";
                        this.cfYearOptions.afterTimes = this.currentRepeat.over.value;
                        break;
                    case __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].limitdate:
                        this.cfYearOptions.endType = "tosomeday";
                        this.cfYearOptions.toSomeDay = __WEBPACK_IMPORTED_MODULE_4_moment__(this.currentRepeat.over.value, "YYYY/MM/DD").format("YYYY-MM-DD");
                        break;
                    default:
                        break;
                }
                break;
            default:
                this.cfType = "";
                break;
        }
    };
    RepeatPage.prototype.resetValueWithType = function (rtjson, cfType, target, value) {
        if (target === void 0) { target = "cycletype"; }
        if (value === void 0) { value = undefined; }
        switch (cfType) {
            case "day":
                if (target == "cycletype")
                    rtjson.cycletype = __WEBPACK_IMPORTED_MODULE_6__data_enum__["c" /* CycleType */].day;
                if (target == "cyclenum" || target == "cycletype")
                    rtjson.cyclenum = this.cfDayOptions.frequency;
                if (target == "over" || target == "cycletype") {
                    switch (this.cfDayOptions.endType) {
                        case "never":
                            rtjson.over.type = __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].fornever;
                            this.cfDayOptions.toSomeDay = "";
                            break;
                        case "aftertimes":
                            rtjson.over.type = __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].times;
                            rtjson.over.value = this.cfDayOptions.afterTimes;
                            this.cfDayOptions.toSomeDay = "";
                            break;
                        case "tosomeday":
                            rtjson.over.type = __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].limitdate;
                            if (this.cfDayOptions.toSomeDay == "") {
                                this.cfDayOptions.toSomeDay = __WEBPACK_IMPORTED_MODULE_4_moment__().add(7, 'd').format("YYYY-MM-DD");
                            }
                            rtjson.over.value = __WEBPACK_IMPORTED_MODULE_4_moment__(this.cfDayOptions.toSomeDay, "YYYY-MM-DD").format("YYYY/MM/DD");
                            break;
                        default:
                            break;
                    }
                }
                break;
            case "week":
                if (target == "cycletype")
                    rtjson.cycletype = __WEBPACK_IMPORTED_MODULE_6__data_enum__["c" /* CycleType */].week;
                if (target == "cyclenum" || target == "cycletype")
                    rtjson.cyclenum = this.cfWeekOptions.frequency;
                if (target == "openway" || target == "cycletype") {
                    rtjson.openway.length = 0;
                    if (this.cfWeekOptions.freqOption && this.cfWeekOptions.freqOption instanceof Array) {
                        rtjson.openway = this.cfWeekOptions.freqOption.reduce(function (target, val, index) {
                            if (val) {
                                target.push(index);
                            }
                            return target;
                        }, rtjson.openway);
                    }
                }
                if (target == "over" || target == "cycletype") {
                    switch (this.cfWeekOptions.endType) {
                        case "never":
                            rtjson.over.type = __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].fornever;
                            this.cfWeekOptions.toSomeDay = "";
                            break;
                        case "aftertimes":
                            rtjson.over.type = __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].times;
                            rtjson.over.value = this.cfWeekOptions.afterTimes;
                            this.cfWeekOptions.toSomeDay = "";
                            break;
                        case "tosomeday":
                            rtjson.over.type = __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].limitdate;
                            if (this.cfWeekOptions.toSomeDay == "") {
                                this.cfWeekOptions.toSomeDay = __WEBPACK_IMPORTED_MODULE_4_moment__().add(4, 'w').format("YYYY-MM-DD");
                            }
                            rtjson.over.value = __WEBPACK_IMPORTED_MODULE_4_moment__(this.cfWeekOptions.toSomeDay, "YYYY-MM-DD").format("YYYY/MM/DD");
                            break;
                        default:
                            break;
                    }
                }
                break;
            case "month":
                if (target == "cycletype")
                    rtjson.cycletype = __WEBPACK_IMPORTED_MODULE_6__data_enum__["c" /* CycleType */].month;
                if (target == "cyclenum" || target == "cycletype")
                    rtjson.cyclenum = this.cfMonthOptions.frequency;
                if (target == "openway" || target == "cycletype") {
                    rtjson.openway.length = 0;
                    if (this.cfMonthOptions.freqOption && this.cfMonthOptions.freqOption instanceof Array) {
                        rtjson.openway = this.cfMonthOptions.freqOption.reduce(function (target, val, index) {
                            if (val) {
                                target.push(index);
                            }
                            return target;
                        }, rtjson.openway);
                    }
                }
                if (target == "over" || target == "cycletype") {
                    switch (this.cfMonthOptions.endType) {
                        case "never":
                            rtjson.over.type = __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].fornever;
                            this.cfMonthOptions.toSomeDay = "";
                            break;
                        case "aftertimes":
                            rtjson.over.type = __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].times;
                            rtjson.over.value = this.cfMonthOptions.afterTimes;
                            this.cfMonthOptions.toSomeDay = "";
                            break;
                        case "tosomeday":
                            rtjson.over.type = __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].limitdate;
                            if (this.cfMonthOptions.toSomeDay == "") {
                                this.cfMonthOptions.toSomeDay = __WEBPACK_IMPORTED_MODULE_4_moment__().add(12, 'M').format("YYYY-MM-DD");
                            }
                            rtjson.over.value = __WEBPACK_IMPORTED_MODULE_4_moment__(this.cfMonthOptions.toSomeDay, "YYYY-MM-DD").format("YYYY/MM/DD");
                            break;
                        default:
                            break;
                    }
                }
                break;
            case "year":
                if (target == "cycletype")
                    rtjson.cycletype = __WEBPACK_IMPORTED_MODULE_6__data_enum__["c" /* CycleType */].year;
                if (target == "cyclenum" || target == "cycletype")
                    rtjson.cyclenum = this.cfYearOptions.frequency;
                if (target == "over" || target == "cycletype") {
                    switch (this.cfYearOptions.endType) {
                        case "never":
                            rtjson.over.type = __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].fornever;
                            this.cfYearOptions.toSomeDay = "";
                            break;
                        case "aftertimes":
                            rtjson.over.type = __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].times;
                            rtjson.over.value = this.cfYearOptions.afterTimes;
                            this.cfYearOptions.toSomeDay = "";
                            break;
                        case "tosomeday":
                            rtjson.over.type = __WEBPACK_IMPORTED_MODULE_6__data_enum__["s" /* OverType */].limitdate;
                            if (this.cfYearOptions.toSomeDay == "") {
                                this.cfYearOptions.toSomeDay = __WEBPACK_IMPORTED_MODULE_4_moment__().add(5, 'y').format("YYYY-MM-DD");
                            }
                            rtjson.over.value = __WEBPACK_IMPORTED_MODULE_4_moment__(this.cfYearOptions.toSomeDay, "YYYY-MM-DD").format("YYYY/MM/DD");
                            break;
                        default:
                            break;
                    }
                }
                break;
            default:
                if (target == "cycletype")
                    rtjson.cycletype = __WEBPACK_IMPORTED_MODULE_6__data_enum__["c" /* CycleType */].close;
                break;
        }
        return rtjson;
    };
    RepeatPage.prototype.onTypeChanged = function (value) {
        this.currentRepeat = this.resetValueWithType(this.currentRepeat, value);
        this.title = this.currentRepeat.text();
    };
    RepeatPage.prototype.onFreqChanged = function () {
        this.currentRepeat = this.resetValueWithType(this.currentRepeat, this.cfType, "cyclenum");
        this.title = this.currentRepeat.text();
    };
    RepeatPage.prototype.onFreqOptionChanged = function () {
        this.currentRepeat = this.resetValueWithType(this.currentRepeat, this.cfType, "openway");
        this.title = this.currentRepeat.text();
    };
    RepeatPage.prototype.onEndTypeChanged = function (value) {
        this.currentRepeat = this.resetValueWithType(this.currentRepeat, this.cfType, "over");
        this.title = this.currentRepeat.text();
    };
    RepeatPage.prototype.onEndAfterTimesChanged = function (value) {
        this.currentRepeat = this.resetValueWithType(this.currentRepeat, this.cfType, "over");
        this.title = this.currentRepeat.text();
    };
    RepeatPage.prototype.openUntilEndDate = function (type) {
        var _this = this;
        switch (type) {
            case 'd':
                setTimeout(function () {
                    _this.utilEndDateD.open();
                }, 100);
                break;
            case 'w':
                setTimeout(function () {
                    _this.utilEndDateW.open();
                }, 100);
                break;
            case 'm':
                setTimeout(function () {
                    _this.utilEndDateM.open();
                }, 100);
                break;
            case 'y':
                setTimeout(function () {
                    _this.utilEndDateY.open();
                }, 100);
                break;
            default:
                break;
        }
    };
    RepeatPage.prototype.dtselect = function () {
        this.onEndTypeChanged(null);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("utilEndDateD"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3__components_date_picker_date_picker__["a" /* DatePickerComponent */])
    ], RepeatPage.prototype, "utilEndDateD", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("utilEndDateW"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3__components_date_picker_date_picker__["a" /* DatePickerComponent */])
    ], RepeatPage.prototype, "utilEndDateW", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("utilEndDateM"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3__components_date_picker_date_picker__["a" /* DatePickerComponent */])
    ], RepeatPage.prototype, "utilEndDateM", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("utilEndDateY"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3__components_date_picker_date_picker__["a" /* DatePickerComponent */])
    ], RepeatPage.prototype, "utilEndDateY", void 0);
    RepeatPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-repeat',
            template: "\n    <modal-box title=\"\u91CD\u590D\" [buttons]=\"buttons\" (onSave)=\"save()\" (onCancel)=\"cancel()\" [enableEdit]=\"enableRepeat\">\n      <div class=\"itemwarp font-normal\" >\n        <radio-select   [options]=\"items\" full=\"true\" center =  \"true\" [(ngModel)]=\"cfType\" (onChanged)=\"onTypeChanged($event)\" button5></radio-select>\n      </div>\n\n      <div class=\"itemwarp font-normal\">\n        <p>\u4ECE{{startDate | formatedate :\"CYYYY/MM/DD\"}}\u5F00\u59CB</p>\n      </div>\n      \n\n      <ng-template  [ngIf]=\"cfType == 'day'\">\n\n        <div class=\"itemwarp font-normal\">\n          <p>\u91CD\u590D\u5468\u671F</p>\n          <radio-spinner  label=\"\u5929\" [options]=\"itemRanges\" [(ngModel)]=\"cfDayOptions.frequency\" (onChanged)=\"onFreqChanged($event)\"></radio-spinner>\n        </div>\n        <div class=\"itemwarp font-normal\">\n          \n          \n          \n          \n          \n          <p>\u7ED3\u675F</p>\n          <ion-list class=\"endwith\" radio-group no-lines [(ngModel)]=\"cfDayOptions.endType\" (ionChange)=\"onEndTypeChanged($event)\">\n            <ion-item >\n              <ion-radio value=\"never\" item-start></ion-radio>\n              <ion-label>\u9ED8\u8BA4(1\u5E74)</ion-label>\n            </ion-item>\n            <ion-item>\n              <ion-radio value=\"aftertimes\" item-start></ion-radio>\n              <ion-label class=\"inline\">\n                <div *ngIf=\"cfDayOptions.endType != 'aftertimes'\" class=\"inlabel\">\u4E00\u5B9A\u6B21\u6570\u540E</div>\n                <radio-spinner label=\"\u6B21\u540E\" *ngIf=\"cfDayOptions.endType == 'aftertimes'\" [options]=\"itemRanges\" [(ngModel)]=\"cfDayOptions.afterTimes\" (onChanged)=\"onEndAfterTimesChanged($event)\"></radio-spinner>\n              </ion-label>\n            </ion-item>\n            <ion-item>\n              <ion-radio  (ionSelect)=\"openUntilEndDate('d')\" value=\"tosomeday\" item-start>\n\n              </ion-radio>\n              <ion-label>\u76F4\u5230{{cfDayOptions.toSomeDay | formatedate : 'CYYYY/MM/DD'}}</ion-label>\n            </ion-item>\n          </ion-list>\n        </div>\n      </ng-template>\n\n      <ng-template  [ngIf]=\"cfType == 'week'\">\n\n        <div class=\"itemwarp font-normal\">\n          <p>\u91CD\u590D\u5468\u671F</p>\n          <radio-spinner label=\"\u5468\" [options]=\"itemRanges\" [(ngModel)]=\"cfWeekOptions.frequency\" (onChanged)=\"onFreqChanged($event)\"></radio-spinner>\n        </div>\n        <div class=\"itemwarp font-normal\">\n          <p>\u91CD\u590D\u5F00\u542F</p>\n          <radio-select [options]=\"itemRangeOptions\"  multiple=\"true\" [(ngModel)]=\"cfWeekOptions.freqOption\" (onChanged)=\"onFreqOptionChanged($event)\" button7></radio-select>\n        </div>\n\n        <div class=\"itemwarp font-normal\">\n          <p>\u7ED3\u675F</p>\n          <ion-list class=\"endwith\" radio-group no-lines [(ngModel)]=\"cfWeekOptions.endType\" (ionChange)=\"onEndTypeChanged($event)\">\n            <ion-item>\n              <ion-radio  value=\"never\"  item-start></ion-radio>\n              <ion-label>\u9ED8\u8BA4(2\u5E74)</ion-label>\n            </ion-item>\n            <ion-item>\n              <ion-radio  value=\"aftertimes\"  item-start></ion-radio>\n              <ion-label class=\"inline\">\n                <div *ngIf=\"cfWeekOptions.endType != 'aftertimes'\" class=\"inlabel\">\u4E00\u5B9A\u6B21\u6570\u540E</div>\n                <radio-spinner label=\"\u6B21\u540E\" *ngIf=\"cfWeekOptions.endType == 'aftertimes'\" [options]=\"itemRanges\" [(ngModel)]=\"cfWeekOptions.afterTimes\" (onChanged)=\"onEndAfterTimesChanged($event)\"></radio-spinner>\n              </ion-label>\n            </ion-item>\n            <ion-item>\n              <ion-radio (ionSelect)=\"openUntilEndDate('w')\"  value=\"tosomeday\"  item-start></ion-radio>\n              <ion-label>\u76F4\u5230{{cfWeekOptions.toSomeDay | formatedate : 'CYYYY/MM/DD'}}</ion-label>\n            </ion-item>\n          </ion-list>\n        </div>\n      </ng-template>\n\n      <ng-template  [ngIf]=\"cfType == 'month'\">\n\n        <div class=\"itemwarp font-normal\">\n          <p>\u91CD\u590D\u5468\u671F</p>\n          <radio-spinner label=\"\u6708\" [options]=\"itemRanges\" [(ngModel)]=\"cfMonthOptions.frequency\" (onChanged)=\"onFreqChanged($event)\" ></radio-spinner>\n        </div>\n        <div class=\"itemwarp font-normal\">\n          <p>\u91CD\u590D\u5F00\u542F</p>\n          <radio-select [options]=\"itemMonthDayRangeOptions\" multiple=\"true\" [(ngModel)]=\"cfMonthOptions.freqOption\" (onChanged)=\"onFreqOptionChanged($event)\" button7></radio-select>\n        </div>\n\n        <div class=\"itemwarp font-normal\">\n          <p>\u7ED3\u675F</p>\n          <ion-list class=\"endwith\" radio-group no-lines [(ngModel)]=\"cfMonthOptions.endType\" (ionChange)=\"onEndTypeChanged($event)\">\n            <ion-item>\n              <ion-radio item-start value=\"never\"></ion-radio>\n              <ion-label>\u9ED8\u8BA4(3\u5E74)</ion-label>\n            </ion-item>\n            <ion-item>\n              <ion-radio item-start value=\"aftertimes\"></ion-radio>\n              <ion-label class=\"inline\">\n                <div *ngIf=\"cfMonthOptions.endType != 'aftertimes'\" class=\"inlabel\">\u4E00\u5B9A\u6B21\u6570\u540E</div>\n                <radio-spinner label=\"\u6B21\u540E\" *ngIf=\"cfMonthOptions.endType == 'aftertimes'\" [options]=\"itemRanges\" [(ngModel)]=\"cfMonthOptions.afterTimes\" (onChanged)=\"onEndAfterTimesChanged($event)\"></radio-spinner>\n              </ion-label>\n            </ion-item>\n            <ion-item>\n              <ion-radio (ionSelect)=\"openUntilEndDate('m')\" item-start value=\"tosomeday\"></ion-radio>\n              <ion-label>\u76F4\u5230{{cfMonthOptions.toSomeDay | formatedate : 'CYYYY/MM/DD'}}</ion-label>\n            </ion-item>\n          </ion-list>\n        </div>\n      </ng-template>\n\n      <ng-template  [ngIf]=\"cfType == 'year'\">\n\n        <div class=\"itemwarp font-normal\">\n          <p>\u91CD\u590D\u5468\u671F</p>\n          <radio-spinner label=\"\u5E74\" [options]=\"itemRanges\" [(ngModel)]=\"cfYearOptions.frequency\" (onChanged)=\"onFreqChanged($event)\"></radio-spinner>\n        </div>\n        <div class=\"itemwarp font-normal\">\n          <p>\u7ED3\u675F</p>          \n          <ion-list class=\"endwith\" radio-group no-lines [(ngModel)]=\"cfYearOptions.endType\" (ionChange)=\"onEndTypeChanged($event)\">\n            <ion-item>\n              <ion-radio item-start value=\"never\"></ion-radio>\n              <ion-label>\u9ED8\u8BA4(20\u5E74)</ion-label>\n            </ion-item>\n            <ion-item>\n              <ion-radio item-start value=\"aftertimes\"></ion-radio>\n              <ion-label class=\"inline\">\n                <div *ngIf=\"cfYearOptions.endType != 'aftertimes'\" class=\"inlabel\">\u4E00\u5B9A\u6B21\u6570\u540E</div>\n                <radio-spinner label=\"\u6B21\u540E\" *ngIf=\"cfYearOptions.endType == 'aftertimes'\" [options]=\"itemRanges\" [(ngModel)]=\"cfYearOptions.afterTimes\" (onChanged)=\"onEndAfterTimesChanged($event)\"></radio-spinner>\n              </ion-label>\n            </ion-item>\n            <ion-item>\n              <ion-radio (ionSelect)=\"openUntilEndDate('y')\" item-start value=\"tosomeday\"></ion-radio>\n              <ion-label>\u76F4\u5230{{cfYearOptions.toSomeDay | formatedate : 'CYYYY/MM/DD'}}</ion-label>\n            </ion-item>\n          </ion-list>\n        </div>\n      </ng-template>\n\n    </modal-box>\n\n    <div style=\"display: none\">\n      <date-picker  #utilEndDateD [(ngModel)]=\"cfDayOptions.toSomeDay\"\n                    pickerFormat=\"YYYY ,MM DD\"\n                    cancelText=\"\u53D6\u6D88\" doneText=\"\u9009\u62E9\" (ngModelChange)=\"dtselect('d')\"\n                    min=\"{{minDate}}\" max=\"2059-01-01\"\n      ></date-picker>\n      <date-picker  #utilEndDateW [(ngModel)]=\"cfWeekOptions.toSomeDay\"\n                    pickerFormat=\"YYYY ,MM DD\"\n                    cancelText=\"\u53D6\u6D88\" doneText=\"\u9009\u62E9\" (ngModelChange)=\"dtselect('w')\"\n                    min=\"{{minDate}}\" max=\"2059-01-01\"\n      ></date-picker>\n      <date-picker  #utilEndDateM [(ngModel)]=\"cfMonthOptions.toSomeDay\"\n                    pickerFormat=\"YYYY ,MM DD\"\n                    cancelText=\"\u53D6\u6D88\" doneText=\"\u9009\u62E9\" (ngModelChange)=\"dtselect('m')\"\n                    min=\"{{minDate}}\" max=\"2059-01-01\"\n      ></date-picker>\n      <date-picker  #utilEndDateY [(ngModel)]=\"cfYearOptions.toSomeDay\"\n                    pickerFormat=\"YYYY ,MM DD\"\n                    cancelText=\"\u53D6\u6D88\" doneText=\"\u9009\u62E9\" (ngModelChange)=\"dtselect('y')\"\n                    min=\"{{minDate}}\" max=\"2059-01-01\"\n      ></date-picker>\n    </div>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_2__ionic_native_keyboard__["a" /* Keyboard */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"], __WEBPACK_IMPORTED_MODULE_7__service_util_service_util_service__["a" /* UtilService */]])
    ], RepeatPage);
    return RepeatPage;
}());

//# sourceMappingURL=repeat.js.map

/***/ }),
/* 615 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RemindPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_business_event_service__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ion_multi_picker__ = __webpack_require__(167);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ion_multi_picker___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ion_multi_picker__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var RemindPage = (function () {
    function RemindPage(navCtrl, modalCtrl, viewCtrl, navParams) {
        this.navCtrl = navCtrl;
        this.modalCtrl = modalCtrl;
        this.viewCtrl = viewCtrl;
        this.navParams = navParams;
        this.minDate = __WEBPACK_IMPORTED_MODULE_4_moment__().format("YYYY-MM-DD");
        this.buttons = {
            remove: false,
            share: false,
            save: true,
            cancel: true
        };
        this.disTiqian = false;
        this.reminds = new Array();
        var ampmArray = [
            { text: '上午', value: '1' },
            { text: '下午', value: '2' }
        ];
        var hourArray = [
            { text: '00点', value: '100', parentVal: '1' },
            { text: '01点', value: '101', parentVal: '1' },
            { text: '02点', value: '102', parentVal: '1' },
            { text: '03点', value: '103', parentVal: '1' },
            { text: '04点', value: '104', parentVal: '1' },
            { text: '05点', value: '105', parentVal: '1' },
            { text: '06点', value: '106', parentVal: '1' },
            { text: '07点', value: '107', parentVal: '1' },
            { text: '08点', value: '108', parentVal: '1' },
            { text: '09点', value: '109', parentVal: '1' },
            { text: '10点', value: '110', parentVal: '1' },
            { text: '11点', value: '111', parentVal: '1' },
            { text: '12点', value: '112', parentVal: '1' },
            { text: '01点', value: '01', parentVal: '2' },
            { text: '02点', value: '02', parentVal: '2' },
            { text: '03点', value: '03', parentVal: '2' },
            { text: '04点', value: '04', parentVal: '2' },
            { text: '05点', value: '05', parentVal: '2' },
            { text: '06点', value: '06', parentVal: '2' },
            { text: '07点', value: '07', parentVal: '2' },
            { text: '08点', value: '08', parentVal: '2' },
            { text: '09点', value: '09', parentVal: '2' },
            { text: '10点', value: '10', parentVal: '2' },
            { text: '11点', value: '11', parentVal: '2' },
        ];
        var minArray = [];
        for (var _i = 0, hourArray_1 = hourArray; _i < hourArray_1.length; _i++) {
            var h = hourArray_1[_i];
            var loopmin = 0;
            var loopnum = 0;
            while (loopmin < 55) {
                loopmin = loopnum * 5;
                var val = (loopmin + "").length == 1 ? "0" + loopmin : loopmin + "";
                var min = {
                    text: val + "分",
                    value: val,
                    parentVal: h.value
                };
                minArray.push(min);
                loopnum = loopnum + 1;
            }
        }
        this.timeColumns = [
            {
                columnWidth: '100px',
                options: ampmArray,
            },
            {
                columnWidth: '100px',
                options: hourArray,
            },
            {
                columnWidth: '100px',
                options: minArray,
            }
        ];
        this.dependentColumns = [
            {
                columnWidth: '100px',
                options: [
                    { text: '提前', value: '1' }
                ],
            },
            {
                columnWidth: '100px',
                options: [
                    { text: '', value: this.day2min(0) },
                    { text: '1天', value: this.day2min(1) },
                    { text: '2天', value: this.day2min(2) },
                    { text: '3天', value: this.day2min(3) },
                    { text: '4天', value: this.day2min(4) },
                    { text: '5天', value: this.day2min(5) },
                    { text: '6天', value: this.day2min(6) },
                    { text: '7天', value: this.day2min(7) },
                    { text: '8天', value: this.day2min(8) },
                    { text: '9天', value: this.day2min(9) },
                    { text: '10天', value: this.day2min(10) }
                ],
            },
            {
                columnWidth: '100px',
                options: [
                    { text: '', value: this.h2min(0) },
                    { text: '1小时', value: this.h2min(1) },
                    { text: '2小时', value: this.h2min(2) },
                    { text: '3小时', value: this.h2min(3) },
                    { text: '4小时', value: this.h2min(4) },
                    { text: '5小时', value: this.h2min(5) },
                    { text: '6小时', value: this.h2min(6) },
                    { text: '7小时', value: this.h2min(7) },
                    { text: '8小时', value: this.h2min(8) },
                    { text: '9小时', value: this.h2min(9) },
                    { text: '10小时', value: this.h2min(10) },
                    { text: '11小时', value: this.h2min(11) },
                    { text: '12小时', value: this.h2min(12) },
                    { text: '13小时', value: this.h2min(13) },
                    { text: '14小时', value: this.h2min(14) },
                    { text: '15小时', value: this.h2min(15) },
                    { text: '16小时', value: this.h2min(16) }
                ],
            },
            {
                columnWidth: '100px',
                options: [
                    { text: '5分钟', value: 5 },
                    { text: '10分钟', value: 10 },
                    { text: '15分钟', value: 15 },
                    { text: '20分钟', value: 20 },
                    { text: '25分钟', value: 25 },
                    { text: '30分钟', value: 30 },
                    { text: '35分钟', value: 35 },
                    { text: '40分钟', value: 40 },
                    { text: '45分钟', value: 45 },
                    { text: '50分钟', value: 50 },
                    { text: '55分钟', value: 55 }
                ]
            }
        ];
        if (this.navParams && this.navParams.data) {
            var value = this.navParams.data.value;
            if (value) {
                this.currentTx = new __WEBPACK_IMPORTED_MODULE_2__service_business_event_service__["d" /* TxJson */]();
                Object.assign(this.currentTx, value.txjson);
                this.evdatetime = __WEBPACK_IMPORTED_MODULE_4_moment__(value.evd + " " + value.evt).format("YYYY/MM/DD HH:mm");
                if (__WEBPACK_IMPORTED_MODULE_4_moment__().isAfter(this.evdatetime)) {
                    this.disTiqian = true;
                }
                else {
                    this.disTiqian = false;
                }
                if (this.currentTx.reminds.length > 0) {
                    for (var j = 0, len = this.currentTx.reminds.length; j < len; j++) {
                        this.reminds.push({
                            datename: this.getShowDateName(this.currentTx.reminds[j]),
                            value: this.currentTx.reminds[j],
                            disTixin: this.getDisTixin(this.currentTx.reminds[j])
                        });
                    }
                }
            }
        }
    }
    RemindPage.prototype.save = function () {
        this.currentTx.reminds.length = 0;
        for (var j = 0, len = this.reminds.length; j < len; j++) {
            this.currentTx.reminds.push(this.reminds[j].value);
        }
        var data = { txjson: this.currentTx };
        this.viewCtrl.dismiss(data);
    };
    RemindPage.prototype.getShowDateName = function (time) {
        var ret;
        ret = __WEBPACK_IMPORTED_MODULE_4_moment__(this.evdatetime).subtract(time, 'm').format("MM月DD HH:mm");
        ret = "" + __WEBPACK_IMPORTED_MODULE_2__service_business_event_service__["d" /* TxJson */].caption(time) + "- -" + ret;
        return ret;
    };
    RemindPage.prototype.cancel = function () {
        this.navCtrl.pop();
    };
    RemindPage.prototype.openRemindTiqian = function () {
        this.remindTiqian.open();
    };
    RemindPage.prototype.openRemindDt = function () {
        this.remindDt.min = __WEBPACK_IMPORTED_MODULE_4_moment__().format("YYYY-MM-DD");
        this.remindDt.max = __WEBPACK_IMPORTED_MODULE_4_moment__(this.evdatetime).add(1, "y").format("YYYY-MM-DD");
        this.remindDt.open();
    };
    RemindPage.prototype.tiqianselect = function () {
        if (!this.tiqianvalue) {
            return;
        }
        var dtsplit = new Array();
        var time;
        dtsplit = this.tiqianvalue.split(" ");
        if (dtsplit.length < 4) {
            return;
        }
        time = parseInt(dtsplit[1]) + parseInt(dtsplit[2]) + parseInt(dtsplit[3]);
        var hav = this.reminds.findIndex(function (value, index, arr) {
            return value.value == time;
        });
        if (hav != -1) {
            this.reminds.splice(hav, 1);
        }
        this.reminds.push({
            datename: "" + __WEBPACK_IMPORTED_MODULE_2__service_business_event_service__["d" /* TxJson */].caption(time) + "- -" + __WEBPACK_IMPORTED_MODULE_4_moment__(this.evdatetime).subtract(time, 'm').format("MM月DD HH:mm"),
            value: time,
            disTixin: false
        });
    };
    RemindPage.prototype.timeOpen = function () {
        this.remindTime.cancelText = "选择日期 " + __WEBPACK_IMPORTED_MODULE_4_moment__(this.datevalue).format("YYYY年MM月DD日");
        this.remindTime.open();
    };
    RemindPage.prototype.timeselect = function () {
        var tm = "";
        if (!this.timevalue) {
            return;
        }
        var dtsplit = new Array();
        var ampm;
        dtsplit = this.timevalue.split(" ");
        if (dtsplit.length < 3) {
            return;
        }
        if (dtsplit[0] == "1") {
            dtsplit[1] = dtsplit[1].substring(1);
            tm = dtsplit[1] + ":" + dtsplit[2];
        }
        else {
            tm = (parseInt(dtsplit[1]) + 12) + ":" + dtsplit[2];
        }
        var dt = this.datevalue + " " + tm;
        var time = __WEBPACK_IMPORTED_MODULE_4_moment__(this.evdatetime).diff(dt, 'm');
        var hav = this.reminds.findIndex(function (value, index, arr) {
            return value.value == time;
        });
        if (hav != -1) {
            this.reminds.splice(hav, 1);
        }
        this.reminds.push({
            datename: "" + __WEBPACK_IMPORTED_MODULE_2__service_business_event_service__["d" /* TxJson */].caption(time) + " -- " + __WEBPACK_IMPORTED_MODULE_4_moment__(dt).format("MM月DD HH:mm"),
            value: time,
            disTixin: false
        });
    };
    RemindPage.prototype.day2min = function (d) {
        return d * 24 * 60;
    };
    RemindPage.prototype.h2min = function (h) {
        return h * 60;
    };
    RemindPage.prototype.delRemind = function (index) {
        this.reminds.splice(index, 1);
    };
    RemindPage.prototype.getDisTixin = function (time) {
        var ret = true;
        if (!time) {
            return true;
        }
        var txdt = __WEBPACK_IMPORTED_MODULE_4_moment__(this.evdatetime).subtract(time, 'm');
        if (__WEBPACK_IMPORTED_MODULE_4_moment__().isAfter(txdt)) {
            ret = true;
        }
        else {
            ret = false;
        }
        return ret;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("remindTiqian"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3_ion_multi_picker__["MultiPicker"])
    ], RemindPage.prototype, "remindTiqian", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("remindDt"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["DateTime"])
    ], RemindPage.prototype, "remindDt", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("remindTime"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3_ion_multi_picker__["MultiPicker"])
    ], RemindPage.prototype, "remindTime", void 0);
    RemindPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-remind',
            template: "\n    <modal-box title=\"\u63D0\u9192\" [buttons]=\"buttons\" (onSave)=\"save()\" (onCancel)=\"cancel()\">\n      <ion-toolbar>\n        <ion-buttons item-start>\n          <button clear ion-button *ngIf=\"true\">\n            <ion-icon class=\"fal fa-bell-slash\"></ion-icon>\n            \u5F00\u542F\n          </button>\n          <button clear ion-button *ngIf=\"false\">\n            <ion-icon class=\"fal fa-bell\"></ion-icon>\n            \u5173\u95ED\n          </button>\n        </ion-buttons>\n        <ion-buttons end>\n          <button clear (click)=\"openRemindTiqian()\" [disabled]=\"disTiqian\" ion-button>\u8BBE\u5B9A\u63D0\u9192</button>\n          <button clear (click)=\"openRemindDt()\" ion-button>\u6307\u5B9A\u65E5\u671F</button>\n        </ion-buttons>\n      </ion-toolbar>\n      <ion-scroll scrollY=\"true\" scrollheightAuto>\n        <ion-list>\n          <ion-list-header>\n            \u5269\u4F59 <span class=\"count\">{{reminds.length}}</span> \u6761\u63D0\u9192\n          </ion-list-header>\n          <ion-item *ngFor=\"let remind of reminds\" >\n            <ion-label [ngStyle]=\"{'color':remind.disTixin ? 'gray':'#333333'}\" >{{remind.datename}}</ion-label>\n            <button [disabled]=\"remind.disTixin\" ion-button (click)=\"delRemind(idx)\" clear item-end>\n              <ion-icon class=\"fal fa-minus-circle\"></ion-icon>\n            </button>\n          </ion-item>\n        </ion-list>\n      </ion-scroll>\n    </modal-box>\n    <div style=\"display: none\">\n      <ion-multi-picker #remindTiqian [(ngModel)]=\"tiqianvalue\"\n                        (ngModelChange)=\"tiqianselect()\" [multiPickerColumns]=\"dependentColumns\"\n                        cancelText=\"\u53D6\u6D88\" doneText=\"\u8BBE\u5B9A\"></ion-multi-picker>\n      <date-picker #remindDt\n                   pickerFormat=\"YYYY ,MM DD\"\n                   [(ngModel)]=\"datevalue\" (ngModelChange)=\"timeOpen()\"\n                   cancelText=\"\u53D6\u6D88\" doneText=\"\u9009\u62E9\u65F6\u95F4\"\n      ></date-picker>\n      <date-picker #remindTime1 pickerFormat=\"A hh mm\"\n                   [(ngModel)]=\"timevalue\" (ngModelChange)=\"timeselect()\" (ionCancel)=\"openRemindDt()\"\n                   doneText=\"\u8BBE\u5B9A\"\n      ></date-picker>\n        <ion-multi-picker #remindTime [(ngModel)]=\"timevalue\"\n                          (ngModelChange)=\"timeselect();\" (ionCancel)=\"openRemindDt()\" [multiPickerColumns]=\"timeColumns\"\n                           doneText=\"\u8BBE\u5B9A\"></ion-multi-picker>\n\n    </div>\n\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"]])
    ], RemindPage);
    return RemindPage;
}());

//# sourceMappingURL=remind.js.map

/***/ }),
/* 616 */,
/* 617 */,
/* 618 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlanPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_config_user_config__ = __webpack_require__(8);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PlanPage = (function () {
    function PlanPage(navCtrl, navParams, viewCtrl) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.viewCtrl = viewCtrl;
        this.buttons = {
            remove: false,
            share: false,
            save: true,
            cancel: true
        };
        this.selected = "";
        this.privateplans = __WEBPACK_IMPORTED_MODULE_2__service_config_user_config__["b" /* UserConfig */].privateplans;
        if (this.navParams && this.navParams.data) {
            this.selected = this.navParams.data.ji;
        }
    }
    PlanPage.prototype.jhChanged = function (option) {
        console.log(option);
    };
    PlanPage.prototype.save = function () {
        var data = this.selected;
        this.viewCtrl.dismiss(data);
    };
    PlanPage.prototype.cancel = function () {
        this.navCtrl.pop();
    };
    PlanPage.prototype.create = function () {
    };
    PlanPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-plan',
            template: "\n    <modal-box title=\"\u8BA1\u5212\" [buttons]=\"buttons\" (onSave)=\"save()\" (onCancel)=\"cancel()\">\n      <div [ngStyle]=\"{'background': selected | formatplan: 'color' : privateplans }\" class=\"plantitle font-large\">\n        {{selected | formatplan: 'name' :'\u9009\u62E9\u65E5\u5386': privateplans}}\n      </div>\n      <ng-template [ngIf]=\"privateplans.length > 0\" [ngIfElse]=\"addplan\">\n        <ion-scroll scrollY=\"true\" scrollheightAuto>\n          <ion-list radio-group [(ngModel)]=\"selected\" (ionChange)=\"jhChanged($event)\" class=\"onlyone\">\n            <ion-item *ngFor=\"let option of privateplans\">\n              <ion-label>\n                <ion-icon class=\"fal fa-circle font-large-x\" *ngIf=\"option.ji != selected\"\n                          [ngStyle]=\"{'color': option.jc}\" ></ion-icon>\n                <ion-icon class=\"fal fa-dot-circle font-large-x\" *ngIf=\"option.ji == selected\"\n                          [ngStyle]=\"{'color': option.jc}\" ></ion-icon>\n                {{option.jn}}</ion-label>\n              <ion-radio [value]=\"option.ji\" class=\"noshow\"></ion-radio>\n            </ion-item>\n          </ion-list>\n        </ion-scroll>\n      </ng-template>\n      <ng-template #addplan>\n        <div class=\"addplan\">\n          <ion-icon class=\"fal fa-grin-beam\"></ion-icon>\n          <span>\u6CA1\u6709\u4F60\u5B9A\u4E49\u7684\u65E5\u5386\u54DF\uFF5E</span>\n          <button (click)=\"create()\">\n            \u521B\u5EFA\u65E5\u5386\n          </button>\n        </div>\n      </ng-template>\n    </modal-box>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"]])
    ], PlanPage);
    return PlanPage;
}());

//# sourceMappingURL=plan.js.map

/***/ }),
/* 619 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return InvitesPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box__ = __webpack_require__(166);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__data_enum__ = __webpack_require__(18);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






/**
 * Generated class for the 参与人选择 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var InvitesPage = (function () {
    function InvitesPage(navCtrl, navParams, viewCtrl, util, modalCtrl, renderer2) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.viewCtrl = viewCtrl;
        this.util = util;
        this.modalCtrl = modalCtrl;
        this.renderer2 = renderer2;
        this.powerEnable = false; //设定控制
        this.inviteEnable = false;
        this.buttons = {
            remove: false,
            share: false,
            create: true,
            save: true,
            cancel: true
        };
        this.memberSet = {
            members: new Array(),
            md: true,
            iv: true,
            mine: true
        };
        this.showall = true;
        //下面处理需要放在构造方法里，防止关闭参与人选择页面时进入该处理
        if (this.navParams && this.navParams.data) {
            this.memberSet.members = this.navParams.data.members ? this.navParams.data.members : new Array();
            this.pubui = this.navParams.data.ui;
            if (this.navParams.data.iv == __WEBPACK_IMPORTED_MODULE_5__data_enum__["i" /* InvitePowr */].enable) {
                this.memberSet.iv = true;
            }
            else {
                this.memberSet.iv = false;
            }
            if (this.navParams.data.md == __WEBPACK_IMPORTED_MODULE_5__data_enum__["p" /* ModiPower */].enable) {
                this.memberSet.md = true;
            }
            else {
                this.memberSet.md = false;
            }
            this.memberSet.mine = this.navParams.data.mine;
            if (this.memberSet.mine) {
                this.powerEnable = true;
                this.inviteEnable = true;
            }
            else {
                this.powerEnable = false;
                this.inviteEnable = this.memberSet.iv;
                this.buttons.create = this.memberSet.iv;
                this.buttons.save = this.memberSet.iv;
            }
            if (!this.memberSet.members || this.memberSet.members.length == 0) {
                this.openMemberSelect();
            }
        }
    }
    InvitesPage.prototype.showMember = function () {
        if (this.showall)
            this.renderer2.removeClass(this.membercom.nativeElement, "somemmember");
        else
            this.renderer2.addClass(this.membercom.nativeElement, "somemmember");
        this.showall = !this.showall;
    };
    InvitesPage.prototype.ionViewDidEnter = function () {
        this.modalBoxComponent.setBoxContent();
    };
    InvitesPage.prototype.save = function () {
        var data = {
            members: this.memberSet.members,
            md: this.memberSet.md ? __WEBPACK_IMPORTED_MODULE_5__data_enum__["p" /* ModiPower */].enable : __WEBPACK_IMPORTED_MODULE_5__data_enum__["p" /* ModiPower */].disable,
            iv: this.memberSet.iv ? __WEBPACK_IMPORTED_MODULE_5__data_enum__["i" /* InvitePowr */].enable : __WEBPACK_IMPORTED_MODULE_5__data_enum__["i" /* InvitePowr */].disable
        };
        this.viewCtrl.dismiss(data);
    };
    InvitesPage.prototype.cancel = function () {
        this.navCtrl.pop();
    };
    InvitesPage.prototype.removeMember = function (index) {
        if (!this.memberSet.mine) {
            return;
        }
        this.memberSet.members.splice(index, 1);
    };
    InvitesPage.prototype.memberAcceptColor = function (member) {
        var ret = 'gray';
        if (member.ui == this.pubui) {
            ret = 'green';
        }
        else if (member.sdt && member.sdt == __WEBPACK_IMPORTED_MODULE_5__data_enum__["n" /* MemberShareState */].Accepted) {
            ret = 'green';
        }
        else {
            ret = 'gray';
        }
        return ret;
    };
    InvitesPage.prototype.openMemberSelect = function () {
        var _this = this;
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_3__service_config_data_config__["a" /* DataConfig */].PAGE._MEMBER_PAGE, {});
        modal.onDidDismiss(function (data) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            var exists_1;
            return __generator(this, function (_a) {
                if (data && data.members && data.members.length > 0) {
                    exists_1 = this.memberSet.members.reduce(function (target, val) {
                        target.push(val.rc);
                        return target;
                    }, new Array());
                    data.members.forEach(function (v) {
                        if (exists_1.indexOf(v.rc) < 0) {
                            _this.memberSet.members.push(v);
                        }
                    });
                }
                return [2 /*return*/];
            });
        }); });
        modal.present();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box__["a" /* ModalBoxComponent */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box__["a" /* ModalBoxComponent */])
    ], InvitesPage.prototype, "modalBoxComponent", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("membercom"),
        __metadata("design:type", Object)
    ], InvitesPage.prototype, "membercom", void 0);
    InvitesPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-invites',
            template: "\n    <modal-box title=\"\u9080\u8BF7\u4EBA\" [buttons]=\"buttons\" (onSave)=\"save()\" (onCancel)=\"cancel()\" (onCreate) = \"openMemberSelect()\">\n\n      <ion-list>\n        <ion-list-header>\n          \u53C2\u4E0E\u4EBA(<span class=\"count\">{{this.memberSet.members.length}}</span>)\n        </ion-list-header>\n        <ion-item >\n          <ion-label #membercom class=\"somemmember\">\n            <ul>\n                <li *ngFor = \"let member of memberSet.members; let i = index\" (click)=\"removeMember(i)\">\n                  <span [ngStyle]=\"{'color':memberAcceptColor(member) }\"> {{ member.ran  }}</span>\n                </li>\n              <li></li>\n            </ul>\n          </ion-label>\n        </ion-item>\n        <span *ngIf=\"memberSet.members.length / 4 > 4 && showall\" (click) =\"showMember()\" class=\"showMember\">\u67E5\u770B\u5168\u90E8\u53C2\u4E0E\u4EBA</span>\n        <span *ngIf=\"memberSet.members.length / 4 > 4 && !showall\" (click) =\"showMember()\"class=\"showMember\">\u6536\u8D77</span>\n      </ion-list>\n      <ion-list>\n        <ion-item>\n          <ion-label>\u8F6C\u53D1</ion-label>\n          <ion-toggle [(ngModel)]=\"memberSet.iv\"  [disabled]=\"!powerEnable\" ></ion-toggle>\n        </ion-item>\n        <ion-item>\n          <ion-label>\u7F16\u8F91</ion-label>\n          <ion-toggle [(ngModel)]=\"memberSet.md\" [disabled]=\"!powerEnable\"></ion-toggle>\n        </ion-item>\n      </ion-list>\n    </modal-box>\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"],
            __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"]])
    ], InvitesPage);
    return InvitesPage;
}());

//# sourceMappingURL=invites.js.map

/***/ }),
/* 620 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LocationPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic2_auto_complete__ = __webpack_require__(621);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_restful_LocationSearchService__ = __webpack_require__(274);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box__ = __webpack_require__(166);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var LocationPage = (function () {
    function LocationPage(navCtrl, viewCtrl, navParams, locationSearchService) {
        this.navCtrl = navCtrl;
        this.viewCtrl = viewCtrl;
        this.navParams = navParams;
        this.locationSearchService = locationSearchService;
        //是否选择了查询结果
        this.isItemSelected = false;
        this.buttons = {
            remove: false,
            share: false,
            save: true,
            cancel: true
        };
        //百度地图选项
        this.mapOptions = {
            centerAndZoom: {
                lat: 116.402461,
                lng: 39.917787,
                zoom: 5
            },
            enableScrollWheelZoom: true,
            enableKeyboard: true
        };
        this.markers = new Array();
        this.searchText = {
            adr: "",
            adlat: 116.402461,
            adlng: 39.917787
        };
    }
    LocationPage.prototype.autoBlur = function () {
        var _this = this;
        if (this.searchbar.keyword)
            this.locationSearchService.getlocationData(this.searchbar.keyword).then(function (data) {
                if (data) {
                    _this.searchText.adlat = data.location.lat;
                    _this.searchText.adlng = data.location.lng;
                    _this.searchText.adr = _this.searchbar.keyword;
                    _this.mapOptions = {
                        centerAndZoom: {
                            lat: _this.searchText.adlat,
                            lng: _this.searchText.adlng,
                            zoom: 16
                        },
                    };
                    _this.markers.length = 0;
                    _this.markers.push({
                        point: {
                            lat: _this.searchText.adlat,
                            lng: _this.searchText.adlng,
                        }
                    });
                }
            });
    };
    LocationPage.prototype.ionViewDidEnter = function () {
        var _this = this;
        this.modalBoxComponent.setBoxContent();
        if (this.navParams && this.navParams.data) {
            this.searchText.adr = this.navParams.data.adr == null ? "" : this.navParams.data.adr;
            this.searchbar.keyword = this.searchText.adr;
        }
        if (this.navParams && this.navParams.data && this.navParams.data.adrx) {
            var value = this.navParams.data;
            this.searchText.adlat = value.adrx;
            this.searchText.adlng = value.adry;
            this.mapOptions = {
                centerAndZoom: {
                    lat: this.searchText.adlat,
                    lng: this.searchText.adlng,
                    zoom: 16
                },
            };
            this.markers.push({
                point: {
                    lat: this.searchText.adlat,
                    lng: this.searchText.adlng
                }
            });
        }
        else {
            if (navigator.geolocation)
                //gps获取位置
                this.locationSearchService.queryinitlocation().then(function (data) {
                    _this.searchText.adlat = data.content.point.y;
                    _this.searchText.adlng = data.content.point.x;
                    _this.mapOptions = {
                        centerAndZoom: {
                            lat: _this.searchText.adlat,
                            lng: _this.searchText.adlng,
                            zoom: 10
                        },
                    };
                    _this.markers.push({
                        point: {
                            lat: _this.searchText.adlat,
                            lng: _this.searchText.adlng
                        }
                    });
                }).catch(function (err) {
                    console.log(err);
                });
        }
    };
    LocationPage.prototype.save = function () {
        if (!this.isItemSelected) {
            if (this.searchbar.suggestions && this.searchbar.suggestions.length > 0) {
                this.searchText.adr = this.searchbar.keyword;
                this.searchText.adlat = this.searchbar.suggestions[0].location.lat;
                this.searchText.adlng = this.searchbar.suggestions[0].location.lng;
            }
            else {
                this.searchText.adr = this.searchbar.keyword;
                this.searchText.adlat = this.searchText.adlat ? this.searchText.adlat : 0;
                this.searchText.adlng = this.searchText.adlng ? this.searchText.adlng : 0;
            }
        }
        var data = {
            adr: this.searchText.adr,
            adrx: this.searchText.adlat,
            adry: this.searchText.adlng
        };
        this.viewCtrl.dismiss(data);
    };
    LocationPage.prototype.cancel = function () {
        this.navCtrl.pop();
    };
    LocationPage.prototype.itemSelected = function (e) {
        this.isItemSelected = true;
        this.searchText.adr = e.name;
        this.searchText.adlat = e.location.lat;
        this.searchText.adlng = e.location.lng;
        this.mapOptions = {
            centerAndZoom: {
                lat: this.searchText.adlat,
                lng: this.searchText.adlng,
                zoom: 16
            },
        };
        this.markers.length = 0;
        this.markers.push({
            point: {
                lat: this.searchText.adlat,
                lng: this.searchText.adlng,
            }
        });
    };
    LocationPage.prototype.ionAutoInput = function (e) {
        //重新查询则初始化
        this.isItemSelected = false;
        this.searchText.adlat = 0;
        this.searchText.adlng = 0;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_2_ionic2_auto_complete__["a" /* AutoCompleteComponent */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2_ionic2_auto_complete__["a" /* AutoCompleteComponent */])
    ], LocationPage.prototype, "searchbar", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box__["a" /* ModalBoxComponent */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box__["a" /* ModalBoxComponent */]
        //是否选择了查询结果
        )
    ], LocationPage.prototype, "modalBoxComponent", void 0);
    LocationPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-location',
            template: "\n    <modal-box title=\"\u5730\u5740\" [buttons]=\"buttons\" (onSave)=\"save()\" (onCancel)=\"cancel()\">\n\n      <!--<ion-searchbar   [(ngModel)]=\"searchText.title\"  placeholder=\"\u5730\u70B9\" animated=\"true\" (autocomplete)=\"on\" (ionInput)=\"search()\"></ion-searchbar>-->\n\n\n      <ion-auto-complete #searchbar [dataProvider]=\"locationSearchService\"\n                         [options]=\"{ placeholder : '\u54EA\u91CC\u6D3B\u52A8\uFF1F',autocomplete:'on' }\"\n                         (itemSelected) = \"itemSelected($event)\"\n                         (ionAutoInput) = \"ionAutoInput($event)\" ></ion-auto-complete>\n      <div class=\"mapwrap\">\n        <baidu-map #lmap id=\"map_container\" [options]=\"mapOptions\">\n          <marker *ngFor=\"let marker of markers\" [point]=\"marker.point\" [options]=\"marker.options\"></marker>\n        </baidu-map>\n      </div>\n    </modal-box>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_3__service_restful_LocationSearchService__["a" /* LocationSearchService */]])
    ], LocationPage);
    return LocationPage;
}());

//# sourceMappingURL=location.js.map

/***/ }),
/* 621 */,
/* 622 */,
/* 623 */,
/* 624 */,
/* 625 */,
/* 626 */,
/* 627 */,
/* 628 */,
/* 629 */,
/* 630 */,
/* 631 */,
/* 632 */,
/* 633 */,
/* 634 */,
/* 635 */,
/* 636 */,
/* 637 */,
/* 638 */,
/* 639 */,
/* 640 */,
/* 641 */,
/* 642 */,
/* 643 */,
/* 644 */,
/* 645 */,
/* 646 */,
/* 647 */,
/* 648 */,
/* 649 */,
/* 650 */,
/* 651 */,
/* 652 */,
/* 653 */,
/* 654 */,
/* 655 */,
/* 656 */,
/* 657 */,
/* 658 */,
/* 659 */,
/* 660 */,
/* 661 */,
/* 662 */,
/* 663 */,
/* 664 */,
/* 665 */,
/* 666 */,
/* 667 */,
/* 668 */,
/* 669 */,
/* 670 */,
/* 671 */,
/* 672 */,
/* 673 */,
/* 674 */,
/* 675 */,
/* 676 */,
/* 677 */,
/* 678 */,
/* 679 */,
/* 680 */,
/* 681 */,
/* 682 */,
/* 683 */,
/* 684 */,
/* 685 */,
/* 686 */,
/* 687 */,
/* 688 */,
/* 689 */,
/* 690 */,
/* 691 */,
/* 692 */,
/* 693 */,
/* 694 */,
/* 695 */,
/* 696 */,
/* 697 */,
/* 698 */,
/* 699 */,
/* 700 */,
/* 701 */,
/* 702 */,
/* 703 */,
/* 704 */,
/* 705 */,
/* 706 */,
/* 707 */,
/* 708 */,
/* 709 */,
/* 710 */,
/* 711 */,
/* 712 */,
/* 713 */,
/* 714 */,
/* 715 */,
/* 716 */,
/* 717 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AttachPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_keyboard__ = __webpack_require__(80);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_file__ = __webpack_require__(102);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_file_transfer__ = __webpack_require__(275);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_camera__ = __webpack_require__(276);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_chooser__ = __webpack_require__(277);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_file_opener__ = __webpack_require__(278);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_file_path__ = __webpack_require__(279);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_business_event_service__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__data_enum__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__service_restful_datasev__ = __webpack_require__(108);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
















var AttachPage = (function () {
    function AttachPage(navCtrl, viewCtrl, navParams, file, camera, chooser, transfer, filePath, eventService, keyboard, fileOpener, actionSheetCtrl, dataRestful, util) {
        var _this = this;
        this.navCtrl = navCtrl;
        this.viewCtrl = viewCtrl;
        this.navParams = navParams;
        this.file = file;
        this.camera = camera;
        this.chooser = chooser;
        this.transfer = transfer;
        this.filePath = filePath;
        this.eventService = eventService;
        this.keyboard = keyboard;
        this.fileOpener = fileOpener;
        this.actionSheetCtrl = actionSheetCtrl;
        this.dataRestful = dataRestful;
        this.util = util;
        this.statusBarColor = "#3c4d55";
        this.imgUrl = "";
        this.fjArray = new Array();
        this.fjData = {};
        this.obt = "";
        this.obi = "";
        this.bw = "";
        this.browserurl = "http://pluto.guobaa.com/abl/store/local/getContent/";
        this.members = new Array();
        this.buttons = {
            create: true,
            save: false,
            cancel: true
        };
        this.defaultimg = __WEBPACK_IMPORTED_MODULE_14__service_config_data_config__["a" /* DataConfig */].HUIBASE64_LARGE;
        this.currentuser = __WEBPACK_IMPORTED_MODULE_13__service_config_user_config__["b" /* UserConfig */].account.id;
        this.friends = __WEBPACK_IMPORTED_MODULE_13__service_config_user_config__["b" /* UserConfig */].friends;
        this.deleted = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del;
        this.synch = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].synch;
        if (this.navParams && this.navParams.data) {
            this.obt = this.navParams.data.obt;
            this.obi = this.navParams.data.obi;
            this.fjArray = this.navParams.data.attach;
            this.members = this.navParams.data.members;
            this.fjData.obt = this.obt;
            this.fjData.obi = this.obi;
            // this.currentuser = this.navParams.data.userId
        }
        //验证缓存文件目录是否存在
        if (this.util.hasCordova()) {
            this.file.checkDir(this.file.dataDirectory, '/cached')
                .then(function (_) { return console.log('Directory exists'); })
                .catch(function (err) {
                _this.file.createDir(_this.file.dataDirectory, "cached", true).then(function (result) {
                    console.log("success");
                }).catch(function (err) {
                    console.log("err:" + JSON.stringify(err));
                });
            });
        }
        var _loop_1 = function (attachment) {
            attachment.members = this_1.members;
            // 判断是否是残留数据或文字附件
            if (attachment.ext) {
                if (this_1.util.isJsonString(attachment.fj)) {
                    attachment.fpjson = Object(__WEBPACK_IMPORTED_MODULE_9__service_business_event_service__["e" /* generateCacheFilePathJson */])(attachment.fpjson, attachment.fj);
                    // 附件存储JSON是否存在
                    if (attachment.fpjson) {
                        attachment.fjurl = this_1.browserurl + attachment.fpjson.remote;
                        // 判断是否是手机
                        if (this_1.util.hasCordova()) {
                            var fileName = attachment.fpjson.local.substr(1, attachment.fpjson.local.length);
                            // 本地文件存在，页面上显示本地文件
                            this_1.file.checkFile(this_1.file.dataDirectory + attachment.fpjson.getCacheDir(), fileName)
                                .then(function (_) {
                                attachment.fjurl = attachment.fpjson.getLocalFilePath(_this.file.dataDirectory);
                            });
                        }
                    }
                }
                else {
                    //历史遗留数据构造
                    attachment.fjurl = attachment.fj;
                }
            }
        };
        var this_1 = this;
        // 不进行自动下载
        for (var _i = 0, _a = this.fjArray; _i < _a.length; _i++) {
            var attachment = _a[_i];
            _loop_1(attachment);
        }
        // for(let i: number =0; i<this.fjArray.length; i++) {
        //   if (this.fjArray[i].fj && this.fjArray[i].ext) {
        //     //处理历史遗留数据，按照原来的显示
        //     if (this.util.isJsonString(this.fjArray[i].fj)) {
        //       //获取新赋值
        //       let cacheFilePathJson: CacheFilePathJson = new CacheFilePathJson();
        //       this.fjArray[i].fpjson = generateCacheFilePathJson(this.fjArray[i].fpjson, this.fjArray[i].fj);
        //       //目前直接在该页面直接存储附件，则直接将文件位置赋值给
        //       this.fjArray[i].fjurl =this.browserurl+this.fjArray[i].fpjson.remote;
        //       this.fjArray[i].members = this.members;
        //       //检查该文件夹下是否存在该文件，如果不存在，则根据remote下载同步该文件
        //       if (this.fjArray[i].fpjson.local) {
        //         if (this.util.hasCordova()) {
        //           let fileName: string  = this.fjArray[i].fpjson.local.substr(1,this.fjArray[i].fpjson.local.length);
        //           this.file.checkFile(this.file.dataDirectory+this.fjArray[i].fpjson.getCacheDir(),fileName)
        //           .then(_ => {
        //             // 文件存在
        //             this.fjArray[i].fjurl = this.fjArray[i].fpjson.getLocalFilePath(this.file.dataDirectory);
        //           }})
        //           .catch(err => {
        //               //根据remote 拉取文件
        //               // if (this.fjArray[i].fpjson.remote) {
        //               //   //根据地址拉取文件
        //               //   //验证是否为浏览器
        //               //   if (this.util.hasCordova()) {
        //               //     //拉取数据
        //               //     let downloadInData : DownloadInData = new DownloadInData();
        //               //     downloadInData.id = this.fjArray[i].fpjson.remote;
        //               //     downloadInData.filepath = this.file.dataDirectory+this.fjArray[i].fpjson.getCacheDir();
        //               //     this.dataRestful.download(downloadInData);
        //               //   } else {
        //               //     this.fjArray[i].fjurl =this.browserurl+this.fjArray[i].fpjson.remote;
        //               //   }
        //               // }
        //           });
        //         } else {
        //           this.fjArray[i].fjurl =this.browserurl+this.fjArray[i].fpjson.remote;
        //         }
        //       } else {
        //         if (this.fjArray[i].fpjson.remote) {
        //           //根据地址拉取文件
        //           if (this.util.hasCordova()) {
        //             //拉取数据
        //             let downloadInData : DownloadInData = new DownloadInData();
        //             downloadInData.id = this.fjArray[i].fpjson.remote;
        //             downloadInData.filepath = this.file.dataDirectory+this.fjArray[i].fpjson.getCacheDir();
        //             this.dataRestful.download(downloadInData);
        //           } else {
        //             this.fjArray[i].fjurl =this.browserurl+this.fjArray[i].fpjson.remote;
        //           }
        //         }
        //       }
        //
        //     }
        //     else {
        //       //历史遗留数据构造
        //       this.fjArray[i].fjurl = this.fjArray[i].fj;
        //       this.fjArray[i].members = this.members;
        //     }
        //   }
        // }
        // }
    }
    AttachPage.prototype.ionViewDidEnter = function () {
    };
    AttachPage.prototype.openimg = function (url) {
        this.util.photoViews(url);
    };
    AttachPage.prototype.openselect = function () {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: "选择补充文件",
            cssClass: "page-attach",
            buttons: [
                {
                    text: '拍照',
                    role: 'camera',
                    icon: "ios-camera",
                    cssClass: "cameraXX",
                    handler: function () {
                        _this.shot();
                    }
                }, {
                    text: '相册',
                    role: 'albums',
                    icon: "ios-albums",
                    handler: function () {
                        _this.select();
                    }
                }
            ]
        });
        actionSheet.present();
    };
    AttachPage.prototype.cancel = function () {
        var data = { attach: this.fjArray.filter(function (ele) {
                return ele.del != __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].del;
            }) };
        this.viewCtrl.dismiss(data);
    };
    /**
     * 拍照  ying<343253410@qq.com>
     */
    AttachPage.prototype.shot = function () {
        var _this = this;
        var options = {
            quality: 95,
            destinationType: this.camera.DestinationType.FILE_URI,
            encodingType: this.camera.EncodingType.JPEG,
            mediaType: this.camera.MediaType.PICTURE,
            sourceType: this.camera.PictureSourceType.CAMERA,
            saveToPhotoAlbum: true //是否保存相册
        };
        this.camera.getPicture(options).then(function (imageData) {
            console.info("开始拍照上传照片");
            //let fjData: FjData = {} as FjData;
            if (imageData != '') {
                var fileName = imageData.substr(imageData.lastIndexOf("/") + 1, imageData.length);
                var ext = fileName.substr(fileName.lastIndexOf(".") + 1);
                //将文件copy至缓存文件
                var imgFileDir = imageData.substr(0, imageData.lastIndexOf("/") + 1);
                var newFileName = _this.util.getUuid() + "." + ext;
                _this.fjData.obt = _this.obt;
                _this.fjData.obi = _this.obi;
                _this.fjData.fjn = newFileName;
                _this.fjData.ext = ext;
                //构造地址文件
                var cacheFilePathJson = new __WEBPACK_IMPORTED_MODULE_9__service_business_event_service__["a" /* CacheFilePathJson */]();
                cacheFilePathJson.local = "/" + newFileName;
                //this.fjData.fj = this.file.externalDataDirectory + "/timeAppfile/" + fileName;
                _this.fjData.fj = JSON.stringify(cacheFilePathJson);
                _this.fjData.fpjson = cacheFilePathJson;
                _this.fjData.fjurl = _this.fjData.fpjson.getLocalFilePath(_this.file.dataDirectory);
                _this.fjData.ui = _this.currentuser;
                _this.fjData.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel;
                _this.fjData.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
                _this.fjData.wtt = __WEBPACK_IMPORTED_MODULE_11_moment__().unix();
                _this.fjData.members = _this.members;
                if (!_this.bw) {
                    _this.bw = fileName;
                }
                _this.file.copyFile(imgFileDir, fileName, _this.file.dataDirectory + cacheFilePathJson.getCacheDir(), newFileName);
            }
            // let base64Image = 'data:image/jpeg;base64,' + imageData;
            // this.imgUrl = base64Image;
            // alert(this.imgUrl);
            //TODO  调研图片上传的Service,并将附件的返回值返回给上一页
            //this.upload();
        }, function (err) {
            console.info("拍照上传附件异常，异常信息：" + err);
        });
    };
    /**
     * 文件上传  ying<343253410@qq.com>
     */
    AttachPage.prototype.select = function () {
        var _this = this;
        this.chooser.getFile('*/*').then(function (file) {
            _this.filePath.resolveNativePath(file.uri)
                .then(function (filePath) {
                alert("选择的PDF文件filePath：" + JSON.stringify(filePath));
                if (filePath != '') {
                    var fileName = filePath.substr(filePath.lastIndexOf("/") + 1, filePath.length);
                    var ext = fileName.substr(fileName.lastIndexOf(".") + 1);
                    var imgFileDir = filePath.substr(0, filePath.lastIndexOf("/") + 1);
                    var newFileName = _this.util.getUuid() + "." + ext;
                    // let fjData: FjData = {} as FjData;
                    _this.fjData.obt = _this.obt;
                    _this.fjData.obi = _this.obi;
                    _this.fjData.fjn = newFileName;
                    _this.fjData.ext = ext;
                    _this.fjData.ui = _this.currentuser;
                    _this.fjData.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel;
                    _this.fjData.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
                    _this.fjData.wtt = __WEBPACK_IMPORTED_MODULE_11_moment__().unix();
                    var cacheFilePathJson = new __WEBPACK_IMPORTED_MODULE_9__service_business_event_service__["a" /* CacheFilePathJson */]();
                    cacheFilePathJson.local = "/" + newFileName;
                    _this.fjData.fj = JSON.stringify(cacheFilePathJson);
                    _this.fjData.fpjson = cacheFilePathJson;
                    _this.fjData.fjurl = _this.fjData.fpjson.getLocalFilePath(_this.file.dataDirectory);
                    _this.fjData.members = _this.members;
                    //this.fjData.fj = this.file.externalDataDirectory + "/timeAppfile/" + fileName;
                    //this.fjArray.push(fjData);
                    if (!_this.bw) {
                        _this.bw = fileName;
                    }
                    alert("存储值：" + JSON.stringify(_this.fjData));
                    _this.file.copyFile(imgFileDir, fileName, _this.file.dataDirectory + cacheFilePathJson.getCacheDir(), newFileName);
                }
            })
                .catch(function (err) { return console.log(err); });
        })
            .catch(function (error) { return console.error(error); });
    };
    /**
     * 调用文件上传接口
     */
    AttachPage.prototype.upload = function () {
        var fileTransfer = this.transfer.create();
        var options = {
            fileKey: 'file',
            fileName: 'name.jpg',
            headers: {},
            params: {}
        };
        fileTransfer.upload(this.imgUrl, 'http://www.baidu.com', options).then(function (data) {
            // success
            console.info("上传成功" + JSON.stringify(data));
        }, function (err) {
            // error
            console.info("上传失败" + JSON.stringify(err));
        });
    };
    // 点击确认，保存文件
    AttachPage.prototype.saveComment = function () {
        return __awaiter(this, void 0, void 0, function () {
            var retAt;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(this.bw && this.bw.trim() != '')) return [3 /*break*/, 2];
                        this.fjData.fjn = this.bw;
                        this.fjData.ui = this.currentuser;
                        this.fjData.del = __WEBPACK_IMPORTED_MODULE_12__data_enum__["d" /* DelType */].undel;
                        this.fjData.tb = __WEBPACK_IMPORTED_MODULE_12__data_enum__["C" /* SyncType */].unsynch;
                        this.fjData.wtt = __WEBPACK_IMPORTED_MODULE_11_moment__().unix();
                        this.fjData.members = this.members;
                        retAt = {};
                        this.util.loadingStart();
                        return [4 /*yield*/, this.eventService.saveAttachment(this.fjData)];
                    case 1:
                        retAt = _a.sent();
                        this.util.loadingEnd();
                        this.fjArray.push(retAt);
                        this.fjData = {};
                        this.fjData.obt = this.obt;
                        this.fjData.obi = this.obi;
                        this.bw = "";
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    // 删除当前项
    AttachPage.prototype.delAttach = function (at) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!at) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.eventService.removeAttachment(at)];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    //打开本地PDF
    AttachPage.prototype.opnePdf = function (fj) {
        this.fileOpener.open(fj, 'application/pdf')
            .then(function () { return console.info('File is opened'); })
            .catch(function (e) { return console.info('Error opening file', e); });
    };
    //放大图片
    AttachPage.prototype.photoShow = function (fj) {
        this.util.photoViews(fj);
    };
    //刷新数据
    AttachPage.prototype.flushData = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, _i, _b, attachment, fileName;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        //清空数据
                        this.fjArray = new Array();
                        _a = this;
                        return [4 /*yield*/, this.eventService.selectAttachments()];
                    case 1:
                        _a.fjArray = _c.sent();
                        for (_i = 0, _b = this.fjArray; _i < _b.length; _i++) {
                            attachment = _b[_i];
                            attachment.members = this.members;
                            // 判断是否是残留数据或文字附件
                            if (attachment.ext) {
                                if (this.util.isJsonString(attachment.fj)) {
                                    attachment.fpjson = Object(__WEBPACK_IMPORTED_MODULE_9__service_business_event_service__["e" /* generateCacheFilePathJson */])(attachment.fpjson, attachment.fj);
                                    // 附件存储JSON是否存在
                                    if (attachment.fpjson) {
                                        attachment.fjurl = this.browserurl + attachment.fpjson.remote;
                                        // 判断是否是手机
                                        if (this.util.hasCordova()) {
                                            fileName = attachment.fpjson.local.substr(1, attachment.fpjson.local.length);
                                        }
                                    }
                                }
                                else {
                                    //历史遗留数据构造
                                    attachment.fjurl = attachment.fj;
                                }
                            }
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    AttachPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-attach',
            template: "\n\n    <modal-box title=\"\u8865\u5145\u4FE1\u606F\" [buttons]=\"buttons\" (onCancel)=\"cancel()\" (onCreate)=\"openselect()\"  (onRefresh)=\"flushData()\">\n\n      <ion-toolbar>\n        <ion-buttons end>\n          <button ion-button outline (click)=\"saveComment()\" class=\"font-normal\">\n            <ion-icon class=\"fad fa-comments\"></ion-icon>\n          </button>\n\n        </ion-buttons>\n        <ion-textarea row=\"2\" [(ngModel)]=\"bw\" placeholder=\"\u8F93\u5165\u8865\u5145\u4FE1\u606F\" class=\"font-normal\"></ion-textarea>\n      </ion-toolbar>\n      <ion-scroll scrollY=\"true\" scrollheightAuto>\n\n        <ion-grid class=\"list-grid-content\">\n          <ng-container  *ngFor=\"let fja of fjArray\">\n            <ion-row class=\"item-content item-content-backgroud\" leftmargin toppaddingsamll bottompaddingsamll rightmargin\n                     *ngIf=\"fja.del != deleted\" >\n              <div class=\"line font-normal topheader\" leftmargin rightmargin >\n                <div class=\"st font-small\"> {{fja.wtt * 1000 | transfromdate:'withNow'}}</div>\n                <div class=\"person font-small\" *ngIf=\"fja.ui!=currentuser\" end>---{{fja.ui | formatuser: currentuser: friends}}</div>\n              </div>\n              <div class=\"line font-normal\" leftmargin rightmargin >\n                <div class=\"sn towline\">{{(fja.tb == synch? \"\" : \"[*] \") + fja.fjn}}</div>\n              </div>\n              <div class=\"line font-normal\" leftmargin rightmargin >\n                <div *ngIf=\"(fja.ext=='PDF'||fja.ext=='pdf')&& (fja.fj !='')\" >\n                  <ion-icon class=\"fas fa-file-pdf\" (click)=\"opnePdf(fja.fjurl)\"></ion-icon>\n                </div>\n                <div *ngIf=\"(fja.ext=='png'||fja.ext=='PNG'||fja.ext=='jpg'||fja.ext=='JPG'||fja.ext=='bmp'||fja.ext=='BMP'||fja.ext=='mp4'||fja.ext=='MP4')&& (fja.fj !='')\">\n                      <ion-thumbnail (click)=\"photoShow(fja.fjurl)\">\n                      <img  *ngIf=\"fja.fjurl!=''\" src=\"{{fja.fjurl}}\" />\n                      <img  *ngIf=\"fja.fjurl ==''\" src=\"{{defaultimg}}\" />\n                      </ion-thumbnail>\n                </div>\n\n                <div class=\"icon\" *ngIf=\"fja.ui == currentuser\" end>\n                  <ion-icon class=\"fal fa-minus-circle\" (click)=\"delAttach(fja)\"></ion-icon>\n                </div>\n              </div>\n            </ion-row>\n          </ng-container>\n        </ion-grid>\n      </ion-scroll>\n    </modal-box>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_3__ionic_native_file__["a" /* File */],
            __WEBPACK_IMPORTED_MODULE_5__ionic_native_camera__["a" /* Camera */],
            __WEBPACK_IMPORTED_MODULE_6__ionic_native_chooser__["a" /* Chooser */],
            __WEBPACK_IMPORTED_MODULE_4__ionic_native_file_transfer__["a" /* FileTransfer */],
            __WEBPACK_IMPORTED_MODULE_8__ionic_native_file_path__["a" /* FilePath */],
            __WEBPACK_IMPORTED_MODULE_9__service_business_event_service__["b" /* EventService */],
            __WEBPACK_IMPORTED_MODULE_2__ionic_native_keyboard__["a" /* Keyboard */],
            __WEBPACK_IMPORTED_MODULE_7__ionic_native_file_opener__["a" /* FileOpener */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_15__service_restful_datasev__["a" /* DataRestful */],
            __WEBPACK_IMPORTED_MODULE_10__service_util_service_util_service__["a" /* UtilService */]])
    ], AttachPage);
    return AttachPage;
}());

//# sourceMappingURL=attach.js.map

/***/ }),
/* 718 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DailyMemosPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_business_memo_service__ = __webpack_require__(85);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_cordova_feedback_service__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








/**
 * Generated class for the 备忘创建/修改 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var DailyMemosPage = (function () {
    function DailyMemosPage(navCtrl, navParams, modalCtrl, actionSheetCtrl, emitService, memoService, util, feedback) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.modalCtrl = modalCtrl;
        this.actionSheetCtrl = actionSheetCtrl;
        this.emitService = emitService;
        this.memoService = memoService;
        this.util = util;
        this.feedback = feedback;
        this.buttons = {
            remove: false,
            share: false,
            save: false,
            create: false,
            cancel: true
        };
        this.memos = new Array();
        this.day = __WEBPACK_IMPORTED_MODULE_7_moment__().format("YYYY/MM/DD");
        this.istoday = false;
        __WEBPACK_IMPORTED_MODULE_7_moment__["locale"]('zh-cn');
        if (this.navParams) {
            this.dayActivities = this.navParams.data;
            this.day = this.dayActivities.day;
            this.memos = this.dayActivities.memos;
            this.istoday = __WEBPACK_IMPORTED_MODULE_7_moment__(this.day).isSame(__WEBPACK_IMPORTED_MODULE_7_moment__(), "days");
            this.buttons.create = this.istoday;
        }
    }
    DailyMemosPage.prototype.addMemo = function () {
        var _this = this;
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_6__service_config_data_config__["a" /* DataConfig */].PAGE._MEMO_PAGE, { day: this.day });
        modal.onDidDismiss(function (data) { return __awaiter(_this, void 0, void 0, function () {
            var memo;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(data && data.memo && typeof data.memo === 'string')) return [3 /*break*/, 2];
                        memo = {};
                        memo.sd = data.day;
                        memo.mon = data.memo;
                        return [4 /*yield*/, this.memoService.saveMemo(memo)];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        }); });
        modal.present();
    };
    DailyMemosPage.prototype.goDetail = function (memo) {
        var _this = this;
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_6__service_config_data_config__["a" /* DataConfig */].PAGE._MEMO_PAGE, { day: this.day, memo: memo });
        modal.onDidDismiss(function (data) { return __awaiter(_this, void 0, void 0, function () {
            var changed;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(data && data.memo && typeof data.memo !== 'string')) return [3 /*break*/, 2];
                        changed = {};
                        Object.assign(changed, data.memo);
                        return [4 /*yield*/, this.memoService.saveMemo(changed)];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        }); });
        modal.present();
    };
    DailyMemosPage.prototype.remove = function (event, memo) {
        event.stopPropagation(); // 阻止冒泡
        event.preventDefault(); // 忽略事件传递
        this.memoService.removeMemo(memo.moi);
    };
    DailyMemosPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    DailyMemosPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-dailymemos',
            template: "    \n    <page-box title=\"\u5907\u5FD8\" [subtitle]=\"day | formatedate:'CYYYY/MM/DD'\" [buttons]=\"buttons\"  (onBack)=\"goBack()\" (onCreate)=\"addMemo()\" >\n      <ng-template [ngIf]=\"memos.length > 0\"\n                   [ngIfElse]=\"notask\">       \n        <ion-grid class=\"list-grid-content\">\n          <ion-row class=\"item-content item-content-backgroud\" leftmargin toppadding bottompadding rightmargin *ngFor=\"let memo of memos\" (click)=\"goDetail(memo)\">\n            <div class=\"line font-normal\">\n              <div class=\"st\">{{memo.utt | formatedate: 'HH:mm'}}</div>\n              <div class=\"sn\">{{memo.mon}}</div>\n              <div class=\"icon\"  end (click)=\"remove($event, memo)\">\n                <ion-icon class=\"fal fa-minus-circle\"></ion-icon>\n              </div>\n            </div>\n          </ion-row>\n        </ion-grid>\n      </ng-template>\n      <ng-template #notask>\n        <div class=\"notask\">\n          <ion-icon class=\"fal fa-icons\"></ion-icon>\n          <span>{{day}}\u6CA1\u6709\u8BB0\u5F55\u54DF\uFF5E</span>\n          <button *ngIf=\"istoday\" (click)=\"addMemo()\">\n            \u521B\u5EFA\u5907\u5FD8\n          </button>\n        </div>\n      </ng-template>\n    </page-box>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_3__service_util_service_emit_service__["a" /* EmitService */],
            __WEBPACK_IMPORTED_MODULE_2__service_business_memo_service__["a" /* MemoService */],
            __WEBPACK_IMPORTED_MODULE_5__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_4__service_cordova_feedback_service__["a" /* FeedbackService */]])
    ], DailyMemosPage);
    return DailyMemosPage;
}());

//# sourceMappingURL=dailymemos.js.map

/***/ }),
/* 719 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CommemorationDayPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_cordova_feedback_service__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_business_calendar_service__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__service_business_event_service__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__data_enum__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__ionic_native_keyboard__ = __webpack_require__(80);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__components_page_box_page_box__ = __webpack_require__(261);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};














/**
 * Generated class for the 纪念日创建/修改 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var CommemorationDayPage = (function () {
    function CommemorationDayPage(navCtrl, navParams, modalCtrl, actionSheetCtrl, emitService, util, feedback, calendarService, eventService, sqlite, keyboard) {
        var _this = this;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.modalCtrl = modalCtrl;
        this.actionSheetCtrl = actionSheetCtrl;
        this.emitService = emitService;
        this.util = util;
        this.feedback = feedback;
        this.calendarService = calendarService;
        this.eventService = eventService;
        this.sqlite = sqlite;
        this.keyboard = keyboard;
        this.statusBarColor = "#3c4d55";
        this.buttons = {
            remove: false,
            share: false,
            save: false,
            cancel: true
        };
        this.currentPlanItem = {};
        this.originPlanItem = {};
        this.currentuser = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].account.id;
        this.friends = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].friends;
        this.privateplans = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].privateplans;
        this.publicplans = __WEBPACK_IMPORTED_MODULE_3__service_config_user_config__["b" /* UserConfig */].publicplans;
        this.repeattonon = __WEBPACK_IMPORTED_MODULE_11__data_enum__["x" /* RepeatFlag */].RepeatToOnly;
        this.system = __WEBPACK_IMPORTED_MODULE_11__data_enum__["y" /* SelfDefineType */].System;
        this.selfdefine = __WEBPACK_IMPORTED_MODULE_11__data_enum__["y" /* SelfDefineType */].Define;
        this.snlength = 0;
        __WEBPACK_IMPORTED_MODULE_5_moment__["locale"]('zh-cn');
        if (this.navParams) {
            var paramter = this.navParams.data;
            if (paramter.si) {
                this.calendarService.getPlanItem(paramter.si).then(function (commemorationday) {
                    _this.currentPlanItem = commemorationday;
                    Object.assign(_this.originPlanItem, commemorationday);
                    _this.snlength = _this.currentPlanItem.jtn.length;
                    _this.buttons.remove = true;
                });
            }
            else {
                this.currentPlanItem.sd = paramter.d.format("YYYY/MM/DD");
                if (paramter.sn)
                    this.currentPlanItem.jtn = paramter.sn;
            }
        }
    }
    CommemorationDayPage.prototype.ionViewDidEnter = function () {
        this.pageBoxComponent.setBoxContent();
    };
    CommemorationDayPage.prototype.changeTitle = function () {
        this.snlength = this.currentPlanItem.jtn.length;
        if (this.currentPlanItem.jtc == __WEBPACK_IMPORTED_MODULE_11__data_enum__["y" /* SelfDefineType */].System)
            return; // 下载日历项不能修改
        if (this.currentPlanItem.jti) {
            if (this.currentPlanItem.jtn != "" && !this.calendarService.isSamePlanItem(this.currentPlanItem, this.originPlanItem)) {
                this.buttons.save = true;
            }
            else {
                this.buttons.save = false;
            }
        }
        else {
            if (this.currentPlanItem.jtn != "") {
                this.buttons.save = true;
            }
            else {
                this.buttons.save = false;
            }
        }
    };
    CommemorationDayPage.prototype.changeDatetime = function () {
        var _this = this;
        if (this.currentPlanItem.jtc == __WEBPACK_IMPORTED_MODULE_11__data_enum__["y" /* SelfDefineType */].System)
            return; // 下载日历项不能修改
        if (this.originPlanItem.ui != this.currentuser && (this.originPlanItem.md != __WEBPACK_IMPORTED_MODULE_11__data_enum__["p" /* ModiPower */].enable || this.originPlanItem.invitestatus != __WEBPACK_IMPORTED_MODULE_11__data_enum__["j" /* InviteState */].Accepted)) {
            return;
        }
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_7__service_config_data_config__["a" /* DataConfig */].PAGE._DTSELECT_PAGE, {
            sd: this.currentPlanItem.sd,
            st: this.currentPlanItem.st,
            ed: this.currentPlanItem.sd,
            et: this.currentPlanItem.st,
            al: __WEBPACK_IMPORTED_MODULE_11__data_enum__["m" /* IsWholeday */].StartSet,
            ct: 0
        });
        modal.onDidDismiss(function (data) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/];
            });
        }); });
        modal.present();
    };
    CommemorationDayPage.prototype.changeInvites = function () {
        var _this = this;
        if (this.currentPlanItem.jtc == __WEBPACK_IMPORTED_MODULE_11__data_enum__["y" /* SelfDefineType */].System)
            return; // 下载日历项不能修改
        var clonemembers;
        if (this.currentPlanItem.members && this.currentPlanItem.members.length > 0) {
            clonemembers = new (Array.bind.apply(Array, [void 0].concat(this.currentPlanItem.members)))();
        }
        else {
            clonemembers = new Array();
        }
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_7__service_config_data_config__["a" /* DataConfig */].PAGE._INVITES_PAGE, {
            ui: this.currentPlanItem.ui,
            mine: this.currentPlanItem.ui == this.currentuser,
            members: clonemembers,
            md: this.currentPlanItem.md,
            iv: this.currentPlanItem.iv
        });
        modal.onDidDismiss(function (data) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (!data)
                    return [2 /*return*/];
                this.currentPlanItem.members = data.members;
                this.currentPlanItem.pn = data.members.length;
                this.currentPlanItem.md = data.md;
                this.currentPlanItem.iv = data.iv;
                if (!this.calendarService.isSamePlanItem(this.currentPlanItem, this.originPlanItem)) {
                    this.buttons.save = true;
                }
                else {
                    this.buttons.save = false;
                }
                return [2 /*return*/];
            });
        }); });
        modal.present();
    };
    CommemorationDayPage.prototype.changeRepeat = function () {
        var _this = this;
        if (!this.currentPlanItem.rtjson && this.currentPlanItem.rt) {
            this.currentPlanItem.rtjson = new __WEBPACK_IMPORTED_MODULE_10__service_business_event_service__["c" /* RtJson */]();
            var rtdata = JSON.parse(this.currentPlanItem.rt);
            Object.assign(this.currentPlanItem.rtjson, rtdata);
        }
        else if (!this.currentPlanItem.rtjson && !this.currentPlanItem.rt) {
            this.currentPlanItem.rtjson = new __WEBPACK_IMPORTED_MODULE_10__service_business_event_service__["c" /* RtJson */]();
        }
        var data = new __WEBPACK_IMPORTED_MODULE_10__service_business_event_service__["c" /* RtJson */]();
        Object.assign(data, this.currentPlanItem.rtjson);
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_7__service_config_data_config__["a" /* DataConfig */].PAGE._REPEAT_PAGE, { value: data });
        modal.onDidDismiss(function (data) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (data && data.rtjson) {
                    this.currentPlanItem.rtjson = new __WEBPACK_IMPORTED_MODULE_10__service_business_event_service__["c" /* RtJson */]();
                    Object.assign(this.currentPlanItem.rtjson, data.rtjson);
                    this.currentPlanItem.rt = JSON.stringify(this.currentPlanItem.rtjson);
                    this.currentPlanItem.rts = this.currentPlanItem.rtjson.text();
                    if (!this.calendarService.isSamePlanItem(this.currentPlanItem, this.originPlanItem)) {
                        this.buttons.save = true;
                    }
                    else {
                        this.buttons.save = false;
                    }
                }
                return [2 /*return*/];
            });
        }); });
        modal.present();
    };
    CommemorationDayPage.prototype.changeRemind = function () {
        var _this = this;
        if (this.currentPlanItem.ui != this.currentuser && this.originPlanItem.invitestatus != __WEBPACK_IMPORTED_MODULE_11__data_enum__["j" /* InviteState */].Accepted) {
            return;
        }
        if (!this.currentPlanItem.txjson && this.currentPlanItem.tx) {
            this.currentPlanItem.txjson = new __WEBPACK_IMPORTED_MODULE_10__service_business_event_service__["d" /* TxJson */]();
            var txdata = JSON.parse(this.currentPlanItem.tx);
            Object.assign(this.currentPlanItem.txjson, txdata);
        }
        else if (!this.currentPlanItem.txjson && !this.currentPlanItem.tx) {
            this.currentPlanItem.txjson = new __WEBPACK_IMPORTED_MODULE_10__service_business_event_service__["d" /* TxJson */]();
        }
        var data = new __WEBPACK_IMPORTED_MODULE_10__service_business_event_service__["d" /* TxJson */]();
        Object.assign(data, this.currentPlanItem.txjson);
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_7__service_config_data_config__["a" /* DataConfig */].PAGE._REMIND_PAGE, {
            value: {
                txjson: data,
                evd: this.currentPlanItem.sd,
                evt: this.currentPlanItem.st,
                al: __WEBPACK_IMPORTED_MODULE_11__data_enum__["m" /* IsWholeday */].StartSet
            }
        });
        modal.onDidDismiss(function (data) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (data && data.txjson) {
                    this.currentPlanItem.txjson = new __WEBPACK_IMPORTED_MODULE_10__service_business_event_service__["d" /* TxJson */]();
                    Object.assign(this.currentPlanItem.txjson, data.txjson);
                    this.currentPlanItem.tx = JSON.stringify(this.currentPlanItem.txjson);
                    this.currentPlanItem.txs = this.currentPlanItem.txjson.text();
                    if (!this.calendarService.isSamePlanItem(this.currentPlanItem, this.originPlanItem)) {
                        this.buttons.save = true;
                    }
                    else {
                        this.buttons.save = false;
                    }
                }
                return [2 /*return*/];
            });
        }); });
        modal.present();
    };
    CommemorationDayPage.prototype.changeComment = function () {
        var _this = this;
        if (this.currentPlanItem.jtc == __WEBPACK_IMPORTED_MODULE_11__data_enum__["y" /* SelfDefineType */].System)
            return; // 下载日历项不能修改
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_7__service_config_data_config__["a" /* DataConfig */].PAGE._COMMENT_PAGE, { value: this.currentPlanItem.bz });
        modal.onDidDismiss(function (data) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (!data)
                    return [2 /*return*/];
                this.currentPlanItem.bz = data.bz;
                if (!this.calendarService.isSamePlanItem(this.currentPlanItem, this.originPlanItem)) {
                    this.buttons.save = true;
                }
                else {
                    this.buttons.save = false;
                }
                return [2 /*return*/];
            });
        }); });
        modal.present();
    };
    CommemorationDayPage.prototype.changePlan = function () {
        var _this = this;
        if (this.currentPlanItem.jtc == __WEBPACK_IMPORTED_MODULE_11__data_enum__["y" /* SelfDefineType */].System)
            return; // 下载日历项不能修改
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_7__service_config_data_config__["a" /* DataConfig */].PAGE._PLAN_PAGE, { ji: this.currentPlanItem.ji });
        modal.onDidDismiss(function (data) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (!data)
                    return [2 /*return*/];
                this.currentPlanItem.ji = data;
                if (!this.calendarService.isSamePlanItem(this.currentPlanItem, this.originPlanItem)) {
                    this.buttons.save = true;
                }
                else {
                    this.buttons.save = false;
                }
                return [2 /*return*/];
            });
        }); });
        modal.present();
    };
    CommemorationDayPage.prototype.validCheck = function () {
        if (this.currentPlanItem.jtn && this.currentPlanItem.jtn != "") {
            return true;
        }
    };
    CommemorationDayPage.prototype.createConfirm = function (remove, confirm) {
        var _this = this;
        if (remove === void 0) { remove = false; }
        if (confirm === void 0) { confirm = __WEBPACK_IMPORTED_MODULE_11__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll; }
        var buttons = new Array();
        if (remove) {
            buttons.push({
                text: '仅删除此纪念日',
                role: 'remove',
                handler: function () {
                    _this.doOptionRemove(__WEBPACK_IMPORTED_MODULE_11__data_enum__["r" /* OperateType */].OnlySel);
                }
            });
            buttons.push({
                text: '删除所有将来纪念日',
                role: 'remove',
                handler: function () {
                    _this.doOptionRemove(__WEBPACK_IMPORTED_MODULE_11__data_enum__["r" /* OperateType */].FromSel);
                }
            });
        }
        else {
            if (confirm == __WEBPACK_IMPORTED_MODULE_11__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll) {
                buttons.push({
                    text: '仅针对此纪念日存储',
                    role: 'modify',
                    handler: function () {
                        _this.doOptionSave(__WEBPACK_IMPORTED_MODULE_11__data_enum__["r" /* OperateType */].OnlySel);
                    }
                });
            }
            buttons.push({
                text: '针对将来纪念日存储',
                role: 'modify',
                handler: function () {
                    _this.doOptionSave(__WEBPACK_IMPORTED_MODULE_11__data_enum__["r" /* OperateType */].FromSel);
                }
            });
        }
        buttons.push({
            text: '取消',
            role: 'cancel',
            handler: function () {
                console.log('Cancel clicked');
            }
        });
        return this.actionSheetCtrl.create({
            title: "此为重复纪念日。",
            buttons: buttons
        });
    };
    CommemorationDayPage.prototype.doOptionSave = function (op) {
        var _this = this;
        this.util.loadingStart().then(function () {
            _this.calendarService.savePlanItem(_this.currentPlanItem, _this.originPlanItem, op).then(function (planitems) {
                if (planitems && planitems.length > 0) {
                    _this.currentPlanItem = planitems[0];
                    Object.assign(_this.originPlanItem, planitems[0]);
                    _this.buttons.save = false;
                }
                _this.util.loadingEnd();
            });
        });
    };
    CommemorationDayPage.prototype.save = function () {
        var _this = this;
        if (this.validCheck()) {
            if (this.currentPlanItem.jti) {
                if (this.calendarService.isSamePlanItem(this.currentPlanItem, this.originPlanItem)) {
                    return;
                }
                var confirm_1 = this.calendarService.hasPlanItemModifyConfirm(this.originPlanItem, this.currentPlanItem);
                if (confirm_1 == __WEBPACK_IMPORTED_MODULE_11__data_enum__["b" /* ConfirmType */].CurrentOrFutureAll || confirm_1 == __WEBPACK_IMPORTED_MODULE_11__data_enum__["b" /* ConfirmType */].FutureAll) {
                    if (this.modifyConfirm) {
                        this.modifyConfirm.dismiss();
                    }
                    this.modifyConfirm = this.createConfirm(false, confirm_1);
                    this.modifyConfirm.present();
                }
                else {
                    this.util.loadingStart().then(function () {
                        _this.calendarService.savePlanItem(_this.currentPlanItem, _this.originPlanItem, __WEBPACK_IMPORTED_MODULE_11__data_enum__["r" /* OperateType */].Non).then(function (planitems) {
                            if (planitems && planitems.length > 0) {
                                _this.currentPlanItem = planitems[0];
                                Object.assign(_this.originPlanItem, planitems[0]);
                                _this.buttons.save = false;
                            }
                            _this.util.loadingEnd();
                        });
                    });
                }
            }
            else {
                this.util.loadingStart().then(function () {
                    _this.calendarService.savePlanItem(_this.currentPlanItem).then(function (commemorationday) {
                        if (commemorationday && commemorationday.length > 0) {
                            _this.currentPlanItem = commemorationday[0];
                            Object.assign(_this.originPlanItem, commemorationday[0]);
                            _this.buttons.remove = true;
                            _this.buttons.save = false;
                        }
                        _this.util.loadingEnd();
                    });
                });
            }
        }
    };
    CommemorationDayPage.prototype.doOptionRemove = function (op) {
        var _this = this;
        this.util.loadingStart().then(function () {
            _this.calendarService.removePlanItem(_this.originPlanItem, op)
                .then(function () {
                _this.util.loadingEnd();
                _this.goBack();
            });
        });
    };
    CommemorationDayPage.prototype.goRemove = function () {
        var _this = this;
        if (this.originPlanItem.rfg == __WEBPACK_IMPORTED_MODULE_11__data_enum__["x" /* RepeatFlag */].Repeat) {
            if (this.modifyConfirm) {
                this.modifyConfirm.dismiss();
            }
            this.modifyConfirm = this.createConfirm(true);
            this.modifyConfirm.present();
        }
        else {
            this.util.loadingStart().then(function () {
                _this.calendarService.removePlanItem(_this.originPlanItem, __WEBPACK_IMPORTED_MODULE_11__data_enum__["r" /* OperateType */].Non)
                    .then(function () {
                    _this.util.loadingEnd();
                    _this.goBack();
                });
            });
        }
    };
    CommemorationDayPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_13__components_page_box_page_box__["a" /* PageBoxComponent */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_13__components_page_box_page_box__["a" /* PageBoxComponent */])
    ], CommemorationDayPage.prototype, "pageBoxComponent", void 0);
    CommemorationDayPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-commemorationday',
            template: "\n    <page-box title=\"\u7EAA\u5FF5\u65E5\" [buttons]=\"buttons\" [data]=\"currentPlanItem.jti\" (onRemove)=\"goRemove()\" (onSave)=\"save()\"\n              (onBack)=\"goBack()\">\n\n      <ion-grid>\n        \n        <ion-row class=\"limitRow font-small-x\">\n          <span>{{snlength}} / 20 </span>\n        </ion-row>\n        \n        <ion-row class=\"snRow\">\n          <div class=\"sn font-large-x\">\n            <!--\u4E3B\u9898-->\n            <ion-textarea rows=\"8\" [(ngModel)]=\"currentPlanItem.jtn\" (ionChange)=\"changeTitle()\" [readonly]=\"currentPlanItem.jtc == system\" [maxlength]=\"20\"></ion-textarea>\n          </div>\n        </ion-row>\n\n        <ion-row class=\"optionRow\">\n          <ion-grid>\n            <!--\u9644\u52A0\u5C5E\u6027\u64CD\u4F5C-->\n            <ion-row *ngIf=\"currentPlanItem.jti\">\n              <div (click)=\"changeComment()\" *ngIf=\"!currentPlanItem.bz\">\n                <ion-icon class=\"fal fa-comment-edit font-normal\"></ion-icon>\n                <span class=\"font-normal\">\u5907\u6CE8</span>\n              </div>\n              <div *ngIf=\"currentPlanItem.jtc == system\" end>\n                <ion-icon class=\"fal fa-line-columns \"></ion-icon>\n                <span class=\"font-normal\">{{currentPlanItem.ji | formatplan: 'name' : '\u52A0\u5165\u65E5\u5386': publicplans}}</span>\n              </div>\n              <div *ngIf=\"currentPlanItem.jtc == selfdefine\" (click)=\"changePlan()\" end>\n                <ion-icon class=\"fal fa-line-columns \"></ion-icon>\n                <span class=\"font-normal\">{{currentPlanItem.ji | formatplan: 'name' : '\u52A0\u5165\u65E5\u5386': privateplans}}</span>\n              </div>\n            </ion-row>\n\n            <ion-row *ngIf=\"currentPlanItem.jti\">\n              <div *ngIf=\"currentPlanItem.jtc == selfdefine\">\n                <button ion-button clear (click)=\"changeInvites()\" class=\"font-normal\">\n                  <ion-icon class=\"fal fa-user-friends font-normal\"\n                            *ngIf=\"currentPlanItem.pn <= 0\"></ion-icon>\n                  \u53C2\u4E0E\u4EBA\n                  <corner-badge fa-user-friends *ngIf=\"currentPlanItem.pn > 0\"><p>{{currentPlanItem.pn}}</p></corner-badge>\n                </button>\n              </div>\n              <div>\n                <button ion-button clear (click)=\"changeRemind()\" class=\"font-normal\">\n                  <ion-icon class=\"fal fa-bells \" *ngIf=\"!currentPlanItem.txs\"></ion-icon>\n                  {{currentPlanItem.txs || \"\u63D0\u9192\"}}\n                  <corner-badge fa-bells *ngIf=\"currentPlanItem.txs\"><p>{{currentPlanItem.txjson.reminds.length}}</p>\n                  </corner-badge>\n                </button>\n              </div>\n            </ion-row>\n\n            <ion-row *ngIf=\"currentPlanItem.jti\">\n              <button ion-button clear (click)=\"changeRepeat()\" class=\"font-normal\">\n                <ion-icon class=\"fal fa-copy font-normal\" *ngIf=\"!currentPlanItem.rts\"></ion-icon>\n                {{currentPlanItem.rts || \"\u91CD\u590D\"}}\n                <corner-badge *ngIf=\"currentPlanItem.rts\" fa-copy><p><i class=\"fa fa-copy \"></i></p></corner-badge>\n              </button>\n            </ion-row>\n\n            <ion-row *ngIf=\"currentPlanItem.bz\" (click)=\"changeComment()\">\n                <span class=\"content font-normal\">\n                  \u5907\u6CE8\uFF1A{{currentPlanItem.bz}}\n                </span>\n              <ion-icon class=\"fal fa-comment-edit font-normal\"></ion-icon>\n            </ion-row>\n\n            <ion-row *ngIf=\"currentPlanItem.jti && currentPlanItem.sd\">\n              <div (click)=\"changeDatetime()\">\n                <span class=\"content font-normal\">\n                  \u65E5\u671F\uFF1A{{currentPlanItem.evd | formatedate: \"YYYY\u5E74M\u6708D\u65E5\"}}<br/>\n\n                  \u65F6\u95F4\uFF1A{{currentPlanItem.sd  + \" \" + currentPlanItem.st | formatedate: \"HH:mm\"}}\n                </span>\n                <ion-icon class=\"font-normal fal fa-calendar-check \"></ion-icon>\n              </div>\n              <div (click)=\"changeDatetime()\">\n              </div>\n              <div end *ngIf=\"currentPlanItem.jtc == selfdefine && currentPlanItem.ui != currentuser\">\n                <span class=\"content  font-normal\">\n                   -{{currentPlanItem.ui | formatuser: currentPlanItem: friends}}\n                  </span>\n              </div>\n            </ion-row>\n          </ion-grid>\n        </ion-row>\n      </ion-grid>\n    </page-box>\n\n\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_6__service_util_service_emit_service__["a" /* EmitService */],
            __WEBPACK_IMPORTED_MODULE_2__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_8__service_cordova_feedback_service__["a" /* FeedbackService */],
            __WEBPACK_IMPORTED_MODULE_9__service_business_calendar_service__["a" /* CalendarService */],
            __WEBPACK_IMPORTED_MODULE_10__service_business_event_service__["b" /* EventService */],
            __WEBPACK_IMPORTED_MODULE_4__service_util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_12__ionic_native_keyboard__["a" /* Keyboard */]])
    ], CommemorationDayPage);
    return CommemorationDayPage;
}());

//# sourceMappingURL=commemorationday.js.map

/***/ }),
/* 720 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DtSelectPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__data_enum__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ion_multi_picker__ = __webpack_require__(167);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ion_multi_picker___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ion_multi_picker__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var DtSelectPage = (function () {
    function DtSelectPage(navCtrl, viewCtrl, navParams) {
        this.navCtrl = navCtrl;
        this.viewCtrl = viewCtrl;
        this.navParams = navParams;
        this.duraval = {
            displayname: "",
            value: ""
        };
        this.stval = {
            displayname: "",
            value: ""
        };
        this.etval = {
            displayname: "",
            value: ""
        };
        this.minDate = __WEBPACK_IMPORTED_MODULE_2_moment__().format("YYYY-MM-DD");
        this.pagedata = {
            evd: __WEBPACK_IMPORTED_MODULE_2_moment__().format("YYYY/MM/DD"),
            ct: 0,
            ed: __WEBPACK_IMPORTED_MODULE_2_moment__().format("YYYY-MM-DD"),
            et: '',
            sd: __WEBPACK_IMPORTED_MODULE_2_moment__().format("YYYY-MM-DD"),
            st: '',
            rfg: ''
        };
        this.retdata = {
            sd: '',
            ed: '',
            evd: '',
            evt: '',
            al: '',
            ct: 0,
            et: '',
            st: '',
        };
        this.settype = '0';
        this.buttons = {
            remove: false,
            share: false,
            save: true,
            cancel: true
        };
        var ampmArray = [
            { text: '上午', value: '1' },
            { text: '下午', value: '2' }
        ];
        var hourArray = [
            { text: '00点', value: '100', parentVal: '1' },
            { text: '01点', value: '101', parentVal: '1' },
            { text: '02点', value: '102', parentVal: '1' },
            { text: '03点', value: '103', parentVal: '1' },
            { text: '04点', value: '104', parentVal: '1' },
            { text: '05点', value: '105', parentVal: '1' },
            { text: '06点', value: '106', parentVal: '1' },
            { text: '07点', value: '107', parentVal: '1' },
            { text: '08点', value: '108', parentVal: '1' },
            { text: '09点', value: '109', parentVal: '1' },
            { text: '10点', value: '110', parentVal: '1' },
            { text: '11点', value: '111', parentVal: '1' },
            { text: '12点', value: '112', parentVal: '1' },
            { text: '01点', value: '01', parentVal: '2' },
            { text: '02点', value: '02', parentVal: '2' },
            { text: '03点', value: '03', parentVal: '2' },
            { text: '04点', value: '04', parentVal: '2' },
            { text: '05点', value: '05', parentVal: '2' },
            { text: '06点', value: '06', parentVal: '2' },
            { text: '07点', value: '07', parentVal: '2' },
            { text: '08点', value: '08', parentVal: '2' },
            { text: '09点', value: '09', parentVal: '2' },
            { text: '10点', value: '10', parentVal: '2' },
            { text: '11点', value: '11', parentVal: '2' },
        ];
        var minArray = [];
        for (var _i = 0, hourArray_1 = hourArray; _i < hourArray_1.length; _i++) {
            var h = hourArray_1[_i];
            var loopmin = 0;
            var loopnum = 0;
            while (loopmin < 55) {
                loopmin = loopnum * 5;
                var val = (loopmin + "").length == 1 ? "0" + loopmin : loopmin + "";
                var min = {
                    text: val + "分",
                    value: val,
                    parentVal: h.value
                };
                minArray.push(min);
                loopnum = loopnum + 1;
            }
        }
        this.dependentColumns = [
            {
                columnWidth: '100px',
                options: ampmArray,
            },
            {
                columnWidth: '100px',
                options: hourArray,
            },
            {
                columnWidth: '100px',
                options: minArray,
            }
        ];
        this.dependentColumns2 = [
            {
                columnWidth: '100px',
                options: ampmArray,
            },
            {
                columnWidth: '100px',
                options: hourArray,
            },
            {
                columnWidth: '100px',
                options: minArray
            }
        ];
        this.dependentColumns3 = [
            {
                columnWidth: '100px',
                options: [
                    { text: '时长', value: '1' }
                ],
            },
            {
                columnWidth: '100px',
                options: [
                    { text: '', value: this.day2min(0) },
                    { text: '1天', value: this.day2min(1) },
                    { text: '2天', value: this.day2min(2) },
                    { text: '3天', value: this.day2min(3) },
                    { text: '4天', value: this.day2min(4) },
                    { text: '5天', value: this.day2min(5) },
                    { text: '6天', value: this.day2min(6) },
                    { text: '7天', value: this.day2min(7) },
                    { text: '8天', value: this.day2min(8) },
                    { text: '9天', value: this.day2min(9) },
                    { text: '10天', value: this.day2min(10) }
                ],
            },
            {
                columnWidth: '100px',
                options: [
                    { text: '', value: this.h2min(0) },
                    { text: '1小时', value: this.h2min(1) },
                    { text: '2小时', value: this.h2min(2) },
                    { text: '3小时', value: this.h2min(3) },
                    { text: '4小时', value: this.h2min(4) },
                    { text: '5小时', value: this.h2min(5) },
                    { text: '6小时', value: this.h2min(6) },
                    { text: '7小时', value: this.h2min(7) },
                    { text: '8小时', value: this.h2min(8) },
                    { text: '9小时', value: this.h2min(9) },
                    { text: '10小时', value: this.h2min(10) },
                    { text: '11小时', value: this.h2min(11) },
                    { text: '12小时', value: this.h2min(12) },
                    { text: '13小时', value: this.h2min(13) },
                    { text: '14小时', value: this.h2min(14) },
                    { text: '15小时', value: this.h2min(15) },
                    { text: '16小时', value: this.h2min(16) }
                ],
            },
            {
                columnWidth: '100px',
                options: [
                    { text: '', value: 0 },
                    { text: '15分钟', value: 15 },
                    { text: '30分钟', value: 30 },
                    { text: '45分钟', value: 45 },
                ]
            }
        ];
        if (this.navParams && this.navParams.data) {
            this.pagedata.rfg = this.navParams.data.rfg;
            this.pagedata.evd = this.navParams.data.evd;
            if (this.navParams.data.al == __WEBPACK_IMPORTED_MODULE_3__data_enum__["m" /* IsWholeday */].StartSet) {
                this.settype = '0';
                this.pagedata.ct = this.navParams.data.ct;
                this.pagedata.sd = __WEBPACK_IMPORTED_MODULE_2_moment__(this.navParams.data.evd).format("YYYY-MM-DD");
                this.pagedata.ed = __WEBPACK_IMPORTED_MODULE_2_moment__(this.navParams.data.evd + " " + this.navParams.data.evt).
                    add(this.navParams.data.ct, 'm').format("YYYY-MM-DD");
                this.pagedata.st = this.navParams.data.evt;
                this.pagedata.et = __WEBPACK_IMPORTED_MODULE_2_moment__(this.navParams.data.evd + " " + this.navParams.data.evt).
                    add(this.navParams.data.ct, 'm').format("HH:mm");
            }
            else if (this.navParams.data.al == __WEBPACK_IMPORTED_MODULE_3__data_enum__["m" /* IsWholeday */].EndSet) {
                this.settype = '1';
                this.pagedata.sd = __WEBPACK_IMPORTED_MODULE_2_moment__(this.navParams.data.evd).format("YYYY-MM-DD");
                this.pagedata.ed = __WEBPACK_IMPORTED_MODULE_2_moment__(this.navParams.data.evd).format("YYYY-MM-DD");
                this.pagedata.st = this.navParams.data.evt;
                this.pagedata.et = this.navParams.data.evt;
                this.pagedata.ct = 0;
            }
            else {
                this.iniTime();
            }
            this.setTimeValue(this.pagedata.st, this.pagedata.et, this.pagedata.ct);
        }
    }
    DtSelectPage.prototype.setTimeValue = function (st, et, ct) {
        var tmpval = new Array();
        tmpval = st.split(":");
        if (tmpval && tmpval.length == 2) {
            if (parseInt(tmpval[0]) > 12) {
                this.stval.value = "2" + " " + (parseInt(tmpval[0]) - 12) + " " + tmpval[1];
                this.stval.displayname = "下午" + " " + (parseInt(tmpval[0]) - 12) + " 点 " + tmpval[1] + " 分";
            }
            else {
                this.stval.value = "1" + " 1" + tmpval[0] + " " + tmpval[1];
                this.stval.displayname = "上午" + " " + tmpval[0] + " 点 " + tmpval[1] + " 分";
            }
        }
        tmpval = et.split(":");
        if (tmpval && tmpval.length == 2) {
            if (parseInt(tmpval[0]) > 12) {
                this.etval.value = "2" + " " + (parseInt(tmpval[0]) - 12) + " " + tmpval[1];
                this.etval.displayname = "下午" + " " + (parseInt(tmpval[0]) - 12) + " 点 " + tmpval[1] + " 分";
            }
            else {
                this.etval.value = "1" + " 1" + tmpval[0] + " " + tmpval[1];
                this.etval.displayname = "上午" + " " + tmpval[0] + " 点 " + tmpval[1] + " 分";
            }
        }
        var d = __WEBPACK_IMPORTED_MODULE_2_moment__["duration"](ct, 'm').days();
        var h = __WEBPACK_IMPORTED_MODULE_2_moment__["duration"](ct, 'm').hours();
        var m = __WEBPACK_IMPORTED_MODULE_2_moment__["duration"](ct, 'm').minutes();
        this.duraval.value = "1" + " " + d * 24 * 60 + " " + h * 60 + " " + m;
        this.duraval.displayname = "";
        if (d + "" != "0") {
            this.duraval.displayname += d + " 天 ";
        }
        if (h + "" != "0") {
            this.duraval.displayname += h + " 小时 ";
        }
        if (m + "" != "0") {
            this.duraval.displayname += m + " 分钟";
        }
        if (d + h + m == 0) {
            this.duraval.displayname = 0 + " 分钟";
        }
    };
    DtSelectPage.prototype.close = function () {
        this.navCtrl.pop();
    };
    DtSelectPage.prototype.save = function () {
        if (this.settype == '0') {
            this.retdata.al = __WEBPACK_IMPORTED_MODULE_3__data_enum__["m" /* IsWholeday */].StartSet;
            this.retdata.sd = __WEBPACK_IMPORTED_MODULE_2_moment__(this.pagedata.sd).format("YYYY/MM/DD");
            this.retdata.st = this.pagedata.st;
            this.retdata.ct = this.pagedata.ct;
            this.retdata.evd = this.retdata.sd;
            this.retdata.evt = this.retdata.st;
            this.retdata.ed = __WEBPACK_IMPORTED_MODULE_2_moment__(this.retdata.sd + " " + this.retdata.st).
                add(this.retdata.ct, 'm').format("YYYY/MM/DD");
            this.retdata.et = __WEBPACK_IMPORTED_MODULE_2_moment__(this.retdata.sd + " " + this.retdata.st).
                add(this.retdata.ct, 'm').format("HH:mm");
        }
        else {
            this.retdata.al = __WEBPACK_IMPORTED_MODULE_3__data_enum__["m" /* IsWholeday */].EndSet;
            this.retdata.ed = __WEBPACK_IMPORTED_MODULE_2_moment__(this.pagedata.ed).format("YYYY/MM/DD");
            this.retdata.et = this.pagedata.et;
            this.retdata.ct = 0;
            this.retdata.evd = this.retdata.ed;
            this.retdata.evt = this.retdata.et;
            this.retdata.sd = this.retdata.ed;
            this.retdata.st = this.retdata.et;
        }
        this.viewCtrl.dismiss(this.retdata);
    };
    DtSelectPage.prototype.changeType = function (type) {
        this.settype = type;
    };
    DtSelectPage.prototype.iniTime = function () {
        this.settype = "0";
        this.pagedata.sd = __WEBPACK_IMPORTED_MODULE_2_moment__(this.navParams.data.evd).format("YYYY-MM-DD");
        if (__WEBPACK_IMPORTED_MODULE_2_moment__().isBefore(__WEBPACK_IMPORTED_MODULE_2_moment__(__WEBPACK_IMPORTED_MODULE_2_moment__().format("YYYY/MM/DD") + " " + "08:00"))) {
            this.pagedata.st = "08:00";
        }
        else {
            this.pagedata.st = __WEBPACK_IMPORTED_MODULE_2_moment__().format("HH:mm");
        }
        this.pagedata.ct = 60;
        this.pagedata.ed = __WEBPACK_IMPORTED_MODULE_2_moment__(this.pagedata.sd).add(this.pagedata.ct, 'm').format("YYYY-MM-DD");
        this.pagedata.et = __WEBPACK_IMPORTED_MODULE_2_moment__(this.pagedata.sd + " " + this.pagedata.st).
            add(this.pagedata.ct, 'm').format("HH:mm");
    };
    DtSelectPage.prototype.seteddate = function () {
        this.pagedata.ed = __WEBPACK_IMPORTED_MODULE_2_moment__(this.pagedata.sd + " " + this.pagedata.st).
            add(this.pagedata.ct, 'm').format("YYYY-MM-DD");
        this.pagedata.et = __WEBPACK_IMPORTED_MODULE_2_moment__(this.pagedata.sd + " " + this.pagedata.st).
            add(this.pagedata.ct, 'm').format("HH:mm");
        this.setTimeValue(this.pagedata.st, this.pagedata.et, this.pagedata.ct);
    };
    DtSelectPage.prototype.openStartime = function () {
        this.startTime.open();
    };
    DtSelectPage.prototype.openEndtime = function () {
        this.endTime.open();
    };
    DtSelectPage.prototype.openDura = function () {
        this.dura.open();
    };
    DtSelectPage.prototype.duraselect = function () {
        if (!this.duraval.value) {
            return;
        }
        var dtsplit = new Array();
        var time;
        dtsplit = this.duraval.value.split(" ");
        if (dtsplit.length < 4) {
            return;
        }
        time = parseInt(dtsplit[1]) + parseInt(dtsplit[2]) + parseInt(dtsplit[3]);
        this.pagedata.ct = time;
        this.duraval.displayname = "";
        if (dtsplit[1] != "0") {
            this.duraval.displayname += parseInt(dtsplit[1]) / 24 / 60 + " 天 ";
        }
        if (dtsplit[2] != "0") {
            this.duraval.displayname += parseInt(dtsplit[2]) / 60 + " 小时 ";
        }
        if (dtsplit[3] != "0") {
            this.duraval.displayname += dtsplit[3] + " 分钟";
        }
        if (time == 0) {
            this.duraval.displayname = 0 + " 分钟";
        }
    };
    DtSelectPage.prototype.stselect = function () {
        if (!this.stval.value) {
            return;
        }
        var dtsplit = new Array();
        var ampm;
        dtsplit = this.stval.value.split(" ");
        if (dtsplit.length < 3) {
            return;
        }
        if (dtsplit[0] == "1") {
            ampm = "上午";
            dtsplit[1] = dtsplit[1].substring(1);
        }
        else {
            ampm = "下午";
        }
        this.stval.displayname = ampm + " " + dtsplit[1] + " 点 " + dtsplit[2] + " 分";
        if (dtsplit[0] == "1") {
            this.pagedata.st = dtsplit[1] + ":" + dtsplit[2];
        }
        else {
            this.pagedata.st = (parseInt(dtsplit[1]) + 12) + ":" + dtsplit[2];
        }
    };
    DtSelectPage.prototype.etselect = function () {
        if (!this.etval.value) {
            return;
        }
        var dtsplit = new Array();
        var ampm;
        dtsplit = this.etval.value.split(" ");
        if (dtsplit.length < 3) {
            return;
        }
        if (dtsplit[0] == "1") {
            dtsplit[1] = dtsplit[1].substring(1);
            ampm = "上午";
        }
        else {
            ampm = "下午";
        }
        this.etval.displayname = ampm + " " + dtsplit[1] + " 点 " + dtsplit[2] + " 分";
        if (dtsplit[0] == "1") {
            this.pagedata.et = dtsplit[1] + ":" + dtsplit[2];
        }
        else {
            this.pagedata.et = (parseInt(dtsplit[1]) + 12) + ":" + dtsplit[2];
        }
    };
    DtSelectPage.prototype.day2min = function (d) {
        return d * 24 * 60;
    };
    DtSelectPage.prototype.h2min = function (h) {
        return h * 60;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("startTime"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4_ion_multi_picker__["MultiPicker"])
    ], DtSelectPage.prototype, "startTime", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("endTime"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4_ion_multi_picker__["MultiPicker"])
    ], DtSelectPage.prototype, "endTime", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("dura"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4_ion_multi_picker__["MultiPicker"])
    ], DtSelectPage.prototype, "dura", void 0);
    DtSelectPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-dtselect',
            template: "\n    <modal-box title=\"\u6D3B\u52A8\u65E5\u671F\" [buttons]=\"buttons\" (onSave)=\"save()\" (onCancel)=\"close()\">\n      <div >\n        <ion-toolbar>\n          <ion-buttons item-start>\n            <button clear ion-button [class.noselect]=\"settype == '1'\" (click)=\"changeType('0')\" class=\"font-normal\">\n              <ion-icon class=\"fal fa-arrow-alt-from-left\"></ion-icon>\n              \u8BBE\u7F6E\u5F00\u59CB\u65E5\u671F\n            </button>\n            <button [disabled]=\"pagedata.rfg == '1'\" clear ion-button [class.noselect]=\"settype == '0'\" (click)=\"changeType('1')\" class=\"font-normal\">\n              <ion-icon class=\"fal fa-arrow-alt-from-right\"></ion-icon>\n              \u8BBE\u7F6E\u622A\u6B62\u65E5\u671F\n            </button>\n          </ion-buttons>\n        </ion-toolbar>\n      </div>\n\n\n      <div ion-item no-border no-padding no-lines no-margin class=\"itemwarp font-normal\" *ngIf=\"settype=='0'\">\n        <date-picker  #startDate item-content [(ngModel)]=\"pagedata.sd\"\n                      pickerFormat=\"YYYY ,MM DD\" displayFormat=\"YYYY \u5E74 MM \u6708 DD \u65E5\"\n                      min=\"{{minDate}}\" max=\"2059-01-01\" cancelText=\"\u53D6\u6D88\" doneText=\"\u9009\u62E9\"  (ionChange) = \"seteddate()\"\n        ></date-picker>\n        <ion-label><ion-icon class=\"fal fa-calendar-alt\"></ion-icon>\u5F00\u59CB\u65E5\u671F</ion-label>\n      </div>\n      <div ion-item no-border no-padding no-lines no-margin class=\"itemwarp font-normal\" (click)=\"openStartime()\"  *ngIf=\"settype=='0'\">\n        <ion-multi-picker #startTime [(ngModel)]=\"stval.value\"\n                          (ngModelChange)=\"stselect();seteddate();\" [multiPickerColumns]=\"dependentColumns\"\n                          cancelText=\"\u53D6\u6D88\" doneText=\"\u8BBE\u5B9A\"></ion-multi-picker>\n        <ion-label><ion-icon class=\"fal fa-clock\"></ion-icon>\u5F00\u59CB\u65F6\u95F4</ion-label>\n        <ion-label class = \"timedisplay\">{{stval.displayname}}</ion-label>\n      </div>\n      <div ion-item no-border no-padding no-lines no-margin class=\"itemwarp font-normal\" (click)=\"openDura()\"  *ngIf=\"settype=='0'\">\n        <ion-multi-picker #dura [(ngModel)]=\"duraval.value\"\n                          (ngModelChange)=\"duraselect();seteddate();\" [multiPickerColumns]=\"dependentColumns3\"\n                          cancelText=\"\u53D6\u6D88\" doneText=\"\u8BBE\u5B9A\"></ion-multi-picker>\n        <ion-label><ion-icon class=\"fal fa-clock\"></ion-icon>\u65F6\u957F</ion-label>\n        <ion-label class = \"duradisplay\">{{duraval.displayname}}</ion-label>\n      </div>\n      <div ion-item no-border no-padding no-lines no-margin class=\"itemwarp font-normal\" *ngIf=\"settype=='1'\">\n        <date-picker  #endDate item-content [(ngModel)]=\"pagedata.ed\"\n                      pickerFormat=\"YYYY ,MM DD\" displayFormat=\"YYYY \u5E74 MM \u6708 DD \u65E5\"\n                      min=\"{{minDate}}\" max=\"2059-01-01\" cancelText=\"\u53D6\u6D88\" doneText=\"\u9009\u62E9\"\n        ></date-picker>\n        <ion-label><ion-icon class=\"fal fa-calendar-alt\"></ion-icon>\u7ED3\u675F\u65E5\u671F</ion-label>\n      </div>\n      \n      <div ion-item no-border no-padding no-lines no-margin class=\"itemwarp font-normal\" (click)=\"openEndtime()\"  *ngIf=\"settype=='1'\">\n        <ion-multi-picker #endTime [(ngModel)]=\"etval.value\"\n                          (ngModelChange)=\"etselect();\" [multiPickerColumns]=\"dependentColumns2\"\n                          cancelText=\"\u53D6\u6D88\" doneText=\"\u8BBE\u5B9A\"></ion-multi-picker>\n        <ion-label><ion-icon class=\"fal fa-clock\"></ion-icon>\u7ED3\u675F\u65F6\u95F4</ion-label>\n        <ion-label class = \"timedisplay\">{{etval.displayname}}</ion-label>\n      </div>\n     \n    </modal-box>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"]])
    ], DtSelectPage);
    return DtSelectPage;
}());

//# sourceMappingURL=dtselect.js.map

/***/ }),
/* 721 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MemberPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__member_service__ = __webpack_require__(722);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__gl_gl_service__ = __webpack_require__(121);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__data_mapping__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_cordova_feedback_service__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_config_user_config__ = __webpack_require__(8);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








/**
 * Generated class for the 参与人选择 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var MemberPage = (function () {
    function MemberPage(navCtrl, viewCtrl, navParams, memberService, util, glService, modalCtrl, feedback) {
        this.navCtrl = navCtrl;
        this.viewCtrl = viewCtrl;
        this.navParams = navParams;
        this.memberService = memberService;
        this.util = util;
        this.glService = glService;
        this.modalCtrl = modalCtrl;
        this.feedback = feedback;
        this.buttons = {
            remove: false,
            share: false,
            create: false,
            save: true,
            cancel: true
        };
        this.pageFsList = new Array();
        this.pageGrouList = new Array();
        this.selMemberList = new Array();
    }
    MemberPage.prototype.ionViewDidEnter = function () {
        this.getContacts();
    };
    MemberPage.prototype.rmSelected = function (member) {
        var index = this.selMemberList.findIndex(function (value) {
            return member.pwi == value.pwi;
        });
        this.selMemberList.splice(index, 1);
        this.checkedSet();
    };
    MemberPage.prototype.save = function () {
        var list = this.selMemberList;
        if (list.length > 0) {
            var data = {
                members: list
            };
            this.viewCtrl.dismiss(data);
        }
        else {
            this.util.popoverStart("请选择参与人");
        }
    };
    MemberPage.prototype.addsel = function (fs) {
        var member = {};
        if (fs.checked) {
            Object.assign(member, fs);
            this.selMemberList.push(member);
        }
        else {
            var index = this.selMemberList.findIndex(function (value) {
                return fs.pwi == value.pwi;
            });
            this.selMemberList.splice(index, 1);
        }
    };
    MemberPage.prototype.addGroupList = function (g) {
        if (g.checked) {
            var _loop_1 = function (fs) {
                var member = {};
                var index = this_1.selMemberList.findIndex(function (value) {
                    return fs.pwi == value.pwi;
                });
                if (index < 0) {
                    Object.assign(member, fs);
                    this_1.selMemberList.push(member);
                }
            };
            var this_1 = this;
            for (var _i = 0, _a = g.fsl; _i < _a.length; _i++) {
                var fs = _a[_i];
                _loop_1(fs);
            }
        }
        else {
            var _loop_2 = function (fs) {
                var index = this_2.selMemberList.findIndex(function (value) {
                    return fs.pwi == value.pwi;
                });
                this_2.selMemberList.splice(index, 1);
            };
            var this_2 = this;
            for (var _b = 0, _c = g.fsl; _b < _c.length; _b++) {
                var fs = _c[_b];
                _loop_2(fs);
            }
        }
        this.checkedSet();
    };
    MemberPage.prototype.goBack = function (page, para) {
        this.navCtrl.pop();
    };
    MemberPage.prototype.getContacts = function () {
        var _this = this;
        this.pageGrouList.length = 0;
        this.pageFsList.length = 0;
        var groupList = this.glService.getGroups(this.tel);
        var fsList = this.memberService.getfriend(this.tel);
        groupList.forEach(function (value) {
            var group = new __WEBPACK_IMPORTED_MODULE_5__data_mapping__["h" /* PageGroupData */]();
            Object.assign(group, value);
            group.fsl = new Array();
            value.fsl.forEach(function (value) {
                var fs = new __WEBPACK_IMPORTED_MODULE_5__data_mapping__["c" /* FsData */]();
                Object.assign(fs, value);
                if (fs.rc != __WEBPACK_IMPORTED_MODULE_7__service_config_user_config__["b" /* UserConfig */].account.id) {
                    group.fsl.push(fs);
                }
            });
            group.gc = group.fsl.length;
            _this.pageGrouList.push(group);
        });
        fsList.forEach(function (value) {
            var fsp = new __WEBPACK_IMPORTED_MODULE_5__data_mapping__["d" /* FsPageData */]();
            Object.assign(fsp, value);
            if (fsp.rc != __WEBPACK_IMPORTED_MODULE_7__service_config_user_config__["b" /* UserConfig */].account.id) {
                fsp.checked = false;
                _this.pageFsList.push(fsp);
            }
        });
        this.checkedSet();
    };
    MemberPage.prototype.checkedSet = function () {
        var _this = this;
        this.pageFsList.forEach(function (value, index, arr) {
            value.checked = false;
            var t = _this.selMemberList.find(function (member) {
                return value.pwi == member.pwi;
            });
            if (t) {
                value.checked = true;
            }
        });
    };
    MemberPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-member',
            template: "\n\n    <modal-box title=\"\u9080\u8BF7\u4EBA\" [buttons]=\"buttons\" (onSave)=\"save()\" (onCancel)=\"goBack()\">\n\n      <div class=\"searchbar\">\n        <ion-searchbar type=\"text\" placeholder=\"\u624B\u673A\u53F7 \u59D3\u540D\" (ionChange)=\"getContacts()\" [(ngModel)]=\"tel\"\n                       text-center></ion-searchbar>\n      </div>\n\n      <ion-scroll scrollY=\"true\" scrollheightAuto>\n        <ion-list>\n          <ion-list-header>\n            \u9009\u62E9(<span class=\"count\">{{selMemberList.length}}</span>)\u4EBA\n          </ion-list-header>\n          <ion-item >\n            <ion-label>\n              <ul>\n                <li *ngFor = \"let member of selMemberList\" (click)=\"rmSelected(member)\">\n                  <span> {{ member.ran }}</span>\n                </li>\n                <li>\n                </li>\n              </ul>\n            </ion-label>\n          </ion-item>\n        </ion-list>\n        \n        <ion-list >\n          <ion-list-header>\n            \u9009\u62E9\u53C2\u4E0E\u4EBA\n          </ion-list-header>\n          <ion-item *ngFor=\"let g of pageGrouList\" >\n\n            <ion-label>\n              {{g.gn}}({{g.gc}})\n            </ion-label>\n\n            <ion-checkbox (click)=\"addGroupList(g)\" [(ngModel)]=\"g.checked\"></ion-checkbox>\n          </ion-item>\n          <ion-item *ngFor=\"let member of pageFsList\" >\n\n            <ion-label>\n              {{member.ran}}\n              <span *ngIf=\"member.rel ==1\">\uFF08\u6CE8\u518C\uFF09</span>\n            </ion-label>\n\n            <ion-checkbox (click)=\"addsel(member)\" [(ngModel)]=\"member.checked\"></ion-checkbox>\n          </ion-item>\n        </ion-list>\n      </ion-scroll>\n       \n    </modal-box>\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__member_service__["a" /* MemberService */],
            __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_4__gl_gl_service__["a" /* GlService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"], __WEBPACK_IMPORTED_MODULE_6__service_cordova_feedback_service__["a" /* FeedbackService */]])
    ], MemberPage);
    return MemberPage;
}());

//# sourceMappingURL=member.js.map

/***/ }),
/* 722 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MemberService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_restful_agdsev__ = __webpack_require__(111);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_restful_personsev__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_cordova_contacts_service__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_config_user_config__ = __webpack_require__(8);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var MemberService = (function () {
    function MemberService(sqlite, agdRest, perRest, contacts, util) {
        this.sqlite = sqlite;
        this.agdRest = agdRest;
        this.perRest = perRest;
        this.contacts = contacts;
        this.util = util;
    }
    //根据条件查询参与人
    //根据条件查询参与人
    MemberService.prototype.getfriend = function (key) {
        if (key)
            return __WEBPACK_IMPORTED_MODULE_6__service_config_user_config__["b" /* UserConfig */].friends.filter(function (value) {
                return value.ran.indexOf(key) > -1
                    || value.rc.indexOf(key) > -1
                    || value.rn.indexOf(key) > -1
                    || value.rc.indexOf(key) > -1
                    || value.rnpy.indexOf(key) > -1
                    || value.ranpy.indexOf(key) > -1;
            });
        else
            return __WEBPACK_IMPORTED_MODULE_6__service_config_user_config__["b" /* UserConfig */].friends;
    };
    MemberService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_util_service_sqlite_exec__["a" /* SqliteExec */],
            __WEBPACK_IMPORTED_MODULE_2__service_restful_agdsev__["b" /* AgdRestful */],
            __WEBPACK_IMPORTED_MODULE_4__service_restful_personsev__["a" /* PersonRestful */],
            __WEBPACK_IMPORTED_MODULE_5__service_cordova_contacts_service__["a" /* ContactsService */],
            __WEBPACK_IMPORTED_MODULE_3__service_util_service_util_service__["a" /* UtilService */]])
    ], MemberService);
    return MemberService;
}());

//# sourceMappingURL=member.service.js.map

/***/ }),
/* 723 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GloryPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/**
 * Generated class for the 每日荣誉 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var GloryPage = (function () {
    function GloryPage(navCtrl) {
        this.navCtrl = navCtrl;
    }
    GloryPage.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    GloryPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-glory',
            template: "<ion-content padding>\n    <ion-grid>\n      <!--\u5782\u76F4\u5C45\u4E2D-->\n      <ion-row class=\"h100\" align-items-center>\n        <ion-grid>\n          <!--\u6C34\u5E73\u5C45\u4E2D-->\n          <ion-row justify-content-center>\n            <p>\u6210\u529F\u51FB\u8D25</p>\n          </ion-row>\n          <ion-row justify-content-center>\n            <h1 class=\"large\">90%</h1>\n          </ion-row>\n          <ion-row justify-content-center>\n            <p>\u51A5\u738B\u661F\u7528\u6237</p>\n          </ion-row>\n          <ion-row class=\"h20\" justify-content-center>\n            <p></p>\n          </ion-row>\n          <ion-row justify-content-center>\n            <div class=\"ball\">\n              <h3>0</h3>\n              <p>\u7EAA\u5FF5\u65E5</p>\n            </div>\n            <div class=\"ball\">\n              <h3>13</h3>\n              <p>\u6D3B\u52A8</p>\n            </div>\n            <div class=\"ball\">\n              <h3>2</h3>\n              <p>\u5907\u5FD8</p>\n            </div>\n          </ion-row>\n        </ion-grid>\n      </ion-row>\n    </ion-grid>\n    <ion-fab bottom center>\n      <button ion-fab (click)=\"goBack()\">\n        <ion-icon name=\"close\"></ion-icon>\n      </button>\n    </ion-fab>\n  </ion-content>"
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"]])
    ], GloryPage);
    return GloryPage;
}());

//# sourceMappingURL=glory.js.map

/***/ }),
/* 724 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PointComponentModule", function() { return PointComponentModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__point__ = __webpack_require__(1223);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__point_service__ = __webpack_require__(1224);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__input_input_module__ = __webpack_require__(726);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__listening__ = __webpack_require__(1226);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var PointComponentModule = (function () {
    function PointComponentModule() {
    }
    PointComponentModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__point__["a" /* PointComponent */],
                __WEBPACK_IMPORTED_MODULE_5__listening__["a" /* ListeningComponent */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__point__["a" /* PointComponent */]),
                __WEBPACK_IMPORTED_MODULE_4__input_input_module__["InputComponentModule"]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__point__["a" /* PointComponent */],
                __WEBPACK_IMPORTED_MODULE_5__listening__["a" /* ListeningComponent */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__point_service__["a" /* PointService */],
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_2__point__["a" /* PointComponent */],
                __WEBPACK_IMPORTED_MODULE_5__listening__["a" /* ListeningComponent */]
            ],
        })
    ], PointComponentModule);
    return PointComponentModule;
}());

//# sourceMappingURL=point.module.js.map

/***/ }),
/* 725 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return InputComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_keyboard__ = __webpack_require__(80);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_cordova_assistant_service__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_util_service_util_service__ = __webpack_require__(4);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






/**
 * Generated class for 输入框 page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var InputComponent = (function () {
    function InputComponent(_renderer, el, keyboard, assistantService, util) {
        this._renderer = _renderer;
        this.el = el;
        this.keyboard = keyboard;
        this.assistantService = assistantService;
        this.util = util;
        this.helps = new Array();
    }
    InputComponent.prototype.ngOnInit = function () {
        var _this = this;
        this._renderer.setStyle(this.el.nativeElement, "height", window.innerHeight + "px");
        this._renderer.setStyle(this.el.nativeElement, "width", window.innerWidth + "px");
        this._renderer.setStyle(this.el.nativeElement, "top", (window.innerHeight * -1) + "px");
        //this._renderer.setStyle(this.el.nativeElement, "top",  "-6px");
        this.keyboard.onKeyboardHide().subscribe(function (next) {
            _this._renderer.setStyle(_this.waperInput.nativeElement, "transform", "translateY(9999px)");
            setTimeout(function () {
                _this._renderer.setStyle(_this.el.nativeElement, "display", "none");
            }, 500);
            _this.input.setBlur();
        }, function (error1) {
            _this._renderer.setStyle(_this.waperInput.nativeElement, "transform", "translateY(9999px)");
            setTimeout(function () {
                _this._renderer.setStyle(_this.el.nativeElement, "display", "none");
            }, 500);
            _this.input.setBlur();
        });
        this.input.blur.subscribe(function (next) {
            _this._renderer.setStyle(_this.waperInput.nativeElement, "transform", "translateY(9999px)");
            setTimeout(function () {
                _this._renderer.setStyle(_this.el.nativeElement, "display", "none");
            }, 500);
            _this.input.setBlur();
        }, function (error1) {
            _this._renderer.setStyle(_this.waperInput.nativeElement, "transform", "translateY(9999px)");
            setTimeout(function () {
                _this._renderer.setStyle(_this.el.nativeElement, "display", "none");
            }, 500);
            _this.input.setBlur();
        });
    };
    InputComponent.prototype.inputStart = function () {
        this._renderer.setStyle(this.el.nativeElement, "display", "block");
        this._renderer.setStyle(this.waperInput.nativeElement, "transform", "translateY(0px)");
        this.input.clearTextInput();
        this.input.setFocus();
        this.helps.splice(0, this.helps.length);
        var h = this.util.randInt(0, __WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].helps.length - 1);
        this.helps.push(__WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].helps[h]);
        var h2 = this.util.randInt(0, __WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].helps.length - 1);
        if (h != h2) {
            this.helps.push(__WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].helps[h2]);
        }
    };
    InputComponent.prototype.confirm = function () {
        if (this.input.value != null && this.input.value != "") {
            this.assistantService.putText(this.input.value);
        }
        // this._renderer.setStyle(this.el.nativeElement, "display", "none");
        // this._renderer.setStyle(this.waperInput.nativeElement, "transform", "translateY(-9999px)");
        //this._renderer.setStyle(this.el.nativeElement, "display", "none");
        this.input.setBlur();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("input"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["TextInput"])
    ], InputComponent.prototype, "input", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("waperInput"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], InputComponent.prototype, "waperInput", void 0);
    InputComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'InputComponent',
            template: "\n    <ion-content>\n      <div class=\"help\">\n        <ion-grid>\n          <ion-row *ngFor=\"let help of helps\">\n            {{help}}\n          </ion-row>\n        </ion-grid>\n        \n      </div>\n      <div class=\"waper\" #waperInput>\n        <ion-textarea class=\"text\" #input></ion-textarea>\n        <button (click)=\"confirm()\">\u53D1\u9001</button>\n      </div>\n    </ion-content>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"], __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_2__ionic_native_keyboard__["a" /* Keyboard */],
            __WEBPACK_IMPORTED_MODULE_3__service_cordova_assistant_service__["a" /* AssistantService */],
            __WEBPACK_IMPORTED_MODULE_5__service_util_service_util_service__["a" /* UtilService */]])
    ], InputComponent);
    return InputComponent;
}());

//# sourceMappingURL=input.js.map

/***/ }),
/* 726 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InputComponentModule", function() { return InputComponentModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__input__ = __webpack_require__(725);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__input_service__ = __webpack_require__(1225);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var InputComponentModule = (function () {
    function InputComponentModule() {
    }
    InputComponentModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__input__["a" /* InputComponent */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__input__["a" /* InputComponent */])
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__input__["a" /* InputComponent */],
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__input_service__["a" /* InputService */],
            ],
        })
    ], InputComponentModule);
    return InputComponentModule;
}());

//# sourceMappingURL=input.module.js.map

/***/ }),
/* 727 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmboxComponentModule", function() { return ConfirmboxComponentModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__confirmbox__ = __webpack_require__(493);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var ConfirmboxComponentModule = (function () {
    function ConfirmboxComponentModule() {
    }
    ConfirmboxComponentModule.forRoot = function () {
        return {
            ngModule: __WEBPACK_IMPORTED_MODULE_2__confirmbox__["a" /* ConfirmboxComponent */]
        };
    };
    ConfirmboxComponentModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__confirmbox__["a" /* ConfirmboxComponent */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__confirmbox__["a" /* ConfirmboxComponent */]),
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__confirmbox__["a" /* ConfirmboxComponent */],
            ],
        })
    ], ConfirmboxComponentModule);
    return ConfirmboxComponentModule;
}());

//# sourceMappingURL=confirmbox.module.js.map

/***/ }),
/* 728 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AgendaPageModule", function() { return AgendaPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__agenda__ = __webpack_require__(609);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__agenda_service__ = __webpack_require__(610);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_page_box_page_box_module__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_corner_badge_corner_badge_module__ = __webpack_require__(176);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__pipes_pipes_module__ = __webpack_require__(23);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var AgendaPageModule = (function () {
    function AgendaPageModule() {
    }
    AgendaPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__agenda__["a" /* AgendaPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_6__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__agenda__["a" /* AgendaPage */]),
                __WEBPACK_IMPORTED_MODULE_4__components_page_box_page_box_module__["PageBoxComponentModule"],
                __WEBPACK_IMPORTED_MODULE_5__components_corner_badge_corner_badge_module__["a" /* CornerBadgeComponentModule */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__agenda_service__["a" /* AgendaService */]
            ],
        })
    ], AgendaPageModule);
    return AgendaPageModule;
}());

//# sourceMappingURL=agenda.module.js.map

/***/ }),
/* 729 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AipPageModule", function() { return AipPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__aip__ = __webpack_require__(250);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__aip_service__ = __webpack_require__(550);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_ai_answer_ai_module__ = __webpack_require__(357);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_backComponent_back_module__ = __webpack_require__(175);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var AipPageModule = (function () {
    function AipPageModule() {
    }
    AipPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__aip__["a" /* AipPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__aip__["a" /* AipPage */]),
                __WEBPACK_IMPORTED_MODULE_4__components_ai_answer_ai_module__["AiComponentModule"],
                __WEBPACK_IMPORTED_MODULE_5__components_backComponent_back_module__["BackComponentModule"]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__aip_service__["a" /* AipService */],
            ]
        })
    ], AipPageModule);
    return AipPageModule;
}());

//# sourceMappingURL=aip.module.js.map

/***/ }),
/* 730 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlPageModule", function() { return AlPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__al__ = __webpack_require__(603);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__al_service__ = __webpack_require__(159);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_backComponent_back_module__ = __webpack_require__(175);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var AlPageModule = (function () {
    function AlPageModule() {
    }
    AlPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__al__["a" /* AlPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__al__["a" /* AlPage */]),
                __WEBPACK_IMPORTED_MODULE_4__components_backComponent_back_module__["BackComponentModule"],
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__al_service__["a" /* AlService */],
            ]
        })
    ], AlPageModule);
    return AlPageModule;
}());

//# sourceMappingURL=al.module.js.map

/***/ }),
/* 731 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AttachPageModule", function() { return AttachPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__attach__ = __webpack_require__(717);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__directives_directives_module__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box_module__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_file__ = __webpack_require__(102);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_file_transfer__ = __webpack_require__(275);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_camera__ = __webpack_require__(276);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_chooser__ = __webpack_require__(277);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__ionic_native_file_opener__ = __webpack_require__(278);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_path__ = __webpack_require__(279);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__pipes_pipes_module__ = __webpack_require__(23);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};












var AttachPageModule = (function () {
    function AttachPageModule() {
    }
    AttachPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_1__attach__["a" /* AttachPage */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_11__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["IonicModule"],
                __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box_module__["a" /* ModalBoxComponentModule */],
                __WEBPACK_IMPORTED_MODULE_3__directives_directives_module__["a" /* DirectivesModule */],
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_6__ionic_native_file_transfer__["a" /* FileTransfer */],
                __WEBPACK_IMPORTED_MODULE_5__ionic_native_file__["a" /* File */],
                __WEBPACK_IMPORTED_MODULE_7__ionic_native_camera__["a" /* Camera */],
                __WEBPACK_IMPORTED_MODULE_8__ionic_native_chooser__["a" /* Chooser */],
                __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_path__["a" /* FilePath */],
                __WEBPACK_IMPORTED_MODULE_9__ionic_native_file_opener__["a" /* FileOpener */]
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_1__attach__["a" /* AttachPage */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_1__attach__["a" /* AttachPage */]
            ]
        })
    ], AttachPageModule);
    return AttachPageModule;
}());

//# sourceMappingURL=attach.module.js.map

/***/ }),
/* 732 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AtPageModule", function() { return AtPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__at__ = __webpack_require__(605);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var AtPageModule = (function () {
    function AtPageModule() {
    }
    AtPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__at__["a" /* AtPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__at__["a" /* AtPage */]),
            ],
            providers: [],
        })
    ], AtPageModule);
    return AtPageModule;
}());

//# sourceMappingURL=at.module.js.map

/***/ }),
/* 733 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BlPageModule", function() { return BlPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__bl_bl_service__ = __webpack_require__(600);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__fd_fd_service__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__bl__ = __webpack_require__(599);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_page_box_page_box_module__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__directives_directives_module__ = __webpack_require__(37);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var BlPageModule = (function () {
    function BlPageModule() {
    }
    BlPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_4__bl__["a" /* BlPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_4__bl__["a" /* BlPage */]),
                __WEBPACK_IMPORTED_MODULE_5__components_page_box_page_box_module__["PageBoxComponentModule"],
                __WEBPACK_IMPORTED_MODULE_6__directives_directives_module__["a" /* DirectivesModule */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_2__bl_bl_service__["a" /* BlService */],
                __WEBPACK_IMPORTED_MODULE_3__fd_fd_service__["a" /* FdService */],
            ],
        })
    ], BlPageModule);
    return BlPageModule;
}());

//# sourceMappingURL=bl.module.js.map

/***/ }),
/* 734 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CommemorationDayPageModule", function() { return CommemorationDayPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__commemorationday__ = __webpack_require__(719);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__commemorationday_service__ = __webpack_require__(1241);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_page_box_page_box_module__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_corner_badge_corner_badge_module__ = __webpack_require__(176);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__pipes_pipes_module__ = __webpack_require__(23);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var CommemorationDayPageModule = (function () {
    function CommemorationDayPageModule() {
    }
    CommemorationDayPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__commemorationday__["a" /* CommemorationDayPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_6__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__commemorationday__["a" /* CommemorationDayPage */]),
                __WEBPACK_IMPORTED_MODULE_4__components_page_box_page_box_module__["PageBoxComponentModule"],
                __WEBPACK_IMPORTED_MODULE_5__components_corner_badge_corner_badge_module__["a" /* CornerBadgeComponentModule */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__commemorationday_service__["a" /* CommemorationDayService */]
            ],
        })
    ], CommemorationDayPageModule);
    return CommemorationDayPageModule;
}());

//# sourceMappingURL=commemorationday.module.js.map

/***/ }),
/* 735 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BrPageModule", function() { return BrPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__br__ = __webpack_require__(602);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__br_service__ = __webpack_require__(165);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_page_box_page_box_module__ = __webpack_require__(42);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var BrPageModule = (function () {
    function BrPageModule() {
    }
    BrPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__br__["a" /* BrPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__br__["a" /* BrPage */]),
                __WEBPACK_IMPORTED_MODULE_4__components_page_box_page_box_module__["PageBoxComponentModule"]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__br_service__["a" /* BrService */],
            ],
        })
    ], BrPageModule);
    return BrPageModule;
}());

//# sourceMappingURL=br.module.js.map

/***/ }),
/* 736 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CommentPageModule", function() { return CommentPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__comment__ = __webpack_require__(613);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__directives_directives_module__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box_module__ = __webpack_require__(38);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var CommentPageModule = (function () {
    function CommentPageModule() {
    }
    CommentPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_1__comment__["a" /* CommentPage */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["IonicModule"],
                __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box_module__["a" /* ModalBoxComponentModule */],
                __WEBPACK_IMPORTED_MODULE_3__directives_directives_module__["a" /* DirectivesModule */]
            ],
            providers: [],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_1__comment__["a" /* CommentPage */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_1__comment__["a" /* CommentPage */]
            ]
        })
    ], CommentPageModule);
    return CommentPageModule;
}());

//# sourceMappingURL=comment.module.js.map

/***/ }),
/* 737 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DailyMemosPageModule", function() { return DailyMemosPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dailymemos__ = __webpack_require__(718);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_page_box_page_box_module__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_corner_badge_corner_badge_module__ = __webpack_require__(176);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__pipes_pipes_module__ = __webpack_require__(23);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var DailyMemosPageModule = (function () {
    function DailyMemosPageModule() {
    }
    DailyMemosPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__dailymemos__["a" /* DailyMemosPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_5__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__dailymemos__["a" /* DailyMemosPage */]),
                __WEBPACK_IMPORTED_MODULE_3__components_page_box_page_box_module__["PageBoxComponentModule"],
                __WEBPACK_IMPORTED_MODULE_4__components_corner_badge_corner_badge_module__["a" /* CornerBadgeComponentModule */]
            ],
            providers: [],
        })
    ], DailyMemosPageModule);
    return DailyMemosPageModule;
}());

//# sourceMappingURL=dailymemos.module.js.map

/***/ }),
/* 738 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DtSelectPageModule", function() { return DtSelectPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__dtselect__ = __webpack_require__(720);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_modal_box_modal_box_module__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_date_picker_date_picker_module__ = __webpack_require__(177);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__pipes_pipes_module__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ion_multi_picker__ = __webpack_require__(167);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ion_multi_picker___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_ion_multi_picker__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var DtSelectPageModule = (function () {
    function DtSelectPageModule() {
    }
    DtSelectPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_1__dtselect__["a" /* DtSelectPage */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["IonicModule"],
                __WEBPACK_IMPORTED_MODULE_3__components_modal_box_modal_box_module__["a" /* ModalBoxComponentModule */],
                __WEBPACK_IMPORTED_MODULE_4__components_date_picker_date_picker_module__["a" /* DatePickerComponentModule */],
                __WEBPACK_IMPORTED_MODULE_5__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_6_ion_multi_picker__["MultiPickerModule"]
            ],
            providers: [],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_1__dtselect__["a" /* DtSelectPage */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_1__dtselect__["a" /* DtSelectPage */]
            ]
        })
    ], DtSelectPageModule);
    return DtSelectPageModule;
}());

//# sourceMappingURL=dtselect.module.js.map

/***/ }),
/* 739 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DoPageModule", function() { return DoPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__do__ = __webpack_require__(607);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__do_service__ = __webpack_require__(608);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_task_list_task_list_module__ = __webpack_require__(740);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_page_box_page_box_module__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__pipes_pipes_module__ = __webpack_require__(23);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var DoPageModule = (function () {
    function DoPageModule() {
    }
    DoPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__do__["a" /* DoPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_6__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"],
                __WEBPACK_IMPORTED_MODULE_4__components_task_list_task_list_module__["a" /* TaskListComponentModule */],
                __WEBPACK_IMPORTED_MODULE_5__components_page_box_page_box_module__["PageBoxComponentModule"]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__do_service__["a" /* DoService */]
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_2__do__["a" /* DoPage */],
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__do__["a" /* DoPage */],
            ]
        })
    ], DoPageModule);
    return DoPageModule;
}());

//# sourceMappingURL=do.module.js.map

/***/ }),
/* 740 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TaskListComponentModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__task_list__ = __webpack_require__(1242);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pipes_pipes_module__ = __webpack_require__(23);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var TaskListComponentModule = (function () {
    function TaskListComponentModule() {
    }
    TaskListComponentModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__task_list__["a" /* TaskListComponent */],
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_2__task_list__["a" /* TaskListComponent */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_3__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__task_list__["a" /* TaskListComponent */])
            ],
            providers: [],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__task_list__["a" /* TaskListComponent */],
            ],
            schemas: [__WEBPACK_IMPORTED_MODULE_0__angular_core__["CUSTOM_ELEMENTS_SCHEMA"]]
        })
    ], TaskListComponentModule);
    return TaskListComponentModule;
}());

//# sourceMappingURL=task-list.module.js.map

/***/ }),
/* 741 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FdPageModule", function() { return FdPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__fd__ = __webpack_require__(598);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__fd_service__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box_module__ = __webpack_require__(38);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var FdPageModule = (function () {
    function FdPageModule() {
    }
    FdPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__fd__["a" /* FdPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__fd__["a" /* FdPage */]),
                __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box_module__["a" /* ModalBoxComponentModule */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__fd_service__["a" /* FdService */],
            ],
        })
    ], FdPageModule);
    return FdPageModule;
}());

//# sourceMappingURL=fd.module.js.map

/***/ }),
/* 742 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GcPageModule", function() { return GcPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__gc__ = __webpack_require__(594);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__gc_service__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__fs_fs_service__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_modal_box_modal_box_module__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__directives_directives_module__ = __webpack_require__(37);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var GcPageModule = (function () {
    function GcPageModule() {
    }
    GcPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__gc__["a" /* GcPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__gc__["a" /* GcPage */]),
                __WEBPACK_IMPORTED_MODULE_5__components_modal_box_modal_box_module__["a" /* ModalBoxComponentModule */],
                __WEBPACK_IMPORTED_MODULE_6__directives_directives_module__["a" /* DirectivesModule */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__gc_service__["a" /* GcService */], __WEBPACK_IMPORTED_MODULE_4__fs_fs_service__["a" /* FsService */]
            ],
        })
    ], GcPageModule);
    return GcPageModule;
}());

//# sourceMappingURL=gc.module.js.map

/***/ }),
/* 743 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GaPageModule", function() { return GaPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ga__ = __webpack_require__(595);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__gc_gc_service__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box_module__ = __webpack_require__(38);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var GaPageModule = (function () {
    function GaPageModule() {
    }
    GaPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__ga__["a" /* GaPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__ga__["a" /* GaPage */]),
                __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box_module__["a" /* ModalBoxComponentModule */]
            ],
            providers: [__WEBPACK_IMPORTED_MODULE_3__gc_gc_service__["a" /* GcService */]
            ],
        })
    ], GaPageModule);
    return GaPageModule;
}());

//# sourceMappingURL=ga.module.js.map

/***/ }),
/* 744 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GlPageModule", function() { return GlPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__gl__ = __webpack_require__(593);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__gl_service__ = __webpack_require__(121);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__gc_gc_service__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_page_box_page_box_module__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__directives_directives_module__ = __webpack_require__(37);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var GlPageModule = (function () {
    function GlPageModule() {
    }
    GlPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__gl__["a" /* GlPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__gl__["a" /* GlPage */]),
                __WEBPACK_IMPORTED_MODULE_5__components_page_box_page_box_module__["PageBoxComponentModule"], __WEBPACK_IMPORTED_MODULE_6__directives_directives_module__["a" /* DirectivesModule */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__gl_service__["a" /* GlService */], __WEBPACK_IMPORTED_MODULE_4__gc_gc_service__["a" /* GcService */]
            ],
        })
    ], GlPageModule);
    return GlPageModule;
}());

//# sourceMappingURL=gl.module.js.map

/***/ }),
/* 745 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HPageModule", function() { return HPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__h__ = __webpack_require__(497);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ion2_calendar__ = __webpack_require__(498);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__h_service__ = __webpack_require__(543);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_backComponent_back_module__ = __webpack_require__(175);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_in_app_browser__ = __webpack_require__(551);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__tdl_tdl_module__ = __webpack_require__(280);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_testData_service__ = __webpack_require__(553);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};









var HPageModule = (function () {
    function HPageModule() {
    }
    HPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__h__["a" /* HPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"],
                __WEBPACK_IMPORTED_MODULE_3__components_ion2_calendar__["b" /* CalendarModule */],
                __WEBPACK_IMPORTED_MODULE_5__components_backComponent_back_module__["BackComponentModule"],
                __WEBPACK_IMPORTED_MODULE_7__tdl_tdl_module__["TdlPageModule"]
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_2__h__["a" /* HPage */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_4__h_service__["a" /* HService */],
                __WEBPACK_IMPORTED_MODULE_6__ionic_native_in_app_browser__["a" /* InAppBrowser */],
                __WEBPACK_IMPORTED_MODULE_8__service_testData_service__["a" /* TestDataService */]
            ],
        })
    ], HPageModule);
    return HPageModule;
}());

//# sourceMappingURL=h.module.js.map

/***/ }),
/* 746 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GloryPageModule", function() { return GloryPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__glory__ = __webpack_require__(723);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var GloryPageModule = (function () {
    function GloryPageModule() {
    }
    GloryPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__glory__["a" /* GloryPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__glory__["a" /* GloryPage */])
            ],
            providers: [],
        })
    ], GloryPageModule);
    return GloryPageModule;
}());

//# sourceMappingURL=glory.module.js.map

/***/ }),
/* 747 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JhPageModule", function() { return JhPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__jh__ = __webpack_require__(612);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_modal_box_modal_box_module__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__directives_directives_module__ = __webpack_require__(37);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var JhPageModule = (function () {
    function JhPageModule() {
    }
    JhPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_1__jh__["a" /* JhPage */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["IonicModule"],
                __WEBPACK_IMPORTED_MODULE_3__components_modal_box_modal_box_module__["a" /* ModalBoxComponentModule */],
                __WEBPACK_IMPORTED_MODULE_4__directives_directives_module__["a" /* DirectivesModule */]
            ],
            providers: [],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_1__jh__["a" /* JhPage */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_1__jh__["a" /* JhPage */]
            ]
        })
    ], JhPageModule);
    return JhPageModule;
}());

//# sourceMappingURL=jh.module.js.map

/***/ }),
/* 748 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HlPageModule", function() { return HlPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__hl__ = __webpack_require__(592);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hl_service__ = __webpack_require__(1243);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var HlPageModule = (function () {
    function HlPageModule() {
    }
    HlPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__hl__["a" /* HlPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__hl__["a" /* HlPage */]),
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__hl_service__["a" /* HlService */],
            ],
        })
    ], HlPageModule);
    return HlPageModule;
}());

//# sourceMappingURL=hl.module.js.map

/***/ }),
/* 749 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LogPageModule", function() { return LogPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__log__ = __webpack_require__(604);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_page_box_page_box_module__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__directives_directives_module__ = __webpack_require__(37);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var LogPageModule = (function () {
    function LogPageModule() {
    }
    LogPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__log__["a" /* LogPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__log__["a" /* LogPage */]),
                __WEBPACK_IMPORTED_MODULE_3__components_page_box_page_box_module__["PageBoxComponentModule"],
                __WEBPACK_IMPORTED_MODULE_4__directives_directives_module__["a" /* DirectivesModule */]
            ],
            providers: [],
        })
    ], LogPageModule);
    return LogPageModule;
}());

//# sourceMappingURL=log.module.js.map

/***/ }),
/* 750 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocationPageModule", function() { return LocationPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__location__ = __webpack_require__(620);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_angular2_baidu_map__ = __webpack_require__(751);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box_module__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_ionic2_auto_complete__ = __webpack_require__(621);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_restful_LocationSearchService__ = __webpack_require__(274);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var LocationPageModule = (function () {
    function LocationPageModule() {
    }
    LocationPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_1__location__["a" /* LocationPage */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["IonicModule"],
                __WEBPACK_IMPORTED_MODULE_5_ionic2_auto_complete__["b" /* AutoCompleteModule */],
                __WEBPACK_IMPORTED_MODULE_3_angular2_baidu_map__["a" /* BaiduMapModule */].forRoot({ ak: '98TMZR5WnSwbH5FdnHHDe0917UlcDfCL' }),
                __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box_module__["a" /* ModalBoxComponentModule */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_6__service_restful_LocationSearchService__["a" /* LocationSearchService */]
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_1__location__["a" /* LocationPage */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_1__location__["a" /* LocationPage */]
            ],
            schemas: [__WEBPACK_IMPORTED_MODULE_0__angular_core__["CUSTOM_ELEMENTS_SCHEMA"]]
        })
    ], LocationPageModule);
    return LocationPageModule;
}());

//# sourceMappingURL=location.module.js.map

/***/ }),
/* 751 */,
/* 752 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LpPageModule", function() { return LpPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lp__ = __webpack_require__(554);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lp_service__ = __webpack_require__(252);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__br_br_service__ = __webpack_require__(165);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var LpPageModule = (function () {
    function LpPageModule() {
    }
    LpPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__lp__["a" /* LpPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__lp__["a" /* LpPage */]),
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__lp_service__["a" /* LpService */],
                __WEBPACK_IMPORTED_MODULE_4__br_br_service__["a" /* BrService */],
            ],
        })
    ], LpPageModule);
    return LpPageModule;
}());

//# sourceMappingURL=lp.module.js.map

/***/ }),
/* 753 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MPageModule", function() { return MPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__m__ = __webpack_require__(583);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var MPageModule = (function () {
    function MPageModule() {
    }
    MPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__m__["a" /* MPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__m__["a" /* MPage */]),
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_2__m__["a" /* MPage */],
            ],
        })
    ], MPageModule);
    return MPageModule;
}());

//# sourceMappingURL=m.module.js.map

/***/ }),
/* 754 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LsPageModule", function() { return LsPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ls__ = __webpack_require__(580);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ls_service__ = __webpack_require__(164);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__br_br_service__ = __webpack_require__(165);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var LsPageModule = (function () {
    function LsPageModule() {
    }
    LsPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__ls__["a" /* LsPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__ls__["a" /* LsPage */]),
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__ls_service__["a" /* LsService */],
                __WEBPACK_IMPORTED_MODULE_4__br_br_service__["a" /* BrService */],
            ],
        })
    ], LsPageModule);
    return LsPageModule;
}());

//# sourceMappingURL=ls.module.js.map

/***/ }),
/* 755 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MemoPageModule", function() { return MemoPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__memo__ = __webpack_require__(611);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_corner_badge_corner_badge_module__ = __webpack_require__(176);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pipes_pipes_module__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_page_box_page_box_module__ = __webpack_require__(42);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var MemoPageModule = (function () {
    function MemoPageModule() {
    }
    MemoPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__memo__["a" /* MemoPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_4__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__memo__["a" /* MemoPage */]),
                __WEBPACK_IMPORTED_MODULE_5__components_page_box_page_box_module__["PageBoxComponentModule"],
                __WEBPACK_IMPORTED_MODULE_3__components_corner_badge_corner_badge_module__["a" /* CornerBadgeComponentModule */]
            ],
            providers: [],
        })
    ], MemoPageModule);
    return MemoPageModule;
}());

//# sourceMappingURL=memo.module.js.map

/***/ }),
/* 756 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PPageModule", function() { return PPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__p__ = __webpack_require__(582);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__p_service__ = __webpack_require__(1244);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_page_box_page_box_module__ = __webpack_require__(42);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var PPageModule = (function () {
    function PPageModule() {
    }
    PPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__p__["a" /* PPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__p__["a" /* PPage */]),
                __WEBPACK_IMPORTED_MODULE_4__components_page_box_page_box_module__["PageBoxComponentModule"],
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__p_service__["a" /* PService */],
            ],
        })
    ], PPageModule);
    return PPageModule;
}());

//# sourceMappingURL=p.module.js.map

/***/ }),
/* 757 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PcPageModule", function() { return PcPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pc__ = __webpack_require__(587);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pc_service__ = __webpack_require__(588);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box_module__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__directives_directives_module__ = __webpack_require__(37);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var PcPageModule = (function () {
    function PcPageModule() {
    }
    PcPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__pc__["a" /* PcPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__pc__["a" /* PcPage */]),
                __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box_module__["a" /* ModalBoxComponentModule */],
                __WEBPACK_IMPORTED_MODULE_5__directives_directives_module__["a" /* DirectivesModule */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__pc_service__["a" /* PcService */],
            ],
        })
    ], PcPageModule);
    return PcPageModule;
}());

//# sourceMappingURL=pc.module.js.map

/***/ }),
/* 758 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PdPageModule", function() { return PdPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pd__ = __webpack_require__(259);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pd_service__ = __webpack_require__(590);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box_module__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__directives_directives_module__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__pipes_pipes_module__ = __webpack_require__(23);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var PdPageModule = (function () {
    function PdPageModule() {
    }
    PdPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__pd__["b" /* PdPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__pd__["b" /* PdPage */]),
                __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box_module__["a" /* ModalBoxComponentModule */],
                __WEBPACK_IMPORTED_MODULE_5__directives_directives_module__["a" /* DirectivesModule */],
                __WEBPACK_IMPORTED_MODULE_6__pipes_pipes_module__["a" /* PipesModule */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__pd_service__["a" /* PdService */],
            ],
        })
    ], PdPageModule);
    return PdPageModule;
}());

//# sourceMappingURL=pd.module.js.map

/***/ }),
/* 759 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlPageModule", function() { return PlPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pl__ = __webpack_require__(586);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pl_service__ = __webpack_require__(158);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_page_box_page_box_module__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__directives_directives_module__ = __webpack_require__(37);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var PlPageModule = (function () {
    function PlPageModule() {
    }
    PlPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__pl__["a" /* PlPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__pl__["a" /* PlPage */]),
                __WEBPACK_IMPORTED_MODULE_4__components_page_box_page_box_module__["PageBoxComponentModule"],
                __WEBPACK_IMPORTED_MODULE_5__directives_directives_module__["a" /* DirectivesModule */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__pl_service__["a" /* PlService */],
            ],
        })
    ], PlPageModule);
    return PlPageModule;
}());

//# sourceMappingURL=pl.module.js.map

/***/ }),
/* 760 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PfPageModule", function() { return PfPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pf__ = __webpack_require__(581);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ls_ls_service__ = __webpack_require__(164);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ps_ps_service__ = __webpack_require__(122);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var PfPageModule = (function () {
    function PfPageModule() {
    }
    PfPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__pf__["a" /* PfPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__pf__["a" /* PfPage */]),
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__ls_ls_service__["a" /* LsService */],
                __WEBPACK_IMPORTED_MODULE_4__ps_ps_service__["a" /* PsService */],
            ]
        })
    ], PfPageModule);
    return PfPageModule;
}());

//# sourceMappingURL=pf.module.js.map

/***/ }),
/* 761 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlanPageModule", function() { return PlanPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__plan__ = __webpack_require__(618);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_modal_box_modal_box_module__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pipes_pipes_module__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__directives_directives_module__ = __webpack_require__(37);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var PlanPageModule = (function () {
    function PlanPageModule() {
    }
    PlanPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_1__plan__["a" /* PlanPage */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["IonicModule"],
                __WEBPACK_IMPORTED_MODULE_4__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_3__components_modal_box_modal_box_module__["a" /* ModalBoxComponentModule */],
                __WEBPACK_IMPORTED_MODULE_5__directives_directives_module__["a" /* DirectivesModule */]
            ],
            providers: [],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_1__plan__["a" /* PlanPage */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_1__plan__["a" /* PlanPage */]
            ]
        })
    ], PlanPageModule);
    return PlanPageModule;
}());

//# sourceMappingURL=plan.module.js.map

/***/ }),
/* 762 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RemindPageModule", function() { return RemindPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__remind__ = __webpack_require__(615);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_scroll_select_scroll_select_module__ = __webpack_require__(763);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box_module__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_ion_multi_picker__ = __webpack_require__(167);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_ion_multi_picker___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_ion_multi_picker__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_date_picker_date_picker_module__ = __webpack_require__(177);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__directives_directives_module__ = __webpack_require__(37);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








var RemindPageModule = (function () {
    function RemindPageModule() {
    }
    RemindPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_1__remind__["a" /* RemindPage */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["IonicModule"],
                __WEBPACK_IMPORTED_MODULE_4__components_modal_box_modal_box_module__["a" /* ModalBoxComponentModule */],
                __WEBPACK_IMPORTED_MODULE_3__components_scroll_select_scroll_select_module__["a" /* ScrollSelectComponentModule */],
                __WEBPACK_IMPORTED_MODULE_5_ion_multi_picker__["MultiPickerModule"], __WEBPACK_IMPORTED_MODULE_6__components_date_picker_date_picker_module__["a" /* DatePickerComponentModule */], __WEBPACK_IMPORTED_MODULE_7__directives_directives_module__["a" /* DirectivesModule */]
            ],
            providers: [],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_1__remind__["a" /* RemindPage */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_1__remind__["a" /* RemindPage */]
            ],
            schemas: [__WEBPACK_IMPORTED_MODULE_0__angular_core__["CUSTOM_ELEMENTS_SCHEMA"]]
        })
    ], RemindPageModule);
    return RemindPageModule;
}());

//# sourceMappingURL=remind.module.js.map

/***/ }),
/* 763 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ScrollSelectComponentModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__scroll_select__ = __webpack_require__(1245);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__scroll_select_option__ = __webpack_require__(764);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pipes_pipes_module__ = __webpack_require__(23);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var ScrollSelectComponentModule = (function () {
    function ScrollSelectComponentModule() {
    }
    ScrollSelectComponentModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__scroll_select__["a" /* ScrollSelectComponent */],
                __WEBPACK_IMPORTED_MODULE_3__scroll_select_option__["a" /* ScrollSelectOptionComponent */]
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_2__scroll_select__["a" /* ScrollSelectComponent */],
                __WEBPACK_IMPORTED_MODULE_3__scroll_select_option__["a" /* ScrollSelectOptionComponent */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_4__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__scroll_select__["a" /* ScrollSelectComponent */])
            ],
            providers: [],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__scroll_select__["a" /* ScrollSelectComponent */],
                __WEBPACK_IMPORTED_MODULE_3__scroll_select_option__["a" /* ScrollSelectOptionComponent */]
            ],
            schemas: [__WEBPACK_IMPORTED_MODULE_0__angular_core__["CUSTOM_ELEMENTS_SCHEMA"]]
        })
    ], ScrollSelectComponentModule);
    return ScrollSelectComponentModule;
}());

//# sourceMappingURL=scroll-select.module.js.map

/***/ }),
/* 764 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ScrollSelectOptionComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

/**
 * Generated class for the ScrollSelectComponent component.
 *
 * See https://angular.io/api/core/Component for more info on Angular
 * Components.
 */
var ScrollSelectOptionComponent = (function () {
    function ScrollSelectOptionComponent() {
        this.value = "";
    }
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])("value"),
        __metadata("design:type", Object)
    ], ScrollSelectOptionComponent.prototype, "value", void 0);
    ScrollSelectOptionComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'scroll-select-option',
            template: "\n  <div class=\"option align-items-center\">\n    <ng-content></ng-content>\n  </div>\n  "
        }),
        __metadata("design:paramtypes", [])
    ], ScrollSelectOptionComponent);
    return ScrollSelectOptionComponent;
}());

//# sourceMappingURL=scroll-select-option.js.map

/***/ }),
/* 765 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PsPageModule", function() { return PsPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ps__ = __webpack_require__(601);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ps_service__ = __webpack_require__(122);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_page_box_page_box_module__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_date_picker_date_picker_module__ = __webpack_require__(177);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var PsPageModule = (function () {
    function PsPageModule() {
    }
    PsPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__ps__["a" /* PsPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__ps__["a" /* PsPage */]),
                __WEBPACK_IMPORTED_MODULE_4__components_page_box_page_box_module__["PageBoxComponentModule"],
                __WEBPACK_IMPORTED_MODULE_5__components_date_picker_date_picker_module__["a" /* DatePickerComponentModule */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__ps_service__["a" /* PsService */],
            ],
            schemas: [__WEBPACK_IMPORTED_MODULE_0__angular_core__["CUSTOM_ELEMENTS_SCHEMA"]]
        })
    ], PsPageModule);
    return PsPageModule;
}());

//# sourceMappingURL=ps.module.js.map

/***/ }),
/* 766 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RepeatPageModule", function() { return RepeatPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__repeat__ = __webpack_require__(614);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__directives_directives_module__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_radio_select_radio_select_module__ = __webpack_require__(767);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_radio_spinner_radio_spinner_module__ = __webpack_require__(1247);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_date_picker_date_picker_module__ = __webpack_require__(177);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_modal_box_modal_box_module__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__pipes_pipes_module__ = __webpack_require__(23);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};









var RepeatPageModule = (function () {
    function RepeatPageModule() {
    }
    RepeatPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_1__repeat__["a" /* RepeatPage */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["IonicModule"],
                __WEBPACK_IMPORTED_MODULE_7__components_modal_box_modal_box_module__["a" /* ModalBoxComponentModule */],
                __WEBPACK_IMPORTED_MODULE_3__directives_directives_module__["a" /* DirectivesModule */],
                __WEBPACK_IMPORTED_MODULE_4__components_radio_select_radio_select_module__["a" /* RadioSelectComponentModule */],
                __WEBPACK_IMPORTED_MODULE_5__components_radio_spinner_radio_spinner_module__["a" /* RadioSpinnerComponentModule */],
                __WEBPACK_IMPORTED_MODULE_6__components_date_picker_date_picker_module__["a" /* DatePickerComponentModule */],
                __WEBPACK_IMPORTED_MODULE_8__pipes_pipes_module__["a" /* PipesModule */],
            ],
            providers: [],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_1__repeat__["a" /* RepeatPage */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_1__repeat__["a" /* RepeatPage */]
            ]
        })
    ], RepeatPageModule);
    return RepeatPageModule;
}());

//# sourceMappingURL=repeat.module.js.map

/***/ }),
/* 767 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RadioSelectComponentModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__radio_select__ = __webpack_require__(1246);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pipes_pipes_module__ = __webpack_require__(23);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var RadioSelectComponentModule = (function () {
    function RadioSelectComponentModule() {
    }
    RadioSelectComponentModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__radio_select__["a" /* RadioSelectComponent */],
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_2__radio_select__["a" /* RadioSelectComponent */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_3__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__radio_select__["a" /* RadioSelectComponent */])
            ],
            providers: [],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__radio_select__["a" /* RadioSelectComponent */],
            ],
            schemas: [__WEBPACK_IMPORTED_MODULE_0__angular_core__["CUSTOM_ELEMENTS_SCHEMA"]]
        })
    ], RadioSelectComponentModule);
    return RadioSelectComponentModule;
}());

//# sourceMappingURL=radio-select.module.js.map

/***/ }),
/* 768 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RPageModule", function() { return RPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__r__ = __webpack_require__(584);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__r_service__ = __webpack_require__(585);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var RPageModule = (function () {
    function RPageModule() {
    }
    RPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__r__["a" /* RPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__r__["a" /* RPage */]),
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__r_service__["a" /* RService */],
            ],
        })
    ], RPageModule);
    return RPageModule;
}());

//# sourceMappingURL=r.module.js.map

/***/ }),
/* 769 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SsPageModule", function() { return SsPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ss__ = __webpack_require__(591);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ss_service__ = __webpack_require__(157);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_page_box_page_box_module__ = __webpack_require__(42);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var SsPageModule = (function () {
    function SsPageModule() {
    }
    SsPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__ss__["a" /* SsPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__ss__["a" /* SsPage */]),
                __WEBPACK_IMPORTED_MODULE_4__components_page_box_page_box_module__["PageBoxComponentModule"]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__ss_service__["a" /* SsService */],
            ],
        })
    ], SsPageModule);
    return SsPageModule;
}());

//# sourceMappingURL=ss.module.js.map

/***/ }),
/* 770 */,
/* 771 */,
/* 772 */,
/* 773 */,
/* 774 */,
/* 775 */,
/* 776 */,
/* 777 */,
/* 778 */,
/* 779 */,
/* 780 */,
/* 781 */,
/* 782 */,
/* 783 */,
/* 784 */,
/* 785 */,
/* 786 */,
/* 787 */,
/* 788 */,
/* 789 */,
/* 790 */,
/* 791 */,
/* 792 */,
/* 793 */,
/* 794 */,
/* 795 */,
/* 796 */,
/* 797 */,
/* 798 */,
/* 799 */,
/* 800 */,
/* 801 */,
/* 802 */,
/* 803 */,
/* 804 */,
/* 805 */,
/* 806 */,
/* 807 */,
/* 808 */,
/* 809 */,
/* 810 */,
/* 811 */,
/* 812 */,
/* 813 */,
/* 814 */,
/* 815 */,
/* 816 */,
/* 817 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser_dynamic__ = __webpack_require__(818);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app_module__ = __webpack_require__(822);


Object(__WEBPACK_IMPORTED_MODULE_0__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_1__app_module__["a" /* AppModule */]);
//# sourceMappingURL=main.js.map

/***/ }),
/* 818 */,
/* 819 */,
/* 820 */,
/* 821 */,
/* 822 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__(57);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_status_bar__ = __webpack_require__(579);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_splash_screen__ = __webpack_require__(1266);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_storage__ = __webpack_require__(1267);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_file__ = __webpack_require__(102);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_file_opener__ = __webpack_require__(278);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_file_path__ = __webpack_require__(279);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__ionic_native_file_transfer__ = __webpack_require__(275);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__ionic_native_local_notifications__ = __webpack_require__(546);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__ionic_native_sqlite__ = __webpack_require__(496);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__ionic_native_calendar__ = __webpack_require__(501);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__ionic_native_device__ = __webpack_require__(103);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__ionic_native_sqlite_porter__ = __webpack_require__(492);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__ionic_native_background_mode__ = __webpack_require__(810);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__ionic_native_android_permissions__ = __webpack_require__(573);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__ionic_native_http__ = __webpack_require__(490);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__angular_common_http__ = __webpack_require__(489);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__ionic_native_network__ = __webpack_require__(576);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__ionic_native_contacts__ = __webpack_require__(544);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__ionic_native_vibration__ = __webpack_require__(244);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__ionic_native_geolocation__ = __webpack_require__(577);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__ionic_native_native_audio__ = __webpack_require__(245);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__ionic_native_app_version__ = __webpack_require__(606);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__ionic_native_clipboard__ = __webpack_require__(589);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__ionic_native_camera__ = __webpack_require__(276);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__ionic_native_chooser__ = __webpack_require__(277);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__angular_platform_browser_animations__ = __webpack_require__(1269);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__angular_router__ = __webpack_require__(1271);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__app_component__ = __webpack_require__(1272);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__service_util_service_sqlite_exec__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__service_cordova_permissions_service__ = __webpack_require__(572);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__service_config_sqlite_config__ = __webpack_require__(217);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__service_restful_aibutlersev__ = __webpack_require__(488);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__service_util_service_restful_client__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__service_config_restful_config__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__service_restful_syncsev__ = __webpack_require__(112);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__service_sqlite_sqlite_init__ = __webpack_require__(574);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__service_restful_personsev__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__service_restful_smssev__ = __webpack_require__(258);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__service_restful_authsev__ = __webpack_require__(155);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43__service_restful_agdsev__ = __webpack_require__(111);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44__service_cordova_assistant_service__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45__service_restful_blasev__ = __webpack_require__(256);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46__service_restful_bacsev__ = __webpack_require__(110);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47__service_restful_shaesev__ = __webpack_require__(107);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48__service_restful_datasev__ = __webpack_require__(108);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49__service_util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50__ws_websocket_module__ = __webpack_require__(1276);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51__service_cordova_feedback_service__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_52__service_cordova_alarm_service__ = __webpack_require__(1277);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_53__service_config_user_config__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_54__my_hammer_config__ = __webpack_require__(1278);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_55__ionic_native_keyboard__ = __webpack_require__(80);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_56__service_pagecom_pgbusi_service__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_57__ionic_native_screen_orientation__ = __webpack_require__(812);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_58__service_cordova_contacts_service__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_59__service_cordova_network_service__ = __webpack_require__(161);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_60__service_cordova_localcalendar_service__ = __webpack_require__(219);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_61__service_cordova_notifications_service__ = __webpack_require__(120);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_62__service_cordova_jpush_service__ = __webpack_require__(257);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_63__service_cordova_rabbitmq_service__ = __webpack_require__(162);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_64__service_cordova_mipush_service__ = __webpack_require__(1280);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_65__ionic_native_badge__ = __webpack_require__(547);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_66__service_util_service_remind_service__ = __webpack_require__(548);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_67__pages_fs_fs_module__ = __webpack_require__(1281);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_68__pages_al_al_module__ = __webpack_require__(730);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_69__pages_agenda_agenda_module__ = __webpack_require__(728);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_70__pages_memo_memo_module__ = __webpack_require__(755);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_71__pages_dailymemos_dailymemos_module__ = __webpack_require__(737);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_72__pages_bl_bl_module__ = __webpack_require__(733);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_73__pages_br_br_module__ = __webpack_require__(735);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_74__pages_fd_fd_module__ = __webpack_require__(741);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_75__pages_ga_ga_module__ = __webpack_require__(743);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_76__pages_gc_gc_module__ = __webpack_require__(742);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_77__pages_gl_gl_module__ = __webpack_require__(744);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_78__pages_h_h_module__ = __webpack_require__(745);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_79__pages_hl_hl_module__ = __webpack_require__(748);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_80__pages_lp_lp_module__ = __webpack_require__(752);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_81__pages_ls_ls_module__ = __webpack_require__(754);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_82__pages_m_m_module__ = __webpack_require__(753);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_83__pages_glory_glory_module__ = __webpack_require__(746);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_84__pages_p_p_module__ = __webpack_require__(756);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_85__pages_pc_pc_module__ = __webpack_require__(757);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_86__pages_pd_pd_module__ = __webpack_require__(758);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_87__pages_pf_pf_module__ = __webpack_require__(760);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_88__pages_pl_pl_module__ = __webpack_require__(759);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_89__pages_ps_ps_module__ = __webpack_require__(765);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_90__pages_r_r_module__ = __webpack_require__(768);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_91__pages_ss_ss_module__ = __webpack_require__(769);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_92__pages_tdl_tdl_module__ = __webpack_require__(280);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_93__pipes_pipes_module__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_94__components_confirmbox_confirmbox_module__ = __webpack_require__(727);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_95__pages_log_log_module__ = __webpack_require__(749);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_96__pages_at_at_module__ = __webpack_require__(732);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_97__pages_do_do_module__ = __webpack_require__(739);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_98__pages_jh_jh_module__ = __webpack_require__(747);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_99__pages_comment_comment_module__ = __webpack_require__(736);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_100__pages_repeat_repeat_module__ = __webpack_require__(766);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_101__pages_remind_remind_module__ = __webpack_require__(762);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_102__pages_plan_plan_module__ = __webpack_require__(761);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_103__pages_invites_invites_module__ = __webpack_require__(1282);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_104__pages_location_location_module__ = __webpack_require__(750);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_105__pages_attach_attach_module__ = __webpack_require__(731);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_106__pages_commemorationday_commemorationday_module__ = __webpack_require__(734);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_107__components_card_list_card_list_module__ = __webpack_require__(1283);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_108__components_task_list_task_list_module__ = __webpack_require__(740);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_109__components_scroll_select_scroll_select_module__ = __webpack_require__(763);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_110__components_radio_select_radio_select_module__ = __webpack_require__(767);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_111__components_scroll_range_picker_scroll_range_picker_module__ = __webpack_require__(1288);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_112__components_speech_bubble_speech_bubble_module__ = __webpack_require__(1290);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_113_ngx_icons__ = __webpack_require__(813);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_114__jiguang_ionic_jpush__ = __webpack_require__(578);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_115__directives_directives_module__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_116_angular2_baidu_map__ = __webpack_require__(751);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_117__service_business_event_service__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_118__service_business_memo_service__ = __webpack_require__(85);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_119__service_business_remind_service__ = __webpack_require__(227);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_120__pages_aip_aip_module__ = __webpack_require__(729);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_121__providers_settings_settings__ = __webpack_require__(92);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_122__service_business_calendar_service__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_123__service_restful_LocationSearchService__ = __webpack_require__(274);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_124__service_business_effect_service__ = __webpack_require__(163);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_125__pages_dtselect_dtselect_module__ = __webpack_require__(738);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_126__pages_member_member_module__ = __webpack_require__(1292);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_127_ionic_gallery_modal__ = __webpack_require__(494);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
































































































































var AppModule = (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_30__app_component__["a" /* MyApp */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__["a" /* BrowserModule */],
                __WEBPACK_IMPORTED_MODULE_116_angular2_baidu_map__["a" /* BaiduMapModule */].forRoot({ ak: 'zD6zCIA9w7ItoXwxQ8IRPD4rk5E9GEew' }),
                __WEBPACK_IMPORTED_MODULE_127_ionic_gallery_modal__["c" /* GalleryModalModule */],
                __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["IonicModule"].forRoot(__WEBPACK_IMPORTED_MODULE_30__app_component__["a" /* MyApp */], {
                    tabsHideOnSubPages: 'true',
                    //强制使用IOS风格
                    mode: 'ios',
                }, {
                    links: [
                        { loadChildren: '../components/ai/answer/ai.module#AiComponentModule', name: 'AiComponent', segment: 'ai', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../components/ai/input/input.module#InputComponentModule', name: 'InputComponent', segment: 'input', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../components/ai/point/point.module#PointComponentModule', name: 'PointComponent', segment: 'point', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../components/backComponent/back.module#BackComponentModule', name: 'BackComponent', segment: 'back', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../components/loading/loading.module#LoadingComponentModule', name: 'LoadingComponent', segment: 'loading', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../components/page-box/page-box.module#PageBoxComponentModule', name: 'PageBoxComponent', segment: 'page-box', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../components/confirmbox/confirmbox.module#ConfirmboxComponentModule', name: 'ConfirmboxComponent', segment: 'confirmbox', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/agenda/agenda.module#AgendaPageModule', name: 'AgendaPage', segment: 'agenda', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/aip/aip.module#AipPageModule', name: 'AipPage', segment: 'aip', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/al/al.module#AlPageModule', name: 'AlPage', segment: 'al', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/attach/attach.module#AttachPageModule', name: 'AttachPage', segment: 'attach', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/at/at.module#AtPageModule', name: 'AtPage', segment: 'at', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/bl/bl.module#BlPageModule', name: 'BlPage', segment: 'bl', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/commemorationday/commemorationday.module#CommemorationDayPageModule', name: 'CommemorationDayPage', segment: 'commemorationday', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/br/br.module#BrPageModule', name: 'BrPage', segment: 'br', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/comment/comment.module#CommentPageModule', name: 'CommentPage', segment: 'comment', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/dailymemos/dailymemos.module#DailyMemosPageModule', name: 'DailyMemosPage', segment: 'dailymemos', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/dtselect/dtselect.module#DtSelectPageModule', name: 'DtSelectPage', segment: 'dtselect', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/do/do.module#DoPageModule', name: 'DoPage', segment: 'do', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/fd/fd.module#FdPageModule', name: 'FdPage', segment: 'fd', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/gc/gc.module#GcPageModule', name: 'GcPage', segment: 'gc', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/ga/ga.module#GaPageModule', name: 'GaPage', segment: 'ga', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/gl/gl.module#GlPageModule', name: 'GlPage', segment: 'gl', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/h/h.module#HPageModule', name: 'HPage', segment: 'h', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/glory/glory.module#GloryPageModule', name: 'GloryPage', segment: 'glory', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/jh/jh.module#JhPageModule', name: 'JhPage', segment: 'jh', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/hl/hl.module#HlPageModule', name: 'HlPage', segment: 'hl', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/log/log.module#LogPageModule', name: 'LogPage', segment: 'log', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/location/location.module#LocationPageModule', name: 'LocationPage', segment: 'location', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/lp/lp.module#LpPageModule', name: 'LpPage', segment: 'lp', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/m/m.module#MPageModule', name: 'MPage', segment: 'm', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/ls/ls.module#LsPageModule', name: 'LsPage', segment: 'ls', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/memo/memo.module#MemoPageModule', name: 'MemoPage', segment: 'memo', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/p/p.module#PPageModule', name: 'PPage', segment: 'p', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/pc/pc.module#PcPageModule', name: 'PcPage', segment: 'pc', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/pd/pd.module#PdPageModule', name: 'PdPage', segment: 'pd', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/pl/pl.module#PlPageModule', name: 'PlPage', segment: 'pl', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/pf/pf.module#PfPageModule', name: 'PfPage', segment: 'pf', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/plan/plan.module#PlanPageModule', name: 'PlanPage', segment: 'plan', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/remind/remind.module#RemindPageModule', name: 'RemindPage', segment: 'remind', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/ps/ps.module#PsPageModule', name: 'PsPage', segment: 'ps', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/repeat/repeat.module#RepeatPageModule', name: 'RepeatPage', segment: 'repeat', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/r/r.module#RPageModule', name: 'RPage', segment: 'r', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/ss/ss.module#SsPageModule', name: 'SsPage', segment: 'ss', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/tdl/tdl.module#TdlPageModule', name: 'TdlPage', segment: 'tdl', priority: 'low', defaultHistory: [] }
                    ]
                }),
                __WEBPACK_IMPORTED_MODULE_5__ionic_storage__["a" /* IonicStorageModule */].forRoot(),
                __WEBPACK_IMPORTED_MODULE_115__directives_directives_module__["a" /* DirectivesModule */],
                __WEBPACK_IMPORTED_MODULE_18__angular_common_http__["c" /* HttpClientModule */],
                __WEBPACK_IMPORTED_MODULE_28__angular_platform_browser_animations__["a" /* BrowserAnimationsModule */],
                __WEBPACK_IMPORTED_MODULE_29__angular_router__["a" /* RouterModule */],
                __WEBPACK_IMPORTED_MODULE_50__ws_websocket_module__["a" /* WebsocketModule */],
                __WEBPACK_IMPORTED_MODULE_113_ngx_icons__["a" /* WeatherIconsModule */],
                __WEBPACK_IMPORTED_MODULE_93__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_67__pages_fs_fs_module__["a" /* FsPageModule */],
                __WEBPACK_IMPORTED_MODULE_68__pages_al_al_module__["AlPageModule"],
                __WEBPACK_IMPORTED_MODULE_69__pages_agenda_agenda_module__["AgendaPageModule"],
                __WEBPACK_IMPORTED_MODULE_70__pages_memo_memo_module__["MemoPageModule"],
                __WEBPACK_IMPORTED_MODULE_71__pages_dailymemos_dailymemos_module__["DailyMemosPageModule"],
                __WEBPACK_IMPORTED_MODULE_72__pages_bl_bl_module__["BlPageModule"],
                __WEBPACK_IMPORTED_MODULE_73__pages_br_br_module__["BrPageModule"],
                __WEBPACK_IMPORTED_MODULE_74__pages_fd_fd_module__["FdPageModule"],
                __WEBPACK_IMPORTED_MODULE_75__pages_ga_ga_module__["GaPageModule"],
                __WEBPACK_IMPORTED_MODULE_76__pages_gc_gc_module__["GcPageModule"],
                __WEBPACK_IMPORTED_MODULE_77__pages_gl_gl_module__["GlPageModule"],
                __WEBPACK_IMPORTED_MODULE_78__pages_h_h_module__["HPageModule"],
                __WEBPACK_IMPORTED_MODULE_79__pages_hl_hl_module__["HlPageModule"],
                __WEBPACK_IMPORTED_MODULE_80__pages_lp_lp_module__["LpPageModule"],
                __WEBPACK_IMPORTED_MODULE_81__pages_ls_ls_module__["LsPageModule"],
                __WEBPACK_IMPORTED_MODULE_82__pages_m_m_module__["MPageModule"],
                __WEBPACK_IMPORTED_MODULE_83__pages_glory_glory_module__["GloryPageModule"],
                __WEBPACK_IMPORTED_MODULE_84__pages_p_p_module__["PPageModule"],
                __WEBPACK_IMPORTED_MODULE_85__pages_pc_pc_module__["PcPageModule"],
                __WEBPACK_IMPORTED_MODULE_86__pages_pd_pd_module__["PdPageModule"],
                __WEBPACK_IMPORTED_MODULE_87__pages_pf_pf_module__["PfPageModule"],
                __WEBPACK_IMPORTED_MODULE_88__pages_pl_pl_module__["PlPageModule"],
                __WEBPACK_IMPORTED_MODULE_89__pages_ps_ps_module__["PsPageModule"],
                __WEBPACK_IMPORTED_MODULE_90__pages_r_r_module__["RPageModule"],
                __WEBPACK_IMPORTED_MODULE_91__pages_ss_ss_module__["SsPageModule"],
                __WEBPACK_IMPORTED_MODULE_92__pages_tdl_tdl_module__["TdlPageModule"],
                __WEBPACK_IMPORTED_MODULE_95__pages_log_log_module__["LogPageModule"],
                __WEBPACK_IMPORTED_MODULE_96__pages_at_at_module__["AtPageModule"],
                __WEBPACK_IMPORTED_MODULE_97__pages_do_do_module__["DoPageModule"],
                __WEBPACK_IMPORTED_MODULE_98__pages_jh_jh_module__["JhPageModule"],
                __WEBPACK_IMPORTED_MODULE_120__pages_aip_aip_module__["AipPageModule"],
                __WEBPACK_IMPORTED_MODULE_100__pages_repeat_repeat_module__["RepeatPageModule"],
                __WEBPACK_IMPORTED_MODULE_101__pages_remind_remind_module__["RemindPageModule"],
                __WEBPACK_IMPORTED_MODULE_99__pages_comment_comment_module__["CommentPageModule"],
                __WEBPACK_IMPORTED_MODULE_102__pages_plan_plan_module__["PlanPageModule"],
                __WEBPACK_IMPORTED_MODULE_103__pages_invites_invites_module__["a" /* InvitesPageModule */],
                __WEBPACK_IMPORTED_MODULE_126__pages_member_member_module__["a" /* MemberPageModule */],
                __WEBPACK_IMPORTED_MODULE_104__pages_location_location_module__["LocationPageModule"],
                __WEBPACK_IMPORTED_MODULE_105__pages_attach_attach_module__["AttachPageModule"],
                __WEBPACK_IMPORTED_MODULE_106__pages_commemorationday_commemorationday_module__["CommemorationDayPageModule"],
                __WEBPACK_IMPORTED_MODULE_94__components_confirmbox_confirmbox_module__["ConfirmboxComponentModule"],
                __WEBPACK_IMPORTED_MODULE_107__components_card_list_card_list_module__["a" /* CardListComponentModule */],
                __WEBPACK_IMPORTED_MODULE_108__components_task_list_task_list_module__["a" /* TaskListComponentModule */],
                __WEBPACK_IMPORTED_MODULE_109__components_scroll_select_scroll_select_module__["a" /* ScrollSelectComponentModule */],
                __WEBPACK_IMPORTED_MODULE_110__components_radio_select_radio_select_module__["a" /* RadioSelectComponentModule */],
                __WEBPACK_IMPORTED_MODULE_111__components_scroll_range_picker_scroll_range_picker_module__["a" /* ScrollRangePickerComponentModule */],
                __WEBPACK_IMPORTED_MODULE_112__components_speech_bubble_speech_bubble_module__["a" /* SpeechBubbleComponentModule */],
                __WEBPACK_IMPORTED_MODULE_18__angular_common_http__["b" /* HttpClientJsonpModule */],
                __WEBPACK_IMPORTED_MODULE_125__pages_dtselect_dtselect_module__["DtSelectPageModule"],
            ],
            bootstrap: [__WEBPACK_IMPORTED_MODULE_2_ionic_angular__["IonicApp"]],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_30__app_component__["a" /* MyApp */],
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_17__ionic_native_http__["a" /* HTTP */],
                __WEBPACK_IMPORTED_MODULE_19__ionic_native_network__["a" /* Network */],
                __WEBPACK_IMPORTED_MODULE_20__ionic_native_contacts__["a" /* Contacts */],
                __WEBPACK_IMPORTED_MODULE_3__ionic_native_status_bar__["a" /* StatusBar */],
                __WEBPACK_IMPORTED_MODULE_4__ionic_native_splash_screen__["a" /* SplashScreen */],
                __WEBPACK_IMPORTED_MODULE_6__ionic_native_file__["a" /* File */],
                __WEBPACK_IMPORTED_MODULE_7__ionic_native_file_opener__["a" /* FileOpener */],
                __WEBPACK_IMPORTED_MODULE_8__ionic_native_file_path__["a" /* FilePath */],
                __WEBPACK_IMPORTED_MODULE_9__ionic_native_file_transfer__["a" /* FileTransfer */],
                __WEBPACK_IMPORTED_MODULE_13__ionic_native_device__["a" /* Device */],
                __WEBPACK_IMPORTED_MODULE_21__ionic_native_vibration__["a" /* Vibration */],
                __WEBPACK_IMPORTED_MODULE_22__ionic_native_geolocation__["a" /* Geolocation */],
                __WEBPACK_IMPORTED_MODULE_23__ionic_native_native_audio__["a" /* NativeAudio */],
                __WEBPACK_IMPORTED_MODULE_24__ionic_native_app_version__["a" /* AppVersion */],
                __WEBPACK_IMPORTED_MODULE_55__ionic_native_keyboard__["a" /* Keyboard */],
                __WEBPACK_IMPORTED_MODULE_25__ionic_native_clipboard__["a" /* Clipboard */],
                __WEBPACK_IMPORTED_MODULE_26__ionic_native_camera__["a" /* Camera */],
                __WEBPACK_IMPORTED_MODULE_27__ionic_native_chooser__["a" /* Chooser */],
                __WEBPACK_IMPORTED_MODULE_58__service_cordova_contacts_service__["a" /* ContactsService */],
                __WEBPACK_IMPORTED_MODULE_59__service_cordova_network_service__["a" /* NetworkService */],
                __WEBPACK_IMPORTED_MODULE_57__ionic_native_screen_orientation__["a" /* ScreenOrientation */],
                __WEBPACK_IMPORTED_MODULE_10__ionic_native_local_notifications__["b" /* LocalNotifications */],
                __WEBPACK_IMPORTED_MODULE_11__ionic_native_sqlite__["a" /* SQLite */],
                __WEBPACK_IMPORTED_MODULE_12__ionic_native_calendar__["a" /* Calendar */],
                __WEBPACK_IMPORTED_MODULE_114__jiguang_ionic_jpush__["a" /* JPush */],
                __WEBPACK_IMPORTED_MODULE_14__ionic_native_sqlite_porter__["a" /* SQLitePorter */],
                __WEBPACK_IMPORTED_MODULE_15__ionic_native_background_mode__["a" /* BackgroundMode */],
                __WEBPACK_IMPORTED_MODULE_16__ionic_native_android_permissions__["a" /* AndroidPermissions */],
                __WEBPACK_IMPORTED_MODULE_33__service_util_service_util_service__["a" /* UtilService */],
                __WEBPACK_IMPORTED_MODULE_49__service_util_service_emit_service__["a" /* EmitService */],
                __WEBPACK_IMPORTED_MODULE_34__service_config_sqlite_config__["a" /* SqliteConfig */],
                __WEBPACK_IMPORTED_MODULE_31__service_util_service_sqlite_exec__["a" /* SqliteExec */],
                __WEBPACK_IMPORTED_MODULE_65__ionic_native_badge__["a" /* Badge */],
                __WEBPACK_IMPORTED_MODULE_37__service_config_restful_config__["a" /* RestFulConfig */],
                __WEBPACK_IMPORTED_MODULE_32__service_cordova_permissions_service__["a" /* PermissionsService */],
                __WEBPACK_IMPORTED_MODULE_35__service_restful_aibutlersev__["a" /* AibutlerRestful */],
                __WEBPACK_IMPORTED_MODULE_36__service_util_service_restful_client__["a" /* RestfulClient */],
                __WEBPACK_IMPORTED_MODULE_38__service_restful_syncsev__["a" /* SyncRestful */],
                __WEBPACK_IMPORTED_MODULE_39__service_sqlite_sqlite_init__["a" /* SqliteInit */],
                __WEBPACK_IMPORTED_MODULE_40__service_restful_personsev__["a" /* PersonRestful */],
                __WEBPACK_IMPORTED_MODULE_41__service_restful_smssev__["a" /* SmsRestful */],
                __WEBPACK_IMPORTED_MODULE_42__service_restful_authsev__["a" /* AuthRestful */],
                __WEBPACK_IMPORTED_MODULE_43__service_restful_agdsev__["b" /* AgdRestful */],
                __WEBPACK_IMPORTED_MODULE_45__service_restful_blasev__["b" /* BlaRestful */],
                __WEBPACK_IMPORTED_MODULE_46__service_restful_bacsev__["a" /* BacRestful */],
                __WEBPACK_IMPORTED_MODULE_47__service_restful_shaesev__["d" /* ShaeRestful */],
                __WEBPACK_IMPORTED_MODULE_48__service_restful_datasev__["a" /* DataRestful */],
                __WEBPACK_IMPORTED_MODULE_44__service_cordova_assistant_service__["a" /* AssistantService */],
                __WEBPACK_IMPORTED_MODULE_51__service_cordova_feedback_service__["a" /* FeedbackService */],
                __WEBPACK_IMPORTED_MODULE_52__service_cordova_alarm_service__["a" /* AlarmService */],
                __WEBPACK_IMPORTED_MODULE_53__service_config_user_config__["b" /* UserConfig */],
                __WEBPACK_IMPORTED_MODULE_56__service_pagecom_pgbusi_service__["a" /* PgBusiService */],
                __WEBPACK_IMPORTED_MODULE_60__service_cordova_localcalendar_service__["a" /* LocalcalendarService */],
                __WEBPACK_IMPORTED_MODULE_61__service_cordova_notifications_service__["a" /* NotificationsService */],
                __WEBPACK_IMPORTED_MODULE_62__service_cordova_jpush_service__["a" /* JPushService */],
                __WEBPACK_IMPORTED_MODULE_63__service_cordova_rabbitmq_service__["a" /* RabbitMQService */],
                __WEBPACK_IMPORTED_MODULE_64__service_cordova_mipush_service__["a" /* MIPushService */],
                __WEBPACK_IMPORTED_MODULE_119__service_business_remind_service__["a" /* ScheduleRemindService */],
                __WEBPACK_IMPORTED_MODULE_117__service_business_event_service__["b" /* EventService */],
                __WEBPACK_IMPORTED_MODULE_118__service_business_memo_service__["a" /* MemoService */],
                __WEBPACK_IMPORTED_MODULE_66__service_util_service_remind_service__["a" /* RemindService */],
                __WEBPACK_IMPORTED_MODULE_121__providers_settings_settings__["a" /* SettingsProvider */],
                __WEBPACK_IMPORTED_MODULE_122__service_business_calendar_service__["a" /* CalendarService */],
                __WEBPACK_IMPORTED_MODULE_124__service_business_effect_service__["a" /* EffectService */],
                __WEBPACK_IMPORTED_MODULE_123__service_restful_LocationSearchService__["a" /* LocationSearchService */],
                { provide: __WEBPACK_IMPORTED_MODULE_1__angular_core__["ErrorHandler"], useClass: __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["IonicErrorHandler"] },
                { provide: __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__["d" /* HAMMER_GESTURE_CONFIG */], useClass: __WEBPACK_IMPORTED_MODULE_54__my_hammer_config__["a" /* HammerDIRECTIONALLConfig */] },
                { provide: __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__["d" /* HAMMER_GESTURE_CONFIG */], useClass: __WEBPACK_IMPORTED_MODULE_127_ionic_gallery_modal__["b" /* GalleryModalHammerConfig */] }
            ]
        })
    ], AppModule);
    return AppModule;
}());

//# sourceMappingURL=app.module.js.map

/***/ }),
/* 823 */,
/* 824 */,
/* 825 */,
/* 826 */,
/* 827 */,
/* 828 */,
/* 829 */,
/* 830 */,
/* 831 */,
/* 832 */,
/* 833 */,
/* 834 */,
/* 835 */,
/* 836 */,
/* 837 */,
/* 838 */,
/* 839 */,
/* 840 */,
/* 841 */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": 358,
	"./af.js": 358,
	"./ar": 359,
	"./ar-dz": 360,
	"./ar-dz.js": 360,
	"./ar-kw": 361,
	"./ar-kw.js": 361,
	"./ar-ly": 362,
	"./ar-ly.js": 362,
	"./ar-ma": 363,
	"./ar-ma.js": 363,
	"./ar-sa": 364,
	"./ar-sa.js": 364,
	"./ar-tn": 365,
	"./ar-tn.js": 365,
	"./ar.js": 359,
	"./az": 366,
	"./az.js": 366,
	"./be": 367,
	"./be.js": 367,
	"./bg": 368,
	"./bg.js": 368,
	"./bm": 369,
	"./bm.js": 369,
	"./bn": 370,
	"./bn.js": 370,
	"./bo": 371,
	"./bo.js": 371,
	"./br": 372,
	"./br.js": 372,
	"./bs": 373,
	"./bs.js": 373,
	"./ca": 374,
	"./ca.js": 374,
	"./cs": 375,
	"./cs.js": 375,
	"./cv": 376,
	"./cv.js": 376,
	"./cy": 377,
	"./cy.js": 377,
	"./da": 378,
	"./da.js": 378,
	"./de": 379,
	"./de-at": 380,
	"./de-at.js": 380,
	"./de-ch": 381,
	"./de-ch.js": 381,
	"./de.js": 379,
	"./dv": 382,
	"./dv.js": 382,
	"./el": 383,
	"./el.js": 383,
	"./en-SG": 384,
	"./en-SG.js": 384,
	"./en-au": 385,
	"./en-au.js": 385,
	"./en-ca": 386,
	"./en-ca.js": 386,
	"./en-gb": 387,
	"./en-gb.js": 387,
	"./en-ie": 388,
	"./en-ie.js": 388,
	"./en-il": 389,
	"./en-il.js": 389,
	"./en-nz": 390,
	"./en-nz.js": 390,
	"./eo": 391,
	"./eo.js": 391,
	"./es": 392,
	"./es-do": 393,
	"./es-do.js": 393,
	"./es-us": 394,
	"./es-us.js": 394,
	"./es.js": 392,
	"./et": 395,
	"./et.js": 395,
	"./eu": 396,
	"./eu.js": 396,
	"./fa": 397,
	"./fa.js": 397,
	"./fi": 398,
	"./fi.js": 398,
	"./fo": 399,
	"./fo.js": 399,
	"./fr": 400,
	"./fr-ca": 401,
	"./fr-ca.js": 401,
	"./fr-ch": 402,
	"./fr-ch.js": 402,
	"./fr.js": 400,
	"./fy": 403,
	"./fy.js": 403,
	"./ga": 404,
	"./ga.js": 404,
	"./gd": 405,
	"./gd.js": 405,
	"./gl": 406,
	"./gl.js": 406,
	"./gom-latn": 407,
	"./gom-latn.js": 407,
	"./gu": 408,
	"./gu.js": 408,
	"./he": 409,
	"./he.js": 409,
	"./hi": 410,
	"./hi.js": 410,
	"./hr": 411,
	"./hr.js": 411,
	"./hu": 412,
	"./hu.js": 412,
	"./hy-am": 413,
	"./hy-am.js": 413,
	"./id": 414,
	"./id.js": 414,
	"./is": 415,
	"./is.js": 415,
	"./it": 416,
	"./it-ch": 417,
	"./it-ch.js": 417,
	"./it.js": 416,
	"./ja": 418,
	"./ja.js": 418,
	"./jv": 419,
	"./jv.js": 419,
	"./ka": 420,
	"./ka.js": 420,
	"./kk": 421,
	"./kk.js": 421,
	"./km": 422,
	"./km.js": 422,
	"./kn": 423,
	"./kn.js": 423,
	"./ko": 424,
	"./ko.js": 424,
	"./ku": 425,
	"./ku.js": 425,
	"./ky": 426,
	"./ky.js": 426,
	"./lb": 427,
	"./lb.js": 427,
	"./lo": 428,
	"./lo.js": 428,
	"./lt": 429,
	"./lt.js": 429,
	"./lv": 430,
	"./lv.js": 430,
	"./me": 431,
	"./me.js": 431,
	"./mi": 432,
	"./mi.js": 432,
	"./mk": 433,
	"./mk.js": 433,
	"./ml": 434,
	"./ml.js": 434,
	"./mn": 435,
	"./mn.js": 435,
	"./mr": 436,
	"./mr.js": 436,
	"./ms": 437,
	"./ms-my": 438,
	"./ms-my.js": 438,
	"./ms.js": 437,
	"./mt": 439,
	"./mt.js": 439,
	"./my": 440,
	"./my.js": 440,
	"./nb": 441,
	"./nb.js": 441,
	"./ne": 442,
	"./ne.js": 442,
	"./nl": 443,
	"./nl-be": 444,
	"./nl-be.js": 444,
	"./nl.js": 443,
	"./nn": 445,
	"./nn.js": 445,
	"./pa-in": 446,
	"./pa-in.js": 446,
	"./pl": 447,
	"./pl.js": 447,
	"./pt": 448,
	"./pt-br": 449,
	"./pt-br.js": 449,
	"./pt.js": 448,
	"./ro": 450,
	"./ro.js": 450,
	"./ru": 451,
	"./ru.js": 451,
	"./sd": 452,
	"./sd.js": 452,
	"./se": 453,
	"./se.js": 453,
	"./si": 454,
	"./si.js": 454,
	"./sk": 455,
	"./sk.js": 455,
	"./sl": 456,
	"./sl.js": 456,
	"./sq": 457,
	"./sq.js": 457,
	"./sr": 458,
	"./sr-cyrl": 459,
	"./sr-cyrl.js": 459,
	"./sr.js": 458,
	"./ss": 460,
	"./ss.js": 460,
	"./sv": 461,
	"./sv.js": 461,
	"./sw": 462,
	"./sw.js": 462,
	"./ta": 463,
	"./ta.js": 463,
	"./te": 464,
	"./te.js": 464,
	"./tet": 465,
	"./tet.js": 465,
	"./tg": 466,
	"./tg.js": 466,
	"./th": 467,
	"./th.js": 467,
	"./tl-ph": 468,
	"./tl-ph.js": 468,
	"./tlh": 469,
	"./tlh.js": 469,
	"./tr": 470,
	"./tr.js": 470,
	"./tzl": 471,
	"./tzl.js": 471,
	"./tzm": 472,
	"./tzm-latn": 473,
	"./tzm-latn.js": 473,
	"./tzm.js": 472,
	"./ug-cn": 474,
	"./ug-cn.js": 474,
	"./uk": 475,
	"./uk.js": 475,
	"./ur": 476,
	"./ur.js": 476,
	"./uz": 477,
	"./uz-latn": 478,
	"./uz-latn.js": 478,
	"./uz.js": 477,
	"./vi": 479,
	"./vi.js": 479,
	"./x-pseudo": 480,
	"./x-pseudo.js": 480,
	"./yo": 481,
	"./yo.js": 481,
	"./zh-cn": 482,
	"./zh-cn.js": 482,
	"./zh-hk": 483,
	"./zh-hk.js": 483,
	"./zh-tw": 484,
	"./zh-tw.js": 484
};
function webpackContext(req) {
	return __webpack_require__(webpackContextResolve(req));
};
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) // check for number or string
		throw new Error("Cannot find module '" + req + "'.");
	return id;
};
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = 841;

/***/ }),
/* 842 */,
/* 843 */,
/* 844 */,
/* 845 */,
/* 846 */,
/* 847 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ChineseLunar; });
/**
 * 农历与阳历的转换，目前只能支持1900至2100的转换
 * User: conis<conis.yi@gmail.com>
 * Github: https://github.com/conis/chinese-lunar
 * Date: 1/29/13
 * Time: 9:58 上午
 *
 */
var ChineseLunar = (function () {
    function ChineseLunar() {
        /*
           农历每一年，对应公历的数据
           此数据来源于互联网，原作者不详细，在此感谢
           MAPPING[0][0]：每年闰月的月份，0表示不闰
           MAPPING[0][1, 13]：表示每月初一对应的阳历时间，前两个字符表示月，后两个字符表示月
           */
        this.MAPPING = [
            [8, "0131", "0301", "0331", "0429", "0528", "0627", "0726", "0825", "0924", "1023", "1122", "1222", "1320"],
            [0, "0219", "0320", "0419", "0518", "0616", "0716", "0814", "0913", "1012", "1111", "1211", "1310"],
            [0, "0208", "0310", "0408", "0508", "0606", "0705", "0804", "0902", "1002", "1031", "1130", "1230"],
            [5, "0129", "0227", "0329", "0427", "0527", "0625", "0724", "0823", "0921", "1020", "1119", "1219", "1317"],
            [0, "0216", "0317", "0416", "0515", "0614", "0713", "0811", "0910", "1009", "1107", "1207", "1306"],
            [0, "0204", "0306", "0405", "0504", "0603", "0703", "0801", "0830", "0929", "1028", "1127", "1226"],
            [4, "0125", "0223", "0325", "0424", "0523", "0622", "0721", "0820", "0918", "1018", "1116", "1216", "1314"],
            [0, "0213", "0314", "0413", "0512", "0611", "0710", "0809", "0908", "1007", "1106", "1205", "1304"],
            [0, "0202", "0303", "0401", "0430", "0530", "0629", "0728", "0827", "0925", "1025", "1124", "1223"],
            [2, "0122", "0220", "0322", "0420", "0519", "0618", "0717", "0816", "0914", "1014", "1113", "1213", "1311"],
            [0, "0210", "0311", "0410", "0509", "0607", "0707", "0805", "0904", "1003", "1102", "1202", "1301"],
            [6, "0130", "0301", "0330", "0429", "0528", "0626", "0726", "0824", "0922", "1022", "1121", "1220", "1319"],
            [0, "0218", "0319", "0417", "0517", "0615", "0714", "0813", "0911", "1010", "1109", "1209", "1307"],
            [0, "0206", "0308", "0407", "0506", "0605", "0704", "0802", "0901", "0930", "1029", "1128", "1227"],
            [5, "0126", "0225", "0327", "0425", "0525", "0623", "0723", "0821", "0920", "1019", "1117", "1217", "1315"],
            [0, "0214", "0316", "0414", "0514", "0613", "0712", "0811", "0909", "1009", "1107", "1207", "1305"],
            [0, "0203", "0304", "0403", "0502", "0601", "0630", "0730", "0829", "0927", "1027", "1125", "1225"],
            [2, "0123", "0222", "0323", "0421", "0521", "0619", "0719", "0818", "0916", "1016", "1115", "1214", "1313"],
            [0, "0211", "0313", "0411", "0510", "0609", "0708", "0807", "0905", "1005", "1104", "1203", "1302"],
            [7, "0201", "0302", "0401", "0430", "0529", "0628", "0727", "0825", "0924", "1024", "1122", "1222", "1321"],
            [0, "0220", "0320", "0419", "0518", "0616", "0716", "0814", "0912", "1012", "1110", "1210", "1309"],
            [0, "0208", "0310", "0408", "0508", "0606", "0705", "0804", "0902", "1001", "1031", "1129", "1229"],
            [5, "0128", "0227", "0328", "0427", "0527", "0625", "0724", "0823", "0921", "1020", "1119", "1218", "1317"],
            [0, "0216", "0317", "0416", "0516", "0614", "0714", "0812", "0911", "1010", "1108", "1208", "1306"],
            [0, "0205", "0305", "0404", "0504", "0602", "0702", "0801", "0830", "0929", "1028", "1127", "1226"],
            [4, "0124", "0223", "0324", "0423", "0522", "0621", "0721", "0819", "0918", "1018", "1116", "1216", "1314"],
            [0, "0213", "0314", "0412", "0512", "0610", "0710", "0808", "0907", "1007", "1105", "1205", "1304"],
            [0, "0202", "0304", "0402", "0501", "0531", "0629", "0729", "0827", "0926", "1025", "1124", "1224"],
            [2, "0123", "0221", "0322", "0420", "0519", "0618", "0717", "0815", "0914", "1013", "1112", "1212", "1311"],
            [0, "0210", "0311", "0410", "0509", "0607", "0707", "0805", "0903", "1003", "1101", "1201", "1231"],
            [6, "0130", "0228", "0330", "0429", "0528", "0626", "0726", "0824", "0922", "1022", "1120", "1220", "1319"],
            [0, "0217", "0319", "0418", "0517", "0616", "0715", "0814", "0912", "1011", "1110", "1209", "1308"],
            [0, "0206", "0307", "0406", "0506", "0604", "0704", "0802", "0901", "0930", "1029", "1128", "1227"],
            [5, "0126", "0224", "0326", "0425", "0524", "0623", "0722", "0821", "0920", "1019", "1118", "1217", "1315"],
            [0, "0214", "0315", "0414", "0513", "0612", "0712", "0810", "0909", "1008", "1107", "1207", "1305"],
            [0, "0204", "0305", "0403", "0503", "0601", "0701", "0730", "0829", "0928", "1027", "1126", "1226"],
            [3, "0124", "0223", "0323", "0421", "0521", "0619", "0718", "0817", "0916", "1015", "1114", "1214", "1313"],
            [0, "0211", "0313", "0411", "0510", "0609", "0708", "0806", "0905", "1004", "1103", "1203", "1302"],
            [7, "0131", "0302", "0401", "0430", "0529", "0628", "0727", "0825", "0924", "1023", "1122", "1222", "1320"],
            [0, "0219", "0321", "0420", "0519", "0617", "0717", "0815", "0913", "1013", "1111", "1211", "1309"],
            [0, "0208", "0309", "0408", "0507", "0606", "0705", "0804", "0902", "1001", "1031", "1129", "1229"],
            [6, "0127", "0226", "0328", "0426", "0526", "0625", "0724", "0823", "0921", "1020", "1119", "1218", "1317"],
            [0, "0215", "0317", "0415", "0515", "0614", "0713", "0812", "0910", "1010", "1108", "1208", "1306"],
            [0, "0205", "0306", "0405", "0504", "0603", "0702", "0801", "0831", "0929", "1029", "1127", "1227"],
            [4, "0125", "0224", "0324", "0423", "0522", "0621", "0720", "0819", "0917", "1017", "1116", "1215", "1314"],
            [0, "0213", "0314", "0412", "0512", "0610", "0709", "0808", "0906", "1006", "1105", "1205", "1303"],
            [0, "0202", "0304", "0402", "0501", "0531", "0629", "0728", "0827", "0925", "1025", "1124", "1223"],
            [2, "0122", "0221", "0323", "0421", "0520", "0619", "0718", "0816", "0915", "1014", "1113", "1212", "1311"],
            [0, "0210", "0311", "0409", "0509", "0607", "0707", "0805", "0903", "1003", "1101", "1201", "1230"],
            [7, "0129", "0228", "0329", "0428", "0528", "0626", "0726", "0824", "0922", "1022", "1120", "1220", "1318"],
            [0, "0217", "0318", "0417", "0517", "0615", "0715", "0814", "0912", "1011", "1110", "1209", "1308"],
            [0, "0206", "0308", "0406", "0506", "0605", "0704", "0803", "0901", "1001", "1030", "1129", "1228"],
            [5, "0127", "0225", "0326", "0424", "0524", "0622", "0722", "0820", "0919", "1019", "1117", "1217", "1315"],
            [0, "0214", "0315", "0414", "0513", "0611", "0711", "0810", "0908", "1008", "1107", "1206", "1305"],
            [0, "0203", "0305", "0403", "0503", "0601", "0630", "0730", "0828", "0927", "1027", "1126", "1225"],
            [3, "0124", "0222", "0324", "0422", "0522", "0620", "0719", "0818", "0916", "1016", "1114", "1214", "1313"],
            [0, "0212", "0312", "0411", "0510", "0609", "0708", "0806", "0905", "1004", "1103", "1203", "1301"],
            [8, "0131", "0302", "0331", "0430", "0529", "0628", "0727", "0825", "0924", "1023", "1122", "1221", "1320"],
            [0, "0218", "0320", "0419", "0519", "0617", "0717", "0815", "0913", "1013", "1111", "1211", "1309"],
            [0, "0208", "0309", "0408", "0508", "0606", "0706", "0804", "0903", "1002", "1101", "1130", "1230"],
            [6, "0128", "0227", "0327", "0426", "0525", "0624", "0724", "0822", "0921", "1020", "1119", "1218", "1317"],
            [0, "0215", "0317", "0415", "0515", "0613", "0713", "0811", "0910", "1010", "1108", "1208", "1306"],
            [0, "0205", "0306", "0405", "0504", "0602", "0702", "0731", "0830", "0929", "1028", "1127", "1227"],
            [4, "0125", "0224", "0325", "0424", "0523", "0621", "0721", "0819", "0918", "1017", "1116", "1216", "1315"],
            [0, "0213", "0314", "0412", "0512", "0610", "0709", "0808", "0906", "1006", "1104", "1204", "1303"],
            [0, "0202", "0303", "0402", "0501", "0531", "0629", "0728", "0827", "0925", "1024", "1123", "1223"],
            [3, "0121", "0220", "0322", "0421", "0520", "0619", "0718", "0816", "0915", "1014", "1112", "1212", "1311"],
            [0, "0209", "0311", "0410", "0509", "0608", "0708", "0806", "0904", "1004", "1102", "1202", "1231"],
            [7, "0130", "0228", "0329", "0427", "0527", "0626", "0725", "0824", "0922", "1022", "1120", "1220", "1318"],
            [0, "0217", "0318", "0417", "0516", "0615", "0714", "0813", "0912", "1011", "1110", "1209", "1308"],
            [0, "0206", "0308", "0406", "0505", "0604", "0703", "0802", "0901", "0930", "1030", "1129", "1228"],
            [5, "0127", "0225", "0327", "0425", "0524", "0623", "0722", "0821", "0919", "1019", "1118", "1218", "1316"],
            [0, "0215", "0315", "0414", "0513", "0611", "0711", "0809", "0908", "1007", "1106", "1206", "1304"],
            [0, "0203", "0305", "0403", "0503", "0601", "0630", "0730", "0828", "0926", "1026", "1125", "1224"],
            [4, "0123", "0222", "0324", "0422", "0522", "0620", "0719", "0818", "0916", "1015", "1114", "1214", "1312"],
            [0, "0211", "0313", "0412", "0511", "0610", "0709", "0807", "0906", "1005", "1103", "1203", "1301"],
            [8, "0131", "0301", "0331", "0429", "0529", "0627", "0727", "0825", "0924", "1023", "1121", "1221", "1319"],
            [0, "0218", "0320", "0418", "0518", "0617", "0716", "0815", "0913", "1013", "1111", "1211", "1309"],
            [0, "0207", "0309", "0407", "0507", "0606", "0705", "0804", "0902", "1002", "1101", "1130", "1230"],
            [6, "0128", "0227", "0328", "0426", "0526", "0624", "0724", "0823", "0921", "1021", "1120", "1219", "1318"],
            [0, "0216", "0317", "0415", "0514", "0613", "0712", "0811", "0909", "1009", "1108", "1207", "1306"],
            [0, "0205", "0306", "0405", "0504", "0602", "0702", "0731", "0829", "0928", "1028", "1126", "1226"],
            [4, "0125", "0224", "0325", "0424", "0523", "0621", "0721", "0819", "0917", "1017", "1115", "1215", "1314"],
            [0, "0213", "0315", "0413", "0513", "0611", "0710", "0809", "0907", "1006", "1105", "1204", "1303"],
            [10, "0202", "0303", "0401", "0501", "0531", "0629", "0728", "0827", "0925", "1024", "1123", "1222", "1321"],
            [0, "0220", "0321", "0420", "0520", "0618", "0718", "0816", "0915", "1014", "1112", "1212", "1310"],
            [0, "0209", "0310", "0409", "0509", "0607", "0707", "0806", "0904", "1004", "1102", "1202", "1231"],
            [6, "0129", "0228", "0329", "0428", "0527", "0626", "0726", "0824", "0923", "1023", "1121", "1221", "1319"],
            [0, "0217", "0318", "0416", "0516", "0614", "0714", "0812", "0911", "1011", "1109", "1209", "1308"],
            [0, "0206", "0308", "0406", "0505", "0604", "0703", "0802", "0831", "0930", "1029", "1128", "1228"],
            [5, "0127", "0225", "0327", "0425", "0524", "0623", "0722", "0820", "0919", "1018", "1117", "1217", "1316"],
            [0, "0215", "0316", "0415", "0514", "0612", "0712", "0810", "0908", "1008", "1106", "1206", "1305"],
            [0, "0204", "0304", "0403", "0503", "0601", "0630", "0730", "0828", "0926", "1026", "1124", "1224"],
            [3, "0123", "0221", "0323", "0422", "0521", "0620", "0719", "0818", "0916", "1015", "1114", "1213", "1312"],
            [0, "0210", "0312", "0411", "0511", "0609", "0709", "0807", "0906", "1005", "1103", "1203", "1301"],
            [8, "0131", "0301", "0331", "0430", "0529", "0628", "0727", "0826", "0925", "1024", "1122", "1222", "1320"],
            [0, "0219", "0319", "0418", "0517", "0616", "0715", "0814", "0912", "1012", "1111", "1211", "1309"],
            [0, "0207", "0309", "0407", "0507", "0605", "0705", "0803", "0902", "1002", "1031", "1130", "1230"],
            [5, "0128", "0227", "0328", "0426", "0526", "0624", "0723", "0822", "0921", "1020", "1119", "1219", "1317"],
            [0, "0216", "0318", "0416", "0515", "0614", "0713", "0811", "0910", "1009", "1108", "1208", "1307"],
            [0, "0205", "0306", "0405", "0504", "0602", "0702", "0731", "0829", "0928", "1027", "1126", "1226"],
            [4, "0124", "0223", "0325", "0423", "0523", "0621", "0721", "0819", "0917", "1017", "1115", "1215", "1313"],
            [0, "0212", "0314", "0413", "0512", "0611", "0710", "0809", "0907", "1006", "1105", "1204", "1303"],
            [0, "0201", "0303", "0402", "0501", "0531", "0630", "0729", "0828", "0926", "1025", "1124", "1223"],
            [2, "0122", "0220", "0321", "0419", "0519", "0618", "0717", "0816", "0914", "1014", "1112", "1212", "1310"],
            [0, "0209", "0310", "0409", "0508", "0607", "0706", "0805", "0904", "1003", "1102", "1201", "1231"],
            [7, "0129", "0228", "0329", "0428", "0527", "0626", "0725", "0824", "0922", "1022", "1121", "1220", "1319"],
            [0, "0218", "0319", "0417", "0517", "0615", "0714", "0813", "0911", "1011", "1110", "1210", "1308"],
            [0, "0207", "0308", "0406", "0505", "0604", "0703", "0801", "0831", "0929", "1029", "1128", "1227"],
            [5, "0126", "0225", "0327", "0425", "0524", "0623", "0722", "0820", "0919", "1018", "1117", "1216", "1315"],
            [0, "0214", "0316", "0414", "0514", "0612", "0712", "0810", "0908", "1008", "1106", "1206", "1304"],
            [0, "0203", "0305", "0403", "0503", "0602", "0701", "0731", "0829", "0927", "1027", "1125", "1225"],
            [4, "0123", "0222", "0322", "0421", "0521", "0619", "0719", "0817", "0916", "1015", "1114", "1213", "1312"],
            [0, "0210", "0312", "0410", "0510", "0608", "0708", "0807", "0905", "1005", "1103", "1203", "1301"],
            [9, "0131", "0301", "0331", "0429", "0529", "0627", "0727", "0825", "0924", "1024", "1122", "1222", "1320"],
            [0, "0219", "0320", "0419", "0518", "0616", "0716", "0814", "0913", "1013", "1112", "1211", "1310"],
            [0, "0208", "0309", "0407", "0507", "0605", "0704", "0803", "0901", "1001", "1031", "1129", "1229"],
            [6, "0128", "0226", "0328", "0426", "0526", "0624", "0723", "0822", "0920", "1020", "1118", "1218", "1317"],
            [0, "0216", "0317", "0416", "0515", "0614", "0713", "0811", "0910", "1009", "1108", "1207", "1306"],
            [0, "0205", "0307", "0405", "0505", "0603", "0703", "0801", "0830", "0929", "1028", "1126", "1226"],
            [4, "0125", "0223", "0324", "0423", "0523", "0621", "0721", "0819", "0917", "1017", "1115", "1215", "1313"],
            [0, "0212", "0313", "0412", "0512", "0610", "0710", "0808", "0907", "1006", "1105", "1204", "1303"],
            [0, "0201", "0303", "0401", "0501", "0530", "0629", "0729", "0827", "0926", "1025", "1124", "1223"],
            [2, "0122", "0220", "0322", "0420", "0519", "0618", "0718", "0816", "0915", "1015", "1113", "1213", "1311"],
            [0, "0210", "0310", "0409", "0508", "0606", "0706", "0804", "0903", "1003", "1101", "1201", "1231"],
            [6, "0129", "0228", "0329", "0428", "0527", "0625", "0725", "0823", "0922", "1021", "1120", "1220", "1319"],
            [0, "0217", "0319", "0417", "0517", "0615", "0714", "0813", "0911", "1010", "1109", "1209", "1308"],
            [0, "0206", "0308", "0407", "0506", "0605", "0704", "0802", "0901", "0930", "1029", "1128", "1228"],
            [5, "0126", "0225", "0326", "0425", "0524", "0623", "0722", "0820", "0919", "1018", "1116", "1216", "1315"],
            [0, "0213", "0315", "0414", "0513", "0612", "0711", "0810", "0908", "1008", "1106", "1205", "1304"],
            [0, "0203", "0304", "0403", "0502", "0601", "0701", "0730", "0829", "0927", "1027", "1125", "1225"],
            [3, "0123", "0221", "0323", "0422", "0521", "0620", "0719", "0818", "0917", "1016", "1115", "1214", "1313"],
            [0, "0211", "0312", "0410", "0509", "0608", "0707", "0806", "0905", "1004", "1103", "1203", "1301"],
            [7, "0131", "0301", "0331", "0429", "0528", "0627", "0726", "0825", "0923", "1023", "1122", "1222", "1320"],
            [0, "0219", "0320", "0419", "0518", "0616", "0716", "0814", "0913", "1012", "1111", "1211", "1309"],
            [0, "0208", "0310", "0408", "0508", "0606", "0705", "0804", "0902", "1001", "1031", "1130", "1229"],
            [6, "0128", "0227", "0328", "0426", "0526", "0624", "0723", "0822", "0920", "1019", "1118", "1217", "1316"],
            [0, "0215", "0317", "0416", "0515", "0614", "0713", "0811", "0910", "1009", "1107", "1207", "1305"],
            [0, "0204", "0306", "0405", "0504", "0603", "0702", "0801", "0830", "0929", "1028", "1126", "1226"],
            [5, "0124", "0223", "0325", "0423", "0523", "0622", "0721", "0820", "0918", "1018", "1116", "1216", "1314"],
            [0, "0212", "0313", "0411", "0511", "0610", "0709", "0808", "0906", "1006", "1105", "1204", "1303"],
            [0, "0201", "0302", "0401", "0430", "0530", "0628", "0728", "0827", "0925", "1025", "1124", "1223"],
            [2, "0122", "0220", "0322", "0420", "0519", "0618", "0717", "0816", "0914", "1014", "1113", "1212", "1311"],
            [0, "0210", "0311", "0410", "0509", "0607", "0707", "0805", "0903", "1003", "1102", "1201", "1231"],
            [7, "0130", "0229", "0329", "0428", "0527", "0625", "0725", "0823", "0921", "1021", "1119", "1219", "1318"],
            [0, "0217", "0319", "0417", "0517", "0615", "0714", "0813", "0911", "1010", "1109", "1208", "1307"],
            [0, "0206", "0308", "0406", "0506", "0604", "0704", "0802", "0901", "0930", "1029", "1128", "1227"],
            [5, "0126", "0225", "0326", "0425", "0525", "0623", "0723", "0821", "0920", "1019", "1117", "1217", "1315"],
            [0, "0214", "0314", "0413", "0513", "0611", "0711", "0810", "0908", "1008", "1106", "1205", "1304"],
            [0, "0202", "0304", "0402", "0502", "0531", "0630", "0730", "0828", "0927", "1027", "1125", "1225"],
            [3, "0123", "0221", "0323", "0421", "0521", "0619", "0719", "0817", "0916", "1016", "1114", "1214", "1313"],
            [0, "0211", "0313", "0411", "0510", "0609", "0708", "0806", "0905", "1005", "1103", "1203", "1302"],
            [8, "0201", "0301", "0331", "0429", "0528", "0627", "0726", "0824", "0923", "1022", "1121", "1221", "1320"],
            [0, "0219", "0320", "0419", "0518", "0616", "0716", "0814", "0912", "1012", "1110", "1210", "1309"],
            [0, "0208", "0309", "0408", "0508", "0606", "0705", "0804", "0902", "1001", "1031", "1129", "1229"],
            [6, "0128", "0226", "0328", "0427", "0526", "0625", "0724", "0823", "0921", "1020", "1119", "1218", "1317"],
            [0, "0215", "0316", "0415", "0515", "0613", "0713", "0811", "0910", "1009", "1107", "1207", "1305"],
            [0, "0204", "0305", "0404", "0504", "0602", "0702", "0731", "0830", "0929", "1028", "1126", "1226"],
            [4, "0124", "0223", "0324", "0423", "0522", "0621", "0720", "0819", "0918", "1017", "1116", "1216", "1314"],
            [0, "0212", "0314", "0412", "0512", "0610", "0710", "0808", "0907", "1006", "1105", "1205", "1304"],
            [0, "0202", "0303", "0401", "0501", "0530", "0628", "0727", "0826", "0924", "1024", "1123", "1223"],
            [3, "0121", "0220", "0322", "0420", "0519", "0618", "0717", "0815", "0914", "1013", "1112", "1212", "1311"],
            [0, "0209", "0311", "0410", "0509", "0607", "0707", "0805", "0903", "1003", "1101", "1201", "1231"],
            [7, "0129", "0228", "0330", "0428", "0528", "0626", "0726", "0824", "0922", "1022", "1120", "1220", "1318"],
            [0, "0217", "0318", "0417", "0516", "0615", "0714", "0813", "0911", "1010", "1109", "1208", "1307"],
            [0, "0205", "0307", "0406", "0505", "0604", "0704", "0802", "0901", "0930", "1029", "1128", "1227"],
            [5, "0126", "0224", "0326", "0424", "0524", "0623", "0722", "0821", "0919", "1019", "1117", "1217", "1315"],
            [0, "0214", "0315", "0414", "0513", "0612", "0711", "0810", "0909", "1008", "1107", "1206", "1305"],
            [0, "0203", "0304", "0402", "0502", "0531", "0629", "0729", "0828", "0926", "1026", "1125", "1224"],
            [4, "0123", "0221", "0323", "0421", "0521", "0619", "0718", "0817", "0915", "1015", "1114", "1214", "1312"],
            [0, "0211", "0312", "0411", "0510", "0609", "0708", "0806", "0905", "1004", "1103", "1203", "1301"],
            [8, "0131", "0302", "0331", "0430", "0529", "0628", "0727", "0825", "0924", "1023", "1122", "1221", "1320"],
            [0, "0219", "0320", "0418", "0518", "0616", "0716", "0814", "0912", "1012", "1110", "1210", "1308"],
            [0, "0207", "0309", "0407", "0507", "0605", "0704", "0803", "0901", "0930", "1030", "1128", "1228"],
            [6, "0126", "0225", "0326", "0425", "0525", "0623", "0723", "0821", "0920", "1019", "1118", "1217", "1316"],
            [0, "0214", "0316", "0414", "0514", "0612", "0712", "0811", "0909", "1009", "1107", "1207", "1305"],
            [0, "0204", "0304", "0403", "0502", "0601", "0630", "0730", "0828", "0927", "1027", "1125", "1225"],
            [0, "0123", "0222", "0323", "0422", "0521", "0620", "0719", "0818", "0917", "1017", "1115", "1215"],
            [0, "0113", "0212", "0313", "0412", "0511", "0609", "0709", "0807", "0906", "1006", "1104", "1204"],
            [0, "0103", "0201", "0303", "0401", "0501", "0530", "0628", "0728", "0826", "0925", "1024", "1123"],
            [3, "1223", "0122", "0220", "0321", "0419", "0519", "0617", "0716", "0815", "0913", "1012", "1111", "1211"],
            [0, "0110", "0208", "0310", "0409", "0508", "0607", "0706", "0804", "0903", "1002", "1031", "1130"],
            [7, "1230", "0128", "0227", "0329", "0428", "0527", "0625", "0725", "0823", "0922", "1021", "1119", "1219"],
            [0, "0118", "0216", "0318", "0417", "0516", "0615", "0714", "0813", "0911", "1011", "1109", "1209"],
            [0, "0107", "0206", "0306", "0405", "0504", "0603", "0703", "0801", "0831", "0929", "1029", "1127"],
            [5, "1227", "0125", "0224", "0325", "0423", "0523", "0622", "0721", "0820", "0919", "1018", "1117", "1216"],
            [0, "0115", "0213", "0315", "0413", "0512", "0611", "0710", "0809", "0908", "1007", "1106", "1206"],
            [0, "0104", "0203", "0304", "0403", "0502", "0531", "0630", "0729", "0828", "0926", "1026", "1125"],
            [4, "1225", "0123", "0222", "0322", "0421", "0520", "0618", "0718", "0816", "0914", "1014", "1113", "1213"],
            [0, "0111", "0210", "0312", "0410", "0510", "0608", "0707", "0806", "0904", "1003", "1102", "1202"],
            [8, "1231", "0130", "0301", "0331", "0429", "0529", "0627", "0726", "0825", "0923", "1022", "1121", "1221"],
            [0, "0119", "0218", "0320", "0418", "0518", "0616", "0716", "0814", "0913", "1012", "1110", "1210"],
            [0, "0108", "0207", "0308", "0406", "0506", "0605", "0704", "0803", "0901", "1001", "1030", "1129"],
            [6, "1228", "0126", "0225", "0327", "0425", "0525", "0623", "0723", "0822", "0920", "1020", "1118", "1218"],
            [0, "0116", "0214", "0316", "0414", "0514", "0612", "0712", "0811", "0909", "1009", "1108", "1207"],
            [0, "0106", "0204", "0306", "0404", "0503", "0602", "0701", "0731", "0829", "0928", "1028", "1127"],
            [4, "1226", "0125", "0223", "0324", "0422", "0521", "0620", "0719", "0817", "0916", "1016", "1115", "1214"],
            [0, "0113", "0212", "0313", "0412", "0511", "0609", "0709", "0807", "0905", "1005", "1104", "1203"],
            [0, "0102", "0201", "0303", "0401", "0501", "0530", "0628", "0727", "0826", "0924", "1024", "1122"],
            [2, "1222", "0121", "0220", "0321", "0420", "0520", "0618", "0717", "0816", "0914", "1013", "1112", "1211"] //2099
        ];
        this.MINYEAR = 1900;
        this._chineseLunar = {};
    }
    /*
       * 分析日期表达式，并提取其中的单位和数值
       */
    ChineseLunar.prototype.expression = function (expr) {
        var list = expr.match(/[+-]?\d+((ms)|[yMdhmsw])/g);
        var result = [];
        for (var i = 0; i < list.length; i++) {
            //提取单位和数值
            if (/([+-])(\d+)(.+)/.test(list[i])) {
                var val = parseInt(RegExp.$2);
                if (RegExp.$1 === "-")
                    val = -val;
                result.push({
                    value: val,
                    unit: RegExp.$3
                });
            }
            return result;
        }
    };
    /*
       找到农历
       isPerYear，是否为农历前一年的对应数据
       */
    ChineseLunar.prototype.findLunar = function (solar, index, minMonth, maxMonth, isPreYear) {
        //取得映射的数据
        var mapping = this.MAPPING[index];
        if (!mapping)
            return false;
        var year = solar.getFullYear(), month = solar.getMonth() + 1, date = solar.getDate();
        var lunarYear = year;
        var lunarMonth;
        var find;
        var solarMonth;
        var segMonth;
        var segDay;
        //查找农历
        for (var i = mapping.length - 1; i > 0; i--) {
            lunarMonth = i;
            //取对应的农历月与天
            var tmp = mapping[i];
            segMonth = Number(tmp.substring(0, 2));
            segDay = Number(tmp.substring(2, 4));
            solarMonth = isPreYear && segMonth > 12 ? segMonth - 12 : segMonth;
            find = solarMonth < month || (solarMonth == month && segDay <= date) ||
                ((segMonth <= minMonth || segMonth >= maxMonth) && isPreYear);
            if ((solarMonth == 12 && solarMonth > month && i == 1)) {
                find = true;
                year--;
            }
            if (find)
                break;
        }
        //如果找到，则赋值
        if (!find)
            return false;
        //取前一年
        if (isPreYear && segMonth == 12)
            year = year - 1;
        lunarYear = isPreYear ? lunarYear - 1 : lunarYear;
        return {
            year: year,
            month: solarMonth,
            day: segDay,
            lunarYear: lunarYear,
            lunarMonth: lunarMonth,
            leapMonth: mapping[0] //闰月
        };
    };
    ;
    /*
       农历转阳历
       lunarToSolar({})，或者lunarToSolar(year, month, day, leap)
       */
    ChineseLunar.prototype.lunarToSolar = function (year, month, day, leap) {
        var arg0 = arguments[0];
        //第一个参数是对象
        if (typeof (arg0) == "object" && arguments.length == 1) {
            year = arg0.year;
            month = arg0.month;
            day = arg0.day;
            leap = arg0.leap;
        }
        ;
        //根据偏移量取得映射数据
        var offset = year - this.MINYEAR;
        //所查询的日期超出范围
        if (offset < 0 || offset > this.MAPPING.length) {
            throw new Error('Specified date range is invalid.');
        }
        ;
        //取得润月是哪一个月
        var leapMonth = this.MAPPING[offset][0];
        //如果isLeap=true，并且当前月份就是闰月，或者本月有闰月，且当前月份大于闰月，则月份需要加1
        if ((leap && month == leapMonth) ||
            (leapMonth > 0 && month > leapMonth)) {
            month += 1;
        }
        ;
        //取出对应到某个月的片断
        var segment = this.MAPPING[offset][month]; //农历第一天对应公历的具体天
        var mapMonth = Number(segment.substring(0, 2));
        var mapDate = Number(segment.substring(2, 4));
        if (mapMonth > 12) {
            year += 1;
            mapMonth -= 12;
        }
        ;
        var solar = new Date(year, mapMonth - 1, mapDate);
        var time = solar.getTime() + ((day - 1) * 24 * 60 * 60 * 1000);
        return new Date(time);
    };
    ;
    /*
       公历转农历
       1.查找对应农历初一是哪一天
       2.将农历初一转换为公历
       3.计入偏移量
       */
    ChineseLunar.prototype.solarToLunar = function (solar, format) {
        var offset = solar.getFullYear() - this.MINYEAR;
        //超出范围
        if (offset <= 0 || offset >= this.MAPPING.length) {
            throw new Error('Specified date range is invalid.');
        }
        ;
        //查找范围内的农历数据
        var data = this.findLunar(solar, offset, 0, 13, false);
        //如果没有找到，则找前一年的，因为农历在公历之前，并且不会超过一年，查一年就可以了
        data = data || this.findLunar(solar, offset - 1, 12, 99, true);
        //还是没有找到，表示超出范围
        if (!data)
            return "";
        //农历初一对应公历的哪一天
        var firstDay = new Date(data.year, data.month - 1, data.day);
        var day = this.solarDiff(solar, firstDay, "d") + 1;
        //返回的农历结果
        var result = {
            leap: data.leapMonth > 0 && data.leapMonth + 1 == data.lunarMonth,
            year: data.lunarYear,
            month: data.leapMonth > 0 && data.lunarMonth > data.leapMonth ? data.lunarMonth - 1 : data.lunarMonth,
            day: day,
            leapMonth: data.leapMonth
        };
        //判断是否要格式化结果
        return (format && result) ? this.format(result, format) : result;
    };
    ;
    //获取中国传统干支的名称
    ChineseLunar.prototype.traditionalYearName = function (year) {
        var Gan = "甲乙丙丁戊己庚辛壬癸".split("");
        var Zhi = "子丑寅卯辰巳午未申酉戌亥".split("");
        year = year - this.MINYEAR + 36;
        return (Gan[year % 10] + Zhi[year % 12] + "年");
    };
    ;
    //获取中文的年
    ChineseLunar.prototype.yearName = function (year) {
        var cnStr = '〇,一,二,三,四,五,六,七,八,九'.split(",");
        var cYear = year.toString();
        var result = '';
        for (var i = 0; i < cYear.length; i++) {
            result += cnStr[parseInt(cYear.charAt(i))];
        }
        return result + '年';
    };
    //获取中国的生肖
    ChineseLunar.prototype.animalName = function (year) {
        return "鼠牛虎兔龙蛇马羊猴鸡狗猪".split("")[(year - 4) % 12];
    };
    //获取农历月的名称
    ChineseLunar.prototype.monthName = function (month, traditional, leap) {
        var monthName = "正,二,三,四,五,六,七,八,九,十,十一,十二".split(",");
        if (traditional) {
            monthName[11] = "腊";
        }
        return (leap ? "闰" : "") + monthName[month - 1] + "月";
    };
    //获取农历传统天的名称
    ChineseLunar.prototype.dayName = function (lunar) {
        switch (lunar) {
            case 10:
                return '初十';
            case 20:
                return '二十';
            case 30:
                return '三十';
            default:
                return ("初十廿卅".split("")[Math.floor(lunar / 10)] +
                    "一二三四五六七八九十".split("")[(lunar - 1) % 10]) || lunar;
        }
    };
    //计算公历两个日期之差
    ChineseLunar.prototype.solarDiff = function (left, right, interval) {
        var span = left.getTime() - right.getTime(); //相差毫秒
        switch (interval) {
            case "y": return parseInt((left.getFullYear() - right.getFullYear()).toString());
            case "M": return parseInt(((left.getFullYear() - right.getFullYear()) * 12 + (left.getMonth() - right.getMonth())).toString());
            case "d": return Math.ceil(span / 1000 / 60 / 60 / 24);
            case "w": return Math.floor(span / 1000 / 60 / 60 / 24 / 7);
            case "h": return Math.floor(span / 1000 / 60 / 60);
            case "m": return Math.floor(span / 1000 / 60);
            case "s": return Math.floor(span / 1000);
            case "ms": return parseInt(span);
        }
    };
    //_solarAdd(date, '5d-6m');
    ChineseLunar.prototype.solarAdd = function (date, expr) {
    };
    ;
    //格式化农历日期，date是农历的日期
    ChineseLunar.prototype.format = function (lunar, expr) {
        var _this = this;
        return expr.replace(/[TAYyMmdD]/g, function (m, i) {
            switch (m) {
                //获取传统的年
                case "T":
                    return _this.traditionalYearName(lunar.year);
                //获取生肖
                case "A":
                    return _this.animalName(lunar.year);
                //获取中文的年
                case "Y":
                    return _this.yearName(lunar.year);
                //获取数字年
                case "y":
                    return lunar.year;
                //获取月份
                case "m":
                    return _this.monthName(lunar.month, false, lunar.leap);
                //获取传统的月
                case "M":
                    return _this.monthName(lunar.month, true, lunar.leap);
                //获取天
                case "d":
                    return _this.dayName(lunar.day);
                //如果是初一，则显示月，而不是显示
                case "D":
                    if (lunar.day == 1) {
                        return _this.monthName(lunar.month, false, lunar.leap);
                    }
                    else {
                        return _this.dayName(lunar.day);
                    }
            }
        });
    };
    return ChineseLunar;
}());

//# sourceMappingURL=chinese.lunar.js.map

/***/ }),
/* 848 */,
/* 849 */,
/* 850 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = convertQuotes;
/**
 * create by on 2019/3/5
 */
function convertQuotes(src) {
    return src.replace(/"/g, "\"\"");
}
//# sourceMappingURL=itbl.js.map

/***/ }),
/* 851 */,
/* 852 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export getSecret */
/* harmony export (immutable) */ __webpack_exports__["a"] = getSha1SafeforBrowser;
/* unused harmony export randomBytes */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_crypto__ = __webpack_require__(853);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_crypto___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_crypto__);

/** @hidden */
function getSecret(userid, saltlength) {
    if (saltlength === void 0) { saltlength = 8; }
    var salt = randomBytes(saltlength);
    return Object(__WEBPACK_IMPORTED_MODULE_0_crypto__["pbkdf2Sync"])(userid, salt, 8, 8, 'sha1').toString('hex');
}
function getSha1SafeforBrowser(userid) {
    var hash = Object(__WEBPACK_IMPORTED_MODULE_0_crypto__["createHash"])('sha1');
    return hash.update(userid).digest("hex");
}
/** @hidden */
function randomBytes(n) {
    for (var bytes = []; n > 0; n--)
        bytes.push(Math.floor(Math.random() * 256));
    return bytes.join('');
}
//# sourceMappingURL=crypto-util.js.map

/***/ }),
/* 853 */,
/* 854 */,
/* 855 */,
/* 856 */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),
/* 857 */,
/* 858 */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),
/* 859 */,
/* 860 */,
/* 861 */,
/* 862 */,
/* 863 */,
/* 864 */,
/* 865 */,
/* 866 */,
/* 867 */,
/* 868 */,
/* 869 */,
/* 870 */,
/* 871 */,
/* 872 */,
/* 873 */,
/* 874 */,
/* 875 */,
/* 876 */,
/* 877 */,
/* 878 */,
/* 879 */,
/* 880 */,
/* 881 */,
/* 882 */,
/* 883 */,
/* 884 */,
/* 885 */,
/* 886 */,
/* 887 */,
/* 888 */,
/* 889 */,
/* 890 */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),
/* 891 */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),
/* 892 */,
/* 893 */,
/* 894 */,
/* 895 */,
/* 896 */,
/* 897 */,
/* 898 */,
/* 899 */,
/* 900 */,
/* 901 */,
/* 902 */,
/* 903 */,
/* 904 */,
/* 905 */,
/* 906 */,
/* 907 */,
/* 908 */,
/* 909 */,
/* 910 */,
/* 911 */,
/* 912 */,
/* 913 */,
/* 914 */,
/* 915 */,
/* 916 */,
/* 917 */,
/* 918 */,
/* 919 */,
/* 920 */,
/* 921 */,
/* 922 */,
/* 923 */,
/* 924 */,
/* 925 */,
/* 926 */,
/* 927 */,
/* 928 */,
/* 929 */,
/* 930 */,
/* 931 */,
/* 932 */,
/* 933 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CalendarAnimation; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ionic_angular__ = __webpack_require__(3);
/**
 * @hidden
 * Menu Overlay Type
 * The menu slides over the content. The content
 * itself, which is under the menu, does not move.
 */

var CalendarAnimation = (function () {
    function CalendarAnimation(plt, calendar) {
        this.plt = plt;
        this.calendar = calendar;
        this.ani = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](plt);
        this.ani
            .easing('cubic-bezier(0.0, 0.0, 0.2, 1)')
            .easingReverse('cubic-bezier(0.4, 0.0, 0.6, 1)')
            .duration(280);
        this.viewHeight = this.calendar.cardContent.getElementRef().nativeElement.offsetHeight;
        this.viewAni = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](this.plt, this.calendar.cardContent.getElementRef().nativeElement);
        this.viewAni.fromTo('height', this.viewHeight + "px", "0px");
        // this.viewAni.fromTo('top',"0px",this.viewHeight * -1 + "px");
        this.ani.add(this.viewAni);
    }
    CalendarAnimation.prototype.closeView = function (done, animated) {
        var ani = this.ani
            .onFinish(done, true, true)
            .reverse(false);
        if (animated) {
            ani.play();
        }
        else {
            ani.syncPlay();
        }
    };
    CalendarAnimation.prototype.openView = function (done, animated) {
        var ani = this.ani
            .onFinish(done, true, true)
            .reverse(true);
        if (animated) {
            ani.play();
        }
        else {
            ani.syncPlay();
        }
    };
    CalendarAnimation.prototype.colseStart = function () {
        // the cloned animation should not use an easing curve during seek
        this.ani
            .reverse(false)
            .progressStart();
    };
    CalendarAnimation.prototype.colseProgess = function (stepValue) {
        this.ani.progressStep(stepValue);
    };
    CalendarAnimation.prototype.colseEnd = function (shouldComplete, currentStepValue, velocity, done) {
        var ani = this.ani;
        ani.onFinish(function () {
            done();
            //this.closeView();
        }, true);
        var factor = 1 - Math.min(Math.abs(velocity) / 4, 0.7);
        var dur = ani.getDuration() * factor;
        ani.progressEnd(shouldComplete, currentStepValue, dur);
    };
    return CalendarAnimation;
}());

//# sourceMappingURL=calendar-animation.js.map

/***/ }),
/* 934 */,
/* 935 */,
/* 936 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export calendarController */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CalendarModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__calendar_controller__ = __webpack_require__(246);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_calendar_service__ = __webpack_require__(144);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_index__ = __webpack_require__(937);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





function calendarController(modalCtrl, calSvc) {
    return new __WEBPACK_IMPORTED_MODULE_1__calendar_controller__["a" /* CalendarController */](modalCtrl, calSvc);
}
var CalendarModule = (function () {
    function CalendarModule() {
    }
    CalendarModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: [__WEBPACK_IMPORTED_MODULE_2_ionic_angular__["IonicModule"]],
            declarations: __WEBPACK_IMPORTED_MODULE_4__components_index__["a" /* CALENDAR_COMPONENTS */],
            exports: __WEBPACK_IMPORTED_MODULE_4__components_index__["a" /* CALENDAR_COMPONENTS */],
            entryComponents: __WEBPACK_IMPORTED_MODULE_4__components_index__["a" /* CALENDAR_COMPONENTS */],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__services_calendar_service__["a" /* IonCalendarService */],
                {
                    provide: __WEBPACK_IMPORTED_MODULE_1__calendar_controller__["a" /* CalendarController */],
                    useFactory: calendarController,
                    deps: [__WEBPACK_IMPORTED_MODULE_2_ionic_angular__["ModalController"], __WEBPACK_IMPORTED_MODULE_3__services_calendar_service__["a" /* IonCalendarService */]]
                }
            ],
            schemas: [__WEBPACK_IMPORTED_MODULE_0__angular_core__["CUSTOM_ELEMENTS_SCHEMA"]]
        })
    ], CalendarModule);
    return CalendarModule;
}());

//# sourceMappingURL=calendar.module.js.map

/***/ }),
/* 937 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CALENDAR_COMPONENTS; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__calendar_week_component__ = __webpack_require__(499);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__month_component__ = __webpack_require__(500);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__calendar_component__ = __webpack_require__(541);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__month_picker_component__ = __webpack_require__(938);




var CALENDAR_COMPONENTS = [
    __WEBPACK_IMPORTED_MODULE_0__calendar_week_component__["a" /* CalendarWeekComponent */],
    __WEBPACK_IMPORTED_MODULE_1__month_component__["a" /* MonthComponent */],
    __WEBPACK_IMPORTED_MODULE_2__calendar_component__["a" /* CalendarComponent */],
    __WEBPACK_IMPORTED_MODULE_3__month_picker_component__["a" /* MonthPickerComponent */]
];
//# sourceMappingURL=index.js.map

/***/ }),
/* 938 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MonthPickerComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__calendar_model__ = __webpack_require__(218);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config__ = __webpack_require__(105);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var MonthPickerComponent = (function () {
    function MonthPickerComponent() {
        this.months = [{ value: 1, caption: '一月' }, { value: 2, caption: '二月' }, { value: 3, caption: '三月' }, { value: 4, caption: '四月' }, { value: 5, caption: '五月' }, { value: 6, caption: '六月' }, { value: 7, caption: '七月' }, { value: 8, caption: '八月' }, { value: 9, caption: '九月' }, { value: 10, caption: '十月' }, { value: 11, caption: '十一月' }, { value: 12, caption: '十二月' }];
        this.years = [];
        this.thisYear = 1930;
        this.thisMonth = 6;
        this.color = __WEBPACK_IMPORTED_MODULE_2__config__["a" /* defaults */].COLOR;
        this.onMonthSelect = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onYearSelect = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this._thisMonth = new Date();
        this._monthFormat = __WEBPACK_IMPORTED_MODULE_2__config__["a" /* defaults */].MONTH_FORMAT;
    }
    Object.defineProperty(MonthPickerComponent.prototype, "monthFormat", {
        get: function () {
            return this._monthFormat;
        },
        set: function (value) {
            if (Array.isArray(value) && value.length === 12) {
                this._monthFormat = value;
            }
        },
        enumerable: true,
        configurable: true
    });
    MonthPickerComponent.prototype.ngOnInit = function () {
        for (var year = 1900; year <= __WEBPACK_IMPORTED_MODULE_3_moment__().year() + 2299; year++) {
            this.years.push({ value: year, caption: year.toString() });
        }
        this.thisMonth = this.month.original.month + 1;
        this.thisYear = this.month.original.year;
    };
    MonthPickerComponent.prototype._onMonthSelect = function (month) {
        this.onMonthSelect.emit(month);
    };
    MonthPickerComponent.prototype._onYearSelect = function (year) {
        this.onYearSelect.emit(year);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__calendar_model__["a" /* CalendarMonth */])
    ], MonthPickerComponent.prototype, "month", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], MonthPickerComponent.prototype, "color", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], MonthPickerComponent.prototype, "onMonthSelect", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], MonthPickerComponent.prototype, "onYearSelect", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Array),
        __metadata("design:paramtypes", [Array])
    ], MonthPickerComponent.prototype, "monthFormat", null);
    MonthPickerComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ion-calendar-month-picker',
            template: "\n    <div class=\"warp\">\n      <scroll-select [options]=\"years\" [value]=\"thisYear\" [type]=\"'scroll-without-button'\" [items]=\"7\"  (changed)=\"_onYearSelect($event)\"></scroll-select>\n      <scroll-select [options]=\"months\" [value]=\"thisMonth\" [type]=\"'scroll-without-button'\" [items]=\"7\"  (changed)=\"_onMonthSelect($event)\"></scroll-select>\n    </div>\n  "
        }),
        __metadata("design:paramtypes", [])
    ], MonthPickerComponent);
    return MonthPickerComponent;
}());

//# sourceMappingURL=month-picker.component.js.map

/***/ }),
/* 939 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TdlGesture; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular_gestures_gesture_controller__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular_util_dom__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ionic_angular_util_util__ = __webpack_require__(5);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var TdlGesture = (function (_super) {
    __extends(TdlGesture, _super);
    function TdlGesture(plt, tdl, gestureCtrl, domCtrl, calendarComponent) {
        var _this = _super.call(this, plt, tdl.getNativeElement(), {
            direction: 'y',
            threshold: 5,
            zone: false,
            passive: true,
            domController: domCtrl,
            gesture: gestureCtrl.createGesture({
                name: __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["GESTURE_ITEM_SWIPE"],
                priority: __WEBPACK_IMPORTED_MODULE_1_ionic_angular_gestures_gesture_controller__["i" /* GESTURE_PRIORITY_SLIDING_ITEM */],
                disableScroll: true
            })
        }) || this;
        _this.calendarComponent = calendarComponent;
        return _this;
    }
    TdlGesture.prototype.onDragMove = function (ev) {
        var slide = this.slide;
        var coord = Object(__WEBPACK_IMPORTED_MODULE_2_ionic_angular_util_dom__["f" /* pointerCoord */])(ev);
        var newPos = coord[this.direction];
        var newTimestamp = Date.now();
        var velocity = (!this.plt.isRTL ? (slide.pos - newPos) : (newPos - slide.pos)) / (newTimestamp - slide.timestamp);
        slide.pos = newPos;
        slide.timestamp = newTimestamp;
        slide.distance = Object(__WEBPACK_IMPORTED_MODULE_3_ionic_angular_util_util__["b" /* clamp */])(slide.min, (!this.plt.isRTL ? slide.pointerStartPos - newPos : newPos - slide.pointerStartPos) + slide.elementStartPos, slide.max);
        slide.velocity = velocity;
        slide.delta = (this.plt.isRTL ? slide.pointerStartPos - newPos : newPos - slide.pointerStartPos);
        this.onSlide(slide, ev);
    };
    ;
    TdlGesture.prototype.onSlideStart = function (_slide, _ev) {
        this.calendarComponent.calendarAnimation.colseStart();
    };
    TdlGesture.prototype.onSlide = function (_slide, _ev) {
        // var z = (this.menu.isRightSide !== this.plt.isRTL ? slide.min : slide.max);
        var stepValue = (_slide.distance / 200);
        this.calendarComponent.calendarAnimation.colseProgess(stepValue);
    };
    TdlGesture.prototype.onSlideEnd = function (_slide, _ev) {
        var _this = this;
        if (_slide.distance <= 0) {
            return;
        }
        var currentStepValue = (_slide.distance / 200);
        var velocity = _slide.velocity;
        var shouldComplete = currentStepValue > 0.5 || _slide.delta > 20;
        // if (shouldComplete)
        this.calendarComponent.calendarAnimation.colseEnd(shouldComplete, currentStepValue, velocity, function () {
            if (shouldComplete)
                _this.calendarComponent.changestat();
        });
        // else
        //   this.calendarComponent.calendarAnimation.openView(()=>{},true);
    };
    return TdlGesture;
}(__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["SlideGesture"]));

//# sourceMappingURL=tdl-gestures.js.map

/***/ }),
/* 940 */,
/* 941 */,
/* 942 */,
/* 943 */,
/* 944 */,
/* 945 */,
/* 946 */,
/* 947 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return StTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/3/5
 * 日程总表
 */
var StTbl = (function () {
    function StTbl() {
        this.d = "";
        this.c = 0;
        this.n = 0;
        this.bz = "";
        this.wtt = 0;
    }
    StTbl.prototype.cT = function () {
        var sq = ' create table if not exists gtd_st(d varchar(10) primary key ,c integer ,n integer  ,bz varchar(50)  ,wtt integer);';
        return sq;
    };
    StTbl.prototype.upT = function () {
        var sq = '';
        if (this.c != null) {
            sq = sq + ', c=' + this.c;
        }
        if (this.n != null) {
            sq = sq + ', n=' + this.n;
        }
        if (this.bz != null && this.bz != "") {
            sq = sq + ', bz="' + this.bz + '"';
        }
        if (sq != null && sq != "") {
            sq = sq.substr(1);
        }
        sq = 'update gtd_st set  ' + sq + ' where d = "' + this.d + '";';
        return sq;
    };
    StTbl.prototype.dT = function () {
        var sq = 'delete from gtd_st where 1=2 ';
        sq = sq + ';';
        return sq;
    };
    StTbl.prototype.sloT = function () {
        var sq = 'select * from gtd_st where d = "' + this.d + '";';
        return sq;
    };
    StTbl.prototype.slT = function () {
        var sq = 'select * from  gtd_st where  1=1 ';
        sq = sq + ';';
        return sq;
    };
    StTbl.prototype.drT = function () {
        var sq = 'drop table if exists gtd_st;';
        return sq;
    };
    StTbl.prototype.inT = function () {
        var sq = 'insert into gtd_st ' +
            '( d,c,n ,bz ,wtt) values("' + this.d + '","' + this.c + '",' + this.n + ',"' + this.bz + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    StTbl.prototype.rpT = function () {
        var sq = 'replace into gtd_sp ' +
            '( d,c,n ,bz ,wtt) values("' + this.d + '",' + this.c + ',' + this.n + ',"' + this.bz + '",' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    StTbl.prototype.preT = function () {
        var sq = 'insert into gtd_st ' +
            '( d,c,n ,bz ,wtt) values(?, ?, ?, ?, ' + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ');';
        return sq;
    };
    return StTbl;
}());

//# sourceMappingURL=st.tbl.js.map

/***/ }),
/* 948 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MrkTbl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * create by on 2019/3/5
 */
var MrkTbl = (function () {
    function MrkTbl() {
    }
    MrkTbl.prototype.fastParam = function () {
        var params = new Array();
        params.push(this.mki);
        params.push(this.mkl);
        params.push(this.obt);
        params.push(this.obi);
        params.push(this.mkt);
        params.push(this.wtt || __WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        params.push(__WEBPACK_IMPORTED_MODULE_0_moment__().unix());
        return ["replace into gtd_mrk\n       (    mki ,mkl ,obt ,obi ,mkt ,wtt ,utt)",
            "select ?,?,?,?,?,?,?",
            params];
    };
    MrkTbl.prototype.cTParam = function () {
        var sq = "create table if not exists gtd_mrk(\n     mki varchar(50) PRIMARY KEY\n     ,mkl varchar(50)\n     ,obt varchar(50)\n     ,obi varchar(50)\n     ,mkt varchar(50)\n     ,wtt integer\n     ,utt integer\n     );";
        return sq;
    };
    MrkTbl.prototype.upTParam = function () {
        var sq = '';
        var params = new Array();
        if (this.mkl != null && this.mkl != '') {
            sq = sq + ', mkl= ? ';
            params.push(this.mkl);
        }
        if (this.obt != null && this.obt != '') {
            sq = sq + ', obt= ? ';
            params.push(this.obt);
        }
        if (this.obi != null && this.obi != '') {
            sq = sq + ', obi= ? ';
            params.push(this.obi);
        }
        if (this.mkt != null && this.mkt != '') {
            sq = sq + ', mkt= ? ';
            params.push(this.mkt);
        }
        sq = "update gtd_mrk set utt =" + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + "  " + sq + " where mki = ? ;";
        params.push(this.mki);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    MrkTbl.prototype.dTParam = function () {
        var sq = 'delete from gtd_mrk where 1=1 ';
        var params = new Array();
        if (this.mki != null && this.mki != "") {
            sq = sq + 'and  mki = ? ';
            params.push(this.mki);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    MrkTbl.prototype.sloTParam = function () {
        var params = new Array();
        var sq = 'select * from gtd_mrk where mki = ?  ;';
        params.push(this.mki);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    MrkTbl.prototype.slTParam = function () {
        var params = new Array();
        var sq = 'select * from  gtd_mrk where  1=1 ';
        if (this.mkl != null && this.mkl != '') {
            sq = sq + ' and mkl= ? ';
            params.push(this.mkl);
        }
        if (this.obt != null && this.obt != '') {
            sq = sq + ' and obt= ? ';
            params.push(this.obt);
        }
        if (this.obi != null && this.obi != '') {
            sq = sq + ' and obi= ? ';
            params.push(this.obi);
        }
        if (this.mkt != null && this.mkt != '') {
            sq = sq + ' and mkt= ? ';
            params.push(this.mkt);
        }
        sq = sq + ';';
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    MrkTbl.prototype.drTParam = function () {
        var sq = 'drop table if exists gtd_mrk;';
        return sq;
    };
    MrkTbl.prototype.inTParam = function () {
        var params = new Array();
        var sq = "insert into gtd_mrk\n       (    mki ,mkl ,obt ,obi ,mkt ,wtt ,utt)\n       values(?,?,?,?,?," + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + "," + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ");";
        params.push(this.mki);
        params.push(this.mkl);
        params.push(this.obt);
        params.push(this.obi);
        params.push(this.mkt);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    MrkTbl.prototype.rpTParam = function () {
        var params = new Array();
        var sq = "replace into gtd_mrk\n       (    mki ,mkl ,obt ,obi ,mkt ,wtt ,utt)\n       values(?,?,?,?,?," + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + "," + __WEBPACK_IMPORTED_MODULE_0_moment__().unix() + ");";
        params.push(this.mki);
        params.push(this.mkl);
        params.push(this.obt);
        params.push(this.obi);
        params.push(this.mkt);
        var ret = new Array();
        ret.push(sq);
        ret.push(params);
        return ret;
    };
    return MrkTbl;
}());

//# sourceMappingURL=mrk.tbl.js.map

/***/ }),
/* 949 */,
/* 950 */,
/* 951 */,
/* 952 */,
/* 953 */,
/* 954 */,
/* 955 */,
/* 956 */,
/* 957 */,
/* 958 */,
/* 959 */,
/* 960 */,
/* 961 */,
/* 962 */,
/* 963 */,
/* 964 */,
/* 965 */,
/* 966 */,
/* 967 */,
/* 968 */,
/* 969 */,
/* 970 */,
/* 971 */,
/* 972 */,
/* 973 */,
/* 974 */,
/* 975 */,
/* 976 */,
/* 977 */,
/* 978 */,
/* 979 */,
/* 980 */,
/* 981 */,
/* 982 */,
/* 983 */,
/* 984 */,
/* 985 */,
/* 986 */,
/* 987 */,
/* 988 */,
/* 989 */,
/* 990 */,
/* 991 */,
/* 992 */,
/* 993 */,
/* 994 */,
/* 995 */,
/* 996 */,
/* 997 */,
/* 998 */,
/* 999 */,
/* 1000 */,
/* 1001 */,
/* 1002 */,
/* 1003 */,
/* 1004 */,
/* 1005 */,
/* 1006 */,
/* 1007 */,
/* 1008 */,
/* 1009 */,
/* 1010 */,
/* 1011 */,
/* 1012 */,
/* 1013 */,
/* 1014 */,
/* 1015 */,
/* 1016 */,
/* 1017 */,
/* 1018 */,
/* 1019 */,
/* 1020 */,
/* 1021 */,
/* 1022 */,
/* 1023 */,
/* 1024 */,
/* 1025 */,
/* 1026 */,
/* 1027 */,
/* 1028 */,
/* 1029 */,
/* 1030 */,
/* 1031 */,
/* 1032 */,
/* 1033 */,
/* 1034 */,
/* 1035 */,
/* 1036 */,
/* 1037 */,
/* 1038 */,
/* 1039 */,
/* 1040 */,
/* 1041 */,
/* 1042 */,
/* 1043 */,
/* 1044 */,
/* 1045 */,
/* 1046 */,
/* 1047 */,
/* 1048 */,
/* 1049 */,
/* 1050 */,
/* 1051 */,
/* 1052 */,
/* 1053 */,
/* 1054 */,
/* 1055 */,
/* 1056 */,
/* 1057 */,
/* 1058 */,
/* 1059 */,
/* 1060 */,
/* 1061 */,
/* 1062 */,
/* 1063 */,
/* 1064 */,
/* 1065 */,
/* 1066 */,
/* 1067 */,
/* 1068 */,
/* 1069 */,
/* 1070 */,
/* 1071 */,
/* 1072 */,
/* 1073 */,
/* 1074 */,
/* 1075 */,
/* 1076 */,
/* 1077 */,
/* 1078 */,
/* 1079 */,
/* 1080 */,
/* 1081 */,
/* 1082 */,
/* 1083 */,
/* 1084 */,
/* 1085 */,
/* 1086 */,
/* 1087 */,
/* 1088 */,
/* 1089 */,
/* 1090 */,
/* 1091 */,
/* 1092 */,
/* 1093 */,
/* 1094 */,
/* 1095 */,
/* 1096 */,
/* 1097 */,
/* 1098 */,
/* 1099 */,
/* 1100 */,
/* 1101 */,
/* 1102 */,
/* 1103 */,
/* 1104 */,
/* 1105 */,
/* 1106 */,
/* 1107 */,
/* 1108 */,
/* 1109 */,
/* 1110 */,
/* 1111 */,
/* 1112 */,
/* 1113 */,
/* 1114 */,
/* 1115 */,
/* 1116 */,
/* 1117 */,
/* 1118 */,
/* 1119 */,
/* 1120 */,
/* 1121 */,
/* 1122 */,
/* 1123 */,
/* 1124 */,
/* 1125 */,
/* 1126 */,
/* 1127 */,
/* 1128 */,
/* 1129 */,
/* 1130 */,
/* 1131 */,
/* 1132 */,
/* 1133 */,
/* 1134 */,
/* 1135 */,
/* 1136 */,
/* 1137 */,
/* 1138 */,
/* 1139 */,
/* 1140 */,
/* 1141 */,
/* 1142 */,
/* 1143 */,
/* 1144 */,
/* 1145 */,
/* 1146 */,
/* 1147 */,
/* 1148 */,
/* 1149 */,
/* 1150 */,
/* 1151 */,
/* 1152 */,
/* 1153 */,
/* 1154 */,
/* 1155 */,
/* 1156 */,
/* 1157 */,
/* 1158 */,
/* 1159 */,
/* 1160 */,
/* 1161 */,
/* 1162 */,
/* 1163 */,
/* 1164 */,
/* 1165 */,
/* 1166 */,
/* 1167 */,
/* 1168 */,
/* 1169 */,
/* 1170 */,
/* 1171 */,
/* 1172 */,
/* 1173 */,
/* 1174 */,
/* 1175 */,
/* 1176 */,
/* 1177 */,
/* 1178 */,
/* 1179 */,
/* 1180 */,
/* 1181 */,
/* 1182 */,
/* 1183 */,
/* 1184 */,
/* 1185 */,
/* 1186 */,
/* 1187 */,
/* 1188 */,
/* 1189 */,
/* 1190 */,
/* 1191 */,
/* 1192 */,
/* 1193 */,
/* 1194 */,
/* 1195 */,
/* 1196 */,
/* 1197 */,
/* 1198 */,
/* 1199 */,
/* 1200 */,
/* 1201 */,
/* 1202 */,
/* 1203 */,
/* 1204 */,
/* 1205 */,
/* 1206 */,
/* 1207 */,
/* 1208 */,
/* 1209 */,
/* 1210 */,
/* 1211 */,
/* 1212 */,
/* 1213 */,
/* 1214 */,
/* 1215 */,
/* 1216 */,
/* 1217 */,
/* 1218 */,
/* 1219 */,
/* 1220 */,
/* 1221 */,
/* 1222 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export WsModel */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContextModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);

/**
 * MQ接收数据类
 *
 * create by wzy on 2018/11/28
 */
var WsModel = (function () {
    function WsModel() {
    }
    return WsModel;
}());

var ContextModel = (function () {
    function ContextModel() {
        this.client = { time: __WEBPACK_IMPORTED_MODULE_0_moment__().unix(),
            serverratio: 0,
            ratios: new Array(),
            cxt: new Array(),
            option: new Array(),
            processor: new Array() };
        this.server = {};
    }
    return ContextModel;
}());

//# sourceMappingURL=ws.model.js.map

/***/ }),
/* 1223 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PointComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_cordova_assistant_service__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__input_input__ = __webpack_require__(725);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_emit_service__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





/**
 * Generated class for the Hb01Page page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var PointComponent = (function () {
    function PointComponent(utilService, assistantService, _renderer, emitService) {
        var _this = this;
        this.utilService = utilService;
        this.assistantService = assistantService;
        this._renderer = _renderer;
        this.emitService = emitService;
        this.rotation = 0;
        this.DOTS_AMOUNT = 800;
        this.speed = 0.0004;
        this.statusListener = false;
        this.immediately = "";
        this.assistantService.startWakeUp();
        this.emitService.registerListener(function (b) {
            _this.statusListener = b;
            if (b) {
                _this.speed = 0.002;
                _this._renderer.removeClass(_this.light.nativeElement, "danger");
            }
            else {
                _this._renderer.addClass(_this.light.nativeElement, "danger");
                _this.speed = 0.0004;
            }
        });
        this.emitService.registerImmediately(function (immediately) {
            _this.immediately = immediately;
        });
        // this.emitService.registerSpeak((b)=>{
        //   if (b){
        //     this.assistantService.stopWakeUp();
        //   }else{
        //     this.assistantService.startWakeUp();
        //   }
        // })
    }
    PointComponent.prototype.inputstart = function () {
        this.inputComponent.inputStart();
    };
    PointComponent.prototype.listenStart = function () {
        if (!this.statusListener)
            this.assistantService.listenAudio();
        else
            this.assistantService.stopListenAudio();
        // if (this.statusListener){
        //   this.speed = 0.004;
        //   this._renderer.removeClass(this.light.nativeElement, "danger");
        //   this.statusListener = !this.statusListener;
        // }else {
        //   this._renderer.addClass(this.light.nativeElement, "danger");
        //   this.speed = 0.0004;
        //   this.statusListener = !this.statusListener;
        //
        // }
    };
    PointComponent.prototype.ngOnInit = function () {
        //this._renderer.setStyle(this.aitool.nativeElement, "top", window.innerHeight);
        var _this = this;
        this.ctx = this.canvas.nativeElement.getContext('2d');
        this.dots = new Array();
        this.width = this.canvas.nativeElement.width;
        this.height = this.canvas.nativeElement.height;
        // Populate the dots array with random dots
        this.createDots();
        // Render the scene
        window.requestAnimationFrame(function (a) {
            _this.render(a);
        });
    };
    PointComponent.prototype.createDots = function () {
        // Empty the array of dots
        var GLOBE_RADIUS = this.width * 0.8;
        var GLOBE_CENTER_Z = GLOBE_RADIUS * -1;
        var PROJECTION_CENTER_X = this.width / 2;
        var PROJECTION_CENTER_Y = this.height / 2;
        var FIELD_OF_VIEW = this.width;
        // Create a new dot based on the amount needed
        for (var i = 0; i < this.DOTS_AMOUNT; i++) {
            var theta = Math.random() * 2 * Math.PI; // Random value between [0, 2PI]
            var phi = Math.acos((Math.random() * 2) - 1); // Random value between [-1, 1];
            var a = this.utilService.rand(0.5, 1.1);
            var rad = this.utilService.rand(1, 7);
            var rgba = "";
            var color = this.utilService.randInt(0, 10);
            if (color < 6) {
                rgba = "rgba(102,200,201," + a + ")";
            }
            else if (color < 9 && color > 6) {
                rgba = "rgba(132,48,148," + a + ")";
            }
            else {
                rgba = "rgba(219,74,57," + a + ")";
            }
            // Calculate the [x, y, z] coordinates of the dot along the globe
            var x = GLOBE_RADIUS * Math.sin(phi) * Math.cos(theta);
            var y = GLOBE_RADIUS * Math.sin(phi) * Math.sin(theta);
            var z = (GLOBE_RADIUS * Math.cos(phi)) + GLOBE_CENTER_Z;
            this.dots.push(new Dot(x, y, z, this.ctx, GLOBE_CENTER_Z, FIELD_OF_VIEW, PROJECTION_CENTER_X, PROJECTION_CENTER_Y, rad, rgba));
        }
    };
    /* ====================== */
    /* ======== RENDER ====== */
    /* ====================== */
    PointComponent.prototype.render = function (a) {
        var _this = this;
        // Clear the scene
        this.ctx.clearRect(0, 0, this.width, this.height);
        // Increase the globe rotation
        this.rotation = a * this.speed;
        var sineRotation = Math.sin(this.rotation); // Sine of the rotation
        var cosineRotation = Math.cos(this.rotation); // Cosine of the rotation
        // Loop through the dots array and draw every dot
        for (var i = 0; i < this.dots.length; i++) {
            this.dots[i].draw(sineRotation, cosineRotation);
        }
        window.requestAnimationFrame(function (a) {
            _this.render(a);
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('canvas'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], PointComponent.prototype, "canvas", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('light'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], PointComponent.prototype, "light", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('aitool'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], PointComponent.prototype, "aitool", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('inputComponent'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3__input_input__["a" /* InputComponent */])
    ], PointComponent.prototype, "inputComponent", void 0);
    PointComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'PointComponent',
            template: "\n    <div class=\"jsai\">{{immediately}}</div>\n    <div class=\"aitool\" #aitool>\n      <b class=\" speaking  danger\" #light>\n        <div class=\"spinner\" (click)=\"listenStart()\">\n          <canvas #canvas></canvas>\n        </div>\n      </b>\n\n      <div class=\"inputioc\" (click)=\"inputstart()\">\n        <img src=\"./assets/imgs/h-input.png\">\n      </div>\n      <InputComponent #inputComponent></InputComponent>\n    </div>\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_2__service_cordova_assistant_service__["a" /* AssistantService */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"],
            __WEBPACK_IMPORTED_MODULE_4__service_util_service_emit_service__["a" /* EmitService */]])
    ], PointComponent);
    return PointComponent;
}());

var Dot = (function () {
    function Dot(x, y, z, ctx, GLOBE_CENTER_Z, FIELD_OF_VIEW, PROJECTION_CENTER_X, PROJECTION_CENTER_Y, DOT_RADIUS, rgba) {
        this.ctx = ctx;
        this.x = x;
        this.y = y;
        this.z = z;
        this.xProject = 0;
        this.yProject = 0;
        this.sizeProjection = 0;
        this.GLOBE_CENTER_Z = GLOBE_CENTER_Z;
        this.FIELD_OF_VIEW = FIELD_OF_VIEW;
        this.PROJECTION_CENTER_X = PROJECTION_CENTER_X;
        this.PROJECTION_CENTER_Y = PROJECTION_CENTER_Y;
        this.DOT_RADIUS = DOT_RADIUS;
        this.rgba = rgba;
    }
    // Do some math to project the 3D position into the 2D canvas
    Dot.prototype.project = function (sin, cos) {
        var rotX = cos * this.x + sin * (this.z - this.GLOBE_CENTER_Z);
        var rotZ = -sin * this.x + cos * (this.z - this.GLOBE_CENTER_Z) + this.GLOBE_CENTER_Z;
        this.sizeProjection = this.FIELD_OF_VIEW / (this.FIELD_OF_VIEW - rotZ);
        this.xProject = (rotX * this.sizeProjection) + this.PROJECTION_CENTER_X;
        this.yProject = (this.y * this.sizeProjection) + this.PROJECTION_CENTER_Y;
    };
    // Draw the dot on the canvas
    Dot.prototype.draw = function (sin, cos) {
        this.project(sin, cos);
        // ctx.fillRect(this.xProject - DOT_RADIUS, this.yProject - DOT_RADIUS, DOT_RADIUS * 2 * this.sizeProjection, DOT_RADIUS * 2 * this.sizeProjection);
        this.ctx.beginPath();
        this.ctx.arc(this.xProject, this.yProject, this.DOT_RADIUS * this.sizeProjection, 0, Math.PI);
        //let rgba = 'rgba(29,13,178, 1)'
        //this.ctx.fillStyle = 'rgba(29,13,178, 1)';
        this.ctx.fillStyle = this.rgba;
        this.ctx.closePath();
        this.ctx.fill();
    };
    return Dot;
}());
//# sourceMappingURL=point.js.map

/***/ }),
/* 1224 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PointService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var PointService = (function () {
    function PointService() {
    }
    PointService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], PointService);
    return PointService;
}());

//# sourceMappingURL=point.service.js.map

/***/ }),
/* 1225 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return InputService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var InputService = (function () {
    function InputService() {
    }
    InputService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], InputService);
    return InputService;
}());

//# sourceMappingURL=input.service.js.map

/***/ }),
/* 1226 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListeningComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var ListeningComponent = (function () {
    function ListeningComponent() {
    }
    ListeningComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ListeningComponent',
            template: "\n    <svg width=\"25\" height=\"25\" viewBox=\"0 0 790 790\" shape-rendering=\"geometricPrecision\">\n      <defs>\n        <mask id=\"mask\">\n          <image id=\"maskImage\" transform=\"rotate(30.5248 395 395)\"  x=\"0\" y=\"0\" height=\"100%\" width=\"100%\">\n            <animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 395 395\" to=\"360 395 395\" dur=\"1.8s\" repeatCount=\"indefinite\"></animateTransform>\n          </image>\n        </mask>\n      </defs>\n\n      <rect width=\"100%\" height=\"100%\" fill=\"black\"></rect>\n      <g fill=\"#363636\" id=\"grey\">\n        <path d=\"M399,173.245c0,2.209-1.791,4-4,4l0,0c-2.209,0-4-1.791-4-4v-162c0-2.209,1.791-4,4-4l0,0\n\t\t\t\tc2.209,0,4,1.791,4,4V173.245z\"></path>\n        <path d=\"M379.658,173.74c0.192,2.201-1.436,4.141-3.637,4.333l0,0c-2.2,0.193-4.141-1.436-4.333-3.636\n\t\t\t\tL357.569,13.054c-0.192-2.201,1.436-4.141,3.636-4.333l0,0c2.201-0.192,4.141,1.436,4.334,3.636L379.658,173.74z\"></path>\n        <path d=\"M360.433,175.919c0.384,2.175-1.068,4.25-3.245,4.634l0,0c-2.175,0.384-4.25-1.069-4.633-3.245\n\t\t\t\tL324.424,17.77c-0.384-2.175,1.069-4.25,3.243-4.634l0,0c2.177-0.383,4.251,1.069,4.635,3.245L360.433,175.919z\"></path>\n        <path d=\"M341.47,179.765c0.572,2.134-0.693,4.328-2.828,4.9l0,0c-2.133,0.572-4.327-0.695-4.898-2.829\n\t\t\t\tl-41.929-156.48c-0.571-2.134,0.695-4.328,2.827-4.899l0,0c2.136-0.571,4.328,0.695,4.9,2.829L341.47,179.765z\"></path>\n        <path d=\"M322.915,185.25c0.756,2.076-0.313,4.372-2.391,5.128l0,0c-2.074,0.756-4.371-0.315-5.126-2.391\n\t\t\t\tl-55.407-152.23c-0.755-2.076,0.315-4.372,2.389-5.127l0,0c2.078-0.756,4.372,0.314,5.129,2.391L322.915,185.25z\"></path>\n        <path d=\"M304.909,192.331c0.934,2.002,0.068,4.383-1.936,5.317l0,0c-2,0.934-4.382,0.067-5.314-1.936\n\t\t\t\tL229.195,48.891c-0.934-2.003-0.066-4.383,1.933-5.316l0,0c2.004-0.934,4.383-0.068,5.318,1.935L304.909,192.331z\"></path>\n        <path d=\"M287.589,200.954c1.104,1.913,0.45,4.36-1.465,5.466l0,0c-1.911,1.104-4.359,0.448-5.463-1.465l-81-140.295\n\t\t\t\tc-1.104-1.914-0.448-4.361,1.462-5.464l0,0c1.915-1.105,4.36-0.45,5.467,1.464L287.589,200.954z\"></path>\n        <path d=\"M271.086,211.054c1.267,1.809,0.828,4.304-0.983,5.573l0,0c-1.808,1.267-4.304,0.826-5.569-0.984\n\t\t\t\tL171.613,82.94c-1.267-1.811-0.826-4.306,0.98-5.57l0,0c1.812-1.268,4.305-0.828,5.573,0.982L271.086,211.054z\"></path>\n        <path d=\"M255.526,222.554c1.419,1.691,1.199,4.215-0.495,5.637l0,0c-1.689,1.419-4.215,1.198-5.633-0.495\n\t\t\t\tL145.266,103.598c-1.419-1.693-1.198-4.217,0.491-5.635l0,0c1.694-1.421,4.217-1.2,5.638,0.493L255.526,222.554z\"></path>\n        <path d=\"M241.027,235.366c1.562,1.561,1.562,4.094-0.001,5.659l0,0c-1.56,1.561-4.095,1.561-5.655-0.002\n\t\t\t\tl-114.553-114.55c-1.561-1.563-1.561-4.097-0.001-5.656l0,0c1.563-1.564,4.096-1.563,5.659,0L241.027,235.366z\"></path>\n        <path d=\"M227.7,249.394c1.692,1.419,1.914,3.942,0.493,5.637l0,0c-1.418,1.69-3.943,1.912-5.635,0.491\n\t\t\t\tl-124.1-104.13c-1.691-1.421-1.912-3.945-0.494-5.635l0,0c1.421-1.694,3.943-1.915,5.638-0.494L227.7,249.394z\"></path>\n        <path d=\"M215.646,264.529c1.811,1.266,2.251,3.761,0.982,5.573l0,0c-1.265,1.808-3.761,2.249-5.57,0.98\n\t\t\t\tL78.355,178.163c-1.809-1.268-2.248-3.763-0.982-5.57l0,0c1.268-1.812,3.761-2.251,5.572-0.983L215.646,264.529z\"></path>\n        <path d=\"M204.958,280.657c1.914,1.104,2.57,3.55,1.464,5.466l0,0c-1.102,1.911-3.55,2.568-5.464,1.462\n\t\t\t\tL60.662,206.586c-1.912-1.106-2.567-3.553-1.464-5.463l0,0c1.104-1.915,3.55-2.57,5.465-1.465L204.958,280.657z\"></path>\n        <path d=\"M195.716,297.656c2.003,0.932,2.87,3.312,1.935,5.317l0,0c-0.931,2-3.312,2.867-5.315,1.933L45.514,236.442\n\t\t\t\tc-2.002-0.935-2.867-3.316-1.935-5.315l0,0c0.933-2.004,3.312-2.869,5.316-1.936L195.716,297.656z\"></path>\n        <path d=\"M187.99,315.395c2.076,0.754,3.148,3.049,2.391,5.128l0,0c-0.753,2.074-3.05,3.145-5.127,2.389\n\t\t\t\tL33.025,267.506c-2.076-0.757-3.146-3.053-2.391-5.126l0,0c0.754-2.077,3.049-3.147,5.127-2.392L187.99,315.395z\"></path>\n        <path d=\"M181.84,333.74c2.135,0.571,3.402,2.764,2.829,4.901l0,0c-0.569,2.131-2.765,3.399-4.899,2.827\n\t\t\t\tL23.291,299.54c-2.134-0.574-3.399-2.768-2.828-4.898l0,0c0.57-2.135,2.763-3.401,4.899-2.83L181.84,333.74z\"></path>\n        <path d=\"M177.312,352.551c2.176,0.383,3.63,2.457,3.245,4.636l0,0c-0.381,2.173-2.458,3.627-4.635,3.243\n\t\t\t\tl-159.537-28.13c-2.176-0.386-3.628-2.461-3.244-4.633l0,0c0.382-2.176,2.456-3.629,4.634-3.246L177.312,352.551z\"></path>\n        <path d=\"M174.441,371.685c2.201,0.192,3.83,2.132,3.637,4.335l0,0c-0.189,2.198-2.133,3.828-4.334,3.634\n\t\t\t\tL12.362,365.537c-2.201-0.195-3.829-2.136-3.636-4.333l0,0c0.19-2.201,2.131-3.829,4.333-3.638L174.441,371.685z\"></path>\n        <path d=\"M173.249,390.997c2.21-0.001,4.001,1.79,4.001,4.002l0,0c0.003,2.206-1.791,3.999-4.001,3.998\n\t\t\t\tl-161.998,0.001c-2.21-0.003-4.001-1.794-4-4l0,0c-0.002-2.209,1.789-4,4-4.001H173.249z\"></path>\n        <path d=\"M173.744,410.34c2.202-0.194,4.142,1.434,4.335,3.637l0,0c0.195,2.198-1.436,4.141-3.638,4.332\n\t\t\t\tL13.061,432.43c-2.202,0.189-4.143-1.439-4.334-3.637l0,0c-0.194-2.201,1.434-4.141,3.637-4.334L173.744,410.34z\"></path>\n        <path d=\"M175.923,429.564c2.178-0.385,4.251,1.068,4.636,3.246l0,0c0.387,2.173-1.068,4.25-3.246,4.633\n\t\t\t\tL17.776,465.576c-2.177,0.38-4.252-1.073-4.635-3.246l0,0c-0.385-2.176,1.067-4.25,3.245-4.635L175.923,429.564z\"></path>\n        <path d=\"M179.77,448.526c2.136-0.572,4.328,0.694,4.9,2.831l0,0c0.575,2.13-0.693,4.326-2.83,4.897L25.363,498.186\n\t\t\t\tc-2.135,0.568-4.329-0.699-4.9-2.83l0,0c-0.572-2.135,0.693-4.328,2.829-4.9L179.77,448.526z\"></path>\n        <path d=\"M185.254,467.081c2.078-0.755,4.372,0.315,5.129,2.394l0,0c0.759,2.072-0.313,4.371-2.393,5.125\n\t\t\t\tL35.764,530.01c-2.077,0.752-4.374-0.32-5.129-2.393l0,0c-0.756-2.078,0.313-4.373,2.392-5.129L185.254,467.081z\"></path>\n        <path d=\"M192.335,485.088c2.004-0.934,4.383-0.066,5.318,1.938l0,0c0.937,1.998,0.068,4.381-1.938,5.314\n\t\t\t\tL48.898,560.806c-2.004,0.931-4.386,0.062-5.318-1.937l0,0c-0.935-2.004-0.069-4.384,1.936-5.318L192.335,485.088z\"></path>\n        <path d=\"M200.958,502.408c1.915-1.104,4.36-0.447,5.467,1.467l0,0c1.107,1.91,0.45,4.357-1.467,5.463L64.667,590.34\n\t\t\t\tc-1.915,1.102-4.364,0.443-5.467-1.467l0,0c-1.106-1.914-0.451-4.359,1.465-5.467L200.958,502.408z\"></path>\n        <path d=\"M211.058,518.911c1.812-1.266,4.305-0.825,5.574,0.985l0,0c1.27,1.806,0.828,4.302-0.985,5.569\n\t\t\t\tL82.949,618.387c-1.812,1.266-4.309,0.822-5.573-0.984l0,0c-1.27-1.811-0.83-4.303,0.982-5.574L211.058,518.911z\"></path>\n        <path d=\"M222.558,534.471c1.694-1.418,4.216-1.197,5.639,0.496l0,0c1.422,1.688,1.2,4.214-0.496,5.635\n\t\t\t\tL103.606,644.734c-1.694,1.418-4.221,1.193-5.638-0.496l0,0c-1.423-1.693-1.202-4.213,0.493-5.639L222.558,534.471z\"></path>\n        <path d=\"M235.37,548.97c1.564-1.561,4.095-1.561,5.66,0.003l0,0c1.563,1.557,1.563,4.093-0.003,5.656\n\t\t\t\tL126.481,669.182c-1.564,1.559-4.101,1.556-5.659-0.004l0,0c-1.565-1.562-1.565-4.092,0-5.66L235.37,548.97z\"></path>\n        <path d=\"M249.397,562.297c1.423-1.691,3.942-1.912,5.639-0.49l0,0c1.693,1.414,1.914,3.94,0.49,5.635L151.4,691.541\n\t\t\t\tc-1.423,1.689-3.949,1.908-5.638,0.49l0,0c-1.696-1.42-1.917-3.939-0.494-5.639L249.397,562.297z\"></path>\n        <path d=\"M264.533,574.351c1.27-1.809,3.761-2.248,5.574-0.979l0,0c1.811,1.262,2.25,3.758,0.979,5.57\n\t\t\t\tl-92.914,132.701c-1.27,1.809-3.768,2.246-5.573,0.981l0,0c-1.813-1.267-2.253-3.758-0.984-5.574L264.533,574.351z\"></path>\n        <path d=\"M280.661,585.039c1.107-1.912,3.551-2.566,5.468-1.461l0,0c1.914,1.099,2.569,3.547,1.462,5.463\n\t\t\t\tl-80.995,140.295c-1.107,1.912-3.558,2.564-5.467,1.463l0,0c-1.917-1.104-2.571-3.547-1.466-5.467L280.661,585.039z\"></path>\n        <path d=\"M297.659,594.281c0.937-2.002,3.313-2.867,5.319-1.932l0,0c2.004,0.928,2.869,3.309,1.934,5.314\n\t\t\t\tl-68.46,146.82c-0.937,2.002-3.32,2.865-5.318,1.934l0,0c-2.006-0.932-2.87-3.31-1.937-5.318L297.659,594.281z\"></path>\n        <path d=\"M315.398,602.006c0.759-2.075,3.051-3.144,5.131-2.387l0,0c2.077,0.749,3.146,3.045,2.39,5.125\n\t\t\t\tl-55.403,152.229c-0.759,2.076-3.059,3.145-5.13,2.391l0,0c-2.079-0.754-3.147-3.047-2.393-5.131L315.398,602.006z\"></path>\n        <path d=\"M333.743,608.156c0.575-2.135,2.766-3.397,4.903-2.824l0,0c2.135,0.564,3.4,2.758,2.828,4.896\n\t\t\t\tl-41.926,156.479c-0.575,2.133-2.772,3.398-4.902,2.828l0,0c-2.136-0.57-3.4-2.762-2.83-4.903L333.743,608.156z\"></path>\n        <path d=\"M352.555,612.684c0.387-2.176,2.459-3.625,4.639-3.24l0,0c2.176,0.376,3.628,2.451,3.244,4.631\n\t\t\t\tl-28.129,159.538c-0.387,2.175-2.466,3.626-4.637,3.245l0,0c-2.178-0.383-3.628-2.456-3.247-4.639L352.555,612.684z\"></path>\n        <path d=\"M371.689,615.555c0.195-2.201,2.134-3.825,4.338-3.633l0,0c2.2,0.186,3.828,2.127,3.636,4.33\n\t\t\t\tl-14.117,161.384c-0.195,2.2-2.141,3.827-4.336,3.637l0,0c-2.203-0.19-3.829-2.13-3.64-4.338L371.689,615.555z\"></path>\n        <path d=\"M391.001,616.748c0.003-2.211,1.792-3.998,4.005-3.998l0,0c2.208-0.007,3.999,1.785,4,3.997l0.002,162\n\t\t\t\tc-0.004,2.208-1.8,3.999-4.003,4.001l0,0c-2.211,0.002-4-1.789-4.004-4.004V616.748z\"></path>\n        <path d=\"M410.343,616.253c-0.189-2.202,1.437-4.139,3.642-4.331l0,0c2.199-0.199,4.14,1.43,4.333,3.633\n\t\t\t\tl14.121,161.383c0.188,2.2-1.444,4.141-3.639,4.334l0,0c-2.202,0.195-4.141-1.434-4.338-3.639L410.343,616.253z\"></path>\n        <path d=\"M429.568,614.074c-0.381-2.178,1.07-4.248,3.25-4.632l0,0c2.174-0.39,4.249,1.063,4.633,3.241\n\t\t\t\tl28.133,159.538c0.38,2.175-1.077,4.251-3.247,4.634l0,0c-2.176,0.387-4.249-1.067-4.639-3.246L429.568,614.074z\"></path>\n        <path d=\"M448.53,610.228c-0.568-2.136,0.696-4.325,2.835-4.897l0,0c2.131-0.577,4.325,0.689,4.897,2.826\n\t\t\t\tl41.93,156.479c0.568,2.133-0.702,4.329-2.83,4.898l0,0c-2.134,0.576-4.326-0.693-4.904-2.828L448.53,610.228z\"></path>\n        <path d=\"M467.085,604.742c-0.752-2.076,0.317-4.369,2.397-5.125l0,0c2.072-0.76,4.369,0.311,5.125,2.389\n\t\t\t\tl55.408,152.229c0.753,2.074-0.321,4.374-2.393,5.127l0,0c-2.075,0.76-4.369-0.314-5.132-2.391L467.085,604.742z\"></path>\n        <path d=\"M485.091,597.662c-0.93-2.003-0.064-4.381,1.942-5.314l0,0c1.998-0.938,4.38-0.072,5.313,1.932\n\t\t\t\tl68.465,146.82c0.931,2.001,0.062,4.386-1.937,5.316l0,0c-2.002,0.938-4.38,0.067-5.321-1.934L485.091,597.662z\"></path>\n        <path d=\"M502.411,589.039c-1.1-1.914-0.446-4.359,1.472-5.463l0,0c1.91-1.108,4.357-0.455,5.463,1.46l81,140.295\n\t\t\t\tc1.102,1.913,0.443,4.364-1.467,5.466l0,0c-1.912,1.107-4.356,0.447-5.469-1.463L502.411,589.039z\"></path>\n        <path d=\"M518.914,578.939c-1.262-1.812-0.824-4.304,0.99-5.57l0,0c1.806-1.271,4.302-0.834,5.569,0.979\n\t\t\t\tl92.92,132.701c1.264,1.809,0.821,4.309-0.985,5.573l0,0c-1.809,1.269-4.301,0.825-5.575-0.981L518.914,578.939z\"></path>\n        <path d=\"M534.475,567.439c-1.415-1.695-1.197-4.215,0.5-5.635l0,0c1.688-1.424,4.214-1.206,5.635,0.488\n\t\t\t\tl104.132,124.099c1.416,1.691,1.192,4.22-0.497,5.638l0,0c-1.69,1.421-4.212,1.197-5.639-0.492L534.475,567.439z\"></path>\n        <path d=\"M548.974,554.627c-1.558-1.564-1.561-4.094,0.007-5.656l0,0c1.558-1.565,4.093-1.568,5.656-0.005\n\t\t\t\tl114.551,114.552c1.558,1.561,1.556,4.099-0.004,5.658l0,0c-1.561,1.562-4.092,1.561-5.659,0.002L548.974,554.627z\"></path>\n        <path d=\"M562.301,540.6c-1.688-1.422-1.912-3.941-0.486-5.635l0,0c1.415-1.695,3.94-1.92,5.634-0.498l124.1,104.133\n\t\t\t\tc1.688,1.418,1.907,3.947,0.489,5.637l0,0c-1.419,1.692-3.94,1.911-5.638,0.495L562.301,540.6z\"></path>\n        <path d=\"M574.354,525.465c-1.806-1.27-2.248-3.76-0.976-5.57l0,0c1.262-1.813,3.759-2.258,5.568-0.988\n\t\t\t\tl132.703,92.921c1.806,1.265,2.244,3.765,0.979,5.573l0,0c-1.267,1.809-3.759,2.246-5.573,0.984L574.354,525.465z\"></path>\n        <path d=\"M585.043,509.337c-1.909-1.106-2.566-3.55-1.457-5.464l0,0c1.099-1.918,3.547-2.577,5.461-1.471\n\t\t\t\tl140.297,81.002c1.908,1.102,2.563,3.555,1.461,5.467l0,0c-1.104,1.912-3.549,2.565-5.466,1.467L585.043,509.337z\"></path>\n        <path d=\"M594.285,492.338c-1.998-0.936-2.866-3.312-1.928-5.314l0,0c0.928-2.008,3.309-2.877,5.312-1.942\n\t\t\t\tl146.822,68.467c1.997,0.931,2.863,3.317,1.933,5.319l0,0c-0.934,2-3.312,2.864-5.317,1.937L594.285,492.338z\"></path>\n        <path d=\"M602.011,474.6c-2.072-0.76-3.144-3.051-2.384-5.127l0,0c0.749-2.082,3.045-3.154,5.123-2.398l152.23,55.41\n\t\t\t\tc2.07,0.754,3.142,3.055,2.39,5.131l0,0c-0.756,2.074-3.05,3.142-5.129,2.393L602.011,474.6z\"></path>\n        <path d=\"M608.16,456.255c-2.13-0.576-3.396-2.765-2.82-4.899l0,0c0.564-2.14,2.758-3.408,4.895-2.836l156.48,41.932\n\t\t\t\tc2.127,0.57,3.396,2.769,2.827,4.902l0,0c-0.572,2.133-2.765,3.396-4.901,2.83L608.16,456.255z\"></path>\n        <path d=\"M612.688,437.443c-2.171-0.388-3.623-2.457-3.236-4.635l0,0c0.376-2.18,2.451-3.635,4.629-3.252\n\t\t\t\tl159.54,28.135c2.168,0.383,3.623,2.461,3.244,4.637l0,0c-0.385,2.176-2.459,3.624-4.637,3.246L612.688,437.443z\"></path>\n        <path d=\"M615.559,418.31c-2.196-0.197-3.823-2.132-3.628-4.335l0,0c0.185-2.205,2.125-3.835,4.327-3.645\n\t\t\t\tl161.386,14.125c2.193,0.191,3.824,2.135,3.636,4.336l0,0c-0.193,2.2-2.133,3.824-4.336,3.637L615.559,418.31z\"></path>\n        <path d=\"M616.752,398.998c-2.206-0.005-3.996-1.791-3.992-4.002l0,0c-0.009-2.213,1.782-4.005,3.993-4.007\n\t\t\t\tl162.002,0.005c2.201,0,3.996,1.794,4,4.002l0,0c-0.001,2.209-1.792,3.996-4.002,4L616.752,398.998z\"></path>\n        <path d=\"M616.257,379.656c-2.197,0.187-4.138-1.436-4.326-3.64l0,0c-0.2-2.204,1.427-4.146,3.629-4.34\n\t\t\t\tl161.387-14.114c2.192-0.192,4.137,1.439,4.333,3.639l0,0c0.191,2.201-1.437,4.137-3.638,4.334L616.257,379.656z\"></path>\n        <path d=\"M614.078,360.431c-2.173,0.377-4.247-1.07-4.627-3.249l0,0c-0.393-2.178,1.06-4.254,3.237-4.64\n\t\t\t\tl159.542-28.126c2.167-0.383,4.247,1.073,4.634,3.247l0,0c0.382,2.176-1.071,4.247-3.246,4.635L614.078,360.431z\"></path>\n        <path d=\"M610.231,341.469c-2.131,0.565-4.323-0.695-4.893-2.833l0,0c-0.58-2.135,0.686-4.33,2.821-4.904\n\t\t\t\tl156.483-41.924c2.126-0.57,4.325,0.698,4.899,2.83l0,0c0.57,2.135-0.697,4.324-2.83,4.901L610.231,341.469z\"></path>\n        <path d=\"M604.747,322.914c-2.073,0.75-4.367-0.315-5.121-2.396l0,0c-0.764-2.077,0.307-4.373,2.383-5.132\n\t\t\t\tl152.235-55.403c2.067-0.753,4.369,0.319,5.127,2.392l0,0c0.754,2.077-0.318,4.369-2.392,5.129L604.747,322.914z\"></path>\n        <path d=\"M597.667,304.908c-2,0.927-4.378,0.066-5.311-1.94l0,0c-0.941-2.002-0.076-4.383,1.926-5.32l146.827-68.46\n\t\t\t\tc1.994-0.931,4.381-0.063,5.316,1.937l0,0c0.932,2.003,0.063,4.38-1.935,5.318L597.667,304.908z\"></path>\n        <path d=\"M589.044,287.587c-1.911,1.098-4.355,0.448-5.459-1.47l0,0c-1.112-1.912-0.458-4.359,1.454-5.468\n\t\t\t\tl140.302-80.996c1.906-1.102,4.358-0.444,5.466,1.466l0,0c1.103,1.914,0.444,4.357-1.465,5.466L589.044,287.587z\"></path>\n        <path d=\"M578.944,271.083c-1.809,1.261-4.3,0.826-5.566-0.988l0,0c-1.275-1.809-0.836-4.303,0.972-5.574\n\t\t\t\tl132.709-92.916c1.803-1.263,4.303-0.822,5.572,0.984l0,0c1.266,1.811,0.823,4.302-0.982,5.573L578.944,271.083z\"></path>\n        <path d=\"M567.444,255.523c-1.691,1.414-4.211,1.198-5.631-0.5l0,0c-1.429-1.69-1.208-4.213,0.481-5.638\n\t\t\t\tl124.106-104.129c1.686-1.415,4.215-1.194,5.637,0.495l0,0c1.418,1.693,1.195,4.214-0.493,5.637L567.444,255.523z\"></path>\n        <path d=\"M554.632,241.025c-1.561,1.556-4.091,1.56-5.652-0.007l0,0c-1.57-1.56-1.57-4.092-0.012-5.658\n\t\t\t\tl114.56-114.549c1.555-1.557,4.094-1.557,5.658,0.001l0,0c1.56,1.563,1.558,4.094-0.001,5.659L554.632,241.025z\"></path>\n        <path d=\"M540.605,227.698c-1.42,1.686-3.939,1.911-5.632,0.486l0,0c-1.7-1.417-1.921-3.939-0.505-5.636\n\t\t\t\tL638.609,98.451c1.413-1.687,3.942-1.908,5.637-0.492l0,0c1.689,1.422,1.908,3.943,0.492,5.638L540.605,227.698z\"></path>\n        <path d=\"M525.471,215.645c-1.268,1.803-3.758,2.247-5.568,0.975l0,0c-1.817-1.264-2.257-3.757-0.994-5.57\n\t\t\t\tl92.929-132.702c1.261-1.803,3.761-2.244,5.572-0.981l0,0c1.807,1.27,2.244,3.762,0.981,5.574L525.471,215.645z\"></path>\n        <path d=\"M509.343,204.956c-1.105,1.907-3.548,2.566-5.463,1.457l0,0c-1.92-1.101-2.575-3.546-1.476-5.462\n\t\t\t\tl81.01-140.296c1.099-1.906,3.551-2.563,5.465-1.464l0,0c1.911,1.107,2.564,3.552,1.465,5.467L509.343,204.956z\"></path>\n        <path d=\"M492.344,195.714c-0.934,1.996-3.311,2.865-5.314,1.927l0,0c-2.009-0.93-2.874-3.309-1.946-5.313\n\t\t\t\tl68.475-146.823c0.929-1.995,3.313-2.863,5.316-1.935l0,0c2,0.937,2.864,3.315,1.936,5.318L492.344,195.714z\"></path>\n        <path d=\"M474.605,187.988c-0.757,2.07-3.049,3.143-5.127,2.383l0,0c-2.082-0.751-3.151-3.046-2.402-5.124\n\t\t\t\tl55.418-152.231c0.752-2.069,3.051-3.141,5.127-2.391l0,0c2.075,0.758,3.143,3.052,2.393,5.129L474.605,187.988z\"></path>\n        <path d=\"M456.261,181.838c-0.573,2.128-2.763,3.397-4.899,2.821l0,0c-2.14-0.567-3.405-2.76-2.84-4.895\n\t\t\t\tL490.46,23.282c0.569-2.126,2.766-3.395,4.899-2.828l0,0c2.134,0.575,3.396,2.767,2.831,4.901L456.261,181.838z\"></path>\n        <path d=\"M437.449,177.31c-0.385,2.17-2.456,3.625-4.635,3.237l0,0c-2.181-0.378-3.632-2.452-3.256-4.629\n\t\t\t\tl28.141-159.542c0.383-2.168,2.459-3.623,4.635-3.244l0,0c2.176,0.386,3.625,2.459,3.247,4.635L437.449,177.31z\"></path>\n        <path d=\"M418.315,174.439c-0.194,2.195-2.131,3.825-4.335,3.629l0,0c-2.206-0.187-3.832-2.126-3.647-4.328\n\t\t\t\tl14.129-161.387c0.192-2.193,2.134-3.824,4.335-3.636l0,0c2.2,0.195,3.825,2.134,3.638,4.334L418.315,174.439z\"></path>\n      </g>\n      <g fill=\"#bad424\" id=\"green\" mask=\"url(#mask)\">\n        <path d=\"M399,173.245c0,2.209-1.791,4-4,4l0,0c-2.209,0-4-1.791-4-4v-162c0-2.209,1.791-4,4-4l0,0\n\t\t\t\tc2.209,0,4,1.791,4,4V173.245z\"></path>\n        <path d=\"M379.658,173.74c0.192,2.201-1.436,4.141-3.637,4.333l0,0c-2.2,0.193-4.141-1.436-4.333-3.636\n\t\t\t\tL357.569,13.054c-0.192-2.201,1.436-4.141,3.636-4.333l0,0c2.201-0.192,4.141,1.436,4.334,3.636L379.658,173.74z\"></path>\n        <path d=\"M360.433,175.919c0.384,2.175-1.068,4.25-3.245,4.634l0,0c-2.175,0.384-4.25-1.069-4.633-3.245\n\t\t\t\tL324.424,17.77c-0.384-2.175,1.069-4.25,3.243-4.634l0,0c2.177-0.383,4.251,1.069,4.635,3.245L360.433,175.919z\"></path>\n        <path d=\"M341.47,179.765c0.572,2.134-0.693,4.328-2.828,4.9l0,0c-2.133,0.572-4.327-0.695-4.898-2.829\n\t\t\t\tl-41.929-156.48c-0.571-2.134,0.695-4.328,2.827-4.899l0,0c2.136-0.571,4.328,0.695,4.9,2.829L341.47,179.765z\"></path>\n        <path d=\"M322.915,185.25c0.756,2.076-0.313,4.372-2.391,5.128l0,0c-2.074,0.756-4.371-0.315-5.126-2.391\n\t\t\t\tl-55.407-152.23c-0.755-2.076,0.315-4.372,2.389-5.127l0,0c2.078-0.756,4.372,0.314,5.129,2.391L322.915,185.25z\"></path>\n        <path d=\"M304.909,192.331c0.934,2.002,0.068,4.383-1.936,5.317l0,0c-2,0.934-4.382,0.067-5.314-1.936\n\t\t\t\tL229.195,48.891c-0.934-2.003-0.066-4.383,1.933-5.316l0,0c2.004-0.934,4.383-0.068,5.318,1.935L304.909,192.331z\"></path>\n        <path d=\"M287.589,200.954c1.104,1.913,0.45,4.36-1.465,5.466l0,0c-1.911,1.104-4.359,0.448-5.463-1.465l-81-140.295\n\t\t\t\tc-1.104-1.914-0.448-4.361,1.462-5.464l0,0c1.915-1.105,4.36-0.45,5.467,1.464L287.589,200.954z\"></path>\n        <path d=\"M271.086,211.054c1.267,1.809,0.828,4.304-0.983,5.573l0,0c-1.808,1.267-4.304,0.826-5.569-0.984\n\t\t\t\tL171.613,82.94c-1.267-1.811-0.826-4.306,0.98-5.57l0,0c1.812-1.268,4.305-0.828,5.573,0.982L271.086,211.054z\"></path>\n        <path d=\"M255.526,222.554c1.419,1.691,1.199,4.215-0.495,5.637l0,0c-1.689,1.419-4.215,1.198-5.633-0.495\n\t\t\t\tL145.266,103.598c-1.419-1.693-1.198-4.217,0.491-5.635l0,0c1.694-1.421,4.217-1.2,5.638,0.493L255.526,222.554z\"></path>\n        <path d=\"M241.027,235.366c1.562,1.561,1.562,4.094-0.001,5.659l0,0c-1.56,1.561-4.095,1.561-5.655-0.002\n\t\t\t\tl-114.553-114.55c-1.561-1.563-1.561-4.097-0.001-5.656l0,0c1.563-1.564,4.096-1.563,5.659,0L241.027,235.366z\"></path>\n        <path d=\"M227.7,249.394c1.692,1.419,1.914,3.942,0.493,5.637l0,0c-1.418,1.69-3.943,1.912-5.635,0.491\n\t\t\t\tl-124.1-104.13c-1.691-1.421-1.912-3.945-0.494-5.635l0,0c1.421-1.694,3.943-1.915,5.638-0.494L227.7,249.394z\"></path>\n        <path d=\"M215.646,264.529c1.811,1.266,2.251,3.761,0.982,5.573l0,0c-1.265,1.808-3.761,2.249-5.57,0.98\n\t\t\t\tL78.355,178.163c-1.809-1.268-2.248-3.763-0.982-5.57l0,0c1.268-1.812,3.761-2.251,5.572-0.983L215.646,264.529z\"></path>\n        <path d=\"M204.958,280.657c1.914,1.104,2.57,3.55,1.464,5.466l0,0c-1.102,1.911-3.55,2.568-5.464,1.462\n\t\t\t\tL60.662,206.586c-1.912-1.106-2.567-3.553-1.464-5.463l0,0c1.104-1.915,3.55-2.57,5.465-1.465L204.958,280.657z\"></path>\n        <path d=\"M195.716,297.656c2.003,0.932,2.87,3.312,1.935,5.317l0,0c-0.931,2-3.312,2.867-5.315,1.933L45.514,236.442\n\t\t\t\tc-2.002-0.935-2.867-3.316-1.935-5.315l0,0c0.933-2.004,3.312-2.869,5.316-1.936L195.716,297.656z\"></path>\n        <path d=\"M187.99,315.395c2.076,0.754,3.148,3.049,2.391,5.128l0,0c-0.753,2.074-3.05,3.145-5.127,2.389\n\t\t\t\tL33.025,267.506c-2.076-0.757-3.146-3.053-2.391-5.126l0,0c0.754-2.077,3.049-3.147,5.127-2.392L187.99,315.395z\"></path>\n        <path d=\"M181.84,333.74c2.135,0.571,3.402,2.764,2.829,4.901l0,0c-0.569,2.131-2.765,3.399-4.899,2.827\n\t\t\t\tL23.291,299.54c-2.134-0.574-3.399-2.768-2.828-4.898l0,0c0.57-2.135,2.763-3.401,4.899-2.83L181.84,333.74z\"></path>\n        <path d=\"M177.312,352.551c2.176,0.383,3.63,2.457,3.245,4.636l0,0c-0.381,2.173-2.458,3.627-4.635,3.243\n\t\t\t\tl-159.537-28.13c-2.176-0.386-3.628-2.461-3.244-4.633l0,0c0.382-2.176,2.456-3.629,4.634-3.246L177.312,352.551z\"></path>\n        <path d=\"M174.441,371.685c2.201,0.192,3.83,2.132,3.637,4.335l0,0c-0.189,2.198-2.133,3.828-4.334,3.634\n\t\t\t\tL12.362,365.537c-2.201-0.195-3.829-2.136-3.636-4.333l0,0c0.19-2.201,2.131-3.829,4.333-3.638L174.441,371.685z\"></path>\n        <path d=\"M173.249,390.997c2.21-0.001,4.001,1.79,4.001,4.002l0,0c0.003,2.206-1.791,3.999-4.001,3.998\n\t\t\t\tl-161.998,0.001c-2.21-0.003-4.001-1.794-4-4l0,0c-0.002-2.209,1.789-4,4-4.001H173.249z\"></path>\n        <path d=\"M173.744,410.34c2.202-0.194,4.142,1.434,4.335,3.637l0,0c0.195,2.198-1.436,4.141-3.638,4.332\n\t\t\t\tL13.061,432.43c-2.202,0.189-4.143-1.439-4.334-3.637l0,0c-0.194-2.201,1.434-4.141,3.637-4.334L173.744,410.34z\"></path>\n        <path d=\"M175.923,429.564c2.178-0.385,4.251,1.068,4.636,3.246l0,0c0.387,2.173-1.068,4.25-3.246,4.633\n\t\t\t\tL17.776,465.576c-2.177,0.38-4.252-1.073-4.635-3.246l0,0c-0.385-2.176,1.067-4.25,3.245-4.635L175.923,429.564z\"></path>\n        <path d=\"M179.77,448.526c2.136-0.572,4.328,0.694,4.9,2.831l0,0c0.575,2.13-0.693,4.326-2.83,4.897L25.363,498.186\n\t\t\t\tc-2.135,0.568-4.329-0.699-4.9-2.83l0,0c-0.572-2.135,0.693-4.328,2.829-4.9L179.77,448.526z\"></path>\n        <path d=\"M185.254,467.081c2.078-0.755,4.372,0.315,5.129,2.394l0,0c0.759,2.072-0.313,4.371-2.393,5.125\n\t\t\t\tL35.764,530.01c-2.077,0.752-4.374-0.32-5.129-2.393l0,0c-0.756-2.078,0.313-4.373,2.392-5.129L185.254,467.081z\"></path>\n        <path d=\"M192.335,485.088c2.004-0.934,4.383-0.066,5.318,1.938l0,0c0.937,1.998,0.068,4.381-1.938,5.314\n\t\t\t\tL48.898,560.806c-2.004,0.931-4.386,0.062-5.318-1.937l0,0c-0.935-2.004-0.069-4.384,1.936-5.318L192.335,485.088z\"></path>\n        <path d=\"M200.958,502.408c1.915-1.104,4.36-0.447,5.467,1.467l0,0c1.107,1.91,0.45,4.357-1.467,5.463L64.667,590.34\n\t\t\t\tc-1.915,1.102-4.364,0.443-5.467-1.467l0,0c-1.106-1.914-0.451-4.359,1.465-5.467L200.958,502.408z\"></path>\n        <path d=\"M211.058,518.911c1.812-1.266,4.305-0.825,5.574,0.985l0,0c1.27,1.806,0.828,4.302-0.985,5.569\n\t\t\t\tL82.949,618.387c-1.812,1.266-4.309,0.822-5.573-0.984l0,0c-1.27-1.811-0.83-4.303,0.982-5.574L211.058,518.911z\"></path>\n        <path d=\"M222.558,534.471c1.694-1.418,4.216-1.197,5.639,0.496l0,0c1.422,1.688,1.2,4.214-0.496,5.635\n\t\t\t\tL103.606,644.734c-1.694,1.418-4.221,1.193-5.638-0.496l0,0c-1.423-1.693-1.202-4.213,0.493-5.639L222.558,534.471z\"></path>\n        <path d=\"M235.37,548.97c1.564-1.561,4.095-1.561,5.66,0.003l0,0c1.563,1.557,1.563,4.093-0.003,5.656\n\t\t\t\tL126.481,669.182c-1.564,1.559-4.101,1.556-5.659-0.004l0,0c-1.565-1.562-1.565-4.092,0-5.66L235.37,548.97z\"></path>\n        <path d=\"M249.397,562.297c1.423-1.691,3.942-1.912,5.639-0.49l0,0c1.693,1.414,1.914,3.94,0.49,5.635L151.4,691.541\n\t\t\t\tc-1.423,1.689-3.949,1.908-5.638,0.49l0,0c-1.696-1.42-1.917-3.939-0.494-5.639L249.397,562.297z\"></path>\n        <path d=\"M264.533,574.351c1.27-1.809,3.761-2.248,5.574-0.979l0,0c1.811,1.262,2.25,3.758,0.979,5.57\n\t\t\t\tl-92.914,132.701c-1.27,1.809-3.768,2.246-5.573,0.981l0,0c-1.813-1.267-2.253-3.758-0.984-5.574L264.533,574.351z\"></path>\n        <path d=\"M280.661,585.039c1.107-1.912,3.551-2.566,5.468-1.461l0,0c1.914,1.099,2.569,3.547,1.462,5.463\n\t\t\t\tl-80.995,140.295c-1.107,1.912-3.558,2.564-5.467,1.463l0,0c-1.917-1.104-2.571-3.547-1.466-5.467L280.661,585.039z\"></path>\n        <path d=\"M297.659,594.281c0.937-2.002,3.313-2.867,5.319-1.932l0,0c2.004,0.928,2.869,3.309,1.934,5.314\n\t\t\t\tl-68.46,146.82c-0.937,2.002-3.32,2.865-5.318,1.934l0,0c-2.006-0.932-2.87-3.31-1.937-5.318L297.659,594.281z\"></path>\n        <path d=\"M315.398,602.006c0.759-2.075,3.051-3.144,5.131-2.387l0,0c2.077,0.749,3.146,3.045,2.39,5.125\n\t\t\t\tl-55.403,152.229c-0.759,2.076-3.059,3.145-5.13,2.391l0,0c-2.079-0.754-3.147-3.047-2.393-5.131L315.398,602.006z\"></path>\n        <path d=\"M333.743,608.156c0.575-2.135,2.766-3.397,4.903-2.824l0,0c2.135,0.564,3.4,2.758,2.828,4.896\n\t\t\t\tl-41.926,156.479c-0.575,2.133-2.772,3.398-4.902,2.828l0,0c-2.136-0.57-3.4-2.762-2.83-4.903L333.743,608.156z\"></path>\n        <path d=\"M352.555,612.684c0.387-2.176,2.459-3.625,4.639-3.24l0,0c2.176,0.376,3.628,2.451,3.244,4.631\n\t\t\t\tl-28.129,159.538c-0.387,2.175-2.466,3.626-4.637,3.245l0,0c-2.178-0.383-3.628-2.456-3.247-4.639L352.555,612.684z\"></path>\n        <path d=\"M371.689,615.555c0.195-2.201,2.134-3.825,4.338-3.633l0,0c2.2,0.186,3.828,2.127,3.636,4.33\n\t\t\t\tl-14.117,161.384c-0.195,2.2-2.141,3.827-4.336,3.637l0,0c-2.203-0.19-3.829-2.13-3.64-4.338L371.689,615.555z\"></path>\n        <path d=\"M391.001,616.748c0.003-2.211,1.792-3.998,4.005-3.998l0,0c2.208-0.007,3.999,1.785,4,3.997l0.002,162\n\t\t\t\tc-0.004,2.208-1.8,3.999-4.003,4.001l0,0c-2.211,0.002-4-1.789-4.004-4.004V616.748z\"></path>\n        <path d=\"M410.343,616.253c-0.189-2.202,1.437-4.139,3.642-4.331l0,0c2.199-0.199,4.14,1.43,4.333,3.633\n\t\t\t\tl14.121,161.383c0.188,2.2-1.444,4.141-3.639,4.334l0,0c-2.202,0.195-4.141-1.434-4.338-3.639L410.343,616.253z\"></path>\n        <path d=\"M429.568,614.074c-0.381-2.178,1.07-4.248,3.25-4.632l0,0c2.174-0.39,4.249,1.063,4.633,3.241\n\t\t\t\tl28.133,159.538c0.38,2.175-1.077,4.251-3.247,4.634l0,0c-2.176,0.387-4.249-1.067-4.639-3.246L429.568,614.074z\"></path>\n        <path d=\"M448.53,610.228c-0.568-2.136,0.696-4.325,2.835-4.897l0,0c2.131-0.577,4.325,0.689,4.897,2.826\n\t\t\t\tl41.93,156.479c0.568,2.133-0.702,4.329-2.83,4.898l0,0c-2.134,0.576-4.326-0.693-4.904-2.828L448.53,610.228z\"></path>\n        <path d=\"M467.085,604.742c-0.752-2.076,0.317-4.369,2.397-5.125l0,0c2.072-0.76,4.369,0.311,5.125,2.389\n\t\t\t\tl55.408,152.229c0.753,2.074-0.321,4.374-2.393,5.127l0,0c-2.075,0.76-4.369-0.314-5.132-2.391L467.085,604.742z\"></path>\n        <path d=\"M485.091,597.662c-0.93-2.003-0.064-4.381,1.942-5.314l0,0c1.998-0.938,4.38-0.072,5.313,1.932\n\t\t\t\tl68.465,146.82c0.931,2.001,0.062,4.386-1.937,5.316l0,0c-2.002,0.938-4.38,0.067-5.321-1.934L485.091,597.662z\"></path>\n        <path d=\"M502.411,589.039c-1.1-1.914-0.446-4.359,1.472-5.463l0,0c1.91-1.108,4.357-0.455,5.463,1.46l81,140.295\n\t\t\t\tc1.102,1.913,0.443,4.364-1.467,5.466l0,0c-1.912,1.107-4.356,0.447-5.469-1.463L502.411,589.039z\"></path>\n        <path d=\"M518.914,578.939c-1.262-1.812-0.824-4.304,0.99-5.57l0,0c1.806-1.271,4.302-0.834,5.569,0.979\n\t\t\t\tl92.92,132.701c1.264,1.809,0.821,4.309-0.985,5.573l0,0c-1.809,1.269-4.301,0.825-5.575-0.981L518.914,578.939z\"></path>\n        <path d=\"M534.475,567.439c-1.415-1.695-1.197-4.215,0.5-5.635l0,0c1.688-1.424,4.214-1.206,5.635,0.488\n\t\t\t\tl104.132,124.099c1.416,1.691,1.192,4.22-0.497,5.638l0,0c-1.69,1.421-4.212,1.197-5.639-0.492L534.475,567.439z\"></path>\n        <path d=\"M548.974,554.627c-1.558-1.564-1.561-4.094,0.007-5.656l0,0c1.558-1.565,4.093-1.568,5.656-0.005\n\t\t\t\tl114.551,114.552c1.558,1.561,1.556,4.099-0.004,5.658l0,0c-1.561,1.562-4.092,1.561-5.659,0.002L548.974,554.627z\"></path>\n        <path d=\"M562.301,540.6c-1.688-1.422-1.912-3.941-0.486-5.635l0,0c1.415-1.695,3.94-1.92,5.634-0.498l124.1,104.133\n\t\t\t\tc1.688,1.418,1.907,3.947,0.489,5.637l0,0c-1.419,1.692-3.94,1.911-5.638,0.495L562.301,540.6z\"></path>\n        <path d=\"M574.354,525.465c-1.806-1.27-2.248-3.76-0.976-5.57l0,0c1.262-1.813,3.759-2.258,5.568-0.988\n\t\t\t\tl132.703,92.921c1.806,1.265,2.244,3.765,0.979,5.573l0,0c-1.267,1.809-3.759,2.246-5.573,0.984L574.354,525.465z\"></path>\n        <path d=\"M585.043,509.337c-1.909-1.106-2.566-3.55-1.457-5.464l0,0c1.099-1.918,3.547-2.577,5.461-1.471\n\t\t\t\tl140.297,81.002c1.908,1.102,2.563,3.555,1.461,5.467l0,0c-1.104,1.912-3.549,2.565-5.466,1.467L585.043,509.337z\"></path>\n        <path d=\"M594.285,492.338c-1.998-0.936-2.866-3.312-1.928-5.314l0,0c0.928-2.008,3.309-2.877,5.312-1.942\n\t\t\t\tl146.822,68.467c1.997,0.931,2.863,3.317,1.933,5.319l0,0c-0.934,2-3.312,2.864-5.317,1.937L594.285,492.338z\"></path>\n        <path d=\"M602.011,474.6c-2.072-0.76-3.144-3.051-2.384-5.127l0,0c0.749-2.082,3.045-3.154,5.123-2.398l152.23,55.41\n\t\t\t\tc2.07,0.754,3.142,3.055,2.39,5.131l0,0c-0.756,2.074-3.05,3.142-5.129,2.393L602.011,474.6z\"></path>\n        <path d=\"M608.16,456.255c-2.13-0.576-3.396-2.765-2.82-4.899l0,0c0.564-2.14,2.758-3.408,4.895-2.836l156.48,41.932\n\t\t\t\tc2.127,0.57,3.396,2.769,2.827,4.902l0,0c-0.572,2.133-2.765,3.396-4.901,2.83L608.16,456.255z\"></path>\n        <path d=\"M612.688,437.443c-2.171-0.388-3.623-2.457-3.236-4.635l0,0c0.376-2.18,2.451-3.635,4.629-3.252\n\t\t\t\tl159.54,28.135c2.168,0.383,3.623,2.461,3.244,4.637l0,0c-0.385,2.176-2.459,3.624-4.637,3.246L612.688,437.443z\"></path>\n        <path d=\"M615.559,418.31c-2.196-0.197-3.823-2.132-3.628-4.335l0,0c0.185-2.205,2.125-3.835,4.327-3.645\n\t\t\t\tl161.386,14.125c2.193,0.191,3.824,2.135,3.636,4.336l0,0c-0.193,2.2-2.133,3.824-4.336,3.637L615.559,418.31z\"></path>\n        <path d=\"M616.752,398.998c-2.206-0.005-3.996-1.791-3.992-4.002l0,0c-0.009-2.213,1.782-4.005,3.993-4.007\n\t\t\t\tl162.002,0.005c2.201,0,3.996,1.794,4,4.002l0,0c-0.001,2.209-1.792,3.996-4.002,4L616.752,398.998z\"></path>\n        <path d=\"M616.257,379.656c-2.197,0.187-4.138-1.436-4.326-3.64l0,0c-0.2-2.204,1.427-4.146,3.629-4.34\n\t\t\t\tl161.387-14.114c2.192-0.192,4.137,1.439,4.333,3.639l0,0c0.191,2.201-1.437,4.137-3.638,4.334L616.257,379.656z\"></path>\n        <path d=\"M614.078,360.431c-2.173,0.377-4.247-1.07-4.627-3.249l0,0c-0.393-2.178,1.06-4.254,3.237-4.64\n\t\t\t\tl159.542-28.126c2.167-0.383,4.247,1.073,4.634,3.247l0,0c0.382,2.176-1.071,4.247-3.246,4.635L614.078,360.431z\"></path>\n        <path d=\"M610.231,341.469c-2.131,0.565-4.323-0.695-4.893-2.833l0,0c-0.58-2.135,0.686-4.33,2.821-4.904\n\t\t\t\tl156.483-41.924c2.126-0.57,4.325,0.698,4.899,2.83l0,0c0.57,2.135-0.697,4.324-2.83,4.901L610.231,341.469z\"></path>\n        <path d=\"M604.747,322.914c-2.073,0.75-4.367-0.315-5.121-2.396l0,0c-0.764-2.077,0.307-4.373,2.383-5.132\n\t\t\t\tl152.235-55.403c2.067-0.753,4.369,0.319,5.127,2.392l0,0c0.754,2.077-0.318,4.369-2.392,5.129L604.747,322.914z\"></path>\n        <path d=\"M597.667,304.908c-2,0.927-4.378,0.066-5.311-1.94l0,0c-0.941-2.002-0.076-4.383,1.926-5.32l146.827-68.46\n\t\t\t\tc1.994-0.931,4.381-0.063,5.316,1.937l0,0c0.932,2.003,0.063,4.38-1.935,5.318L597.667,304.908z\"></path>\n        <path d=\"M589.044,287.587c-1.911,1.098-4.355,0.448-5.459-1.47l0,0c-1.112-1.912-0.458-4.359,1.454-5.468\n\t\t\t\tl140.302-80.996c1.906-1.102,4.358-0.444,5.466,1.466l0,0c1.103,1.914,0.444,4.357-1.465,5.466L589.044,287.587z\"></path>\n        <path d=\"M578.944,271.083c-1.809,1.261-4.3,0.826-5.566-0.988l0,0c-1.275-1.809-0.836-4.303,0.972-5.574\n\t\t\t\tl132.709-92.916c1.803-1.263,4.303-0.822,5.572,0.984l0,0c1.266,1.811,0.823,4.302-0.982,5.573L578.944,271.083z\"></path>\n        <path d=\"M567.444,255.523c-1.691,1.414-4.211,1.198-5.631-0.5l0,0c-1.429-1.69-1.208-4.213,0.481-5.638\n\t\t\t\tl124.106-104.129c1.686-1.415,4.215-1.194,5.637,0.495l0,0c1.418,1.693,1.195,4.214-0.493,5.637L567.444,255.523z\"></path>\n        <path d=\"M554.632,241.025c-1.561,1.556-4.091,1.56-5.652-0.007l0,0c-1.57-1.56-1.57-4.092-0.012-5.658\n\t\t\t\tl114.56-114.549c1.555-1.557,4.094-1.557,5.658,0.001l0,0c1.56,1.563,1.558,4.094-0.001,5.659L554.632,241.025z\"></path>\n        <path d=\"M540.605,227.698c-1.42,1.686-3.939,1.911-5.632,0.486l0,0c-1.7-1.417-1.921-3.939-0.505-5.636\n\t\t\t\tL638.609,98.451c1.413-1.687,3.942-1.908,5.637-0.492l0,0c1.689,1.422,1.908,3.943,0.492,5.638L540.605,227.698z\"></path>\n        <path d=\"M525.471,215.645c-1.268,1.803-3.758,2.247-5.568,0.975l0,0c-1.817-1.264-2.257-3.757-0.994-5.57\n\t\t\t\tl92.929-132.702c1.261-1.803,3.761-2.244,5.572-0.981l0,0c1.807,1.27,2.244,3.762,0.981,5.574L525.471,215.645z\"></path>\n        <path d=\"M509.343,204.956c-1.105,1.907-3.548,2.566-5.463,1.457l0,0c-1.92-1.101-2.575-3.546-1.476-5.462\n\t\t\t\tl81.01-140.296c1.099-1.906,3.551-2.563,5.465-1.464l0,0c1.911,1.107,2.564,3.552,1.465,5.467L509.343,204.956z\"></path>\n        <path d=\"M492.344,195.714c-0.934,1.996-3.311,2.865-5.314,1.927l0,0c-2.009-0.93-2.874-3.309-1.946-5.313\n\t\t\t\tl68.475-146.823c0.929-1.995,3.313-2.863,5.316-1.935l0,0c2,0.937,2.864,3.315,1.936,5.318L492.344,195.714z\"></path>\n        <path d=\"M474.605,187.988c-0.757,2.07-3.049,3.143-5.127,2.383l0,0c-2.082-0.751-3.151-3.046-2.402-5.124\n\t\t\t\tl55.418-152.231c0.752-2.069,3.051-3.141,5.127-2.391l0,0c2.075,0.758,3.143,3.052,2.393,5.129L474.605,187.988z\"></path>\n        <path d=\"M456.261,181.838c-0.573,2.128-2.763,3.397-4.899,2.821l0,0c-2.14-0.567-3.405-2.76-2.84-4.895\n\t\t\t\tL490.46,23.282c0.569-2.126,2.766-3.395,4.899-2.828l0,0c2.134,0.575,3.396,2.767,2.831,4.901L456.261,181.838z\"></path>\n        <path d=\"M437.449,177.31c-0.385,2.17-2.456,3.625-4.635,3.237l0,0c-2.181-0.378-3.632-2.452-3.256-4.629\n\t\t\t\tl28.141-159.542c0.383-2.168,2.459-3.623,4.635-3.244l0,0c2.176,0.386,3.625,2.459,3.247,4.635L437.449,177.31z\"></path>\n        <path d=\"M418.315,174.439c-0.194,2.195-2.131,3.825-4.335,3.629l0,0c-2.206-0.187-3.832-2.126-3.647-4.328\n\t\t\t\tl14.129-161.387c0.192-2.193,2.134-3.824,4.335-3.636l0,0c2.2,0.195,3.825,2.134,3.638,4.334L418.315,174.439z\"></path>\n      </g>\n\n      <g id=\"leading\" width=\"100%\" height=\"100%\" transform=\"rotate(30.5248 395 395)\">\n        <animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 395 395\" to=\"360 395 395\" dur=\"1.8s\" repeatCount=\"indefinite\"></animateTransform>\n        <path fill=\"#bad424\" d=\"M407,170.245c0,6.627-5.373,12-12,12l0,0c-6.627,0-12-5.373-12-12v-156c0-6.627,5.373-12,12-12l0,0\n\t\t\t\tc6.627,0,12,5.373,12,12V170.245z\"></path>\n        <path fill=\"none\" d=\"M407.004,775.749c0,6.627-5.373,12-12,12l0,0c-6.627,0-12-5.373-12-12v-156c0-6.627,5.373-12,12-12l0,0\n\t\t\t\tc6.627,0,12,5.373,12,12V775.749z\"></path>\n      </g>\n\n    </svg>\n  ",
        })
    ], ListeningComponent);
    return ListeningComponent;
}());

//# sourceMappingURL=listening.js.map

/***/ }),
/* 1227 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormatedatePipe; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


/**
 * Generated class for the FormatedatePipe pipe.
 *
 * See https://angular.io/api/core/Pipe for more info on Angular Pipes.
 */
var FormatedatePipe = (function () {
    function FormatedatePipe() {
    }
    /**
     * Takes a value and makes it lowercase.
     */
    FormatedatePipe.prototype.transform = function (value) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var m = __WEBPACK_IMPORTED_MODULE_1_moment__(value);
        if (!m.isValid()) {
            m = __WEBPACK_IMPORTED_MODULE_1_moment__(value, "YYYY/MM");
        }
        if (!m.isValid()) {
            m = __WEBPACK_IMPORTED_MODULE_1_moment__(value, "YYYYMM");
        }
        if (!m.isValid() || args.length < 1) {
            return value;
        }
        var formart = args[0];
        switch (formart) {
            case "ADD7CYYYY/MM/DD":
                return m.add(7, "days").format("YYYY年MM月DD日");
            case "YYYYMMDD/MM/DD":
                return m.format("YYYYMMDD");
            case "YYYY年M月D日":
                return m.format("YYYY年M月D日");
            case "CYYYY/MM/DD":
                return m.format("YYYY年MM月DD日");
            case "CYYYY/MM/ND":
                return m.locale("en").format("MMM .YYYY");
            case "CYYYY/M/DD":
                return m.format("YYYY年M月DD日");
            case "YYYYMM":
                return m.format("YYYYMM");
            case "CYYYY/MM":
                return m.format("YYYY年MM月");
            case "YYYY":
                return m.format("YYYY");
            case "CMM":
                return m.format("MM月");
            case "CMM/DD":
                return m.format("MM月DD");
            case "MM-DD":
                return m.format("MM-DD");
            case "CWEEK":
                return m.locale("cn").localeData().weekdays(m);
            case "DWEEK":
                return m.weekday();
            case "CDD":
                return m.isSame(__WEBPACK_IMPORTED_MODULE_1_moment__(), "date") ? "今" : m.format("DD");
            default:
                return m.format(formart);
        }
    };
    FormatedatePipe = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({
            name: 'formatedate',
        })
    ], FormatedatePipe);
    return FormatedatePipe;
}());

//# sourceMappingURL=formatedate.js.map

/***/ }),
/* 1228 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormatstringPipe; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

/**
 * Generated class for the FormatedatePipe pipe.
 *
 * See https://angular.io/api/core/Pipe for more info on Angular Pipes.
 */
var FormatstringPipe = (function () {
    function FormatstringPipe() {
    }
    /**
     * Takes a value and makes it lowercase.
     */
    FormatstringPipe.prototype.transform = function (value) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        if (!value || typeof value !== 'string') {
            return value;
        }
        if (args.length == 2) {
            if (args[0] == "mask" && args[1] == true) {
                return new Array(value.length).join('*');
            }
        }
        return value;
    };
    FormatstringPipe = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({
            name: 'formatstring',
        })
    ], FormatstringPipe);
    return FormatstringPipe;
}());

//# sourceMappingURL=formatstring.js.map

/***/ }),
/* 1229 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormatWeatherPipe; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

/**
 * Generated class for the FormatWeatherPipe pipe.
 *
 * See https://angular.io/api/core/Pipe for more info on Angular Pipes.
 */
var FormatWeatherPipe = (function () {
    function FormatWeatherPipe() {
        //天气概述字体映射表
        this.WEATHER_FONT_MAP = new Map();
        this.WEATHER_FONT_MAP_DAY = new Map();
        this.WEATHER_FONT_MAP_NIGHT = new Map();
        //白天
        this.WEATHER_FONT_MAP_DAY.set("晴", "fa-sun"); //晴
        this.WEATHER_FONT_MAP_DAY.set("阴", "fa-cloud"); //阴天
        this.WEATHER_FONT_MAP_DAY.set("", "day-cloudy-gusts"); //多云阵风
        this.WEATHER_FONT_MAP_DAY.set("", "day-cloudy-windy"); //阴天刮风
        this.WEATHER_FONT_MAP_DAY.set("雾", "fa-fog"); //雾
        this.WEATHER_FONT_MAP_DAY.set("冰雹", "fa-cloud-hail-mixed"); //冰雹
        this.WEATHER_FONT_MAP_DAY.set("霾", "fa-smog"); //霾
        this.WEATHER_FONT_MAP_DAY.set("", "day-lightning"); //雷击
        this.WEATHER_FONT_MAP_DAY.set("", "day-rain"); //雨
        this.WEATHER_FONT_MAP_DAY.set("", "day-rain-mix"); //雨水混合
        this.WEATHER_FONT_MAP_DAY.set("", "day-rain-wind"); //风雨
        this.WEATHER_FONT_MAP_DAY.set("", "day-showers"); //阵雨
        this.WEATHER_FONT_MAP_DAY.set("", "day-sleet"); //雨夹雪
        this.WEATHER_FONT_MAP_DAY.set("", "day-sleet-storm"); //雨雪风暴
        this.WEATHER_FONT_MAP_DAY.set("", "day-snow"); //雪
        this.WEATHER_FONT_MAP_DAY.set("", "day-snow-thunderstorm"); //雪雷暴
        this.WEATHER_FONT_MAP_DAY.set("", "day-snow-wind"); //雪风
        this.WEATHER_FONT_MAP_DAY.set("", "day-sprinkle"); //洒
        this.WEATHER_FONT_MAP_DAY.set("", "cloud-showers-heavy"); //风暴雨
        this.WEATHER_FONT_MAP_DAY.set("", "clouds-sun"); //晴天阴天
        this.WEATHER_FONT_MAP_DAY.set("", "day-thunderstorm"); //雷暴
        this.WEATHER_FONT_MAP_DAY.set("", "day-windy"); //刮风
        this.WEATHER_FONT_MAP_DAY.set("", "solar-eclipse"); //日食
        this.WEATHER_FONT_MAP_DAY.set("", "hot"); //高温
        this.WEATHER_FONT_MAP_DAY.set("", "day-cloudy-high"); //阴天高
        this.WEATHER_FONT_MAP_DAY.set("", "day-light-wind"); //晴微风
        //夜晚
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-clear"); //有月亮
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-cloudy"); //阴天
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-cloudy-gusts"); //多云阵风
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-cloudy-windy"); //阴天刮风
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-hail"); //冰雹
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-lightning"); //雷击
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-rain"); //雨
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-rain-mix"); //雨水混合
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-rain-wind"); //风雨
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-showers"); //阵雨
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-sleet"); //雨夹雪
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-sleet-storm"); //雨雪风暴
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-snow"); //雪
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-snow-thunderstorm"); //雪雷暴
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-snow-wind"); //雪风
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-sprinkle"); //洒
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-storm-showers"); //风暴雨
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-thunderstorm"); //雷暴
        this.WEATHER_FONT_MAP_NIGHT.set("阴", "fa-clouds-moon"); //阴天
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-cloudy-gusts"); //多云，阵风
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-cloudy-windy"); //阴天，刮风
        this.WEATHER_FONT_MAP_NIGHT.set("雾", "fa-fog"); //雾
        this.WEATHER_FONT_MAP_NIGHT.set("冰雹", "fa-cloud-hail-mixed"); //冰雹
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-lightning"); //闪电
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-partly-cloudy"); //部分浑浊
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-rain"); //雨
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-rain-mix"); //雨水混合
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-rain-wind"); //风雨
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-showers"); //阵雨
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-sleet"); //雨夹雪
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-sleet-storm"); //雨雪风暴
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-snow"); //雪
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-snow-thunderstorm"); //雪雷暴
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-snow-wind"); //雪风
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-sprinkle"); //洒
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-storm-showers"); //风暴雨
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-thunderstorm"); //雷阵雨
        this.WEATHER_FONT_MAP_NIGHT.set("", "lunar-eclipse"); //月食
        this.WEATHER_FONT_MAP_NIGHT.set("", "stars"); //有星星
        this.WEATHER_FONT_MAP_NIGHT.set("", "storm-showers"); //风暴雨
        this.WEATHER_FONT_MAP_NIGHT.set("", "thunderstorm"); //雷暴
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-cloudy-high"); //阴天高
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-cloudy-high"); //阴天高
        this.WEATHER_FONT_MAP_NIGHT.set("", "night-alt-partly-cloudy"); //部分浑浊
        //正常
        this.WEATHER_FONT_MAP.set("晴", "fa-sun"); //晴
        // this.WEATHER_FONT_MAP.set("阴", "fa-cloud");             //阴天
        this.WEATHER_FONT_MAP.set("雾", "fa-fog"); //雾
        this.WEATHER_FONT_MAP.set("冰雹", "fa-cloud-hail-mixed"); //冰雹
        this.WEATHER_FONT_MAP.set("多云", "fa-clouds"); //云
        this.WEATHER_FONT_MAP.set("阴", "fa-clouds"); //阴天
        this.WEATHER_FONT_MAP.set("", "cloudy-gusts"); //阴天阵风
        this.WEATHER_FONT_MAP.set("", "cloudy-windy"); //阴天刮风
        this.WEATHER_FONT_MAP.set("雾", "fa-smoke"); //雾
        this.WEATHER_FONT_MAP.set("雷阵雨伴有冰雹", "fa-cloud-hail-mixed"); //冰雹
        this.WEATHER_FONT_MAP.set("小到中雨", "fa-cloud-rain"); //雨
        this.WEATHER_FONT_MAP.set("中到大雨", "fa-cloud-showers-heavy"); //雨
        this.WEATHER_FONT_MAP.set("小雨", "fa-raindrops"); //雨
        this.WEATHER_FONT_MAP.set("中雨", "fa-cloud-rain"); //雨
        this.WEATHER_FONT_MAP.set("大雨", "fa-cloud-showers-heavy"); //雨
        this.WEATHER_FONT_MAP.set("", "rain-mix"); //雨水混合
        this.WEATHER_FONT_MAP.set("", "rain-wind"); //风雨
        this.WEATHER_FONT_MAP.set("阵雨", "fa-thunderstorm-sun"); //阵雨
        this.WEATHER_FONT_MAP.set("冻雨", "fa-cloud-sleet"); //雨夹雪
        this.WEATHER_FONT_MAP.set("雨夹雪", "fa-cloud-sleet"); //雨夹雪
        this.WEATHER_FONT_MAP.set("", "snow"); //雪19.026
        this.WEATHER_FONT_MAP.set("", "sprinkle"); //洒
        this.WEATHER_FONT_MAP.set("大到暴雨", "fa-cloud-showers-heavy"); //风暴雨
        this.WEATHER_FONT_MAP.set("暴雨到大暴雨", "fa-cloud-showers-heavy"); //风暴雨
        this.WEATHER_FONT_MAP.set("大暴雨到特大暴雨", "fa-cloud-showers-heavy"); //风暴雨
        this.WEATHER_FONT_MAP.set("暴雨", "fa-cloud-showers-heavy"); //风暴雨
        this.WEATHER_FONT_MAP.set("大暴雨", "fa-cloud-showers-heavy"); //风暴雨
        this.WEATHER_FONT_MAP.set("特大暴雨", "fa-cloud-showers-heavy"); //风暴雨
        this.WEATHER_FONT_MAP.set("雷阵雨", "fa-thunderstorm"); //雷暴
        this.WEATHER_FONT_MAP.set("", "snow-wind"); //雪风
        this.WEATHER_FONT_MAP.set("阵雪", "fa-snowflake");
        this.WEATHER_FONT_MAP.set("小雪", "fa-snowflakes");
        this.WEATHER_FONT_MAP.set("中雪", "fa-snowflakes");
        this.WEATHER_FONT_MAP.set("大雪", "fa-snowflakes");
        this.WEATHER_FONT_MAP.set("暴雪", "fa-snowflakes");
        this.WEATHER_FONT_MAP.set("小到中雪", "fa-snowflakes");
        this.WEATHER_FONT_MAP.set("中到大雪", "fa-snowflakes");
        this.WEATHER_FONT_MAP.set("大到暴雪", "fa-snowflakes");
        this.WEATHER_FONT_MAP.set("霾", "fa-smog"); //烟雾
        this.WEATHER_FONT_MAP.set("", "smoke"); //烟雾
        this.WEATHER_FONT_MAP.set("", "lightning"); //闪电
        this.WEATHER_FONT_MAP.set("", "raindrops"); //雨滴
        this.WEATHER_FONT_MAP.set("", "raindrop"); //雨滴
        this.WEATHER_FONT_MAP.set("浮尘", "fa-sun-dust"); //尘
        this.WEATHER_FONT_MAP.set("", "snowflake-cold"); //雪花冷
        this.WEATHER_FONT_MAP.set("", "windy"); //多风
        this.WEATHER_FONT_MAP.set("", "strong-wind"); //强风
        this.WEATHER_FONT_MAP.set("沙尘暴", "fa-tornado"); //沙尘暴
        this.WEATHER_FONT_MAP.set("强沙尘暴", "fa-tornado"); //沙尘暴
        this.WEATHER_FONT_MAP.set("扬沙", "fa-tornado"); //沙尘暴
        this.WEATHER_FONT_MAP.set("", "earthquake"); //地震
        this.WEATHER_FONT_MAP.set("", "fire"); //火灾
        this.WEATHER_FONT_MAP.set("", "flood"); //洪水
        this.WEATHER_FONT_MAP.set("", "meteor"); //流星
        this.WEATHER_FONT_MAP.set("", "tsunami"); //海啸
        this.WEATHER_FONT_MAP.set("", "volcano"); //火山
        this.WEATHER_FONT_MAP.set("", "hurricane"); //飓风
        this.WEATHER_FONT_MAP.set("", "tornado"); //龙卷风
        this.WEATHER_FONT_MAP.set("", "small-craft-advisory"); //小手工艺咨询
        this.WEATHER_FONT_MAP.set("", "gale-warning"); //大风预警
        this.WEATHER_FONT_MAP.set("", "storm-warning"); //风暴预警
        this.WEATHER_FONT_MAP.set("", "hurricane-warning"); //飓风警告
        this.WEATHER_FONT_MAP.set("", "wind-direction"); //风向
    }
    /**
     * Takes a value and makes it lowercase.
     */
    FormatWeatherPipe.prototype.transform = function (value) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        if (!value) {
            return "cloudy-windy";
        }
        if (args.length == 1) {
            if (args[0] == "centigrade-with-json") {
                if (!value)
                    return "";
                var weather = {
                    temp: ""
                };
                try {
                    weather = JSON.parse(value);
                }
                catch (error) {
                    weather.temp = value;
                }
                if (!(weather.temp.indexOf("℃") > 0)) {
                    return weather.temp + "℃";
                }
                else {
                    return weather.temp;
                }
            }
            if (args[0] == "winame-with-json") {
                if (!value)
                    return "";
                // value = value.replace('""','"');
                // let weather = JSON.parse(value);
                //晴转多云
                if (value.indexOf("转") > 0) {
                    var first = value.split("转")[0];
                    var wiKey = this.WEATHER_FONT_MAP.get(first);
                    if (wiKey) {
                        // console.log("********************" + wiKey)
                        return wiKey;
                    }
                }
                else {
                    var wiKey = this.WEATHER_FONT_MAP.get(value);
                    if (wiKey) {
                        // console.log("********************" + wiKey)
                        return wiKey;
                    }
                }
            }
            if (args[0] == "centigrade") {
                if (!(value.indexOf("℃") > 0)) {
                    return value + "℃";
                }
                else {
                    return value;
                }
            }
            if (args[0] == "winame") {
                //晴转多云
                if (value.indexOf("转") > 0) {
                    var first = value.split("转")[0];
                    var wiKey = this.WEATHER_FONT_MAP.get(first);
                    if (wiKey) {
                        return wiKey;
                    }
                }
                else {
                    var wiKey = this.WEATHER_FONT_MAP.get(value);
                    if (wiKey) {
                        return wiKey;
                    }
                }
            }
        }
        return "cloudy-windy";
    };
    FormatWeatherPipe = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({
            name: 'formatweather',
        }),
        __metadata("design:paramtypes", [])
    ], FormatWeatherPipe);
    return FormatWeatherPipe;
}());

//# sourceMappingURL=formatweather.js.map

/***/ }),
/* 1230 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormatRepeatPipe; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

/**
 * Generated class for the FormatedatePipe pipe.
 *
 * See https://angular.io/api/core/Pipe for more info on Angular Pipes.
 */
var FormatRepeatPipe = (function () {
    function FormatRepeatPipe() {
    }
    /**
     * Takes a value and makes it lowercase.
     */
    FormatRepeatPipe.prototype.transform = function (value) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        if (value == "" || value == "0") {
            return value;
        }
        var repeat = "不可用";
        switch (value) {
            case "1":
                repeat = "每天重复";
                break;
            case "2":
                repeat = "每周重复";
                break;
            case "3":
                repeat = "每月重复";
                break;
            case "4":
                repeat = "每年重复";
                break;
            default:
                repeat = "不可用";
        }
        return repeat;
    };
    FormatRepeatPipe = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({
            name: 'formatrepeat',
        })
    ], FormatRepeatPipe);
    return FormatRepeatPipe;
}());

//# sourceMappingURL=formatrepeat.js.map

/***/ }),
/* 1231 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormatRemindPipe; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

/**
 * Generated class for the FormatedatePipe pipe.
 *
 * See https://angular.io/api/core/Pipe for more info on Angular Pipes.
 */
var FormatRemindPipe = (function () {
    function FormatRemindPipe() {
    }
    /**
     * Takes a value and makes it lowercase.
     */
    FormatRemindPipe.prototype.transform = function (value) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        if (!value || value == 0 || value == "" || value == "0") {
            return value;
        }
        var remind = "不可用";
        switch (value) {
            case 1:
                remind = "提前10分钟提醒";
                break;
            case 2:
                remind = "提前30分钟提醒";
                break;
            case 3:
                remind = "提前1小时提醒";
                break;
            case 4:
                remind = "提前4小时提醒";
                break;
            case 5:
                remind = "提前1天提醒";
                break;
            default:
                remind = "不可用";
        }
        return remind;
    };
    FormatRemindPipe = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({
            name: 'formatremind',
        })
    ], FormatRemindPipe);
    return FormatRemindPipe;
}());

//# sourceMappingURL=formatremind.js.map

/***/ }),
/* 1232 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormatUserPipe; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

/**
 * Generated class for the FormatedatePipe pipe.
 *
 * See https://angular.io/api/core/Pipe for more info on Angular Pipes.
 */
var FormatUserPipe = (function () {
    function FormatUserPipe() {
    }
    /**
     * Takes a value and makes it lowercase.
     */
    FormatUserPipe.prototype.transform = function (value) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        if (!value || typeof value !== 'string') {
            return value;
        }
        if (args.length == 2) {
            var currentuser = args[0];
            var friends = args[1];
            if (value == currentuser) {
                return "";
            }
            else {
                var friend = friends.find(function (val) {
                    return value == val.ui;
                });
                if (friend) {
                    return friend.ran;
                }
                else {
                    return value;
                }
            }
        }
        return value;
    };
    FormatUserPipe = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({
            name: 'formatuser',
        })
    ], FormatUserPipe);
    return FormatUserPipe;
}());

//# sourceMappingURL=formatuser.js.map

/***/ }),
/* 1233 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormatPlanPipe; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

/**
 * Generated class for the FormatedatePipe pipe.
 *
 * See https://angular.io/api/core/Pipe for more info on Angular Pipes.
 */
var FormatPlanPipe = (function () {
    function FormatPlanPipe() {
    }
    /**
     * Takes a value and makes it lowercase.
     */
    FormatPlanPipe.prototype.transform = function (value) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        if (args[0] == "color") {
            if (args.length == 2) {
                var plans = args[1];
                var plan = plans.find(function (val) {
                    return value == val.ji;
                });
                if (plan) {
                    return plan.jc;
                }
                else {
                    return "";
                }
            }
        }
        if (args[0] == "name") {
            if (value && typeof value !== 'string') {
                return value;
            }
            if (args.length == 3) {
                var defaultplan = args[1];
                var plans = args[2];
                if (!value) {
                    return defaultplan;
                }
                var plan = plans.find(function (val) {
                    return value == val.ji;
                });
                if (plan) {
                    return plan.jn;
                }
                else {
                    return defaultplan;
                }
            }
        }
        if (args[0] == "summary") {
            if (args.length == 3) {
                var defaultcolor_1 = args[1];
                var plans_1 = args[2];
                // 数据不存在或者数据不是数组或者数组长度为0，返回默认颜色
                if (!value || !(value instanceof Array) || (value instanceof Array && value.length <= 0)) {
                    return defaultcolor_1;
                }
                var total_1 = 0;
                var summary = value.reduce(function (target, element) {
                    var ji = element.ji;
                    var key = defaultcolor_1;
                    if (ji && ji != "") {
                        var plan = plans_1.find(function (val) {
                            return ji == val.ji;
                        });
                        if (plan && plan.jc) {
                            key = plan.jc;
                        }
                    }
                    var count = target.get(key) || 0;
                    count++;
                    total_1++;
                    target.set(key, count);
                    return target;
                }, new Map());
                // linear-gradient(to right,red 10% 40%, blue 40%);
                var gradient_1 = "linear-gradient(to right";
                var pre_1 = "0%";
                var sum_1 = 0;
                summary.forEach(function (value, key) {
                    sum_1 += value; // 累计数量
                    var percent = (Math.round((sum_1 / total_1) * 10000) / 100).toFixed(0); // 百分比
                    if (pre_1 == "0%") {
                        gradient_1 += ", ";
                        gradient_1 += key;
                        gradient_1 += " ";
                        gradient_1 += pre_1;
                    }
                    else {
                        gradient_1 += " ";
                        gradient_1 += pre_1;
                        gradient_1 += ", ";
                        gradient_1 += key;
                        gradient_1 += " ";
                        gradient_1 += pre_1;
                    }
                    pre_1 = percent + "%";
                });
                gradient_1 += ")";
                return gradient_1;
            }
            else {
                return "#fff";
            }
        }
    };
    FormatPlanPipe = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({
            name: 'formatplan',
        })
    ], FormatPlanPipe);
    return FormatPlanPipe;
}());

//# sourceMappingURL=formatplan.js.map

/***/ }),
/* 1234 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TransFromDatePipe; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


/**
 * Generated class for the FormatedatePipe pipe.
 *
 * See https://angular.io/api/core/Pipe for more info on Angular Pipes.
 */
var TransFromDatePipe = (function () {
    function TransFromDatePipe() {
        this.rang = 1000 * 60 * 60 * 24;
    }
    /**
     * Takes a value and makes it lowercase.
     */
    TransFromDatePipe.prototype.transform = function (value) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var formart = args[0];
        if (formart == "duration") {
            return __WEBPACK_IMPORTED_MODULE_1_moment__["duration"](value, "minutes").humanize();
        }
        var m = __WEBPACK_IMPORTED_MODULE_1_moment__(value);
        if (!m.isValid()) {
            m = __WEBPACK_IMPORTED_MODULE_1_moment__(value, "YYYY/MM");
        }
        if (!m.isValid()) {
            m = __WEBPACK_IMPORTED_MODULE_1_moment__(value, "YYYYMM");
        }
        if (!m.isValid() || args.length < 1) {
            return value;
        }
        if (formart == "CSSMM") {
            switch (m.format("M")) {
                case "1":
                    return "month1";
                case "2":
                    return "month2";
                case "3":
                    return "month3";
                case "4":
                    return "month4";
                case "5":
                    return "month5";
                case "6":
                    return "month6";
                case "7":
                    return "month7";
                case "8":
                    return "month8";
                case "9":
                    return "month9";
                case "10":
                    return "month10";
                case "11":
                    return "month11";
                case "12":
                    return "month12";
                default:
                    return "month6";
            }
        }
        if (formart == "CYYYY年MM月DD日 A h:mm") {
            var currentDay = m;
            var today = __WEBPACK_IMPORTED_MODULE_1_moment__();
            var yestoday = __WEBPACK_IMPORTED_MODULE_1_moment__().subtract(1, "days");
            var tomorrow = __WEBPACK_IMPORTED_MODULE_1_moment__().add(1, "days");
            //today
            if (today.format("YYYY/MM/DD") == currentDay.format("YYYY/MM/DD")) {
                return currentDay.format("A h:mm");
            }
            //yestoday
            if (yestoday.format("YYYY/MM/DD") == currentDay.format("YYYY/MM/DD")) {
                return "昨天 " + currentDay.format("A h:mm");
            }
            //tomorrow
            if (tomorrow.format("YYYY/MM/DD") == currentDay.format("YYYY/MM/DD")) {
                return "明天 " + currentDay.format("A h:mm");
            }
            //sameyear
            if (today.format("YYYY") == currentDay.format("YYYY")) {
                return currentDay.format("M月D日 A h:mm");
            }
            //otheryear
            if (today.format("YYYY") != currentDay.format("YYYY")) {
                return currentDay.format("YYYY年M月D日 A h:mm");
            }
        }
        if (formart == "withNow") {
            if (m.diff(__WEBPACK_IMPORTED_MODULE_1_moment__()) > 0) {
                return m.fromNow(true) + "后";
            }
            else if (m.diff(__WEBPACK_IMPORTED_MODULE_1_moment__()) < 0) {
                return m.toNow(true) + "前";
            }
            else {
                return m.toNow(true);
            }
        }
        if (formart == "withNowcss") {
            var n = __WEBPACK_IMPORTED_MODULE_1_moment__().diff(m);
            if (n > this.rang) {
                return "fal fa-hourglass-start after";
            }
            else if (n < this.rang * -1) {
                return "fal fa-hourglass-end before";
            }
            else {
                return "fal fa-hourglass-half current";
            }
        }
    };
    TransFromDatePipe = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({
            name: 'transfromdate',
        })
    ], TransFromDatePipe);
    return TransFromDatePipe;
}());

//# sourceMappingURL=transfromdate.js.map

/***/ }),
/* 1235 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormatmonthstringPipe; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


/**
 * Generated class for the FormatedatePipe pipe.
 *
 * See https://angular.io/api/core/Pipe for more info on Angular Pipes.
 */
var FormatmonthstringPipe = (function () {
    function FormatmonthstringPipe() {
    }
    /**
     * Takes a value and makes it lowercase.
     */
    FormatmonthstringPipe.prototype.transform = function (value) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        if (!value) {
            return value;
        }
        var formart = args[0];
        if (formart != "string")
            return value;
        var m = __WEBPACK_IMPORTED_MODULE_1_moment__(value, "YYYY/MM").get('M') + 1;
        console.log("**************************" + m);
        switch (m) {
            case 1:
                return "每一个成功者都有一个开始。勇于开始，才能找到成功的路。";
            case 2:
                return "世界会向那些有目标和远见的人让路。";
            case 3:
                return "若不给自己设限，则人生中就没有限制你发挥的藩篱。";
            case 4:
                return "赚钱之道很多，但是找不到赚钱的种子，便成不了事业家。";
            case 6:
                return "现在的努力，只是为了让你遇见更好的我，而我也期待遇见更让我心动的你24小时不停为我们工作。";
            case 7:
                return "别想一下造出大海，必须先由小河川开始。";
            case 8:
                return "你的脸是为了呈现上帝赐给人类最贵重的礼物——微笑，一定要成为你工作最大的资产。";
            case 9:
                return "莫找借口失败，只找理由成功。";
            case 10:
                return "当你感到悲哀痛苦时，最好是去学些什么东西。学习会使你永远立于不败之地。";
            case 11:
                return "一个能从别人的观念来看事情，能了解别人心灵活动的人，永远不必为自己的前途担心。 ";
            case 12:
                return "积极者相信只有推动自己才能推动世界，只要推动自己就能推动世界。";
            default:
                return "一个人最大的破产是绝望，最大的资产是希望。";
        }
    };
    FormatmonthstringPipe = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({
            name: 'formatmonthstring',
        })
    ], FormatmonthstringPipe);
    return FormatmonthstringPipe;
}());

//# sourceMappingURL=formatmonthstring.js.map

/***/ }),
/* 1236 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AiChildenComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ai_service__ = __webpack_require__(210);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_config_user_config__ = __webpack_require__(8);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * Generated class for the HbPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var AiChildenComponent = (function () {
    function AiChildenComponent(aiService, userConfig) {
        this.aiService = aiService;
        this.userConfig = userConfig;
    }
    AiChildenComponent.prototype.speakScd = function (scds) {
        this.aiService.speakScd(scds);
    };
    AiChildenComponent.prototype.confirmScd = function (scd) {
        this.aiData.scd.saved = true;
        this.aiService.createScd(scd);
    };
    AiChildenComponent.prototype.showScd = function (scd) {
        this.aiData.scd.saved = true;
        this.aiService.showScd(scd);
    };
    AiChildenComponent.prototype.countDay = function (d) {
        return this.aiService.countDay(d);
    };
    AiChildenComponent.prototype.GetOneBhiu = function (id) {
        return this.userConfig.GetOneBhiu(id);
    };
    AiChildenComponent.prototype.showScdInList = function (scd) {
        this.aiService.showScd(scd);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])("aiData"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__ai_service__["a" /* AiData */])
    ], AiChildenComponent.prototype, "aiData", void 0);
    AiChildenComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'AiChildenComponent',
            template: "\n\n    <ng-template [ngIf]=\"aiData.speechAi\">\n      <div ion-item class=\"self\">{{aiData.speechAi.org}}</div>\n      <div ion-item class=\"aiAn\">{{aiData.speechAi.an}}</div>\n    </ng-template>\n    <ng-template [ngIf]=\"aiData.scd\">\n      <div class=\"scd\">\n        <ion-list no-lines>\n          <ion-item><p class=\"ti\">{{aiData.scd.ti}}</p></ion-item>\n          <ion-item><span class=\"date\">{{aiData.scd.d | formatedate:\"CYYYY/MM/DD\"}}</span> <span class=\"date\">{{aiData.scd.t=='99:99'?'\u5168\u5929':aiData.scd.t}}</span></ion-item>\n          <ion-item>\n            <div class=\"friend\">\n              <ion-chip *ngFor=\"let fs of aiData.scd.friends\">\n                <ion-avatar>\n                  <img [src]=\"GetOneBhiu(fs.uid)\"/>\n                </ion-avatar>\n                <span>{{fs.n}}</span>\n              </ion-chip>\n            </div>\n          </ion-item>\n          <ion-item >\n            <p class=\"scdTip\">{{aiData.scd.scdTip}}</p>\n          </ion-item>\n        </ion-list>\n      </div>\n    </ng-template>\n    <ng-template [ngIf]=\"aiData.scdList\">\n      <ion-list no-lines class=\"scdList\">\n        <ion-item on-hold=\"speakScd(aiData.scdList)\" class=\"aiAn\">\n          {{aiData.scdList.desc}}\n          <ion-icon name=\"volume-up\" item-end class=\"volume\" (click)=\"speakScd(aiData.scdList)\"></ion-icon>\n        </ion-item>\n        <ion-item *ngFor=\"let scd of aiData.scdList.datas\" (click)=\"showScdInList(scd)\">\n          <p class=\"date\">{{countDay(scd.d) | formatedate :\"CYYYY/MM/DD\"}} {{scd.t=='99:99'?'\u5168\u5929':scd.t}}</p>\n          <p class=\"ti\">{{scd.ti}}</p>\n        </ion-item>\n        <ion-item >\n          <p class=\"scdTip\">{{aiData.scdList.scdTip}}</p>\n        </ion-item>\n      </ion-list>\n    </ng-template>\n  ",
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__ai_service__["b" /* AiService */], __WEBPACK_IMPORTED_MODULE_2__service_config_user_config__["b" /* UserConfig */]])
    ], AiChildenComponent);
    return AiChildenComponent;
}());

//# sourceMappingURL=ai.childen.js.map

/***/ }),
/* 1237 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BackComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

/**
 * Generated class for the BackComponent page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var BackComponent = (function () {
    function BackComponent() {
        this.circles = [];
    }
    BackComponent.prototype.ngOnInit = function () {
        //暂时屏蔽背景移动的点
        this.loadScene(20);
    };
    BackComponent.prototype.loadScene = function (num) {
        this.ctx = this.canvas.nativeElement.getContext('2d');
        this.w = this.canvas.nativeElement.width = window.innerWidth;
        this.h = this.canvas.nativeElement.height = window.innerHeight;
        for (var i = 0; i < num; i++) {
            this.circles.push(new Circle(Math.random() * this.w, Math.random() * this.h));
        }
        this.draw();
    };
    BackComponent.prototype.draw = function () {
        var _this = this;
        this.ctx.clearRect(0, 0, this.w, this.h);
        for (var i = 0; i < this.circles.length; i++) {
            this.circles[i].move(this.w, this.h);
            this.circles[i].drawCircle(this.ctx);
            for (var j = i + 1; j < this.circles.length; j++) {
                this.circles[i].drawLine(this.ctx, this.circles[j]);
            }
        }
        requestAnimationFrame(function () {
            _this.draw();
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('canvas'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], BackComponent.prototype, "canvas", void 0);
    BackComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'BackComponent',
            template: "<canvas  #canvas></canvas>",
        })
    ], BackComponent);
    return BackComponent;
}());

var Circle = (function () {
    function Circle(x, y) {
        this.x = x;
        this.y = y;
        this.r = Math.random() * 2;
        this._mx = 1 - (Math.random() * 2);
        this._my = 1 - (Math.random() * 2);
    }
    Circle.prototype.drawCircle = function (ctx) {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.r, 0, 360);
        ctx.fillStyle = 'rgba(218,71,57, 0.2)';
        ctx.fill();
    };
    Circle.prototype.move = function (w, h) {
        this._mx = (this.x < w && this.x > 0) ? this._mx : (-this._mx);
        this._my = (this.y < h && this.y > 0) ? this._my : (-this._my);
        this.x += this._mx / 2;
        this.y += this._my / 2;
    };
    Circle.prototype.drawLine = function (ctx, _circle) {
        var dx = this.x - _circle.x;
        var dy = this.y - _circle.y;
        var d = Math.sqrt(dx * dx + dy * dy);
        if (d < 60) {
            ctx.beginPath();
            ctx.moveTo(this.x, this.y); //起点
            ctx.lineTo(_circle.x, _circle.y); //终点
            ctx.strokeStyle = 'rgba(0,0,0, 0.1)';
            ctx.stroke();
        }
    };
    return Circle;
}());
//# sourceMappingURL=back.js.map

/***/ }),
/* 1238 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CornerBadgeComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var CornerBadgeComponent = (function () {
    function CornerBadgeComponent() {
    }
    CornerBadgeComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'corner-badge',
            template: "<ng-content></ng-content>"
        })
    ], CornerBadgeComponent);
    return CornerBadgeComponent;
}());

//# sourceMappingURL=corner-badge.js.map

/***/ }),
/* 1239 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AutosizeDirective; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var AutosizeDirective = (function () {
    function AutosizeDirective(element) {
        this.element = element;
        this.el = element.nativeElement;
        this._clientWidth = this.el.clientWidth;
    }
    Object.defineProperty(AutosizeDirective.prototype, "minHeight", {
        get: function () {
            return this._minHeight;
        },
        set: function (val) {
            this._minHeight = val;
            this.updateMinHeight();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AutosizeDirective.prototype, "maxHeight", {
        get: function () {
            return this._maxHeight;
        },
        set: function (val) {
            this._maxHeight = val;
            this.updateMaxHeight();
        },
        enumerable: true,
        configurable: true
    });
    AutosizeDirective.prototype.onResize = function (textArea) {
        // Only apply adjustment if element width had changed.
        if (this.el.clientWidth === this._clientWidth) {
            return;
        }
        ;
        this._clientWidth = this.element.nativeElement.clientWidth;
        this.adjust();
    };
    AutosizeDirective.prototype.onInput = function (textArea) {
        this.adjust();
    };
    AutosizeDirective.prototype.ngAfterViewInit = function () {
        // set element resize allowed manually by user
        var style = window.getComputedStyle(this.el, null);
        if (style.resize === 'both') {
            this.el.style.resize = 'horizontal';
        }
        else if (style.resize === 'vertical') {
            this.el.style.resize = 'none';
        }
        // run first adjust
        this.adjust();
    };
    AutosizeDirective.prototype.adjust = function () {
        // perform height adjustments after input changes, if height is different
        if (this.el.style.height == this.element.nativeElement.scrollHeight + 'px') {
            return;
        }
        var target = this.element.nativeElement.querySelector("textarea");
        if (target) {
            target.style['overflow-y'] = 'visible';
            target.style.height = 'auto';
            target.style.height = target.scrollHeight + 'px';
        }
    };
    AutosizeDirective.prototype.updateMinHeight = function () {
        var target = this.element.nativeElement.querySelector("textarea");
        if (target) {
            // Set textarea min height if input defined
            target.style.minHeight = this._minHeight + 'px';
        }
    };
    AutosizeDirective.prototype.updateMaxHeight = function () {
        var target = this.element.nativeElement.querySelector("textarea");
        if (target) {
            // Set textarea max height if input defined
            target.style.maxHeight = this._maxHeight + 'px';
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('minHeight'),
        __metadata("design:type", String),
        __metadata("design:paramtypes", [String])
    ], AutosizeDirective.prototype, "minHeight", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('maxHeight'),
        __metadata("design:type", String),
        __metadata("design:paramtypes", [String])
    ], AutosizeDirective.prototype, "maxHeight", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])('window:resize', ['$event.target']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [HTMLTextAreaElement]),
        __metadata("design:returntype", void 0)
    ], AutosizeDirective.prototype, "onResize", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])('input', ['$event.target']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [HTMLTextAreaElement]),
        __metadata("design:returntype", void 0)
    ], AutosizeDirective.prototype, "onInput", null);
    AutosizeDirective = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Directive"])({
            selector: 'ion-textarea[autosize]'
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"]])
    ], AutosizeDirective);
    return AutosizeDirective;
}());

//# sourceMappingURL=autosize.directive.js.map

/***/ }),
/* 1240 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ScrollheightDirective; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ScrollheightDirective = (function () {
    function ScrollheightDirective(element) {
        this.element = element;
    }
    ScrollheightDirective.prototype.ngAfterViewInit = function () {
        this.element.nativeElement.style.height = "calc(100% - " + this.element.nativeElement.offsetTop + "px - " + 4 + "px)";
    };
    ScrollheightDirective = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Directive"])({
            selector: 'ion-scroll[scrollheightAuto]'
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"]])
    ], ScrollheightDirective);
    return ScrollheightDirective;
}());

//# sourceMappingURL=scrollheight.directive.js.map

/***/ }),
/* 1241 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CommemorationDayService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_cordova_assistant_service__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_business_event_service__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__ = __webpack_require__(4);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var CommemorationDayService = (function () {
    function CommemorationDayService(util, eventService, assistantService) {
        this.util = util;
        this.eventService = eventService;
        this.assistantService = assistantService;
        __WEBPACK_IMPORTED_MODULE_1_moment__["locale"]('zh-cn');
    }
    CommemorationDayService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_3__service_business_event_service__["b" /* EventService */],
            __WEBPACK_IMPORTED_MODULE_2__service_cordova_assistant_service__["a" /* AssistantService */]])
    ], CommemorationDayService);
    return CommemorationDayService;
}());

//# sourceMappingURL=commemorationday.service.js.map

/***/ }),
/* 1242 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TaskListComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var TaskListComponent = (function () {
    function TaskListComponent() {
        this.onStartLoad = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onCardClick = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onCreateNew = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onErease = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onComplete = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.tasklist = new Array();
        this.currentuser = "";
        this.friends = new Array();
        this.plans = new Array();
    }
    TaskListComponent.prototype.ngOnInit = function () {
        this.onStartLoad.emit(this);
    };
    TaskListComponent.prototype.gotoDetail = function (task) {
        this.onCardClick.emit({ target: this, value: task });
    };
    TaskListComponent.prototype.gotoNew = function () {
        this.onCreateNew.emit(this);
    };
    TaskListComponent.prototype.refresh = function () {
        this.onStartLoad.emit(this);
    };
    TaskListComponent.prototype.erease = function (event, target) {
        event.stopPropagation(); // 阻止冒泡
        event.preventDefault(); // 忽略事件传递
        this.onErease.emit(target);
    };
    TaskListComponent.prototype.create = function () {
        this.onCreateNew.emit(this);
    };
    TaskListComponent.prototype.complete = function (event, target) {
        event.stopPropagation(); // 阻止冒泡
        event.preventDefault(); // 忽略事件传递
        this.onComplete.emit(target);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], TaskListComponent.prototype, "onStartLoad", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], TaskListComponent.prototype, "onCardClick", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], TaskListComponent.prototype, "onCreateNew", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], TaskListComponent.prototype, "onErease", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], TaskListComponent.prototype, "onComplete", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], TaskListComponent.prototype, "currentuser", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Array)
    ], TaskListComponent.prototype, "friends", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Array)
    ], TaskListComponent.prototype, "plans", void 0);
    TaskListComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'task-list',
            template: "\n    <ng-template [ngIf]=\"tasklist.length > 0\"\n                 [ngIfElse]=\"notask\">\n\n    <ion-grid class = \"list-grid-content\">\n      <ion-row class=\"item-content item-content-backgroud\" leftmargin toppaddingsamll bottompaddingsamll rightmargin *ngFor=\"let task of tasklist\"\n        [ngClass]=\"{'complete': task.cs == '1'}\" (click)=\"gotoDetail(task)\"\n        [ngStyle]=\"{\n          'border-left': (!task.ji || task.ji == '')? '0' : ('0.6rem solid ' + (task.ji | formatplan: 'color': plans))\n        }\">\n          <div class=\"line font-normal\" leftmargin rightmargin\n            [ngStyle]=\"{\n              'margin-left': (!task.ji || task.ji == '')? '1rem' : '0.4rem'\n            }\">\n            <div class=\"sn towline\">{{task.evn}}</div>\n            <div class=\"icon\" end >\n              <ion-icon class=\"fal fa-minus-circle\" (click)=\"erease($event, task)\"></ion-icon>\n              <ion-icon class=\"fal fa-check-circle\"  (click)=\"complete($event, task)\"></ion-icon>\n            </div>\n          </div>\n          <div class=\"line font-normal\" leftmargin rightmargin\n            [ngStyle]=\"{\n              'margin-left': (!task.ji || task.ji == '')? '1rem' : '0.4rem'\n            }\">\n            <div class=\"icon font-small\" >\n              <ion-icon class=\"{{(task.evd + ' ' + task.evt) | transfromdate :'withNowcss'}}\"></ion-icon>\n            </div>\n              <div class=\"st font-small\">  {{(task.evd + ' ' + task.evt) | transfromdate:'withNow'}}</div>\n\n              <div *ngIf=\"currentuser != task.ui && task.ui != ''\" class=\"person font-small\" end>-{{task.ui | formatuser: currentuser: friends}}</div>\n          </div>\n      </ion-row>\n    </ion-grid>\n    </ng-template>\n    <ng-template #notask>\n      <div class=\"notask\">\n        <ion-icon class=\"fal fa-grin-beam\"></ion-icon>\n        <span>\u6CA1\u6709\u91CD\u8981\u4E8B\u9879\u4E86\u54DF\uFF5E</span>\n        <button (click)=\"create()\">\n          \u521B\u5EFA\u6D3B\u52A8\n        </button>\n      </div>\n    </ng-template>\n  "
        }),
        __metadata("design:paramtypes", [])
    ], TaskListComponent);
    return TaskListComponent;
}());

//# sourceMappingURL=task-list.js.map

/***/ }),
/* 1243 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HlService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var HlService = (function () {
    function HlService() {
    }
    HlService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], HlService);
    return HlService;
}());

//# sourceMappingURL=hl.service.js.map

/***/ }),
/* 1244 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var PService = (function () {
    function PService() {
    }
    PService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], PService);
    return PService;
}());

//# sourceMappingURL=p.service.js.map

/***/ }),
/* 1245 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ScrollSelectComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__scroll_select_option__ = __webpack_require__(764);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * Generated class for the ScrollSelectComponent component.
 *
 * See https://angular.io/api/core/Component for more info on Angular
 * Components.
 */
var ScrollSelectComponent = (function () {
    function ScrollSelectComponent(events) {
        var _this = this;
        this.events = events;
        this.type = 'scroll-with-button'; // 'scroll-with-button', 'scroll-without-button'
        this.value = "";
        this.items = 1; //一个屏幕显示几个选项
        this.befores = [];
        this.afters = [];
        this.changedPropEvent = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.index = 0;
        this.interval = null;
        this.lastScrollLeft = 0;
        this.guid = '';
        this.timer = null;
        this.autoscroll = false;
        console.log('Hello ScrollSelectComponent Component');
        this.guid = this.createGuid();
        this.slideWidth = document.body.clientWidth;
        this.events.subscribe('_scrollBox' + this.guid + ':change', function (target) {
            _this.optionChanged(target);
        });
    }
    ScrollSelectComponent.prototype.ngOnInit = function () {
    };
    ScrollSelectComponent.prototype.ngAfterContentInit = function () {
        var _this = this;
        var that = this;
        var ele = this._scrollBox.nativeElement;
        console.log(this.value + ',' + this.items);
        if (this.items > 1) {
            this.befores = Array(Math.floor(this.items / 2)).fill("").map(function (x, i) { return i; });
            this.afters = Array(Math.floor(this.items / 2)).fill("").map(function (x, i) { return i; });
        }
        ele.addEventListener('scroll', function (event) {
            clearTimeout(_this.timer);
            if (!_this.autoscroll) {
                _this.timer = setTimeout(_this.isScrollEnd, 500, _this);
                _this.t1 = event.target.scrollLeft;
            }
            _this.autoscroll = false;
        }, { passive: true }, false);
        var i = 0;
        for (var option in this.options.toArray()) {
            if (this.options.toArray()[option].value === this.value) {
                this.index = i;
                break;
            }
            i++;
        }
    };
    ScrollSelectComponent.prototype.isScrollEnd = function (that) {
        that.t2 = that._scrollBox.nativeElement.scrollLeft;
        if (that.t1 == that.t2) {
            that.events.publish('_scrollBox' + that.guid + ':change', that.t1, Date.now());
        }
    };
    ScrollSelectComponent.prototype.ngAfterViewInit = function () {
        this.lastScrollLeft = this.index * (this.slideWidth / this.items);
        this.autoscroll = true;
        this._scrollBox.nativeElement.scrollLeft = this.index * (this.slideWidth / this.items);
    };
    ScrollSelectComponent.prototype.prev = function () {
        this.index = (this.index - 1) > 0 ? (this.index - 1) : 0;
        this.value = this.options.toArray()[this.index].value;
        this.lastScrollLeft = this.index * (this.slideWidth / this.items);
        this._scrollBox.nativeElement.scrollLeft = this.index * (this.slideWidth / this.items);
    };
    ScrollSelectComponent.prototype.next = function () {
        this.index = (this.index + 1) >= this.options.length ? this.index : (this.index + 1);
        this.value = this.options.toArray()[this.index].value;
        this.lastScrollLeft = this.index * (this.slideWidth / this.items);
        this._scrollBox.nativeElement.scrollLeft = this.index * (this.slideWidth / this.items);
    };
    ScrollSelectComponent.prototype.isFirst = function () {
        return (this.value === undefined || this.value == this.options.toArray()[0].value);
    };
    ScrollSelectComponent.prototype.isLast = function () {
        return (this.options === undefined || this.options.length === 0 || this.value === undefined || this.value == this.options.toArray()[this.options.length - 1].value);
    };
    ScrollSelectComponent.prototype.optionChanged = function (target) {
        var _this = this;
        if (this._scrollBox.nativeElement.scrollLeft !== this.lastScrollLeft) {
            var index = Math.floor(this._scrollBox.nativeElement.scrollLeft / (this.slideWidth / this.items));
            if ((this._scrollBox.nativeElement.scrollLeft - (index * (this.slideWidth / this.items))) >= (Math.floor((this.slideWidth / this.items) / 2))) {
                index = (index + 1) >= this.options.length ? index : (index + 1);
            }
            this.index = index;
            this.value = this.options.toArray()[index].value;
            this.lastScrollLeft = index * (this.slideWidth / this.items);
            this.autoscroll = true;
            this._scrollBox.nativeElement.scrollLeft = index * (this.slideWidth / this.items);
            setTimeout(function () {
                _this.changedPropEvent.emit(_this.value);
            }, 500);
        }
    };
    ScrollSelectComponent.prototype.createGuid = function () {
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
            var r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);
            return v.toString(16);
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('scrollBox', { read: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"] }),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], ScrollSelectComponent.prototype, "_scrollBox", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], ScrollSelectComponent.prototype, "type", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ContentChildren"])(__WEBPACK_IMPORTED_MODULE_2__scroll_select_option__["a" /* ScrollSelectOptionComponent */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["QueryList"])
    ], ScrollSelectComponent.prototype, "options", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], ScrollSelectComponent.prototype, "value", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Number)
    ], ScrollSelectComponent.prototype, "items", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])("changed"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], ScrollSelectComponent.prototype, "changedPropEvent", void 0);
    ScrollSelectComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'scroll-select',
            template: "<div class=\"grid\">\n    <div class=\"row\" align-items-center justify-content-between>\n      <div *ngIf=\"type == 'scroll-with-button';\">\n        <button ion-button class=\"img-btn\" (click)=\"prev()\" clear [disabled]=\"isFirst()\">\n          <img class=\"slide-btn\" src=\"./assets/imgs/page-prev.png\">\n        </button>\n      </div>\n      <div class=\"scroll-box\" [ngClass]=\"{'scroll-with-button': type == 'scroll-with-button', 'scroll-without-button': type == 'scroll-without-button'}\">\n        <div class=\"scroll-box-content\" id=\"scroll-box-content\" #scrollBox>\n          <div class=\"scroll-box-zoom-wrapper\">\n            <ng-content></ng-content>\n          </div>\n        </div>\n        <div class=\"selected-circle\" *ngIf=\"items > 1\">\n          <div></div>\n        </div>\n      </div>\n      <div *ngIf=\"type == 'scroll-with-button';\">\n        <button ion-button class=\"img-btn\" (click)=\"next()\" clear [disabled]=\"isLast()\">\n          <img class=\"slide-btn\" src=\"./assets/imgs/page-next.png\">\n        </button>\n      </div>\n    </div>\n  </div>"
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Events"]])
    ], ScrollSelectComponent);
    return ScrollSelectComponent;
}());

//# sourceMappingURL=scroll-select.js.map

/***/ }),
/* 1246 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RadioSelectComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__(34);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/**
 * Generated class for the RadioSelectComponent component.
 *
 * See https://angular.io/api/core/Component for more info on Angular
 * Components.
 */
var RadioSelectComponent = (function () {
    function RadioSelectComponent() {
        this.isFull = false;
        this.isCenter = false;
        this.isMultiSelect = false;
        this.options = [];
        this._value = "";
        this._values = new Array();
        this.changedPropEvent = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onModelChange = function () { };
        this.onModelTouched = function () { };
    }
    RadioSelectComponent_1 = RadioSelectComponent;
    Object.defineProperty(RadioSelectComponent.prototype, "value", {
        get: function () {
            if (this.isMultiSelect) {
                var values = new Array();
                return this._values.reduce(function (target, curr) {
                    if (curr) {
                        target.push(curr);
                    }
                }, values);
            }
            else {
                return this._value;
            }
        },
        set: function (v) {
            if (this.isMultiSelect) {
                if (v && v instanceof Array) {
                    if (this._values.length != this.options.length) {
                        this._values = new Array(this.options.length);
                    }
                    this.options.reduce(function (target, curr, currindex) {
                        if (v.indexOf(curr.value) >= 0) {
                            target[currindex] = curr.value;
                        }
                        else {
                            target[currindex] = null;
                        }
                        return target;
                    }, this._values);
                }
                this.onModelChange(this._values);
            }
            else {
                if (v) {
                    this._value = v;
                    this.onModelChange(this._value);
                }
            }
        },
        enumerable: true,
        configurable: true
    });
    RadioSelectComponent.prototype.writeValue = function (val) {
        if (this.isMultiSelect) {
            if (val && val instanceof Array) {
                if (this._values.length != this.options.length) {
                    this._values = new Array(this.options.length);
                }
                this.options.reduce(function (target, curr, currindex) {
                    if (val.indexOf(curr.value) >= 0) {
                        target[currindex] = curr.value;
                    }
                    else {
                        target[currindex] = null;
                    }
                    return target;
                }, this._values);
            }
        }
        else {
            if (val) {
                this._value = val;
            }
        }
    };
    RadioSelectComponent.prototype.registerOnChange = function (fn) {
        this.onModelChange = fn;
    };
    RadioSelectComponent.prototype.registerOnTouched = function (fn) {
        this.onModelTouched = fn;
    };
    RadioSelectComponent.prototype.change = function (e, val, index) {
        if (this.isMultiSelect) {
            if (this._values[index] == val) {
                this._values[index] = null;
            }
            else {
                this._values[index] = val;
            }
            this.onModelChange(this._values);
            this.changedPropEvent.emit(this._values);
        }
        else {
            this._value = val;
            this.onModelChange(val);
            this.changedPropEvent.emit(this._value);
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], RadioSelectComponent.prototype, "label", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])("full"),
        __metadata("design:type", Boolean)
    ], RadioSelectComponent.prototype, "isFull", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])("center"),
        __metadata("design:type", Boolean)
    ], RadioSelectComponent.prototype, "isCenter", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])("multiple"),
        __metadata("design:type", Boolean)
    ], RadioSelectComponent.prototype, "isMultiSelect", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], RadioSelectComponent.prototype, "options", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])("value"),
        __metadata("design:type", Object)
    ], RadioSelectComponent.prototype, "_value", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])("values"),
        __metadata("design:type", Array)
    ], RadioSelectComponent.prototype, "_values", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])("onChanged"),
        __metadata("design:type", Object)
    ], RadioSelectComponent.prototype, "changedPropEvent", void 0);
    RadioSelectComponent = RadioSelectComponent_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'radio-select',
            template: "<div class=\"grid\">\n    <div class=\"row\" *ngIf=\"isFull && isCenter && !isMultiSelect\" align-items-center justify-content-between>\n      <label *ngIf=\"label\">{{label}}</label>\n        <button ion-button *ngFor=\"let option of options;\" [ngClass]=\"{'checked': option.value == _value}\"  (click)=\"change($event, option.value)\">\n        <ng-container *ngIf=\"option.icon\">\n          <ion-icon [name]=\"option.icon\"></ion-icon>\n        </ng-container>\n        <ng-container *ngIf=\"!option.icon\">\n          {{option.caption}}\n        </ng-container>\n        </button>\n      </div>\n    <div class=\"row\" *ngIf=\"!isFull && isCenter && !isMultiSelect\" align-items-center justify-content-center>\n      <label *ngIf=\"label\">{{label}}</label>\n        <button ion-button *ngFor=\"let option of options;\" [ngClass]=\"{'checked': option.value == _value}\"  (click)=\"change($event, option.value)\" >\n        <ng-container *ngIf=\"option.icon\">\n          <ion-icon [name]=\"option.icon\"></ion-icon>\n        </ng-container>\n        <ng-container *ngIf=\"!option.icon\">\n          {{option.caption}}\n        </ng-container>\n        </button>\n    </div>\n    <div class=\"row\" *ngIf=\"!isFull && !isCenter && !isMultiSelect\" align-items-center justify-content-start>\n      <label *ngIf=\"label\">{{label}}</label>\n        <button ion-button *ngFor=\"let option of options;\" [ngClass]=\"{'checked': option.value == _value}\"  (click)=\"change($event, option.value)\" >\n        <ng-container *ngIf=\"option.icon\">\n          <ion-icon [name]=\"option.icon\"></ion-icon>\n        </ng-container>\n        <ng-container *ngIf=\"!option.icon\">\n          {{option.caption}}\n        </ng-container>\n        </button>\n    </div>\n    <div class=\"row\" *ngIf=\"!isFull && !isCenter && isMultiSelect\" align-items-center justify-content-start>\n      <label *ngIf=\"label\">{{label}}</label>\n        <button ion-button *ngFor=\"let option of options; let i = index;\" [ngClass]=\"{'checked': option.value == _values[i]}\" (click)=\"change($event, option.value, i)\" >\n        <ng-container *ngIf=\"option.icon\">\n          <ion-icon [name]=\"option.icon\"></ion-icon>\n        </ng-container>\n        <ng-container *ngIf=\"!option.icon\">\n          {{option.caption}}\n        </ng-container>\n        </button>\n    </div>\n  </div>",
            providers: [{
                    provide: __WEBPACK_IMPORTED_MODULE_1__angular_forms__["NG_VALUE_ACCESSOR"],
                    useExisting: Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["forwardRef"])(function () { return RadioSelectComponent_1; }),
                    multi: true
                }]
        }),
        __metadata("design:paramtypes", [])
    ], RadioSelectComponent);
    return RadioSelectComponent;
    var RadioSelectComponent_1;
}());

//# sourceMappingURL=radio-select.js.map

/***/ }),
/* 1247 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RadioSpinnerComponentModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__radio_spinner__ = __webpack_require__(1248);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pipes_pipes_module__ = __webpack_require__(23);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var RadioSpinnerComponentModule = (function () {
    function RadioSpinnerComponentModule() {
    }
    RadioSpinnerComponentModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__radio_spinner__["a" /* RadioSpinnerComponent */],
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_2__radio_spinner__["a" /* RadioSpinnerComponent */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_3__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__radio_spinner__["a" /* RadioSpinnerComponent */])
            ],
            providers: [],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__radio_spinner__["a" /* RadioSpinnerComponent */],
            ],
            schemas: [__WEBPACK_IMPORTED_MODULE_0__angular_core__["CUSTOM_ELEMENTS_SCHEMA"]]
        })
    ], RadioSpinnerComponentModule);
    return RadioSpinnerComponentModule;
}());

//# sourceMappingURL=radio-spinner.module.js.map

/***/ }),
/* 1248 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RadioSpinnerComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__(34);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/**
 * Generated class for the RadioSelectComponent component.
 *
 * See https://angular.io/api/core/Component for more info on Angular
 * Components.
 */
var RadioSpinnerComponent = (function () {
    function RadioSpinnerComponent() {
        this.isFull = false;
        this.isCenter = false;
        this.addOption = "add";
        this.subtractOption = "subtract";
        this.options = [];
        this._value = 1;
        this._minValue = 1;
        this.changedPropEvent = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onModelChange = function () { };
        this.onModelTouched = function () { };
    }
    RadioSpinnerComponent_1 = RadioSpinnerComponent;
    Object.defineProperty(RadioSpinnerComponent.prototype, "value", {
        get: function () {
            return this._value;
        },
        set: function (v) {
            if (v) {
                this._value = v;
                this.onModelChange(this._value);
            }
        },
        enumerable: true,
        configurable: true
    });
    RadioSpinnerComponent.prototype.writeValue = function (val) {
        if (val) {
            this._value = val;
        }
    };
    RadioSpinnerComponent.prototype.registerOnChange = function (fn) {
        this.onModelChange = fn;
    };
    RadioSpinnerComponent.prototype.registerOnTouched = function (fn) {
        this.onModelTouched = fn;
    };
    RadioSpinnerComponent.prototype.change = function (e, val) {
        var num = 0;
        if (this.addOption == val) {
            num = 1;
        }
        if (this.subtractOption == val) {
            num = -1;
        }
        this._value += num;
        this._value = (this._value < this._minValue) ? this._minValue : this._value;
        this.onModelChange(this._value);
        this.changedPropEvent.emit(this._value);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], RadioSpinnerComponent.prototype, "label", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])("full"),
        __metadata("design:type", Boolean)
    ], RadioSpinnerComponent.prototype, "isFull", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])("center"),
        __metadata("design:type", Boolean)
    ], RadioSpinnerComponent.prototype, "isCenter", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])("add"),
        __metadata("design:type", String)
    ], RadioSpinnerComponent.prototype, "addOption", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])("subtract"),
        __metadata("design:type", String)
    ], RadioSpinnerComponent.prototype, "subtractOption", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], RadioSpinnerComponent.prototype, "options", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])("value"),
        __metadata("design:type", Number)
    ], RadioSpinnerComponent.prototype, "_value", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])("min"),
        __metadata("design:type", Number)
    ], RadioSpinnerComponent.prototype, "_minValue", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])("onChanged"),
        __metadata("design:type", Object)
    ], RadioSpinnerComponent.prototype, "changedPropEvent", void 0);
    RadioSpinnerComponent = RadioSpinnerComponent_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'radio-spinner',
            template: "<div class=\"grid\">\n    <div class=\"row\" *ngIf=\"isFull && isCenter\" align-items-center justify-content-between>\n      <label *ngIf=\"label\">{{_value + label}}</label>\n        <button ion-button *ngFor=\"let option of options;\" [ngClass]=\"{'checked': option.value == _value}\" clear (click)=\"change($event, option.value)\" >\n        <ng-container *ngIf=\"option.icon\">\n          <ion-icon class=\"fad\" [ngClass] = \"option.icon\"></ion-icon>\n        </ng-container>\n        <ng-container *ngIf=\"!option.icon\">\n          {{option.caption}}\n        </ng-container>\n        </button>\n    </div>\n    <div class=\"row\" *ngIf=\"!isFull && isCenter\" align-items-center justify-content-center>\n      <label *ngIf=\"label\">{{_value + label}}</label>\n        <button ion-button *ngFor=\"let option of options;\" [ngClass]=\"{'checked': option.value == _value}\" clear (click)=\"change($event, option.value)\" >\n        <ng-container *ngIf=\"option.icon\">\n          <ion-icon class=\"fad\" [ngClass] = \"option.icon\"></ion-icon>\n        </ng-container>\n        <ng-container *ngIf=\"!option.icon\">\n          {{option.caption}}\n        </ng-container>\n        </button>\n      </div>\n    <div class=\"row\" *ngIf=\"!isFull && !isCenter\" align-items-center justify-content-start>\n      <label *ngIf=\"label\">{{_value + label}}</label>\n        <button ion-button *ngFor=\"let option of options;\" [ngClass]=\"{'checked': option.value == _value}\" clear (click)=\"change($event, option.value)\" >\n        <ng-container *ngIf=\"option.icon\">\n          <ion-icon class=\"fad\" [ngClass] = \"option.icon\"></ion-icon>\n        </ng-container>\n        <ng-container *ngIf=\"!option.icon\">\n          {{option.caption}}\n        </ng-container>\n        </button>\n    </div>\n  </div>",
            providers: [{
                    provide: __WEBPACK_IMPORTED_MODULE_1__angular_forms__["NG_VALUE_ACCESSOR"],
                    useExisting: Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["forwardRef"])(function () { return RadioSpinnerComponent_1; }),
                    multi: true
                }]
        }),
        __metadata("design:paramtypes", [])
    ], RadioSpinnerComponent);
    return RadioSpinnerComponent;
    var RadioSpinnerComponent_1;
}());

//# sourceMappingURL=radio-spinner.js.map

/***/ }),
/* 1249 */,
/* 1250 */,
/* 1251 */,
/* 1252 */,
/* 1253 */,
/* 1254 */,
/* 1255 */,
/* 1256 */,
/* 1257 */,
/* 1258 */,
/* 1259 */,
/* 1260 */,
/* 1261 */,
/* 1262 */,
/* 1263 */,
/* 1264 */,
/* 1265 */,
/* 1266 */,
/* 1267 */,
/* 1268 */,
/* 1269 */,
/* 1270 */,
/* 1271 */,
/* 1272 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MyApp; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_menuType_customType__ = __webpack_require__(1273);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_background_mode__ = __webpack_require__(810);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_config_data_config__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_screen_orientation__ = __webpack_require__(812);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_menuType_LsPushType__ = __webpack_require__(1274);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__AppTransition__ = __webpack_require__(1275);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var MyApp = (function () {
    function MyApp(app, platform, appCtrl, backgroundMode, util, screenOrientation, config) {
        var _this = this;
        this.app = app;
        this.platform = platform;
        this.appCtrl = appCtrl;
        this.backgroundMode = backgroundMode;
        this.util = util;
        this.screenOrientation = screenOrientation;
        this.config = config;
        //特殊菜单设置
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["MenuController"].registerType('scalePush', __WEBPACK_IMPORTED_MODULE_2__components_menuType_customType__["a" /* MenuScalePushType */]);
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["MenuController"].registerType('lsPush', __WEBPACK_IMPORTED_MODULE_7__components_menuType_LsPushType__["a" /* LsPushType */]);
        this.setCustomTransitions();
        this.platform.ready().then(function () {
            //this.util.loadingEnd();
            //允许进入后台模式
            if (_this.util.hasCordova()) {
                _this.backgroundMode.setDefaults({ silent: true, hidden: true }).then(function (d) {
                    _this.backgroundMode.enable();
                });
                //设置返回键盘（android）
                _this.registerBackButtonAction();
                // set to landscape
                _this.screenOrientation.lock(_this.screenOrientation.ORIENTATIONS.PORTRAIT);
            }
            //跳转页面（过渡页面）
            _this.app.getRootNav().setRoot(__WEBPACK_IMPORTED_MODULE_4__service_config_data_config__["a" /* DataConfig */].PAGE._AL_PAGE);
        });
    }
    MyApp.prototype.registerBackButtonAction = function () {
        var _this = this;
        this.platform.registerBackButtonAction(function () {
            if (_this.util.toast || _this.util.loading || _this.util.popover || _this.util.alter) {
                if (_this.util.toast)
                    _this.util.toastEnd();
                if (_this.util.loading)
                    _this.util.loadingEnd();
                if (_this.util.popover)
                    _this.util.popoverEnd();
                if (_this.util.alter)
                    _this.util.alterEnd();
            }
            else {
                if (_this.appCtrl._modalPortal.length() > 0) {
                    _this.appCtrl._modalPortal.pop();
                }
                else {
                    _this.backgroundMode.moveToBackground();
                }
            }
        }, 1);
    };
    MyApp.prototype.setCustomTransitions = function () {
        this.config.setTransition('modal-from-right-enter', __WEBPACK_IMPORTED_MODULE_8__AppTransition__["c" /* ModalFromRightEnter */]);
        this.config.setTransition('modal-from-right-leave', __WEBPACK_IMPORTED_MODULE_8__AppTransition__["d" /* ModalFromRightLeave */]);
        this.config.setTransition('modal-from-left-enter', __WEBPACK_IMPORTED_MODULE_8__AppTransition__["a" /* ModalFromLeftEnter */]);
        this.config.setTransition('modal-from-left-leave', __WEBPACK_IMPORTED_MODULE_8__AppTransition__["b" /* ModalFromLeftLeave */]);
        this.config.setTransition('modal-from-top-enter', __WEBPACK_IMPORTED_MODULE_8__AppTransition__["e" /* ModalFromTopEnter */]);
        this.config.setTransition('modal-from-top-leave', __WEBPACK_IMPORTED_MODULE_8__AppTransition__["f" /* ModalFromTopLeave */]);
        this.config.setTransition('modal-scale-enter', __WEBPACK_IMPORTED_MODULE_8__AppTransition__["g" /* ModalScaleEnter */]);
        this.config.setTransition('modal-scale-leave', __WEBPACK_IMPORTED_MODULE_8__AppTransition__["h" /* ModalScaleLeave */]);
    };
    MyApp = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: "\n    <ion-nav></ion-nav>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["App"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Platform"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicApp"],
            __WEBPACK_IMPORTED_MODULE_3__ionic_native_background_mode__["a" /* BackgroundMode */],
            __WEBPACK_IMPORTED_MODULE_5__service_util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_6__ionic_native_screen_orientation__["a" /* ScreenOrientation */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Config"]])
    ], MyApp);
    return MyApp;
}());

//# sourceMappingURL=app.component.js.map

/***/ }),
/* 1273 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuScalePushType; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ionic_angular__ = __webpack_require__(3);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
/**
 * @hidden
 * Menu Overlay Type
 * The menu slides over the content. The content
 * itself, which is under the menu, does not move.
 */

var MenuScalePushType = (function (_super) {
    __extends(MenuScalePushType, _super);
    function MenuScalePushType(menu, plt) {
        var _this = _super.call(this, plt) || this;
        var contentOpenedX, menuClosedX, menuOpenedX;
        var width = menu.width();
        if (menu.isRightSide) {
            // right side
            contentOpenedX = -width + 'px';
            menuClosedX = width + 'px';
            menuOpenedX = '0px';
        }
        else {
            contentOpenedX = width + 'px';
            menuOpenedX = '0px';
            menuClosedX = -width + 'px';
        }
        var menuAni = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](plt, menu.getMenuElement());
        menuAni.fromTo('translateX', menuClosedX, menuOpenedX);
        _this.ani.add(menuAni);
        var contentApi = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](plt, menu.getContentElement());
        contentApi.fromTo('translateX', '0px', contentOpenedX);
        contentApi.fromTo('scale', 1, .9);
        _this.ani.add(contentApi);
        return _this;
    }
    return MenuScalePushType;
}(__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["MenuType"]));

//# sourceMappingURL=customType.js.map

/***/ }),
/* 1274 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LsPushType; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ionic_angular__ = __webpack_require__(3);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
/**
 * @hidden
 * Menu Overlay Type
 * The menu slides over the content. The content
 * itself, which is under the menu, does not move.
 */

var LsPushType = (function (_super) {
    __extends(LsPushType, _super);
    function LsPushType(menu, plt) {
        var _this = _super.call(this, plt) || this;
        var contentOpenedX, menuClosedX, menuOpenedX;
        var width = window.innerWidth;
        if (menu.isRightSide) {
            // right side
            contentOpenedX = -width + 'px';
            menuClosedX = width + 'px';
            menuOpenedX = '0px';
        }
        else {
            contentOpenedX = width + 'px';
            menuOpenedX = '0px';
            menuClosedX = -width + 'px';
        }
        var menuAni = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](plt, menu.getMenuElement());
        menuAni.fromTo('translateX', menuClosedX, menuOpenedX);
        _this.ani.add(menuAni);
        var contentApi = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](plt, menu.getContentElement());
        contentApi.fromTo('translateX', '0px', contentOpenedX);
        contentApi.fromTo('scale', 1, .9);
        _this.ani.add(contentApi);
        return _this;
    }
    return LsPushType;
}(__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["MenuType"]));

//# sourceMappingURL=LsPushType.js.map

/***/ }),
/* 1275 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ModalFromLeftEnter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return ModalFromLeftLeave; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return ModalFromRightEnter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return ModalFromRightLeave; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return ModalFromTopEnter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return ModalFromTopLeave; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return ModalScaleEnter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return ModalScaleLeave; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ionic_angular__ = __webpack_require__(3);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

/**
 * write by IT_晴天（woodstream)
 */
var ModalFromLeftEnter = (function (_super) {
    __extends(ModalFromLeftEnter, _super);
    function ModalFromLeftEnter() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ModalFromLeftEnter.prototype.init = function () {
        _super.prototype.init.call(this);
        var ele = this.enteringView.pageRef().nativeElement;
        var backdrop = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](this.plt, ele.querySelector('ion-backdrop'));
        backdrop.beforeStyles({ 'z-index': 0, 'opacity': 0.3, 'visibility': 'visible' });
        var wrapper = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](this.plt, ele.querySelector('.modal-wrapper'));
        wrapper.fromTo('transform', 'translateX(-100%)', 'translateX(0)');
        var contentWrapper = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](this.plt, ele.querySelector('ion-content.content'));
        contentWrapper.beforeStyles({ 'width': '80%' });
        this
            .element(this.enteringView.pageRef())
            .duration(300)
            .easing('ease')
            .add(backdrop)
            .add(wrapper)
            .add(contentWrapper);
    };
    return ModalFromLeftEnter;
}(__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["PageTransition"]));

var ModalFromLeftLeave = (function (_super) {
    __extends(ModalFromLeftLeave, _super);
    function ModalFromLeftLeave() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ModalFromLeftLeave.prototype.init = function () {
        _super.prototype.init.call(this);
        var ele = this.leavingView.pageRef().nativeElement;
        var backdrop = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](this.plt, ele.querySelector('ion-backdrop'));
        backdrop.beforeStyles({ 'visibility': 'hidden' });
        var wrapper = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](this.plt, ele.querySelector('.modal-wrapper'));
        wrapper.fromTo('transform', 'translateX(0)', 'translateX(-100%)');
        this
            .element(this.leavingView.pageRef())
            .duration(300)
            .easing('ease')
            .add(backdrop)
            .add(wrapper);
    };
    return ModalFromLeftLeave;
}(__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["PageTransition"]));

var ModalFromRightEnter = (function (_super) {
    __extends(ModalFromRightEnter, _super);
    function ModalFromRightEnter() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ModalFromRightEnter.prototype.init = function () {
        _super.prototype.init.call(this);
        var ele = this.enteringView.pageRef().nativeElement;
        var backdrop = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](this.plt, ele.querySelector('ion-backdrop'));
        backdrop.beforeStyles({ 'z-index': 0, 'opacity': 0.3, 'visibility': 'visible' });
        var wrapper = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](this.plt, ele.querySelector('.modal-wrapper'));
        wrapper.fromTo('transform', 'translateX(100%)', 'translateX(20%)');
        var contentWrapper = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](this.plt, ele.querySelector('ion-content.content'));
        contentWrapper.beforeStyles({ 'width': '80%' });
        this
            .element(this.enteringView.pageRef())
            .duration(300)
            .easing('ease')
            .add(backdrop)
            .add(wrapper)
            .add(contentWrapper);
    };
    return ModalFromRightEnter;
}(__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["PageTransition"]));

var ModalFromRightLeave = (function (_super) {
    __extends(ModalFromRightLeave, _super);
    function ModalFromRightLeave() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ModalFromRightLeave.prototype.init = function () {
        _super.prototype.init.call(this);
        var ele = this.leavingView.pageRef().nativeElement;
        var backdrop = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](this.plt, ele.querySelector('ion-backdrop'));
        backdrop.beforeStyles({ 'visibility': 'hidden' });
        var wrapper = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](this.plt, ele.querySelector('.modal-wrapper'));
        wrapper.fromTo('transform', 'translateX(20%)', 'translateX(100%)');
        this
            .element(this.leavingView.pageRef())
            .duration(300)
            .easing('ease')
            .add(backdrop)
            .add(wrapper);
    };
    return ModalFromRightLeave;
}(__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["PageTransition"]));

var ModalFromTopEnter = (function (_super) {
    __extends(ModalFromTopEnter, _super);
    function ModalFromTopEnter() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ModalFromTopEnter.prototype.init = function () {
        _super.prototype.init.call(this);
        var ele = this.enteringView.pageRef().nativeElement;
        var backdrop = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](this.plt, ele.querySelector('ion-backdrop'));
        backdrop.beforeStyles({ 'z-index': 0, 'opacity': 0.3, 'visibility': 'visible' });
        var wrapper = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](this.plt, ele.querySelector('.modal-wrapper'));
        wrapper.fromTo('transform', 'translateY(-100%)', 'translateY(0)');
        var contentWrapper = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](this.plt, ele.querySelector('ion-content.content'));
        contentWrapper.beforeStyles({ 'height': '60%' });
        this
            .element(this.enteringView.pageRef())
            .duration(300)
            .easing('ease')
            .add(backdrop)
            .add(wrapper)
            .add(contentWrapper);
    };
    return ModalFromTopEnter;
}(__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["PageTransition"]));

var ModalFromTopLeave = (function (_super) {
    __extends(ModalFromTopLeave, _super);
    function ModalFromTopLeave() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ModalFromTopLeave.prototype.init = function () {
        _super.prototype.init.call(this);
        var ele = this.leavingView.pageRef().nativeElement;
        var backdrop = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](this.plt, ele.querySelector('ion-backdrop'));
        backdrop.beforeStyles({ 'visibility': 'hidden' });
        var wrapper = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](this.plt, ele.querySelector('.modal-wrapper'));
        wrapper.fromTo('transform', 'translateY(0)', 'translateY(-100%)');
        this
            .element(this.leavingView.pageRef())
            .duration(300)
            .easing('ease')
            .add(backdrop)
            .add(wrapper);
    };
    return ModalFromTopLeave;
}(__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["PageTransition"]));

var ModalScaleEnter = (function (_super) {
    __extends(ModalScaleEnter, _super);
    function ModalScaleEnter() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ModalScaleEnter.prototype.init = function () {
        _super.prototype.init.call(this);
        var ele = this.enteringView.pageRef().nativeElement;
        var wrapper = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](this.plt, ele.querySelector('.modal-wrapper'));
        wrapper.fromTo('transform', 'scale(0)', 'scale(1)');
        this
            .element(this.enteringView.pageRef())
            .duration(400)
            .easing('ease')
            .add(wrapper);
    };
    return ModalScaleEnter;
}(__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["PageTransition"]));

var ModalScaleLeave = (function (_super) {
    __extends(ModalScaleLeave, _super);
    function ModalScaleLeave() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ModalScaleLeave.prototype.init = function () {
        _super.prototype.init.call(this);
        var ele = this.leavingView.pageRef().nativeElement;
        var wrapper = new __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["Animation"](this.plt, ele.querySelector('.modal-wrapper'));
        wrapper.fromTo('transform', 'scale(1)', 'scale(0)');
        this
            .element(this.leavingView.pageRef())
            .duration(400)
            .easing('ease')
            .add(wrapper);
    };
    return ModalScaleLeave;
}(__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["PageTransition"]));

//# sourceMappingURL=AppTransition.js.map

/***/ }),
/* 1276 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WebsocketModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__websocket_service__ = __webpack_require__(156);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__process_factory__ = __webpack_require__(556);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__dispatch_service__ = __webpack_require__(555);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__process_cudscd_process__ = __webpack_require__(557);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__process_remind_process__ = __webpack_require__(559);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__process_speech_process__ = __webpack_require__(561);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__process_third_process__ = __webpack_require__(560);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__process_default_process__ = __webpack_require__(254);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__process_find_process__ = __webpack_require__(562);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__process_option_process__ = __webpack_require__(563);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__process_context_process__ = __webpack_require__(565);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__process_receive_process__ = __webpack_require__(566);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__process_setting_process__ = __webpack_require__(567);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__pages_ss_ss_service__ = __webpack_require__(157);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__pages_fd_fd_service__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__pages_fs_fs_service__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__optprocess_factory__ = __webpack_require__(564);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__process_agendas_process__ = __webpack_require__(255);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__process_base_process__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__process_markup_process__ = __webpack_require__(568);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__process_notification_process__ = __webpack_require__(569);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__process_specialdata_process__ = __webpack_require__(570);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__process_datasync_process__ = __webpack_require__(571);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

























/**
 * WebSocket组件
 *
 * create by zhangjy on 2018/07/22.
 */
var WebsocketModule = (function () {
    function WebsocketModule() {
    }
    WebsocketModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicModule"]],
            providers: [__WEBPACK_IMPORTED_MODULE_2__websocket_service__["a" /* WebsocketService */],
                __WEBPACK_IMPORTED_MODULE_18__optprocess_factory__["a" /* OptProcessFactory */],
                __WEBPACK_IMPORTED_MODULE_3__process_factory__["a" /* ProcessFactory */], __WEBPACK_IMPORTED_MODULE_4__dispatch_service__["a" /* DispatchService */],
                __WEBPACK_IMPORTED_MODULE_20__process_base_process__["a" /* BaseProcess */], __WEBPACK_IMPORTED_MODULE_24__process_datasync_process__["a" /* DataSyncProcess */],
                __WEBPACK_IMPORTED_MODULE_5__process_cudscd_process__["a" /* CudscdProcess */], __WEBPACK_IMPORTED_MODULE_6__process_remind_process__["a" /* RemindProcess */],
                __WEBPACK_IMPORTED_MODULE_7__process_speech_process__["a" /* SpeechProcess */], __WEBPACK_IMPORTED_MODULE_8__process_third_process__["a" /* ThirdProcess */],
                __WEBPACK_IMPORTED_MODULE_9__process_default_process__["a" /* DefaultProcess */], __WEBPACK_IMPORTED_MODULE_10__process_find_process__["a" /* FindProcess */],
                __WEBPACK_IMPORTED_MODULE_11__process_option_process__["a" /* OptionProcess */], __WEBPACK_IMPORTED_MODULE_12__process_context_process__["a" /* ContextProcess */],
                __WEBPACK_IMPORTED_MODULE_13__process_receive_process__["a" /* ReceiveProcess */], __WEBPACK_IMPORTED_MODULE_14__process_setting_process__["a" /* SettingProcess */],
                __WEBPACK_IMPORTED_MODULE_19__process_agendas_process__["a" /* AgendasProcess */], __WEBPACK_IMPORTED_MODULE_21__process_markup_process__["a" /* MarkupProcess */],
                __WEBPACK_IMPORTED_MODULE_22__process_notification_process__["a" /* NotificationProcess */], __WEBPACK_IMPORTED_MODULE_23__process_specialdata_process__["a" /* SpecialDataProcess */],
                __WEBPACK_IMPORTED_MODULE_15__pages_ss_ss_service__["a" /* SsService */], __WEBPACK_IMPORTED_MODULE_16__pages_fd_fd_service__["a" /* FdService */], __WEBPACK_IMPORTED_MODULE_17__pages_fs_fs_service__["a" /* FsService */]
            ],
            schemas: [__WEBPACK_IMPORTED_MODULE_0__angular_core__["CUSTOM_ELEMENTS_SCHEMA"]]
        })
    ], WebsocketModule);
    return WebsocketModule;
}());

//# sourceMappingURL=websocket.module.js.map

/***/ }),
/* 1277 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AlarmService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ionic_native_native_audio__ = __webpack_require__(245);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_vibration__ = __webpack_require__(244);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * 小鸡闹钟设置
 *
 * create by wzy on 2018/08/07.
 */
var AlarmService = (function () {
    function AlarmService(vibration, nativeAudio) {
        this.vibration = vibration;
        this.nativeAudio = nativeAudio;
    }
    AlarmService.prototype.setAlarmClock = function (date, scheduleName) {
        //data 入参格式 YYYY/MM/DD HH:ss
        this.formatDate(date);
        //铃声设置
        this.vibration.vibrate(1000);
        console.log("开始设定闹钟");
        // set wakeup timer
        // cordova.plugins.xjalarmclock.wakeup( result => {
        //     if (result.type==='wakeup') {
        //       console.log("检测到闹钟 启动成功: " + result.extra);
        //
        //       //铃声启动
        //       this.nativeAudio.play('schedule1').then(success => {
        //         console.log("闹钟铃声播放成功");
        //       }, error => {
        //         console.log("闹钟铃声播放失败：" + error.toString());
        //       });
        //
        //       //通知栏消息
        //       this.localNotifications.schedule({
        //         id: this.index,//将来清除，取消，更新或检索本地通知所需的唯一标识符默认值：0
        //         icon: '../resources/android/icon/drawable-icon.png',
        //         title:"闹钟提醒",
        //         text: "来自日程["+ scheduleName + "]",
        //         trigger: {at: new Date(new Date().getTime())},//何时触发通知
        //         //声音设置了无效
        //         sound: null,//显示警报时包含播放声音的文件的Uri默认值：res：// platform_default
        //         launch:true,
        //         //在我手机上也是无效的
        //         lockscreen:true//仅限ANDROID如果设置为true，则通知将在所有锁定屏幕上完整显示。如果设置为false，则不会在安全锁屏上显示。
        //       });
        //
        //       this.index++;
        //
        //     } else if(result.type==='set'){
        //       console.log("检测到闹钟 设定: " + result);
        //     } else {
        //       console.log('检测到未处理的类型 ( '+ result + '|' + result.type + ')');
        //     }
        //
        //   },
        //   error => {
        //     console.log("闹钟设定失败: " + error.toString());
        //   },
        //   // a list of alarms to set
        //   {
        //     alarms : [{
        //       type : 'onetime',
        //       time : { year: this.year, month: this.month, day: this.day, hour : this.hour, minute : this.minute },
        //       extra : { message : '来自日程[' + scheduleName + ']' },
        //       message : '闹钟已经过时！'
        //     }]
        //   }
        // );
    };
    /**
     * 设定闹钟延迟唤醒
     */
    AlarmService.prototype.setAlarmSnooze = function () {
        cordova.plugins.xjalarmclock.snooze(function (result) {
            if (result.type === 'wakeup') {
                console.log('wakeup alarm detected--' + result.extra);
            }
            else if (result.type === 'set') {
                console.log('wakeup alarm set--' + result);
            }
            else {
                console.log('wakeup unhandled type (' + result.type + ')');
            }
        }, function (error) {
        }, {
            alarms: [{
                    type: 'snooze',
                    time: { seconds: 60 },
                    extra: {},
                    message: 'message',
                    sound: 'sound',
                    action: 'action'
                }]
        });
    };
    /**
     * 分割年月日时分
     * @param {string} date
     */
    AlarmService.prototype.formatDate = function (date) {
        this.date = date.split(" ");
        this.dateOfYMD = this.date[0].split("/"); //分割年月日
        this.dateOfHM = this.date[1].split(":"); //分割时分
        this.year = parseInt(this.dateOfYMD[0]);
        this.month = parseInt(this.dateOfYMD[1]);
        this.day = parseInt(this.dateOfYMD[2]);
        this.hour = parseInt(this.dateOfHM[0]);
        this.minute = parseInt(this.dateOfHM[1]);
        console.log("format 完成:" + this.year + " " + this.month + " " + this.day + " " + this.hour + " " + this.minute);
    };
    AlarmService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__ionic_native_vibration__["a" /* Vibration */],
            __WEBPACK_IMPORTED_MODULE_1__ionic_native_native_audio__["a" /* NativeAudio */]])
    ], AlarmService);
    return AlarmService;
}());

//# sourceMappingURL=alarm.service.js.map

/***/ }),
/* 1278 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HammerDIRECTIONALLConfig; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__(57);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_hammerjs__ = __webpack_require__(1279);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_hammerjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_hammerjs__);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var HammerDIRECTIONALLConfig = (function (_super) {
    __extends(HammerDIRECTIONALLConfig, _super);
    function HammerDIRECTIONALLConfig() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.overrides = {
            'swipe': { direction: __WEBPACK_IMPORTED_MODULE_2_hammerjs__["DIRECTION_ALL"] } // 重载设置
        };
        return _this;
    }
    HammerDIRECTIONALLConfig = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Injectable"])()
    ], HammerDIRECTIONALLConfig);
    return HammerDIRECTIONALLConfig;
}(__WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__["e" /* HammerGestureConfig */]));

//# sourceMappingURL=my-hammer.config.js.map

/***/ }),
/* 1279 */,
/* 1280 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MIPushService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_service_emit_service__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_service_util_service__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_device__ = __webpack_require__(103);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var MIPushService = (function () {
    function MIPushService(util, device, emitService) {
        var _this = this;
        this.util = util;
        this.device = device;
        this.emitService = emitService;
        if (this.util.isMobile()) {
            console.log("MIPush service created@" + this.device.platform + ".");
            if (this.device.platform == "Android") {
                document.addEventListener("mipush.receiveRegisterResult", function (event) {
                    console.log("MIPush Received Notification with event listener.");
                    _this.notificationReceived(event);
                }, false);
                document.addEventListener("mipush.notificationMessageArrived", function (event) {
                    console.log("MIPush Received Notification with event listener.");
                    _this.notificationReceived(event);
                }, false);
                document.addEventListener("mipush.notificationMessageClicked", function (event) {
                    console.log("MIPush Received Notification with event listener.");
                    _this.notificationReceived(event);
                }, false);
            }
        }
    }
    MIPushService.prototype.notificationReceived = function (event) {
        console.log("MIPush received notification: " + JSON.stringify(event));
    };
    MIPushService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__util_service_util_service__["a" /* UtilService */],
            __WEBPACK_IMPORTED_MODULE_3__ionic_native_device__["a" /* Device */],
            __WEBPACK_IMPORTED_MODULE_1__util_service_emit_service__["a" /* EmitService */]])
    ], MIPushService);
    return MIPushService;
}());

//# sourceMappingURL=mipush.service.js.map

/***/ }),
/* 1281 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FsPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__fs_service__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__gc_gc_service__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__fd_fd_service__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__gl_gl_service__ = __webpack_require__(121);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__fs4g__ = __webpack_require__(596);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__fs4fo__ = __webpack_require__(597);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__components_modal_box_modal_box_module__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__directives_directives_module__ = __webpack_require__(37);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};










var FsPageModule = (function () {
    function FsPageModule() {
    }
    FsPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_5__fs4g__["a" /* Fs4gPage */],
                __WEBPACK_IMPORTED_MODULE_6__fs4fo__["a" /* Fs4foPage */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_7_ionic_angular__["IonicModule"],
                __WEBPACK_IMPORTED_MODULE_8__components_modal_box_modal_box_module__["a" /* ModalBoxComponentModule */],
                __WEBPACK_IMPORTED_MODULE_9__directives_directives_module__["a" /* DirectivesModule */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_1__fs_service__["a" /* FsService */], __WEBPACK_IMPORTED_MODULE_2__gc_gc_service__["a" /* GcService */], __WEBPACK_IMPORTED_MODULE_3__fd_fd_service__["a" /* FdService */], __WEBPACK_IMPORTED_MODULE_4__gl_gl_service__["a" /* GlService */]
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_5__fs4g__["a" /* Fs4gPage */],
                __WEBPACK_IMPORTED_MODULE_6__fs4fo__["a" /* Fs4foPage */]
            ]
        })
    ], FsPageModule);
    return FsPageModule;
}());

//# sourceMappingURL=fs.module.js.map

/***/ }),
/* 1282 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return InvitesPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__invites__ = __webpack_require__(619);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_modal_box_modal_box_module__ = __webpack_require__(38);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var InvitesPageModule = (function () {
    function InvitesPageModule() {
    }
    InvitesPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_1__invites__["a" /* InvitesPage */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["IonicModule"],
                __WEBPACK_IMPORTED_MODULE_3__components_modal_box_modal_box_module__["a" /* ModalBoxComponentModule */]
            ],
            providers: [],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_1__invites__["a" /* InvitesPage */]
            ]
        })
    ], InvitesPageModule);
    return InvitesPageModule;
}());

//# sourceMappingURL=invites.module.js.map

/***/ }),
/* 1283 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CardListComponentModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__card_list__ = __webpack_require__(1284);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ngx_icons__ = __webpack_require__(813);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pipes_pipes_module__ = __webpack_require__(23);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var CardListComponentModule = (function () {
    function CardListComponentModule() {
    }
    CardListComponentModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__card_list__["a" /* CardListComponent */],
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_2__card_list__["a" /* CardListComponent */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_4__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__card_list__["a" /* CardListComponent */]),
                __WEBPACK_IMPORTED_MODULE_3_ngx_icons__["a" /* WeatherIconsModule */]
            ],
            providers: [],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__card_list__["a" /* CardListComponent */],
            ],
            schemas: [__WEBPACK_IMPORTED_MODULE_0__angular_core__["CUSTOM_ELEMENTS_SCHEMA"]]
        })
    ], CardListComponentModule);
    return CardListComponentModule;
}());

//# sourceMappingURL=card-list.module.js.map

/***/ }),
/* 1284 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CardListComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var CardListComponent = (function () {
    function CardListComponent() {
        this.onStartLoad = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onCardClick = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onCreateNew = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.todaylist = new Array();
        this.weatherlist = new Array();
        this.scdlist = new Array();
        this.hasLoaded = false;
    }
    CardListComponent.prototype.ngOnInit = function () {
        this.onStartLoad.emit(this);
    };
    CardListComponent.prototype.gotoDetail = function (scd) {
        this.onCardClick.emit({ target: this, value: scd });
    };
    CardListComponent.prototype.gotoNew = function () {
        this.onCreateNew.emit(this);
    };
    CardListComponent.prototype.refresh = function () {
        this.onStartLoad.emit(this);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], CardListComponent.prototype, "onStartLoad", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], CardListComponent.prototype, "onCardClick", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], CardListComponent.prototype, "onCreateNew", void 0);
    CardListComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'card-list',
            template: "\n  <ion-grid class=\"h70\">\n    <ion-row class=\"h100\" align-items-center>\n      <p class=\"p15\"></p>\n      <ion-grid>\n        <ion-row justify-content-center>\n          <small *ngIf=\"todaylist && todaylist.length > 0\">\u5F53\u5929</small>\n          <ng-container *ngFor=\"let scd of todaylist\">\n          <ion-card *ngIf=\"scd.gs == '3' || scd.gs == '4'\" (click)=\"gotoDetail(scd)\">\n            <div class=\"card-title\">{{scd.sn}}</div>\n            <div *ngIf=\"scd.bz\" class=\"card-subtitle\">{{scd.bz}}</div>\n            <div *ngIf=\"scd.st && scd.st != '99:99'\" class=\"card-subtitle\">{{scd.st}}</div>\n            <div *ngIf=\"scd.st && scd.st == '99:99'\" class=\"card-subtitle\">\u5168\u5929</div>\n            <div *ngIf=\"scd.p && scd.p.jc\" class=\"card-subtitle\">\n              <div class=\"color-dot\" [ngStyle]=\"{'background-color': scd.p.jc }\"></div>\n            </div>\n          </ion-card>\n          </ng-container>\n        </ion-row>\n        <ion-row justify-content-center>\n          <small *ngIf=\"hasLoaded && (((!todaylist || todaylist.length <= 0) && (!weatherlist || weatherlist.length <= 0)) || (scdlist && scdlist.length > 0))\">\u65E5\u7A0B</small>\n          <ng-container *ngFor=\"let scd of scdlist\">\n          <ion-card *ngIf=\"scd.gs != '3' && scd.gs != '4'\" (click)=\"gotoDetail(scd)\">\n            <div class=\"card-title\">{{scd.sn}}</div>\n            <div *ngIf=\"scd.bz\" class=\"card-subtitle\">{{scd.bz}}</div>\n            <div *ngIf=\"scd.st && scd.st != '99:99'\" class=\"card-subtitle\">{{scd.st}}</div>\n            <div *ngIf=\"scd.st && scd.st == '99:99'\" class=\"card-subtitle\">\u5168\u5929</div>\n            <div *ngIf=\"scd.p && scd.p.jc\" class=\"card-subtitle\">\n              <div class=\"color-dot\" [ngStyle]=\"{'background-color': scd.p.jc }\"></div>\n            </div>\n          </ion-card>\n          </ng-container>\n          <ion-card *ngIf=\"hasLoaded && (!todaylist || todaylist.length <= 0) && (!scdlist || scdlist.length <= 0) && (!weatherlist || weatherlist.length <= 0)\" (click)=\"gotoNew()\">\n            <div class=\"card-subtitle\">\u6DFB\u52A0\u65B0\u4E8B\u4EF6</div>\n          </ion-card>\n          <ion-spinner *ngIf=\"!hasLoaded\" name=\"bubbles\"></ion-spinner>\n        </ion-row>\n        <ion-row justify-content-center>\n          <small *ngIf=\"weatherlist && weatherlist.length > 0\">\u5929\u6C14</small>\n          <ng-container *ngFor=\"let scd of weatherlist\">\n          <ion-card *ngIf=\"scd.gs == '6'\">\n            <wi [name]=\"scd.fjo.weather| formatweather:'winame'\" direction=\"from\" degree=\"78\"></wi>\n            <div class=\"card-title\">{{scd.sn}} {{scd.fjo.temp| formatweather:\"centigrade\"}}</div>\n            <div *ngIf=\"scd.bz\" class=\"card-subtitle\">{{scd.bz}}</div>\n            <div *ngIf=\"scd.fjo && scd.fjo.city\" class=\"card-subtitle\">{{scd.fjo.city}}</div>\n          </ion-card>\n          </ng-container>\n        </ion-row>\n      </ion-grid>\n      <p class=\"p15\"></p>\n      <p class=\"p15\"></p>\n    </ion-row>\n  </ion-grid>\n  "
        }),
        __metadata("design:paramtypes", [])
    ], CardListComponent);
    return CardListComponent;
}());

//# sourceMappingURL=card-list.js.map

/***/ }),
/* 1285 */,
/* 1286 */,
/* 1287 */,
/* 1288 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ScrollRangePickerComponentModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__scroll_range_picker__ = __webpack_require__(1289);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pipes_pipes_module__ = __webpack_require__(23);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var ScrollRangePickerComponentModule = (function () {
    function ScrollRangePickerComponentModule() {
    }
    ScrollRangePickerComponentModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__scroll_range_picker__["a" /* ScrollRangePickerComponent */],
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_2__scroll_range_picker__["a" /* ScrollRangePickerComponent */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_3__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__scroll_range_picker__["a" /* ScrollRangePickerComponent */])
            ],
            providers: [],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__scroll_range_picker__["a" /* ScrollRangePickerComponent */],
            ],
            schemas: [__WEBPACK_IMPORTED_MODULE_0__angular_core__["CUSTOM_ELEMENTS_SCHEMA"]]
        })
    ], ScrollRangePickerComponentModule);
    return ScrollRangePickerComponentModule;
}());

//# sourceMappingURL=scroll-range-picker.module.js.map

/***/ }),
/* 1289 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ScrollRangePickerComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * Generated class for the ScrollRangePickerComponent component.
 *
 * See https://angular.io/api/core/Component for more info on Angular
 * Components.
 */
var ScrollRangePickerComponent = (function () {
    function ScrollRangePickerComponent(events) {
        var _this = this;
        this.events = events;
        this.viewBox = '0 0 ' + 2484 * 6 + ' 360';
        this.viewHiddenWidth = 2484 * 24 / 24;
        this.viewBoxPointer = '0 0 2484 360';
        this.viewType = 'day-range-picker'; // day-range-picker
        this.viewHours = 24; // 12小时
        this.viewMinTime = 5; // 5分钟
        this.timeLines = [];
        this.timeHalfHourLines = [];
        this.timeHourLines = [];
        this.titles = { '3': '凌晨', '9': '上午', '12': '中午', '16': '下午', '21': '晚上', '23': '深夜' };
        this.blockTitles = [];
        this.pushedtitles = { '6': false, '12': false, '20': false };
        this.blockGap = 3;
        this.changedPropEvent = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.lastScrollLeft = 0;
        this.value = '12:00';
        this.guid = '';
        this.splitpixel = 2;
        this.baseTime = __WEBPACK_IMPORTED_MODULE_2_moment__();
        this.now = __WEBPACK_IMPORTED_MODULE_2_moment__();
        this.guid = this.createGuid();
        this.events.subscribe('_scrollBox' + this.guid + ':change', function (dest) {
            _this.valueChanged(_this.lastScrollLeft, dest);
        });
        this.baseTime.hours(12);
        this.baseTime.minutes(0);
        this.baseTime.seconds(0);
    }
    ScrollRangePickerComponent.prototype.ngOnInit = function () {
        var _this = this;
        var that = this;
        var ele = this._scrollBox.nativeElement;
        ele.addEventListener('scroll', function (event) {
            that.events.publish('_scrollBox' + _this.guid + ':change', event.target.scrollLeft, Date.now());
        }, { passive: true }, false);
        //计算当前屏幕可以正常显示的时间长度
        var pixels = document.body.clientWidth;
        //每屏操作时间范围以6小时为单位,6小时/12小时/18小时/24小时
        this.viewHours = Math.floor(Math.floor((Math.floor(pixels / this.splitpixel) * 5) / 60) / 6) * 6;
        this.hourLines = 60 / this.viewMinTime;
        var viewLines = this.viewHours * this.hourLines;
        this.blockGap = 2484 / (viewLines);
        var middle = 2484 * 3;
        this.timeHourLines.push(middle);
        var timeup = __WEBPACK_IMPORTED_MODULE_2_moment__["unix"](this.baseTime.unix());
        var timedown = __WEBPACK_IMPORTED_MODULE_2_moment__["unix"](this.baseTime.unix());
        for (var timeLineX = this.blockGap; timeLineX < 2484 * 3; timeLineX += this.blockGap) {
            var left = middle - timeLineX;
            var right = middle + timeLineX;
            if (left > 0) {
                timedown.subtract(this.viewMinTime, "minutes");
                var minutes = timedown.minutes();
                if (minutes == 0) {
                    this.timeHourLines.unshift(left);
                }
                else if (minutes == 30) {
                    this.timeHalfHourLines.unshift(left);
                }
                else {
                    this.timeLines.unshift(left);
                }
            }
            if (right < middle * 2) {
                timeup.add(this.viewMinTime, "minutes");
                var minutes = timeup.minutes();
                if (minutes == 0) {
                    this.timeHourLines.push(right);
                }
                else if (minutes == 30) {
                    this.timeHalfHourLines.push(right);
                }
                else {
                    this.timeLines.push(right);
                }
            }
        }
        // 画范围外时间线 (包括范围之前和范围之后)
        /*for (let hour = 0; hour < this.viewHours; hour++) {
          for (let block = 1; block <= this.hourLines; block++) {
            let timeLineX = this.blockGap * ((hour * this.hourLines) + block);
    
            if (timeLineX > this.viewHiddenWidth) {
              break;
            }
    
            this.timeLines.push(timeLineX);
            this.timeLines.push(timeLineX + 2484 + this.viewHiddenWidth);
          }
        }
    
        // 画设置时间段内时间线
        for (let hour = 0; hour < this.viewHours; hour++) {
          for (let block = 1; block <= this.hourLines; block++) {
            let timeLineX = this.viewHiddenWidth + this.blockGap * ((hour * this.hourLines) + block);
    
            if (this.titles[hour.toString()] && !this.pushedtitles[hour.toString()]) {
              this.blockTitles.push({x: timeLineX, title: this.titles[hour.toString()]});
              this.pushedtitles[hour.toString()] = true;
            }
    
            this.timeLines.push(timeLineX);
          }
        }*/
        var clientWidth = this._scrollBox.nativeElement.clientWidth;
        var scrollWidth = this._scrollBox.nativeElement.scrollWidth;
        this.startX = this.getTimeX(this.viewHours / 2 + ":00", 2484);
        var scrollLeft = this.getScrollLeft(this.value, clientWidth, scrollWidth);
        this._scrollBox.nativeElement.scrollLeft = scrollLeft;
    };
    ScrollRangePickerComponent.prototype.valueChanged = function (src, dest) {
        if (src !== dest) {
            var clientWidth = this._scrollBox.nativeElement.clientWidth;
            var scrollWidth = this._scrollBox.nativeElement.scrollWidth;
            var time = this.getTimeString(dest, clientWidth, scrollWidth);
            this.changedPropEvent.emit({ src: this.value, dest: time });
            this.value = __WEBPACK_IMPORTED_MODULE_2_moment__["unix"](time).format("HH:mm");
        }
    };
    ScrollRangePickerComponent.prototype.getTimeString = function (scrollLeft, clientWidth, scrollWidth) {
        var timeGap = (scrollLeft + (clientWidth / 2)) - (scrollWidth / 2);
        var timeGapMinutes = Math.floor(timeGap / (this.blockGap * (clientWidth / 2484))) * this.viewMinTime;
        if (timeGapMinutes == 0) {
            return this.baseTime.unix();
        }
        else if (timeGapMinutes > 0) {
            var curTime = __WEBPACK_IMPORTED_MODULE_2_moment__["unix"](this.baseTime.unix());
            curTime.add(timeGapMinutes, "minutes");
            return curTime.unix();
        }
        else {
            var curTime = __WEBPACK_IMPORTED_MODULE_2_moment__["unix"](this.baseTime.unix());
            curTime.subtract(Math.abs(timeGapMinutes), "minutes");
            return curTime.unix();
        }
    };
    ScrollRangePickerComponent.prototype.getTimeX = function (time, width) {
        var hour = parseInt(time.slice(0, 2));
        var minute = parseInt(time.slice(3, 5));
        this.now.hours(hour);
        this.now.minutes(minute);
        this.now.seconds(0);
        var offset = this.now.unix() - this.baseTime.unix();
        if (offset > 0) {
            //指定时间大于初始化基准时间
            return 2484 * 3 + Math.floor(offset / 60) * this.blockGap;
        }
        else if (offset < 0) {
            //指定时间小于初始化基准时间
            return 2484 * 3 + Math.floor(offset / 60) * this.blockGap;
        }
        else {
            //指定时间等于初始化基准时间
            return 2484 * 3;
        }
    };
    ScrollRangePickerComponent.prototype.getScrollLeft = function (time, clientWidth, scrollWidth) {
        var timeX = this.getTimeX(time, scrollWidth);
        //单位换算 标准宽度2484，实际宽度clientWidth
        var leftX = timeX * (clientWidth / 2484) - (clientWidth / 2);
        return leftX >= 0 ? leftX : 0;
    };
    ScrollRangePickerComponent.prototype.formatNumber = function (num, pattern) {
        var strarr = num ? num.toString().split('.') : ['0'];
        var fmtarr = pattern ? pattern.split('.') : [''];
        var retstr = '';
        // 整数部分
        var str = strarr[0];
        var fmt = fmtarr[0];
        var i = str.length - 1;
        var comma = false;
        for (var f = fmt.length - 1; f >= 0; f--) {
            switch (fmt.substr(f, 1)) {
                case '#':
                    if (i >= 0)
                        retstr = str.substr(i--, 1) + retstr;
                    break;
                case '0':
                    if (i >= 0)
                        retstr = str.substr(i--, 1) + retstr;
                    else
                        retstr = '0' + retstr;
                    break;
                case ',':
                    comma = true;
                    retstr = ',' + retstr;
                    break;
            }
        }
        if (i >= 0) {
            if (comma) {
                var l = str.length;
                for (; i >= 0; i--) {
                    retstr = str.substr(i, 1) + retstr;
                    if (i > 0 && ((l - i) % 3) == 0)
                        retstr = ',' + retstr;
                }
            }
            else
                retstr = str.substr(0, i + 1) + retstr;
        }
        retstr = retstr + '.';
        // 处理小数部分
        str = strarr.length > 1 ? strarr[1] : '';
        fmt = fmtarr.length > 1 ? fmtarr[1] : '';
        i = 0;
        for (var f = 0; f < fmt.length; f++) {
            switch (fmt.substr(f, 1)) {
                case '#':
                    if (i < str.length)
                        retstr += str.substr(i++, 1);
                    break;
                case '0':
                    if (i < str.length)
                        retstr += str.substr(i++, 1);
                    else
                        retstr += '0';
                    break;
            }
        }
        return retstr.replace(/^,+/, '').replace(/\.$/, '');
    };
    ScrollRangePickerComponent.prototype.createGuid = function () {
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
            var r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);
            return v.toString(16);
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('scrollBox', { read: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"] }),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], ScrollRangePickerComponent.prototype, "_scrollBox", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('type'),
        __metadata("design:type", String)
    ], ScrollRangePickerComponent.prototype, "viewType", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('min'),
        __metadata("design:type", Number)
    ], ScrollRangePickerComponent.prototype, "viewMinTime", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], ScrollRangePickerComponent.prototype, "titles", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])("changed"),
        __metadata("design:type", Object)
    ], ScrollRangePickerComponent.prototype, "changedPropEvent", void 0);
    ScrollRangePickerComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'scroll-range-picker',
            template: "<div class=\"scroll-box\">\n    <div class=\"scroll-box-content\" id=\"scroll-box-content\" #scrollBox>\n      <div class=\"scroll-box-zoom-wrapper\">\n        <div class=\"svg-scroller\">\n          <svg id=\"timerange-picker\" xmlns=\"http://www.w3.org/2000/svg\" [attr.viewBox]=\"viewBox\">\n              <defs>\n                  <style>.time-line{stroke:#fff;}.time-block-title{fill:#fff;}</style>\n              </defs>\n              <title>timerange-picker</title>\n              <line *ngFor=\"let x of timeLines; let i = index;\" class=\"time-line\" stroke-linecap=\"undefined\" stroke-linejoin=\"undefined\" [attr.id]=\"'svg_u' + i\" y2=\"89\" [attr.x2]=\"x\" y1=\"0\" [attr.x1]=\"x\" stroke-width=\"1.5\" fill=\"none\"/>\n              <line *ngFor=\"let x of timeLines; let i = index;\" class=\"time-line\" stroke-linecap=\"undefined\" stroke-linejoin=\"undefined\" [attr.id]=\"'svg_d' + i\" y2=\"359\" [attr.x2]=\"x\" y1=\"270\" [attr.x1]=\"x\" stroke-width=\"1.5\" fill=\"none\"/>\n              <line *ngFor=\"let x of timeHalfHourLines; let i = index;\" class=\"time-line\" stroke-linecap=\"undefined\" stroke-linejoin=\"undefined\" [attr.id]=\"'svg_u' + i\" y2=\"104\" [attr.x2]=\"x\" y1=\"0\" [attr.x1]=\"x\" stroke-width=\"1.5\" fill=\"none\"/>\n              <line *ngFor=\"let x of timeHalfHourLines; let i = index;\" class=\"time-line\" stroke-linecap=\"undefined\" stroke-linejoin=\"undefined\" [attr.id]=\"'svg_d' + i\" y2=\"359\" [attr.x2]=\"x\" y1=\"265\" [attr.x1]=\"x\" stroke-width=\"1.5\" fill=\"none\"/>\n              <line *ngFor=\"let x of timeHourLines; let i = index;\" class=\"time-line\" stroke-linecap=\"undefined\" stroke-linejoin=\"undefined\" [attr.id]=\"'svg_u' + i\" y2=\"119\" [attr.x2]=\"x\" y1=\"0\" [attr.x1]=\"x\" stroke-width=\"1.5\" fill=\"none\"/>\n              <line *ngFor=\"let x of timeHourLines; let i = index;\" class=\"time-line\" stroke-linecap=\"undefined\" stroke-linejoin=\"undefined\" [attr.id]=\"'svg_d' + i\" y2=\"359\" [attr.x2]=\"x\" y1=\"240\" [attr.x1]=\"x\" stroke-width=\"1.5\" fill=\"none\"/>\n              <text *ngFor=\"let title of blockTitles;\" class=\"time-block-title\" stroke=\"#000\" xml:space=\"preserve\" text-anchor=\"start\"  font-size=\"24\" id=\"svg_4\" y=\"188\" [attr.x]=\"title.x\" fill-opacity=\"null\" stroke-opacity=\"null\" stroke-width=\"0\">{{title.title}}</text>\n          </svg>\n        </div>\n      </div>\n    </div>\n    <div class=\"scroll-box-pointer\">\n      <div class=\"scroll-box-zoom-wrapper\">\n        <div class=\"svg-scroller\">\n          <svg id=\"timerange-picker-pointer\" xmlns=\"http://www.w3.org/2000/svg\" [attr.viewBox]=\"viewBoxPointer\">\n              <defs>\n                  <style>.time-line{stroke:#fff;}.time-block-title{fill:#fff;}</style>\n              </defs>\n              <title>timerange-picker-pointer</title>\n              <line *ngIf=\"startX\" class=\"time-line\" stroke-linecap=\"undefined\" stroke-linejoin=\"undefined\" id=\"svg_start\" y2=\"359\" [attr.x2]=\"startX\" y1=\"0\" [attr.x1]=\"startX\" stroke-width=\"1.5\" fill=\"none\"/>\n              <line *ngIf=\"endX\" class=\"time-line\" stroke-linecap=\"undefined\" stroke-linejoin=\"undefined\" id=\"svg_end\" y2=\"359\" [attr.x2]=\"endX\" y1=\"0\" [attr.x1]=\"endX\" stroke-width=\"1.5\" fill=\"none\"/>\n          </svg>\n        </div>\n      </div>\n    </div>\n  </div>"
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Events"]])
    ], ScrollRangePickerComponent);
    return ScrollRangePickerComponent;
}());

//# sourceMappingURL=scroll-range-picker.js.map

/***/ }),
/* 1290 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SpeechBubbleComponentModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__speech_bubble__ = __webpack_require__(1291);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pipes_pipes_module__ = __webpack_require__(23);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var SpeechBubbleComponentModule = (function () {
    function SpeechBubbleComponentModule() {
    }
    SpeechBubbleComponentModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__speech_bubble__["a" /* SpeechBubbleComponent */],
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_2__speech_bubble__["a" /* SpeechBubbleComponent */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_3__pipes_pipes_module__["a" /* PipesModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["IonicPageModule"].forChild(__WEBPACK_IMPORTED_MODULE_2__speech_bubble__["a" /* SpeechBubbleComponent */])
            ],
            providers: [],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__speech_bubble__["a" /* SpeechBubbleComponent */],
            ],
            schemas: [__WEBPACK_IMPORTED_MODULE_0__angular_core__["CUSTOM_ELEMENTS_SCHEMA"]]
        })
    ], SpeechBubbleComponentModule);
    return SpeechBubbleComponentModule;
}());

//# sourceMappingURL=speech-bubble.module.js.map

/***/ }),
/* 1291 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SpeechBubbleComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * Generated class for the SpeechBubbleComponent component.
 *
 * See https://angular.io/api/core/Component for more info on Angular
 * Components.
 */
var SpeechBubbleComponent = (function () {
    function SpeechBubbleComponent(events) {
        this.events = events;
        this.backgroundColor = "";
        this.seconds = 1;
        this.recordat = __WEBPACK_IMPORTED_MODULE_2_moment__().valueOf();
        this.prevrecordat = __WEBPACK_IMPORTED_MODULE_2_moment__().valueOf();
        this.samewithprev = false;
        console.log('Hello SpeechBubbleComponent Component');
    }
    SpeechBubbleComponent.prototype.ngOnInit = function () {
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])("bgcolor"),
        __metadata("design:type", String)
    ], SpeechBubbleComponent.prototype, "backgroundColor", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])("seconds"),
        __metadata("design:type", Number)
    ], SpeechBubbleComponent.prototype, "seconds", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])("at"),
        __metadata("design:type", Number)
    ], SpeechBubbleComponent.prototype, "recordat", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])("prevat"),
        __metadata("design:type", Number)
    ], SpeechBubbleComponent.prototype, "prevrecordat", void 0);
    SpeechBubbleComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'speech-bubble',
            template: "\n  <div class=\"outtitle\" *ngIf=\"!samewithprev\">{{recordat| transfromdate :\"CYYYY\u5E74MM\u6708DD\u65E5 A h:mm\"}}</div>\n  <div class=\"outground\" align-items-center *ngIf=\"backgroundColor\" [ngStyle]=\"{'background-color': backgroundColor }\">\n    <ion-icon name=\"radio\"></ion-icon> <span>{{seconds}}\"</span>\n  </div>\n  <div class=\"outground\" align-items-center *ngIf=\"!backgroundColor\">\n    <ion-icon name=\"radio\"></ion-icon> <span>{{seconds}}\"</span>\n  </div>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Events"]])
    ], SpeechBubbleComponent);
    return SpeechBubbleComponent;
}());

//# sourceMappingURL=speech-bubble.js.map

/***/ }),
/* 1292 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MemberPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__member_service__ = __webpack_require__(722);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__gc_gc_service__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__fd_fd_service__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__gl_gl_service__ = __webpack_require__(121);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__member__ = __webpack_require__(721);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_modal_box_modal_box_module__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__directives_directives_module__ = __webpack_require__(37);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};









var MemberPageModule = (function () {
    function MemberPageModule() {
    }
    MemberPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_6__member__["a" /* MemberPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_5_ionic_angular__["IonicModule"],
                __WEBPACK_IMPORTED_MODULE_7__components_modal_box_modal_box_module__["a" /* ModalBoxComponentModule */],
                __WEBPACK_IMPORTED_MODULE_8__directives_directives_module__["a" /* DirectivesModule */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_1__member_service__["a" /* MemberService */], __WEBPACK_IMPORTED_MODULE_2__gc_gc_service__["a" /* GcService */], __WEBPACK_IMPORTED_MODULE_3__fd_fd_service__["a" /* FdService */], __WEBPACK_IMPORTED_MODULE_4__gl_gl_service__["a" /* GlService */]
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_6__member__["a" /* MemberPage */],
            ]
        })
    ], MemberPageModule);
    return MemberPageModule;
}());

//# sourceMappingURL=member.module.js.map

/***/ })
],[817]);
//# sourceMappingURL=main.js.map